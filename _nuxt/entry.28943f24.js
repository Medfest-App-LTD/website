import{r as wn,g as Cn,e as zd,a as Ce,m as Hd,i as Bt,w as He,b as co,c as aS,t as Yn,h as lS,d as VL,o as Gi,n as kt,f as Dp,j as P,u as Zt,v as BL,k as ir,l as xn,p as jd,q as u0,s as Ne,x as Xe,y as FL,z as Es,A as Te,B as bn,C as UL,D as cS,E as un,T as Wi,F as uS,G as Qn,H as zL,I as dS,J as hS,K as Gd,L as fS,M as L,N as nt,O as d0,P as h0,Q as $i,R as Ht,S as fo,U as HL,V as pS,W as jL,X as kv,Y as Np,Z as GL,_ as WL,$ as $L,a0 as mS,a1 as Vl,a2 as Bl,a3 as vS,a4 as qL,a5 as YL,a6 as XL}from"./swiper-vue.b13d2d97.js";const KL=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,QL=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JL=/^\s*["[{]|^\s*-?\d[\d.]{0,14}\s*$/;function ZL(e,t){if(e!=="__proto__"&&!(e==="constructor"&&t&&typeof t=="object"&&"prototype"in t))return t}function eP(e,t={}){if(typeof e!="string")return e;const i=e.toLowerCase().trim();if(i==="true")return!0;if(i==="false")return!1;if(i==="null")return null;if(i==="nan")return Number.NaN;if(i==="infinity")return Number.POSITIVE_INFINITY;if(i!=="undefined"){if(!JL.test(e)){if(t.strict)throw new SyntaxError("Invalid JSON");return e}try{return KL.test(e)||QL.test(e)?JSON.parse(e,ZL):JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}}const tP=/#/g,nP=/&/g,iP=/=/g,gS=/\+/g,rP=/%5e/gi,oP=/%60/gi,sP=/%7c/gi,aP=/%20/gi;function lP(e){return encodeURI(""+e).replace(sP,"|")}function Ig(e){return lP(typeof e=="string"?e:JSON.stringify(e)).replace(gS,"%2B").replace(aP,"+").replace(tP,"%23").replace(nP,"%26").replace(oP,"`").replace(rP,"^")}function Lv(e){return Ig(e).replace(iP,"%3D")}function yS(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function cP(e){return yS(e.replace(gS," "))}function uP(e=""){const t={};e[0]==="?"&&(e=e.slice(1));for(const i of e.split("&")){const r=i.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=yS(r[1]);if(s==="__proto__"||s==="constructor")continue;const l=cP(r[2]||"");typeof t[s]<"u"?Array.isArray(t[s])?t[s].push(l):t[s]=[t[s],l]:t[s]=l}return t}function dP(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(i=>`${Lv(e)}=${Ig(i)}`).join("&"):`${Lv(e)}=${Ig(t)}`:Lv(e)}function hP(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>dP(t,e[t])).join("&")}const fP=/^\w{2,}:([/\\]{1,2})/,pP=/^\w{2,}:([/\\]{2})?/,mP=/^([/\\]\s*){2,}[^/\\]/;function Wd(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?fP.test(e):pP.test(e)||(t.acceptRelative?mP.test(e):!1)}const vP=/\/$|\/\?/;function Rg(e="",t=!1){return t?vP.test(e):e.endsWith("/")}function wS(e="",t=!1){if(!t)return(Rg(e)?e.slice(0,-1):e)||"/";if(!Rg(e,!0))return e||"/";const[i,...r]=e.split("?");return(i.slice(0,-1)||"/")+(r.length>0?`?${r.join("?")}`:"")}function gP(e="",t=!1){if(!t)return e.endsWith("/")?e:e+"/";if(Rg(e,!0))return e||"/";const[i,...r]=e.split("?");return i+"/"+(r.length>0?`?${r.join("?")}`:"")}function yP(e=""){return e.startsWith("/")}function wP(e=""){return(yP(e)?e.slice(1):e)||"/"}function bP(e,t){if(bS(t)||Wd(e))return e;const i=wS(t);return e.startsWith(i)?e:$d(i,e)}function S_(e,t){if(bS(t))return e;const i=wS(t);if(!e.startsWith(i))return e;const r=e.slice(i.length);return r[0]==="/"?r:"/"+r}function _P(e,t){const i=Vp(e),r={...uP(i.search),...t};return i.search=hP(r),EP(i)}function bS(e){return!e||e==="/"}function xP(e){return e&&e!=="/"}function $d(e,...t){let i=e||"";for(const r of t.filter(s=>xP(s)))i=i?gP(i)+wP(r):r;return i}function Vp(e="",t){if(!Wd(e,{acceptRelative:!0}))return t?Vp(t+e):T_(e);const[i="",r,s=""]=(e.replace(/\\/g,"/").match(/([^/:]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[l="",u=""]=(s.match(/([^#/?]*)(.*)?/)||[]).splice(1),{pathname:f,search:m,hash:v}=T_(u.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:i,auth:r?r.slice(0,Math.max(0,r.length-1)):"",host:l,pathname:f,search:m,hash:v}}function T_(e=""){const[t="",i="",r=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:i,hash:r}}function EP(e){const t=e.pathname+(e.search?(e.search.startsWith("?")?"":"?")+e.search:"")+e.hash;return e.protocol?e.protocol+"//"+(e.auth?e.auth+"@":"")+e.host+t:t}class SP extends Error{constructor(){super(...arguments),this.name="FetchError"}}function TP(e,t,i){let r="";t&&(r=t.message),e&&i?r=`${r} (${i.status} ${i.statusText} (${e.toString()}))`:e&&(r=`${r} (${e.toString()})`);const s=new SP(r);return Object.defineProperty(s,"request",{get(){return e}}),Object.defineProperty(s,"response",{get(){return i}}),Object.defineProperty(s,"data",{get(){return i&&i._data}}),Object.defineProperty(s,"status",{get(){return i&&i.status}}),Object.defineProperty(s,"statusText",{get(){return i&&i.statusText}}),Object.defineProperty(s,"statusCode",{get(){return i&&i.status}}),Object.defineProperty(s,"statusMessage",{get(){return i&&i.statusText}}),s}const AP=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function A_(e="GET"){return AP.has(e.toUpperCase())}function CP(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const MP=new Set(["image/svg","application/xml","application/xhtml","application/html"]),IP=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function RP(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return IP.test(t)?"json":MP.has(t)||t.startsWith("text/")?"text":"blob"}const kP=new Set([408,409,425,429,500,502,503,504]);function _S(e){const{fetch:t,Headers:i}=e;function r(u){const f=u.error&&u.error.name==="AbortError"||!1;if(u.options.retry!==!1&&!f){let v;typeof u.options.retry=="number"?v=u.options.retry:v=A_(u.options.method)?0:1;const w=u.response&&u.response.status||500;if(v>0&&kP.has(w))return s(u.request,{...u.options,retry:v-1})}const m=TP(u.request,u.error,u.response);throw Error.captureStackTrace&&Error.captureStackTrace(m,s),m}const s=async function(f,m={}){const v={request:f,options:{...e.defaults,...m},response:void 0,error:void 0};v.options.onRequest&&await v.options.onRequest(v),typeof v.request=="string"&&(v.options.baseURL&&(v.request=bP(v.request,v.options.baseURL)),(v.options.query||v.options.params)&&(v.request=_P(v.request,{...v.options.params,...v.options.query})),v.options.body&&A_(v.options.method)&&CP(v.options.body)&&(v.options.body=typeof v.options.body=="string"?v.options.body:JSON.stringify(v.options.body),v.options.headers=new i(v.options.headers),v.options.headers.has("content-type")||v.options.headers.set("content-type","application/json"),v.options.headers.has("accept")||v.options.headers.set("accept","application/json"))),v.response=await t(v.request,v.options).catch(async x=>(v.error=x,v.options.onRequestError&&await v.options.onRequestError(v),r(v)));const w=(v.options.parseResponse?"json":v.options.responseType)||RP(v.response.headers.get("content-type")||"");if(w==="json"){const x=await v.response.text(),E=v.options.parseResponse||eP;v.response._data=E(x)}else w==="stream"?v.response._data=v.response.body:v.response._data=await v.response[w]();return v.options.onResponse&&await v.options.onResponse(v),v.response.status>=400&&v.response.status<600?(v.options.onResponseError&&await v.options.onResponseError(v),r(v)):v.response},l=function(f,m){return s(f,m).then(v=>v._data)};return l.raw=s,l.native=t,l.create=(u={})=>_S({...e,defaults:{...e.defaults,...u}}),l}const xS=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),LP=xS.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),PP=xS.Headers,OP=_S({fetch:LP,Headers:PP}),DP=OP,NP=()=>{var e;return((e=window==null?void 0:window.__NUXT__)==null?void 0:e.config)||{}},Yf=NP().app,VP=()=>Yf.baseURL,BP=()=>Yf.buildAssetsDir,FP=(...e)=>$d(ES(),BP(),...e),ES=(...e)=>{const t=Yf.cdnURL||Yf.baseURL;return e.length?$d(t,...e):t};globalThis.__buildAssetsURL=FP,globalThis.__publicAssetsURL=ES;function kg(e,t={},i){for(const r in e){const s=e[r],l=i?`${i}:${r}`:r;typeof s=="object"&&s!==null?kg(s,t,l):typeof s=="function"&&(t[l]=s)}return t}const UP={run:e=>e()},zP=()=>UP,SS=typeof console.createTask<"u"?console.createTask:zP;function HP(e,t){const i=t.shift(),r=SS(i);return e.reduce((s,l)=>s.then(()=>r.run(()=>l(...t))),Promise.resolve())}function jP(e,t){const i=t.shift(),r=SS(i);return Promise.all(e.map(s=>r.run(()=>s(...t))))}function Pv(e,t){for(const i of[...e])i(t)}class GP{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,i,r={}){if(!t||typeof i!="function")return()=>{};const s=t;let l;for(;this._deprecatedHooks[t];)l=this._deprecatedHooks[t],t=l.to;if(l&&!r.allowDeprecated){let u=l.message;u||(u=`${s} hook has been deprecated`+(l.to?`, please use ${l.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(u)||(console.warn(u),this._deprecatedMessages.add(u))}if(!i.name)try{Object.defineProperty(i,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(i),()=>{i&&(this.removeHook(t,i),i=void 0)}}hookOnce(t,i){let r,s=(...l)=>(typeof r=="function"&&r(),r=void 0,s=void 0,i(...l));return r=this.hook(t,s),r}removeHook(t,i){if(this._hooks[t]){const r=this._hooks[t].indexOf(i);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,i){this._deprecatedHooks[t]=typeof i=="string"?{to:i}:i;const r=this._hooks[t]||[];delete this._hooks[t];for(const s of r)this.hook(t,s)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const i in t)this.deprecateHook(i,t[i])}addHooks(t){const i=kg(t),r=Object.keys(i).map(s=>this.hook(s,i[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(t){const i=kg(t);for(const r in i)this.removeHook(r,i[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...i){return i.unshift(t),this.callHookWith(HP,t,...i)}callHookParallel(t,...i){return i.unshift(t),this.callHookWith(jP,t,...i)}callHookWith(t,i,...r){const s=this._before||this._after?{name:i,args:r,context:{}}:void 0;this._before&&Pv(this._before,s);const l=t(i in this._hooks?[...this._hooks[i]]:[],r);return l instanceof Promise?l.finally(()=>{this._after&&s&&Pv(this._after,s)}):(this._after&&s&&Pv(this._after,s),l)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const i=this._before.indexOf(t);i!==-1&&this._before.splice(i,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const i=this._after.indexOf(t);i!==-1&&this._after.splice(i,1)}}}}function TS(){return new GP}function WP(e={}){let t,i=!1;const r=u=>{if(t&&t!==u)throw new Error("Context conflict")};let s;if(e.asyncContext){const u=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;u?s=new u:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const l=()=>{if(s&&t===void 0){const u=s.getStore();if(u!==void 0)return u}return t};return{use:()=>{const u=l();if(u===void 0)throw new Error("Context is not available");return u},tryUse:()=>l(),set:(u,f)=>{f||r(u),t=u,i=!0},unset:()=>{t=void 0,i=!1},call:(u,f)=>{r(u),t=u;try{return s?s.run(u,f):f()}finally{i||(t=void 0)}},async callAsync(u,f){t=u;const m=()=>{t=u},v=()=>t===u?m:void 0;Lg.add(v);try{const w=s?s.run(u,f):f();return i||(t=void 0),await w}finally{Lg.delete(v)}}}}function $P(e={}){const t={};return{get(i,r={}){return t[i]||(t[i]=WP({...e,...r})),t[i],t[i]}}}const Xf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},C_="__unctx__",qP=Xf[C_]||(Xf[C_]=$P()),YP=(e,t={})=>qP.get(e,t),M_="__unctx_async_handlers__",Lg=Xf[M_]||(Xf[M_]=new Set);function Kf(e){const t=[];for(const s of Lg){const l=s();l&&t.push(l)}const i=()=>{for(const s of t)s()};let r=e();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(s=>{throw i(),s})),[r,i]}const AS=YP("nuxt-app"),XP="__nuxt_plugin";function KP(e){let t=0;const i={provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.5.0"},get vue(){return i.vueApp.version}},payload:wn({data:{},state:{},_errors:{},...window.__NUXT__??{}}),static:{data:{}},runWithContext:s=>e2(i,s),isHydrating:!0,deferHydration(){if(!i.isHydrating)return()=>{};t++;let s=!1;return()=>{if(!s&&(s=!0,t--,t===0))return i.isHydrating=!1,i.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:{},_payloadRevivers:{},...e};i.hooks=TS(),i.hook=i.hooks.hook,i.callHook=i.hooks.callHook,i.provide=(s,l)=>{const u="$"+s;af(i,u,l),af(i.vueApp.config.globalProperties,u,l)},af(i.vueApp,"$nuxt",i),af(i.vueApp.config.globalProperties,"$nuxt",i);{window.addEventListener("nuxt.preloadError",l=>{i.callHook("app:chunkError",{error:l.payload})});const s=i.hook("app:error",(...l)=>{console.error("[nuxt] error caught during app initialization",...l)});i.hook("app:mounted",s)}const r=wn(i.payload.config);return i.provide("config",r),i}async function QP(e,t){if(typeof t!="function")return;const{provide:i}=await e.runWithContext(()=>t(e))||{};if(i&&typeof i=="object")for(const r in i)e.provide(r,i[r])}async function JP(e,t){var s;const i=[],r=[];for(const l of t){const u=QP(e,l);(s=l.meta)!=null&&s.parallel?i.push(u.catch(f=>r.push(f))):await u}if(await Promise.all(i),r.length)throw r[0]}function ZP(e){const t=[];for(const i of e){if(typeof i!="function")continue;let r=i;i.length>1&&(r=s=>i(s,s.provide)),t.push(r)}return t.sort((i,r)=>{var s,l;return(((s=i.meta)==null?void 0:s.order)||Qf.default)-(((l=r.meta)==null?void 0:l.order)||Qf.default)}),t}const Qf={pre:-20,default:0,post:20};function Vi(e,t){var r;if(typeof e=="function")return Vi({setup:e},t);const i=s=>{if(e.hooks&&s.hooks.addHooks(e.hooks),e.setup)return e.setup(s)};return i.meta={name:(t==null?void 0:t.name)||e.name||((r=e.setup)==null?void 0:r.name),parallel:e.parallel,order:(t==null?void 0:t.order)||e.order||Qf[e.enforce||"default"]||Qf.default},i[XP]=!0,i}function e2(e,t,i){const r=()=>i?t(...i):t();return AS.set(e),e.vueApp.runWithContext(r)}function Xn(){const e=AS.tryUse();if(!e){const t=Cn();if(!t)throw new Error("[nuxt] instance unavailable");return t.appContext.app.$nuxt}return e}function f0(){return Xn().$config}function af(e,t,i){Object.defineProperty(e,t,{get:()=>i})}const t2=!1;/*!
  * pinia v2.1.3
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let CS;const qd=e=>CS=e,MS=Symbol();function Pg(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Zu;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Zu||(Zu={}));function n2(){const e=zd(!0),t=e.run(()=>Ce({}));let i=[],r=[];const s=Hd({install(l){qd(s),s._a=l,l.provide(MS,s),l.config.globalProperties.$pinia=s,r.forEach(u=>i.push(u)),r=[]},use(l){return!this._a&&!t2?r.push(l):i.push(l),this},_p:i,_a:null,_e:e,_s:new Map,state:t});return s}const IS=()=>{};function I_(e,t,i,r=IS){e.push(t);const s=()=>{const l=e.indexOf(t);l>-1&&(e.splice(l,1),r())};return!i&&VL()&&Gi(s),s}function Cl(e,...t){e.slice().forEach(i=>{i(...t)})}const i2=e=>e();function Og(e,t){e instanceof Map&&t instanceof Map&&t.forEach((i,r)=>e.set(r,i)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const i in t){if(!t.hasOwnProperty(i))continue;const r=t[i],s=e[i];Pg(s)&&Pg(r)&&e.hasOwnProperty(i)&&!co(r)&&!aS(r)?e[i]=Og(s,r):e[i]=r}return e}const r2=Symbol();function o2(e){return!Pg(e)||!e.hasOwnProperty(r2)}const{assign:ns}=Object;function s2(e){return!!(co(e)&&e.effect)}function a2(e,t,i,r){const{state:s,actions:l,getters:u}=t,f=i.state.value[e];let m;function v(){f||(i.state.value[e]=s?s():{});const w=Dp(i.state.value[e]);return ns(w,l,Object.keys(u||{}).reduce((x,E)=>(x[E]=Hd(P(()=>{qd(i);const A=i._s.get(e);return u[E].call(A,A)})),x),{}))}return m=RS(e,v,t,i,r,!0),m}function RS(e,t,i={},r,s,l){let u;const f=ns({actions:{}},i),m={deep:!0};let v,w,x=[],E=[],A;const I=r.state.value[e];!l&&!I&&(r.state.value[e]={}),Ce({});let D;function O(X){let B;v=w=!1,typeof X=="function"?(X(r.state.value[e]),B={type:Zu.patchFunction,storeId:e,events:A}):(Og(r.state.value[e],X),B={type:Zu.patchObject,payload:X,storeId:e,events:A});const G=D=Symbol();kt().then(()=>{D===G&&(v=!0)}),w=!0,Cl(x,B,r.state.value[e])}const H=l?function(){const{state:B}=i,G=B?B():{};this.$patch(q=>{ns(q,G)})}:IS;function V(){u.stop(),x=[],E=[],r._s.delete(e)}function U(X,B){return function(){qd(r);const G=Array.from(arguments),q=[],Y=[];function fe(T){q.push(T)}function de(T){Y.push(T)}Cl(E,{args:G,name:X,store:re,after:fe,onError:de});let g;try{g=B.apply(this&&this.$id===e?this:re,G)}catch(T){throw Cl(Y,T),T}return g instanceof Promise?g.then(T=>(Cl(q,T),T)).catch(T=>(Cl(Y,T),Promise.reject(T))):(Cl(q,g),g)}}const ne={_p:r,$id:e,$onAction:I_.bind(null,E),$patch:O,$reset:H,$subscribe(X,B={}){const G=I_(x,X,B.detached,()=>q()),q=u.run(()=>He(()=>r.state.value[e],Y=>{(B.flush==="sync"?w:v)&&X({storeId:e,type:Zu.direct,events:A},Y)},ns({},m,B)));return G},$dispose:V},re=wn(ne);r._s.set(e,re);const ee=r._a&&r._a.runWithContext||i2,Z=r._e.run(()=>(u=zd(),ee(()=>u.run(t))));for(const X in Z){const B=Z[X];if(co(B)&&!s2(B)||aS(B))l||(I&&o2(B)&&(co(B)?B.value=I[X]:Og(B,I[X])),r.state.value[e][X]=B);else if(typeof B=="function"){const G=U(X,B);Z[X]=G,f.actions[X]=B}}return ns(re,Z),ns(Yn(re),Z),Object.defineProperty(re,"$state",{get:()=>r.state.value[e],set:X=>{O(B=>{ns(B,X)})}}),r._p.forEach(X=>{ns(re,u.run(()=>X({store:re,app:r._a,pinia:r,options:f})))}),I&&l&&i.hydrate&&i.hydrate(re.$state,I),v=!0,w=!0,re}function j8(e,t,i){let r,s;const l=typeof t=="function";typeof e=="string"?(r=e,s=l?i:t):(s=e,r=e.id);function u(f,m){const v=lS();return f=f||(v?Bt(MS,null):null),f&&qd(f),f=CS,f._s.has(r)||(l?RS(r,t,s,f):a2(r,s,f)),f._s.get(r)}return u.$id=r,u}function l2(e){return Array.isArray(e)?e:[e]}const kS=["title","script","style","noscript"],LS=["base","meta","link","style","script","noscript"],c2=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],u2=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],d2=["tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent"];function PS(e){let t=9;for(let i=0;i<e.length;)t=Math.imul(t^e.charCodeAt(i++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Dg(e){return PS(`${e.tag}:${e.textContent||e.innerHTML||""}:${Object.entries(e.props).map(([t,i])=>`${t}:${String(i)}`).join(",")}`)}function h2(e){let t=9;for(const i of e)for(let r=0;r<i.length;)t=Math.imul(t^i.charCodeAt(r++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function OS(e,t){const{props:i,tag:r}=e;if(u2.includes(r))return r;if(r==="link"&&i.rel==="canonical")return"canonical";if(i.charset)return"charset";const s=["id"];r==="meta"&&s.push("name","property","http-equiv");for(const l of s)if(typeof i[l]<"u"){const u=String(i[l]);return t&&!t(u)?!1:`${r}:${l}:${u}`}return!1}function R_(e,t){return e==null?t||null:typeof e=="function"?e(t):e}function lf(e,t=!1,i){const{tag:r,$el:s}=e;s&&(Object.entries(r.props).forEach(([l,u])=>{u=String(u);const f=`attr:${l}`;if(l==="class"){if(!u)return;for(const m of u.split(" ")){const v=`${f}:${m}`;i&&i(e,v,()=>s.classList.remove(m)),s.classList.contains(m)||s.classList.add(m)}return}i&&!l.startsWith("data-h-")&&i(e,f,()=>s.removeAttribute(l)),(t||s.getAttribute(l)!==u)&&s.setAttribute(l,u)}),kS.includes(r.tag)&&(r.textContent&&r.textContent!==s.textContent?s.textContent=r.textContent:r.innerHTML&&r.innerHTML!==s.innerHTML&&(s.innerHTML=r.innerHTML)))}let ku=!1;async function f2(e,t={}){var E,A;const i={shouldRender:!0};if(await e.hooks.callHook("dom:beforeRender",i),!i.shouldRender)return;const r=t.document||e.resolvedOptions.document||window.document,s=(await e.resolveTags()).map(f);if(e.resolvedOptions.experimentalHashHydration&&(ku=ku||e._hash||!1,ku)){const I=h2(s.map(D=>D.tag._h));if(ku===I)return;ku=I}const l=e._popSideEffectQueue();e.headEntries().map(I=>I._sde).forEach(I=>{Object.entries(I).forEach(([D,O])=>{l[D]=O})});const u=(I,D,O)=>{D=`${I.renderId}:${D}`,I.entry&&(I.entry._sde[D]=O),delete l[D]};function f(I){const D=e.headEntries().find(H=>H._i===I._e),O={renderId:I._d||Dg(I),$el:null,shouldRender:!0,tag:I,entry:D,markSideEffect:(H,V)=>u(O,H,V)};return O}const m=[],v={body:[],head:[]},w=I=>{e._elMap[I.renderId]=I.$el,m.push(I),u(I,"el",()=>{var D;(D=I.$el)==null||D.remove(),delete e._elMap[I.renderId]})};for(const I of s){if(await e.hooks.callHook("dom:beforeRenderTag",I),!I.shouldRender)continue;const{tag:D}=I;if(D.tag==="title"){r.title=D.textContent||"",m.push(I);continue}if(D.tag==="htmlAttrs"||D.tag==="bodyAttrs"){I.$el=r[D.tag==="htmlAttrs"?"documentElement":"body"],lf(I,!1,u),m.push(I);continue}if(I.$el=e._elMap[I.renderId],!I.$el&&D.key&&(I.$el=r.querySelector(`${(E=D.tagPosition)!=null&&E.startsWith("body")?"body":"head"} > ${D.tag}[data-h-${D._h}]`)),I.$el){I.tag._d&&lf(I),w(I);continue}v[(A=D.tagPosition)!=null&&A.startsWith("body")?"body":"head"].push(I)}const x={bodyClose:void 0,bodyOpen:void 0,head:void 0};Object.entries(v).forEach(([I,D])=>{var H;if(!D.length)return;const O=(H=r==null?void 0:r[I])==null?void 0:H.children;if(O){for(const V of[...O].reverse()){const U=V.tagName.toLowerCase();if(!LS.includes(U))continue;const ne=V.getAttributeNames().reduce((X,B)=>({...X,[B]:V.getAttribute(B)}),{}),re={tag:U,props:ne};V.innerHTML&&(re.innerHTML=V.innerHTML);const ee=Dg(re);let Z=D.findIndex(X=>(X==null?void 0:X.renderId)===ee);if(Z===-1){const X=OS(re);Z=D.findIndex(B=>(B==null?void 0:B.tag._d)&&B.tag._d===X)}if(Z!==-1){const X=D[Z];X.$el=V,lf(X),w(X),delete D[Z]}}D.forEach(V=>{const U=V.tag.tagPosition||"head";x[U]=x[U]||r.createDocumentFragment(),V.$el||(V.$el=r.createElement(V.tag.tag),lf(V,!0)),x[U].appendChild(V.$el),w(V)})}}),x.head&&r.head.appendChild(x.head),x.bodyOpen&&r.body.insertBefore(x.bodyOpen,r.body.firstChild),x.bodyClose&&r.body.appendChild(x.bodyClose);for(const I of m)await e.hooks.callHook("dom:renderTag",I);Object.values(l).forEach(I=>I())}let Ov=null;async function p2(e,t={}){function i(){return Ov=null,f2(e,t)}const r=t.delayFn||(s=>setTimeout(s,10));return Ov=Ov||new Promise(s=>r(()=>s(i())))}function m2(e){return{hooks:{"entries:updated":function(t){if(typeof(e==null?void 0:e.document)>"u"&&typeof window>"u")return;let i=e==null?void 0:e.delayFn;!i&&typeof requestAnimationFrame<"u"&&(i=requestAnimationFrame),p2(t,{document:(e==null?void 0:e.document)||window.document,delayFn:i})}}}}function v2(e){var t;return((t=e==null?void 0:e.head.querySelector('meta[name="unhead:ssr"]'))==null?void 0:t.getAttribute("content"))||!1}const k_={critical:2,high:9,low:12,base:-1,title:1,meta:10};function L_(e){if(typeof e.tagPriority=="number")return e.tagPriority;if(e.tag==="meta"){if(e.props.charset)return-2;if(e.props["http-equiv"]==="content-security-policy")return 0}const t=e.tagPriority||e.tag;return t in k_?k_[t]:10}const g2=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}];function y2(){return{hooks:{"tags:resolve":e=>{const t=i=>{var r;return(r=e.tags.find(s=>s._d===i))==null?void 0:r._p};for(const{prefix:i,offset:r}of g2)for(const s of e.tags.filter(l=>typeof l.tagPriority=="string"&&l.tagPriority.startsWith(i))){const l=t(s.tagPriority.replace(i,""));typeof l<"u"&&(s._p=l+r)}e.tags.sort((i,r)=>i._p-r._p).sort((i,r)=>L_(i)-L_(r))}}}}function w2(){return{hooks:{"tags:resolve":e=>{const{tags:t}=e;let i=t.findIndex(s=>s.tag==="titleTemplate");const r=t.findIndex(s=>s.tag==="title");if(r!==-1&&i!==-1){const s=R_(t[i].textContent,t[r].textContent);s!==null?t[r].textContent=s||t[r].textContent:delete t[r]}else if(i!==-1){const s=R_(t[i].textContent);s!==null&&(t[i].textContent=s,t[i].tag="title",i=-1)}i!==-1&&delete t[i],e.tags=t.filter(Boolean)}}}}function b2(){return{hooks:{"tag:normalise":function({tag:e}){typeof e.props.body<"u"&&(e.tagPosition="bodyClose",delete e.props.body)}}}}const _2=["link","style","script","noscript"];function x2(){return{hooks:{"tag:normalise":({tag:e,resolvedOptions:t})=>{t.experimentalHashHydration===!0&&(e._h=Dg(e)),e.key&&_2.includes(e.tag)&&(e._h=PS(e.key),e.props[`data-h-${e._h}`]="")}}}}const P_=["script","link","bodyAttrs"];function E2(){const e=(t,i)=>{const r={},s={};Object.entries(i.props).forEach(([u,f])=>{u.startsWith("on")&&typeof f=="function"?s[u]=f:r[u]=f});let l;return t==="dom"&&i.tag==="script"&&typeof r.src=="string"&&typeof s.onload<"u"&&(l=r.src,delete r.src),{props:r,eventHandlers:s,delayedSrc:l}};return{hooks:{"ssr:render":function(t){t.tags=t.tags.map(i=>(!P_.includes(i.tag)||!Object.entries(i.props).find(([r,s])=>r.startsWith("on")&&typeof s=="function")||(i.props=e("ssr",i).props),i))},"dom:beforeRenderTag":function(t){if(!P_.includes(t.tag.tag)||!Object.entries(t.tag.props).find(([l,u])=>l.startsWith("on")&&typeof u=="function"))return;const{props:i,eventHandlers:r,delayedSrc:s}=e("dom",t.tag);Object.keys(r).length&&(t.tag.props=i,t.tag._eventHandlers=r,t.tag._delayedSrc=s)},"dom:renderTag":function(t){const i=t.$el;if(!t.tag._eventHandlers||!i)return;const r=t.tag.tag==="bodyAttrs"&&typeof window<"u"?window:i;Object.entries(t.tag._eventHandlers).forEach(([s,l])=>{const u=`${t.tag._d||t.tag._p}:${s}`,f=s.slice(2).toLowerCase(),m=`data-h-${f}`;if(t.markSideEffect(u,()=>{}),i.hasAttribute(m))return;const v=l;i.setAttribute(m,""),r.addEventListener(f,v),t.entry&&(t.entry._sde[u]=()=>{r.removeEventListener(f,v),i.removeAttribute(m)})}),t.tag._delayedSrc&&i.setAttribute("src",t.tag._delayedSrc)}}}}const S2=["templateParams","htmlAttrs","bodyAttrs"];function T2(){return{hooks:{"tag:normalise":function({tag:e}){["hid","vmid","key"].forEach(r=>{e.props[r]&&(e.key=e.props[r],delete e.props[r])});const i=OS(e)||(e.key?`${e.tag}:${e.key}`:!1);i&&(e._d=i)},"tags:resolve":function(e){const t={};e.tags.forEach(r=>{const s=(r.key?`${r.tag}:${r.key}`:r._d)||r._p,l=t[s];if(l){let f=r==null?void 0:r.tagDuplicateStrategy;if(!f&&S2.includes(r.tag)&&(f="merge"),f==="merge"){const m=l.props;["class","style"].forEach(v=>{r.props[v]&&m[v]&&(v==="style"&&!m[v].endsWith(";")&&(m[v]+=";"),r.props[v]=`${m[v]} ${r.props[v]}`)}),t[s].props={...m,...r.props};return}else if(r._e===l._e){l._duped=l._duped||[],r._d=`${l._d}:${l._duped.length+1}`,l._duped.push(r);return}}const u=Object.keys(r.props).length+(r.innerHTML?1:0)+(r.textContent?1:0);if(LS.includes(r.tag)&&u===0){delete t[s];return}t[s]=r});const i=[];Object.values(t).forEach(r=>{const s=r._duped;delete r._duped,i.push(r),s&&i.push(...s)}),e.tags=i}}}}function cf(e,t){function i(l){if(["s","pageTitle"].includes(l))return t.pageTitle;let u;return l.includes(".")?u=l.split(".").reduce((f,m)=>f&&f[m]||void 0,t):u=t[l],typeof u<"u"?u||"":!1}let r=e;try{r=decodeURI(e)}catch{}return(r.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(l=>{const u=i(l.slice(1));typeof u=="string"&&(e=e.replace(new RegExp(`\\${l}(\\W|$)`,"g"),`${u}$1`).trim())}),t.separator&&(e.endsWith(t.separator)&&(e=e.slice(0,-t.separator.length).trim()),e.startsWith(t.separator)&&(e=e.slice(t.separator.length).trim()),e=e.replace(new RegExp(`\\${t.separator}\\s*\\${t.separator}`,"g"),t.separator)),e}function A2(){return{hooks:{"tags:resolve":e=>{var l;const{tags:t}=e,i=(l=t.find(u=>u.tag==="title"))==null?void 0:l.textContent,r=t.findIndex(u=>u.tag==="templateParams"),s=r!==-1?t[r].props:{};s.pageTitle=s.pageTitle||i||"";for(const u of t)if(["titleTemplate","title"].includes(u.tag)&&typeof u.textContent=="string")u.textContent=cf(u.textContent,s);else if(u.tag==="meta"&&typeof u.props.content=="string")u.props.content=cf(u.props.content,s);else if(u.tag==="link"&&typeof u.props.href=="string")u.props.href=cf(u.props.href,s);else if(u.tag==="script"&&["application/json","application/ld+json"].includes(u.props.type)&&typeof u.innerHTML=="string")try{u.innerHTML=JSON.stringify(JSON.parse(u.innerHTML),(f,m)=>typeof m=="string"?cf(m,s):m)}catch{}e.tags=t.filter(u=>u.tag!=="templateParams")}}}}const C2=typeof window<"u";let DS;function M2(e){return DS=e}function I2(){return DS}async function R2(e,t){const i={tag:e,props:{}};return e==="templateParams"?(i.props=t,i):["title","titleTemplate"].includes(e)?(i.textContent=t instanceof Promise?await t:t,i):typeof t=="string"?["script","noscript","style"].includes(e)?(e==="script"&&(/^(https?:)?\/\//.test(t)||t.startsWith("/"))?i.props.src=t:i.innerHTML=t,i):!1:(i.props=await L2(e,{...t}),i.props.children&&(i.props.innerHTML=i.props.children),delete i.props.children,Object.keys(i.props).filter(r=>d2.includes(r)).forEach(r=>{(!["innerHTML","textContent"].includes(r)||kS.includes(i.tag))&&(i[r]=i.props[r]),delete i.props[r]}),["innerHTML","textContent"].forEach(r=>{if(i.tag==="script"&&typeof i[r]=="string"&&["application/ld+json","application/json"].includes(i.props.type))try{i[r]=JSON.parse(i[r])}catch{i[r]=""}typeof i[r]=="object"&&(i[r]=JSON.stringify(i[r]))}),i.props.class&&(i.props.class=k2(i.props.class)),i.props.content&&Array.isArray(i.props.content)?i.props.content.map(r=>({...i,props:{...i.props,content:r}})):i)}function k2(e){return typeof e=="object"&&!Array.isArray(e)&&(e=Object.keys(e).filter(t=>e[t])),(Array.isArray(e)?e.join(" "):e).split(" ").filter(t=>t.trim()).filter(Boolean).join(" ")}async function L2(e,t){for(const i of Object.keys(t)){const r=i.startsWith("data-");t[i]instanceof Promise&&(t[i]=await t[i]),String(t[i])==="true"?t[i]=r?"true":"":String(t[i])==="false"&&(r?t[i]="false":delete t[i])}return t}const P2=10;async function O2(e){const t=[];return Object.entries(e.resolvedInput).filter(([i,r])=>typeof r<"u"&&c2.includes(i)).forEach(([i,r])=>{const s=l2(r);t.push(...s.map(l=>R2(i,l)).flat())}),(await Promise.all(t)).flat().filter(Boolean).map((i,r)=>(i._e=e._i,i._p=(e._i<<P2)+r,i))}function D2(){return[T2(),y2(),A2(),w2(),x2(),E2(),b2()]}function N2(e={}){return[m2({document:e==null?void 0:e.document,delayFn:e==null?void 0:e.domDelayFn})]}function V2(e={}){const t=B2({...e,plugins:[...N2(e),...(e==null?void 0:e.plugins)||[]]});return e.experimentalHashHydration&&t.resolvedOptions.document&&(t._hash=v2(t.resolvedOptions.document)),M2(t),t}function B2(e={}){let t=[],i={},r=0;const s=TS();e!=null&&e.hooks&&s.addHooks(e.hooks),e.plugins=[...D2(),...(e==null?void 0:e.plugins)||[]],e.plugins.forEach(f=>f.hooks&&s.addHooks(f.hooks)),e.document=e.document||(C2?document:void 0);const l=()=>s.callHook("entries:updated",u),u={resolvedOptions:e,headEntries(){return t},get hooks(){return s},use(f){f.hooks&&s.addHooks(f.hooks)},push(f,m){const v={_i:r++,input:f,_sde:{}};return m!=null&&m.mode&&(v._m=m==null?void 0:m.mode),m!=null&&m.transform&&(v._t=m==null?void 0:m.transform),t.push(v),l(),{dispose(){t=t.filter(w=>w._i!==v._i?!0:(i={...i,...w._sde||{}},w._sde={},l(),!1))},patch(w){t=t.map(x=>(x._i===v._i&&(v.input=x.input=w,l()),x))}}},async resolveTags(){const f={tags:[],entries:[...t]};await s.callHook("entries:resolve",f);for(const m of f.entries){const v=m._t||(w=>w);if(m.resolvedInput=v(m.resolvedInput||m.input),m.resolvedInput)for(const w of await O2(m)){const x={tag:w,entry:m,resolvedOptions:u.resolvedOptions};await s.callHook("tag:normalise",x),f.tags.push(x.tag)}}return await s.callHook("tags:resolve",f),f.tags},_popSideEffectQueue(){const f={...i};return i={},f},_elMap:{}};return u.hooks.callHook("init",u),u}function F2(e){return typeof e=="function"?e():Zt(e)}function Jf(e,t=""){if(e instanceof Promise)return e;const i=F2(e);return!e||!i?i:Array.isArray(i)?i.map(r=>Jf(r,t)):typeof i=="object"?Object.fromEntries(Object.entries(i).map(([r,s])=>r==="titleTemplate"||r.startsWith("on")?[r,Zt(s)]:[r,Jf(s,r)])):i}const U2=BL.startsWith("3"),z2=typeof window<"u",NS="usehead";function p0(){return Cn()&&Bt(NS)||I2()}function H2(e){return{install(i){U2&&(i.config.globalProperties.$unhead=e,i.config.globalProperties.$head=e,i.provide(NS,e))}}.install}function j2(e={}){const t=V2({...e,domDelayFn:i=>setTimeout(()=>kt(()=>i()),10),plugins:[G2(),...(e==null?void 0:e.plugins)||[]]});return t.install=H2(t),t}function G2(){return{hooks:{"entries:resolve":function(e){for(const t of e.entries)t.resolvedInput=Jf(t.input)}}}}function W2(e,t={}){const i=p0(),r=Ce(!1),s=Ce({});ir(()=>{s.value=r.value?{}:Jf(e)});const l=i.push(s.value,t);return He(s,f=>{l.patch(f)}),Cn()&&(xn(()=>{l.dispose()}),jd(()=>{r.value=!0}),u0(()=>{r.value=!1})),l}function $2(e,t={}){return p0().push(e,t)}function G8(e,t={}){var r;const i=p0();if(i){const s=z2||!!((r=i.resolvedOptions)!=null&&r.document);return t.mode==="server"&&s||t.mode==="client"&&!s?void 0:s?W2(e,t):$2(e,t)}}function Dv(e){return e!==null&&typeof e=="object"}function Ng(e,t,i=".",r){if(!Dv(t))return Ng(e,{},i,r);const s=Object.assign({},t);for(const l in e){if(l==="__proto__"||l==="constructor")continue;const u=e[l];u!=null&&(r&&r(s,l,u,i)||(Array.isArray(u)&&Array.isArray(s[l])?s[l]=[...u,...s[l]]:Dv(u)&&Dv(s[l])?s[l]=Ng(u,s[l],(i?`${i}.`:"")+l.toString(),r):s[l]=u))}return s}function q2(e){return(...t)=>t.reduce((i,r)=>Ng(i,r,"",e),{})}const Y2=q2();class Vg extends Error{constructor(){super(...arguments),this.statusCode=500,this.fatal=!1,this.unhandled=!1,this.statusMessage=void 0}toJSON(){const t={message:this.message,statusCode:Fg(this.statusCode,500)};return this.statusMessage&&(t.statusMessage=VS(this.statusMessage)),this.data!==void 0&&(t.data=this.data),t}}Vg.__h3_error__=!0;function Bg(e){if(typeof e=="string")return new Vg(e);if(X2(e))return e;const t=new Vg(e.message??e.statusMessage,e.cause?{cause:e.cause}:void 0);if("stack"in e)try{Object.defineProperty(t,"stack",{get(){return e.stack}})}catch{try{t.stack=e.stack}catch{}}if(e.data&&(t.data=e.data),e.statusCode?t.statusCode=Fg(e.statusCode,t.statusCode):e.status&&(t.statusCode=Fg(e.status,t.statusCode)),e.statusMessage?t.statusMessage=e.statusMessage:e.statusText&&(t.statusMessage=e.statusText),t.statusMessage){const i=t.statusMessage;VS(t.statusMessage)!==i&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future `statusMessage` will be sanitized by default.")}return e.fatal!==void 0&&(t.fatal=e.fatal),e.unhandled!==void 0&&(t.unhandled=e.unhandled),t}function X2(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.__h3_error__)===!0}const K2=/[^\u0009\u0020-\u007E]/g;function VS(e=""){return e.replace(K2,"")}function Fg(e,t=200){return!e||(typeof e=="string"&&(e=Number.parseInt(e,10)),e<100||e>999)?t:e}function Q2(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(t);const[i,r]=e;if(!i||typeof i!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+i);if(r!==void 0&&typeof r!="function")throw new Error("[nuxt] [useState] init must be a function: "+r);const s="$s"+i,l=Xn(),u=Ne(l.payload.state,s);if(u.value===void 0&&r){const f=r();if(co(f))return l.payload.state[s]=f,f;u.value=f}return u}const bc=()=>{var e;return(e=Xn())==null?void 0:e.$router},BS=()=>lS()?Bt("_route",Xn()._route):Xn()._route,J2=e=>e,Z2=()=>{try{if(Xn()._processingMiddleware)return!0}catch{return!0}return!1},W8=(e,t)=>{e||(e="/");const i=typeof e=="string"?e:e.path||"/",r=(t==null?void 0:t.external)||Wd(i,{acceptRelative:!0});if(r&&!(t!=null&&t.external))throw new Error("Navigating to external URL is not allowed by default. Use `navigateTo (url, { external: true })`.");if(r&&Vp(i).protocol==="script:")throw new Error("Cannot navigate to an URL with script protocol.");const s=Z2();if(!r&&s)return e;const l=bc();return r?(t!=null&&t.replace?location.replace(i):location.href=i,Promise.resolve()):t!=null&&t.replace?l.replace(e):l.push(e)},Bp=()=>Ne(Xn().payload,"error"),Gl=e=>{const t=m0(e);try{const i=Xn(),r=Bp();i.hooks.callHook("app:error",t),r.value=r.value||t}catch{throw t}return t},eO=async(e={})=>{const t=Xn(),i=Bp();t.callHook("app:error:cleared",e),e.redirect&&await bc().replace(e.redirect),i.value=null},tO=e=>!!(e&&typeof e=="object"&&"__nuxt_error"in e),m0=e=>{const t=Bg(e);return t.__nuxt_error=!0,t},nO="modulepreload",iO=function(e,t){return e.startsWith(".")?new URL(e,t).href:e},O_={},rO=function(t,i,r){if(!i||i.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(i.map(l=>{if(l=iO(l,r),l in O_)return;O_[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(!!r)for(let w=s.length-1;w>=0;w--){const x=s[w];if(x.href===l&&(!u||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${f}`))return;const v=document.createElement("link");if(v.rel=u?"stylesheet":nO,u||(v.as="script",v.crossOrigin=""),v.href=l,document.head.appendChild(v),u)return new Promise((w,x)=>{v.addEventListener("load",w),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t())},fd=(...e)=>rO(...e).catch(t=>{const i=new Event("nuxt.preloadError");throw i.payload=t,window.dispatchEvent(i),t}),oO=-1,sO=-2,aO=-3,lO=-4,cO=-5,uO=-6;function dO(e,t){return hO(JSON.parse(e),t)}function hO(e,t){if(typeof e=="number")return s(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const i=e,r=Array(i.length);function s(l,u=!1){if(l===oO)return;if(l===aO)return NaN;if(l===lO)return 1/0;if(l===cO)return-1/0;if(l===uO)return-0;if(u)throw new Error("Invalid input");if(l in r)return r[l];const f=i[l];if(!f||typeof f!="object")r[l]=f;else if(Array.isArray(f))if(typeof f[0]=="string"){const m=f[0],v=t==null?void 0:t[m];if(v)return r[l]=v(s(f[1]));switch(m){case"Date":r[l]=new Date(f[1]);break;case"Set":const w=new Set;r[l]=w;for(let A=1;A<f.length;A+=1)w.add(s(f[A]));break;case"Map":const x=new Map;r[l]=x;for(let A=1;A<f.length;A+=2)x.set(s(f[A]),s(f[A+1]));break;case"RegExp":r[l]=new RegExp(f[1],f[2]);break;case"Object":r[l]=Object(f[1]);break;case"BigInt":r[l]=BigInt(f[1]);break;case"null":const E=Object.create(null);r[l]=E;for(let A=1;A<f.length;A+=2)E[f[A]]=s(f[A+1]);break;default:throw new Error(`Unknown type ${m}`)}}else{const m=new Array(f.length);r[l]=m;for(let v=0;v<f.length;v+=1){const w=f[v];w!==sO&&(m[v]=s(w))}}else{const m={};r[l]=m;for(const v in f){const w=f[v];m[v]=s(w)}}return r[l]}return s(0)}const fO={meta:[{name:"viewport",content:"width=device-width, initial-scale=1"},{charset:"utf-8"},{name:"description",content:"Medfest care for health insurance"}],link:[{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"},{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"},{rel:"stylesheet",href:"https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",integrity:"sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=",crossorigin:""}],style:[],script:[{src:"https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",type:"text/javascript",integrity:"sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=",crossorigin:"",async:!0},{src:"https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js",type:"text/javascript",crossorigin:"",async:!0},{src:"https://cdn.lordicon.com/bhenfmcm.js",type:"text/javascript",crossorigin:"",async:!0}],noscript:[],title:"Medfest Care "},pO=!1,Ug=!1,mO=!1,vO="__nuxt",gO=!0;function D_(e,t={}){const i=yO(e,t),r=Xn(),s=r._payloadCache=r._payloadCache||{};return s[i]||(s[i]=FS(i).then(l=>l||(delete s[i],null))),s[i]}const N_="json";function yO(e,t={}){const i=new URL(e,"http://localhost");if(i.search)throw new Error("Payload URL cannot contain search params: "+e);if(i.host!=="localhost"||Wd(i.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+e);const r=t.hash||(t.fresh?Date.now():"");return $d(f0().app.baseURL,i.pathname,r?`_payload.${r}.${N_}`:`_payload.${N_}`)}async function FS(e){try{return gO?US(await fetch(e).then(t=>t.text())):await fd(()=>import(e),[],import.meta.url).then(t=>t.default||t)}catch(t){console.warn("[nuxt] Cannot load payload ",e,t)}return null}function wO(){return!!Xn().payload.prerenderedAt}let uf=null;async function bO(){if(uf)return uf;const e=document.getElementById("__NUXT_DATA__");if(!e)return{};const t=US(e.textContent||""),i=e.dataset.src?await FS(e.dataset.src):void 0;return uf={...t,...i,...window.__NUXT__},uf}function US(e){return dO(e,Xn()._payloadRevivers)}function _O(e,t){Xn()._payloadRevivers[e]=t}function xO(e={}){const t=e.path||window.location.pathname;let i={};try{i=JSON.parse(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(e.force||(i==null?void 0:i.path)!==t||(i==null?void 0:i.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:t,expires:Date.now()+(e.ttl??1e4)}))}catch{}if(e.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Xn().payload.state}))}catch{}window.location.pathname!==t?window.location.href=t:window.location.reload()}}const EO=Vi(e=>{const t=n2();return e.vueApp.use(t),qd(t),e.payload&&e.payload.pinia&&(t.state.value=e.payload.pinia),{provide:{pinia:t}}}),V_={NuxtError:e=>m0(e),EmptyShallowRef:e=>Xe(e==="_"?void 0:JSON.parse(e)),EmptyRef:e=>Ce(e==="_"?void 0:JSON.parse(e)),ShallowRef:e=>Xe(e),ShallowReactive:e=>FL(e),Ref:e=>Ce(e),Reactive:e=>wn(e)},SO=Vi({name:"nuxt:revive-payload:client",order:-30,async setup(e){let t,i;for(const r in V_)_O(r,V_[r]);Object.assign(e.payload,([t,i]=Kf(()=>e.runWithContext(bO)),t=await t,i(),t)),window.__NUXT__=e.payload}},1),TO=Vi({name:"nuxt:global-components"}),AO=Vi({name:"nuxt:head",setup(e){const i=j2();i.push(fO),e.vueApp.use(i);{let r=!0;const s=()=>{r=!1,i.hooks.callHook("entries:updated",i)};i.hooks.hook("dom:beforeRender",l=>{l.shouldRender=!r}),e.hooks.hook("page:start",()=>{r=!0}),e.hooks.hook("page:finish",s),e.hooks.hook("app:suspense:resolve",s)}}});/*!
  * vue-router v4.2.1
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Fl=typeof window<"u";function CO(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const nn=Object.assign;function Nv(e,t){const i={};for(const r in t){const s=t[r];i[r]=Dr(s)?s.map(e):e(s)}return i}const ed=()=>{},Dr=Array.isArray,MO=/\/$/,IO=e=>e.replace(MO,"");function Vv(e,t,i="/"){let r,s={},l="",u="";const f=t.indexOf("#");let m=t.indexOf("?");return f<m&&f>=0&&(m=-1),m>-1&&(r=t.slice(0,m),l=t.slice(m+1,f>-1?f:t.length),s=e(l)),f>-1&&(r=r||t.slice(0,f),u=t.slice(f,t.length)),r=PO(r??t,i),{fullPath:r+(l&&"?")+l+u,path:r,query:s,hash:u}}function RO(e,t){const i=t.query?e(t.query):"";return t.path+(i&&"?")+i+(t.hash||"")}function B_(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function kO(e,t,i){const r=t.matched.length-1,s=i.matched.length-1;return r>-1&&r===s&&rc(t.matched[r],i.matched[s])&&zS(t.params,i.params)&&e(t.query)===e(i.query)&&t.hash===i.hash}function rc(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function zS(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!LO(e[i],t[i]))return!1;return!0}function LO(e,t){return Dr(e)?F_(e,t):Dr(t)?F_(t,e):e===t}function F_(e,t){return Dr(t)?e.length===t.length&&e.every((i,r)=>i===t[r]):e.length===1&&e[0]===t}function PO(e,t){if(e.startsWith("/"))return e;if(!e)return t;const i=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let l=i.length-1,u,f;for(u=0;u<r.length;u++)if(f=r[u],f!==".")if(f==="..")l>1&&l--;else break;return i.slice(0,l).join("/")+"/"+r.slice(u-(u===r.length?1:0)).join("/")}var pd;(function(e){e.pop="pop",e.push="push"})(pd||(pd={}));var td;(function(e){e.back="back",e.forward="forward",e.unknown=""})(td||(td={}));function OO(e){if(!e)if(Fl){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),IO(e)}const DO=/^[^#]+#/;function NO(e,t){return e.replace(DO,"#")+t}function VO(e,t){const i=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-i.left-(t.left||0),top:r.top-i.top-(t.top||0)}}const Fp=()=>({left:window.pageXOffset,top:window.pageYOffset});function BO(e){let t;if("el"in e){const i=e.el,r=typeof i=="string"&&i.startsWith("#"),s=typeof i=="string"?r?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!s)return;t=VO(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function U_(e,t){return(history.state?history.state.position-t:-1)+e}const zg=new Map;function FO(e,t){zg.set(e,t)}function UO(e){const t=zg.get(e);return zg.delete(e),t}let zO=()=>location.protocol+"//"+location.host;function HS(e,t){const{pathname:i,search:r,hash:s}=t,l=e.indexOf("#");if(l>-1){let f=s.includes(e.slice(l))?e.slice(l).length:1,m=s.slice(f);return m[0]!=="/"&&(m="/"+m),B_(m,"")}return B_(i,e)+r+s}function HO(e,t,i,r){let s=[],l=[],u=null;const f=({state:E})=>{const A=HS(e,location),I=i.value,D=t.value;let O=0;if(E){if(i.value=A,t.value=E,u&&u===I){u=null;return}O=D?E.position-D.position:0}else r(A);s.forEach(H=>{H(i.value,I,{delta:O,type:pd.pop,direction:O?O>0?td.forward:td.back:td.unknown})})};function m(){u=i.value}function v(E){s.push(E);const A=()=>{const I=s.indexOf(E);I>-1&&s.splice(I,1)};return l.push(A),A}function w(){const{history:E}=window;E.state&&E.replaceState(nn({},E.state,{scroll:Fp()}),"")}function x(){for(const E of l)E();l=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",w)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",w,{passive:!0}),{pauseListeners:m,listen:v,destroy:x}}function z_(e,t,i,r=!1,s=!1){return{back:e,current:t,forward:i,replaced:r,position:window.history.length,scroll:s?Fp():null}}function jO(e){const{history:t,location:i}=window,r={value:HS(e,i)},s={value:t.state};s.value||l(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(m,v,w){const x=e.indexOf("#"),E=x>-1?(i.host&&document.querySelector("base")?e:e.slice(x))+m:zO()+e+m;try{t[w?"replaceState":"pushState"](v,"",E),s.value=v}catch(A){console.error(A),i[w?"replace":"assign"](E)}}function u(m,v){const w=nn({},t.state,z_(s.value.back,m,s.value.forward,!0),v,{position:s.value.position});l(m,w,!0),r.value=m}function f(m,v){const w=nn({},s.value,t.state,{forward:m,scroll:Fp()});l(w.current,w,!0);const x=nn({},z_(r.value,m,null),{position:w.position+1},v);l(m,x,!1),r.value=m}return{location:r,state:s,push:f,replace:u}}function jS(e){e=OO(e);const t=jO(e),i=HO(e,t.state,t.location,t.replace);function r(l,u=!0){u||i.pauseListeners(),history.go(l)}const s=nn({location:"",base:e,go:r,createHref:NO.bind(null,e)},t,i);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function GO(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),jS(e)}function WO(e){return typeof e=="string"||e&&typeof e=="object"}function GS(e){return typeof e=="string"||typeof e=="symbol"}const Qr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},WS=Symbol("");var H_;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(H_||(H_={}));function oc(e,t){return nn(new Error,{type:e,[WS]:!0},t)}function Eo(e,t){return e instanceof Error&&WS in e&&(t==null||!!(e.type&t))}const j_="[^/]+?",$O={sensitive:!1,strict:!1,start:!0,end:!0},qO=/[.+*?^${}()[\]/\\]/g;function YO(e,t){const i=nn({},$O,t),r=[];let s=i.start?"^":"";const l=[];for(const v of e){const w=v.length?[]:[90];i.strict&&!v.length&&(s+="/");for(let x=0;x<v.length;x++){const E=v[x];let A=40+(i.sensitive?.25:0);if(E.type===0)x||(s+="/"),s+=E.value.replace(qO,"\\$&"),A+=40;else if(E.type===1){const{value:I,repeatable:D,optional:O,regexp:H}=E;l.push({name:I,repeatable:D,optional:O});const V=H||j_;if(V!==j_){A+=10;try{new RegExp(`(${V})`)}catch(ne){throw new Error(`Invalid custom RegExp for param "${I}" (${V}): `+ne.message)}}let U=D?`((?:${V})(?:/(?:${V}))*)`:`(${V})`;x||(U=O&&v.length<2?`(?:/${U})`:"/"+U),O&&(U+="?"),s+=U,A+=20,O&&(A+=-8),D&&(A+=-20),V===".*"&&(A+=-50)}w.push(A)}r.push(w)}if(i.strict&&i.end){const v=r.length-1;r[v][r[v].length-1]+=.7000000000000001}i.strict||(s+="/?"),i.end?s+="$":i.strict&&(s+="(?:/|$)");const u=new RegExp(s,i.sensitive?"":"i");function f(v){const w=v.match(u),x={};if(!w)return null;for(let E=1;E<w.length;E++){const A=w[E]||"",I=l[E-1];x[I.name]=A&&I.repeatable?A.split("/"):A}return x}function m(v){let w="",x=!1;for(const E of e){(!x||!w.endsWith("/"))&&(w+="/"),x=!1;for(const A of E)if(A.type===0)w+=A.value;else if(A.type===1){const{value:I,repeatable:D,optional:O}=A,H=I in v?v[I]:"";if(Dr(H)&&!D)throw new Error(`Provided param "${I}" is an array but it is not repeatable (* or + modifiers)`);const V=Dr(H)?H.join("/"):H;if(!V)if(O)E.length<2&&(w.endsWith("/")?w=w.slice(0,-1):x=!0);else throw new Error(`Missing required param "${I}"`);w+=V}}return w||"/"}return{re:u,score:r,keys:l,parse:f,stringify:m}}function XO(e,t){let i=0;for(;i<e.length&&i<t.length;){const r=t[i]-e[i];if(r)return r;i++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function KO(e,t){let i=0;const r=e.score,s=t.score;for(;i<r.length&&i<s.length;){const l=XO(r[i],s[i]);if(l)return l;i++}if(Math.abs(s.length-r.length)===1){if(G_(r))return 1;if(G_(s))return-1}return s.length-r.length}function G_(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const QO={type:0,value:""},JO=/[a-zA-Z0-9_]/;function ZO(e){if(!e)return[[]];if(e==="/")return[[QO]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(A){throw new Error(`ERR (${i})/"${v}": ${A}`)}let i=0,r=i;const s=[];let l;function u(){l&&s.push(l),l=[]}let f=0,m,v="",w="";function x(){v&&(i===0?l.push({type:0,value:v}):i===1||i===2||i===3?(l.length>1&&(m==="*"||m==="+")&&t(`A repeatable param (${v}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:v,regexp:w,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):t("Invalid state to consume buffer"),v="")}function E(){v+=m}for(;f<e.length;){if(m=e[f++],m==="\\"&&i!==2){r=i,i=4;continue}switch(i){case 0:m==="/"?(v&&x(),u()):m===":"?(x(),i=1):E();break;case 4:E(),i=r;break;case 1:m==="("?i=2:JO.test(m)?E():(x(),i=0,m!=="*"&&m!=="?"&&m!=="+"&&f--);break;case 2:m===")"?w[w.length-1]=="\\"?w=w.slice(0,-1)+m:i=3:w+=m;break;case 3:x(),i=0,m!=="*"&&m!=="?"&&m!=="+"&&f--,w="";break;default:t("Unknown state");break}}return i===2&&t(`Unfinished custom RegExp for param "${v}"`),x(),u(),s}function eD(e,t,i){const r=YO(ZO(e.path),i),s=nn(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function tD(e,t){const i=[],r=new Map;t=q_({strict:!1,end:!0,sensitive:!1},t);function s(w){return r.get(w)}function l(w,x,E){const A=!E,I=nD(w);I.aliasOf=E&&E.record;const D=q_(t,w),O=[I];if("alias"in w){const U=typeof w.alias=="string"?[w.alias]:w.alias;for(const ne of U)O.push(nn({},I,{components:E?E.record.components:I.components,path:ne,aliasOf:E?E.record:I}))}let H,V;for(const U of O){const{path:ne}=U;if(x&&ne[0]!=="/"){const re=x.record.path,ee=re[re.length-1]==="/"?"":"/";U.path=x.record.path+(ne&&ee+ne)}if(H=eD(U,x,D),E?E.alias.push(H):(V=V||H,V!==H&&V.alias.push(H),A&&w.name&&!$_(H)&&u(w.name)),I.children){const re=I.children;for(let ee=0;ee<re.length;ee++)l(re[ee],H,E&&E.children[ee])}E=E||H,(H.record.components&&Object.keys(H.record.components).length||H.record.name||H.record.redirect)&&m(H)}return V?()=>{u(V)}:ed}function u(w){if(GS(w)){const x=r.get(w);x&&(r.delete(w),i.splice(i.indexOf(x),1),x.children.forEach(u),x.alias.forEach(u))}else{const x=i.indexOf(w);x>-1&&(i.splice(x,1),w.record.name&&r.delete(w.record.name),w.children.forEach(u),w.alias.forEach(u))}}function f(){return i}function m(w){let x=0;for(;x<i.length&&KO(w,i[x])>=0&&(w.record.path!==i[x].record.path||!$S(w,i[x]));)x++;i.splice(x,0,w),w.record.name&&!$_(w)&&r.set(w.record.name,w)}function v(w,x){let E,A={},I,D;if("name"in w&&w.name){if(E=r.get(w.name),!E)throw oc(1,{location:w});D=E.record.name,A=nn(W_(x.params,E.keys.filter(V=>!V.optional).map(V=>V.name)),w.params&&W_(w.params,E.keys.map(V=>V.name))),I=E.stringify(A)}else if("path"in w)I=w.path,E=i.find(V=>V.re.test(I)),E&&(A=E.parse(I),D=E.record.name);else{if(E=x.name?r.get(x.name):i.find(V=>V.re.test(x.path)),!E)throw oc(1,{location:w,currentLocation:x});D=E.record.name,A=nn({},x.params,w.params),I=E.stringify(A)}const O=[];let H=E;for(;H;)O.unshift(H.record),H=H.parent;return{name:D,path:I,params:A,matched:O,meta:rD(O)}}return e.forEach(w=>l(w)),{addRoute:l,resolve:v,removeRoute:u,getRoutes:f,getRecordMatcher:s}}function W_(e,t){const i={};for(const r of t)r in e&&(i[r]=e[r]);return i}function nD(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:iD(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function iD(e){const t={},i=e.props||!1;if("component"in e)t.default=i;else for(const r in e.components)t[r]=typeof i=="boolean"?i:i[r];return t}function $_(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function rD(e){return e.reduce((t,i)=>nn(t,i.meta),{})}function q_(e,t){const i={};for(const r in e)i[r]=r in t?t[r]:e[r];return i}function $S(e,t){return t.children.some(i=>i===e||$S(e,i))}const qS=/#/g,oD=/&/g,sD=/\//g,aD=/=/g,lD=/\?/g,YS=/\+/g,cD=/%5B/g,uD=/%5D/g,XS=/%5E/g,dD=/%60/g,KS=/%7B/g,hD=/%7C/g,QS=/%7D/g,fD=/%20/g;function v0(e){return encodeURI(""+e).replace(hD,"|").replace(cD,"[").replace(uD,"]")}function pD(e){return v0(e).replace(KS,"{").replace(QS,"}").replace(XS,"^")}function Hg(e){return v0(e).replace(YS,"%2B").replace(fD,"+").replace(qS,"%23").replace(oD,"%26").replace(dD,"`").replace(KS,"{").replace(QS,"}").replace(XS,"^")}function mD(e){return Hg(e).replace(aD,"%3D")}function vD(e){return v0(e).replace(qS,"%23").replace(lD,"%3F")}function gD(e){return e==null?"":vD(e).replace(sD,"%2F")}function Zf(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function yD(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const l=r[s].replace(YS," "),u=l.indexOf("="),f=Zf(u<0?l:l.slice(0,u)),m=u<0?null:Zf(l.slice(u+1));if(f in t){let v=t[f];Dr(v)||(v=t[f]=[v]),v.push(m)}else t[f]=m}return t}function Y_(e){let t="";for(let i in e){const r=e[i];if(i=mD(i),r==null){r!==void 0&&(t+=(t.length?"&":"")+i);continue}(Dr(r)?r.map(l=>l&&Hg(l)):[r&&Hg(r)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+i,l!=null&&(t+="="+l))})}return t}function wD(e){const t={};for(const i in e){const r=e[i];r!==void 0&&(t[i]=Dr(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const bD=Symbol(""),X_=Symbol(""),g0=Symbol(""),y0=Symbol(""),jg=Symbol("");function Lu(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function i(){e=[]}return{add:t,list:()=>e,reset:i}}function rs(e,t,i,r,s){const l=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((u,f)=>{const m=x=>{x===!1?f(oc(4,{from:i,to:t})):x instanceof Error?f(x):WO(x)?f(oc(2,{from:t,to:x})):(l&&r.enterCallbacks[s]===l&&typeof x=="function"&&l.push(x),u())},v=e.call(r&&r.instances[s],t,i,m);let w=Promise.resolve(v);e.length<3&&(w=w.then(m)),w.catch(x=>f(x))})}function Bv(e,t,i,r){const s=[];for(const l of e)for(const u in l.components){let f=l.components[u];if(!(t!=="beforeRouteEnter"&&!l.instances[u]))if(_D(f)){const v=(f.__vccOpts||f)[t];v&&s.push(rs(v,i,r,l,u))}else{let m=f();s.push(()=>m.then(v=>{if(!v)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${l.path}"`));const w=CO(v)?v.default:v;l.components[u]=w;const E=(w.__vccOpts||w)[t];return E&&rs(E,i,r,l,u)()}))}}return s}function _D(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function K_(e){const t=Bt(g0),i=Bt(y0),r=P(()=>t.resolve(Zt(e.to))),s=P(()=>{const{matched:m}=r.value,{length:v}=m,w=m[v-1],x=i.matched;if(!w||!x.length)return-1;const E=x.findIndex(rc.bind(null,w));if(E>-1)return E;const A=Q_(m[v-2]);return v>1&&Q_(w)===A&&x[x.length-1].path!==A?x.findIndex(rc.bind(null,m[v-2])):E}),l=P(()=>s.value>-1&&TD(i.params,r.value.params)),u=P(()=>s.value>-1&&s.value===i.matched.length-1&&zS(i.params,r.value.params));function f(m={}){return SD(m)?t[Zt(e.replace)?"replace":"push"](Zt(e.to)).catch(ed):Promise.resolve()}return{route:r,href:P(()=>r.value.href),isActive:l,isExactActive:u,navigate:f}}const xD=Es({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:K_,setup(e,{slots:t}){const i=wn(K_(e)),{options:r}=Bt(g0),s=P(()=>({[J_(e.activeClass,r.linkActiveClass,"router-link-active")]:i.isActive,[J_(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const l=t.default&&t.default(i);return e.custom?l:Te("a",{"aria-current":i.isExactActive?e.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:s.value},l)}}}),ED=xD;function SD(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function TD(e,t){for(const i in t){const r=t[i],s=e[i];if(typeof r=="string"){if(r!==s)return!1}else if(!Dr(s)||s.length!==r.length||r.some((l,u)=>l!==s[u]))return!1}return!0}function Q_(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const J_=(e,t,i)=>e??t??i,AD=Es({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:i}){const r=Bt(jg),s=P(()=>e.route||r.value),l=Bt(X_,0),u=P(()=>{let v=Zt(l);const{matched:w}=s.value;let x;for(;(x=w[v])&&!x.components;)v++;return v}),f=P(()=>s.value.matched[u.value]);bn(X_,P(()=>u.value+1)),bn(bD,f),bn(jg,s);const m=Ce();return He(()=>[m.value,f.value,e.name],([v,w,x],[E,A,I])=>{w&&(w.instances[x]=v,A&&A!==w&&v&&v===E&&(w.leaveGuards.size||(w.leaveGuards=A.leaveGuards),w.updateGuards.size||(w.updateGuards=A.updateGuards))),v&&w&&(!A||!rc(w,A)||!E)&&(w.enterCallbacks[x]||[]).forEach(D=>D(v))},{flush:"post"}),()=>{const v=s.value,w=e.name,x=f.value,E=x&&x.components[w];if(!E)return Z_(i.default,{Component:E,route:v});const A=x.props[w],I=A?A===!0?v.params:typeof A=="function"?A(v):A:null,O=Te(E,nn({},I,t,{onVnodeUnmounted:H=>{H.component.isUnmounted&&(x.instances[w]=null)},ref:m}));return Z_(i.default,{Component:O,route:v})||O}}});function Z_(e,t){if(!e)return null;const i=e(t);return i.length===1?i[0]:i}const JS=AD;function CD(e){const t=tD(e.routes,e),i=e.parseQuery||yD,r=e.stringifyQuery||Y_,s=e.history,l=Lu(),u=Lu(),f=Lu(),m=Xe(Qr);let v=Qr;Fl&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const w=Nv.bind(null,se=>""+se),x=Nv.bind(null,gD),E=Nv.bind(null,Zf);function A(se,we){let Ee,Ie;return GS(se)?(Ee=t.getRecordMatcher(se),Ie=we):Ie=se,t.addRoute(Ie,Ee)}function I(se){const we=t.getRecordMatcher(se);we&&t.removeRoute(we)}function D(){return t.getRoutes().map(se=>se.record)}function O(se){return!!t.getRecordMatcher(se)}function H(se,we){if(we=nn({},we||m.value),typeof se=="string"){const Qe=Vv(i,se,we.path),Pt=t.resolve({path:Qe.path},we),gn=s.createHref(Qe.fullPath);return nn(Qe,Pt,{params:E(Pt.params),hash:Zf(Qe.hash),redirectedFrom:void 0,href:gn})}let Ee;if("path"in se)Ee=nn({},se,{path:Vv(i,se.path,we.path).path});else{const Qe=nn({},se.params);for(const Pt in Qe)Qe[Pt]==null&&delete Qe[Pt];Ee=nn({},se,{params:x(Qe)}),we.params=x(we.params)}const Ie=t.resolve(Ee,we),je=se.hash||"";Ie.params=w(E(Ie.params));const Ke=RO(r,nn({},se,{hash:pD(je),path:Ie.path})),it=s.createHref(Ke);return nn({fullPath:Ke,hash:je,query:r===Y_?wD(se.query):se.query||{}},Ie,{redirectedFrom:void 0,href:it})}function V(se){return typeof se=="string"?Vv(i,se,m.value.path):nn({},se)}function U(se,we){if(v!==se)return oc(8,{from:we,to:se})}function ne(se){return Z(se)}function re(se){return ne(nn(V(se),{replace:!0}))}function ee(se){const we=se.matched[se.matched.length-1];if(we&&we.redirect){const{redirect:Ee}=we;let Ie=typeof Ee=="function"?Ee(se):Ee;return typeof Ie=="string"&&(Ie=Ie.includes("?")||Ie.includes("#")?Ie=V(Ie):{path:Ie},Ie.params={}),nn({query:se.query,hash:se.hash,params:"path"in Ie?{}:se.params},Ie)}}function Z(se,we){const Ee=v=H(se),Ie=m.value,je=se.state,Ke=se.force,it=se.replace===!0,Qe=ee(Ee);if(Qe)return Z(nn(V(Qe),{state:typeof Qe=="object"?nn({},je,Qe.state):je,force:Ke,replace:it}),we||Ee);const Pt=Ee;Pt.redirectedFrom=we;let gn;return!Ke&&kO(r,Ie,Ee)&&(gn=oc(16,{to:Pt,from:Ie}),ce(Ie,Ie,!0,!1)),(gn?Promise.resolve(gn):G(Pt,Ie)).catch(Wt=>Eo(Wt)?Eo(Wt,2)?Wt:$(Wt):S(Wt,Pt,Ie)).then(Wt=>{if(Wt){if(Eo(Wt,2))return Z(nn({replace:it},V(Wt.to),{state:typeof Wt.to=="object"?nn({},je,Wt.to.state):je,force:Ke}),we||Pt)}else Wt=Y(Pt,Ie,!0,it,je);return q(Pt,Ie,Wt),Wt})}function X(se,we){const Ee=U(se,we);return Ee?Promise.reject(Ee):Promise.resolve()}function B(se){const we=Le.values().next().value;return we&&typeof we.runWithContext=="function"?we.runWithContext(se):se()}function G(se,we){let Ee;const[Ie,je,Ke]=MD(se,we);Ee=Bv(Ie.reverse(),"beforeRouteLeave",se,we);for(const Qe of Ie)Qe.leaveGuards.forEach(Pt=>{Ee.push(rs(Pt,se,we))});const it=X.bind(null,se,we);return Ee.push(it),W(Ee).then(()=>{Ee=[];for(const Qe of l.list())Ee.push(rs(Qe,se,we));return Ee.push(it),W(Ee)}).then(()=>{Ee=Bv(je,"beforeRouteUpdate",se,we);for(const Qe of je)Qe.updateGuards.forEach(Pt=>{Ee.push(rs(Pt,se,we))});return Ee.push(it),W(Ee)}).then(()=>{Ee=[];for(const Qe of se.matched)if(Qe.beforeEnter&&!we.matched.includes(Qe))if(Dr(Qe.beforeEnter))for(const Pt of Qe.beforeEnter)Ee.push(rs(Pt,se,we));else Ee.push(rs(Qe.beforeEnter,se,we));return Ee.push(it),W(Ee)}).then(()=>(se.matched.forEach(Qe=>Qe.enterCallbacks={}),Ee=Bv(Ke,"beforeRouteEnter",se,we),Ee.push(it),W(Ee))).then(()=>{Ee=[];for(const Qe of u.list())Ee.push(rs(Qe,se,we));return Ee.push(it),W(Ee)}).catch(Qe=>Eo(Qe,8)?Qe:Promise.reject(Qe))}function q(se,we,Ee){for(const Ie of f.list())B(()=>Ie(se,we,Ee))}function Y(se,we,Ee,Ie,je){const Ke=U(se,we);if(Ke)return Ke;const it=we===Qr,Qe=Fl?history.state:{};Ee&&(Ie||it?s.replace(se.fullPath,nn({scroll:it&&Qe&&Qe.scroll},je)):s.push(se.fullPath,je)),m.value=se,ce(se,we,Ee,it),$()}let fe;function de(){fe||(fe=s.listen((se,we,Ee)=>{if(!me.listening)return;const Ie=H(se),je=ee(Ie);if(je){Z(nn(je,{replace:!0}),Ie).catch(ed);return}v=Ie;const Ke=m.value;Fl&&FO(U_(Ke.fullPath,Ee.delta),Fp()),G(Ie,Ke).catch(it=>Eo(it,12)?it:Eo(it,2)?(Z(it.to,Ie).then(Qe=>{Eo(Qe,20)&&!Ee.delta&&Ee.type===pd.pop&&s.go(-1,!1)}).catch(ed),Promise.reject()):(Ee.delta&&s.go(-Ee.delta,!1),S(it,Ie,Ke))).then(it=>{it=it||Y(Ie,Ke,!1),it&&(Ee.delta&&!Eo(it,8)?s.go(-Ee.delta,!1):Ee.type===pd.pop&&Eo(it,20)&&s.go(-1,!1)),q(Ie,Ke,it)}).catch(ed)}))}let g=Lu(),T=Lu(),R;function S(se,we,Ee){$(se);const Ie=T.list();return Ie.length?Ie.forEach(je=>je(se,we,Ee)):console.error(se),Promise.reject(se)}function N(){return R&&m.value!==Qr?Promise.resolve():new Promise((se,we)=>{g.add([se,we])})}function $(se){return R||(R=!se,de(),g.list().forEach(([we,Ee])=>se?Ee(se):we()),g.reset()),se}function ce(se,we,Ee,Ie){const{scrollBehavior:je}=e;if(!Fl||!je)return Promise.resolve();const Ke=!Ee&&UO(U_(se.fullPath,0))||(Ie||!Ee)&&history.state&&history.state.scroll||null;return kt().then(()=>je(se,we,Ke)).then(it=>it&&BO(it)).catch(it=>S(it,se,we))}const le=se=>s.go(se);let ie;const Le=new Set,me={currentRoute:m,listening:!0,addRoute:A,removeRoute:I,hasRoute:O,getRoutes:D,resolve:H,options:e,push:ne,replace:re,go:le,back:()=>le(-1),forward:()=>le(1),beforeEach:l.add,beforeResolve:u.add,afterEach:f.add,onError:T.add,isReady:N,install(se){const we=this;se.component("RouterLink",ED),se.component("RouterView",JS),se.config.globalProperties.$router=we,Object.defineProperty(se.config.globalProperties,"$route",{enumerable:!0,get:()=>Zt(m)}),Fl&&!ie&&m.value===Qr&&(ie=!0,ne(s.location).catch(je=>{}));const Ee={};for(const je in Qr)Ee[je]=P(()=>m.value[je]);se.provide(g0,we),se.provide(y0,wn(Ee)),se.provide(jg,m);const Ie=se.unmount;Le.add(se),se.unmount=function(){Le.delete(se),Le.size<1&&(v=Qr,fe&&fe(),fe=null,m.value=Qr,ie=!1,R=!1),Ie()}}};function W(se){return se.reduce((we,Ee)=>we.then(()=>B(Ee)),Promise.resolve())}return me}function MD(e,t){const i=[],r=[],s=[],l=Math.max(t.matched.length,e.matched.length);for(let u=0;u<l;u++){const f=t.matched[u];f&&(e.matched.find(v=>rc(v,f))?r.push(f):i.push(f));const m=e.matched[u];m&&(t.matched.find(v=>rc(v,m))||s.push(m))}return[i,r,s]}function ID(){return Bt(y0)}const Ji={layout:"home"},ex=[{name:(Ji==null?void 0:Ji.name)??"index",path:(Ji==null?void 0:Ji.path)??"/",meta:Ji||{},alias:(Ji==null?void 0:Ji.alias)||[],redirect:(Ji==null?void 0:Ji.redirect)||void 0,component:()=>fd(()=>import("./index.6a833bf5.js"),["./index.6a833bf5.js","./swiper-vue.b13d2d97.js","./swiper-vue.78ee92f5.css","./index.9ce915f6.css"],import.meta.url).then(e=>e.default||e)}],RD={scrollBehavior(e,t,i){const r=Xn();let s=i||void 0;if(!s&&t&&e&&e.meta.scrollToTop!==!1&&kD(t,e)&&(s={left:0,top:0}),e.path===t.path){if(t.hash&&!e.hash)return{left:0,top:0};if(e.hash)return{el:e.hash,top:tx(e.hash)}}const l=f=>!!(f.meta.pageTransition??Ug),u=l(t)&&l(e)?"page:transition:finish":"page:finish";return new Promise(f=>{r.hooks.hookOnce(u,async()=>{await kt(),e.hash&&(s={el:e.hash,top:tx(e.hash)}),f(s)})})}};function tx(e){try{const t=document.querySelector(e);if(t)return parseFloat(getComputedStyle(t).scrollMarginTop)}catch{}return 0}function kD(e,t){const i=e.matched[0]===t.matched[0];return!!(!i||i&&JSON.stringify(e.params)!==JSON.stringify(t.params))}const LD={},zi={...LD,...RD},PD=J2(async e=>{var m;let t,i;if(!((m=e.meta)!=null&&m.validate))return;const r=Xn(),s=bc();if(([t,i]=Kf(()=>Promise.resolve(e.meta.validate(e))),t=await t,i(),t)===!0)return;const u=m0({statusCode:404,statusMessage:`Page Not Found: ${e.fullPath}`}),f=s.beforeResolve(v=>{if(f(),v===e){const w=s.afterEach(async()=>{w(),await r.runWithContext(()=>Gl(u)),window.history.pushState({},"",e.fullPath)});return!1}})}),OD=[PD],nd={};function DD(e,t){const{pathname:i,search:r,hash:s}=t,l=e.indexOf("#");if(l>-1){const f=s.includes(e.slice(l))?e.slice(l).length:1;let m=s.slice(f);return m[0]!=="/"&&(m="/"+m),S_(m,"")}return S_(i,e)+r+s}const ND=Vi({name:"nuxt:router",enforce:"pre",async setup(e){var D,O;let t,i,r=f0().app.baseURL;zi.hashMode&&!r.includes("#")&&(r+="#");const s=((D=zi.history)==null?void 0:D.call(zi,r))??(zi.hashMode?GO(r):jS(r)),l=((O=zi.routes)==null?void 0:O.call(zi,ex))??ex;let u;const f=DD(r,window.location),m=CD({...zi,scrollBehavior:(H,V,U)=>{var ne;if(V===Qr){u=U;return}return m.options.scrollBehavior=zi.scrollBehavior,(ne=zi.scrollBehavior)==null?void 0:ne.call(zi,H,Qr,u||U)},history:s,routes:l});e.vueApp.use(m);const v=Xe(m.currentRoute.value);m.afterEach((H,V)=>{v.value=V}),Object.defineProperty(e.vueApp.config.globalProperties,"previousRoute",{get:()=>v.value});const w=Xe(m.resolve(f)),x=()=>{w.value=m.currentRoute.value};e.hook("page:finish",x),m.afterEach((H,V)=>{var U,ne,re,ee;((ne=(U=H.matched[0])==null?void 0:U.components)==null?void 0:ne.default)===((ee=(re=V.matched[0])==null?void 0:re.components)==null?void 0:ee.default)&&x()});const E={};for(const H in w.value)E[H]=P(()=>w.value[H]);e._route=wn(E),e._middleware=e._middleware||{global:[],named:{}};const A=Bp();try{[t,i]=Kf(()=>m.isReady()),await t,i()}catch(H){[t,i]=Kf(()=>e.runWithContext(()=>Gl(H))),await t,i()}const I=Q2("_layout");return m.beforeEach(async(H,V)=>{var ne;H.meta=wn(H.meta),e.isHydrating&&I.value&&!UL(H.meta.layout)&&(H.meta.layout=I.value),e._processingMiddleware=!0;const U=new Set([...OD,...e._middleware.global]);for(const re of H.matched){const ee=re.meta.middleware;if(ee)if(Array.isArray(ee))for(const Z of ee)U.add(Z);else U.add(ee)}for(const re of U){const ee=typeof re=="string"?e._middleware.named[re]||await((ne=nd[re])==null?void 0:ne.call(nd).then(X=>X.default||X)):re;if(!ee)throw new Error(`Unknown route middleware: '${re}'.`);const Z=await e.runWithContext(()=>ee(H,V));if(!e.payload.serverRendered&&e.isHydrating&&(Z===!1||Z instanceof Error)){const X=Z||Bg({statusCode:404,statusMessage:`Page Not Found: ${f}`});return await e.runWithContext(()=>Gl(X)),!1}if(Z||Z===!1)return Z}}),m.onError(()=>{delete e._processingMiddleware}),m.afterEach(async(H,V,U)=>{delete e._processingMiddleware,!e.isHydrating&&A.value&&await e.runWithContext(eO),H.matched.length===0&&await e.runWithContext(()=>Gl(Bg({statusCode:404,fatal:!1,statusMessage:`Page not found: ${H.fullPath}`})))}),e.hooks.hookOnce("app:created",async()=>{try{await m.replace({...m.resolve(f),name:void 0,force:!0}),m.options.scrollBehavior=zi.scrollBehavior}catch(H){await e.runWithContext(()=>Gl(H))}}),{provide:{router:m}}}},1),Wl={admin:()=>fd(()=>import("./admin.83bdd753.js"),["./admin.83bdd753.js","./Header.6a1e428f.js","./swiper-vue.b13d2d97.js","./swiper-vue.78ee92f5.css"],import.meta.url).then(e=>e.default||e),home:()=>fd(()=>import("./home.1b3a20d2.js"),["./home.1b3a20d2.js","./Header.6a1e428f.js","./swiper-vue.b13d2d97.js","./swiper-vue.78ee92f5.css","./home.303366ef.css"],import.meta.url).then(e=>e.default||e)},VD=Vi({name:"nuxt:prefetch",setup(e){const t=bc();e.hooks.hook("app:mounted",()=>{t.beforeEach(async i=>{var s;const r=(s=i==null?void 0:i.meta)==null?void 0:s.layout;r&&typeof Wl[r]=="function"&&await Wl[r]()})}),e.hooks.hook("link:prefetch",i=>{var u,f,m,v;if(Wd(i))return;const r=t.resolve(i);if(!r)return;const s=(u=r==null?void 0:r.meta)==null?void 0:u.layout;let l=Array.isArray((f=r==null?void 0:r.meta)==null?void 0:f.middleware)?(m=r==null?void 0:r.meta)==null?void 0:m.middleware:[(v=r==null?void 0:r.meta)==null?void 0:v.middleware];l=l.filter(w=>typeof w=="string");for(const w of l)typeof nd[w]=="function"&&nd[w]();s&&typeof Wl[s]=="function"&&Wl[s]()})}});function Ca(e,t,i,r){return Object.defineProperty(e,t,{get:i,set:r,enumerable:!0}),e}function $8(e,t){for(const i in t)Ca(e,i,t[i]);return e}const vs=Ce(!1);let Up;function BD(e,t){const i=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(vivaldi)[\/]([\w.]+)/.exec(e)||/(chrome|crios)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(firefox|fxios)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(e)||[];return{browser:i[5]||i[3]||i[1]||"",version:i[2]||i[4]||"0",versionNumber:i[4]||i[2]||"0",platform:t[0]||""}}function FD(e){return/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[]}const ZS="ontouchstart"in window||window.navigator.maxTouchPoints>0;function UD(e){Up={is:{...e}},delete e.mac,delete e.desktop;const t=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(e,{mobile:!0,ios:!0,platform:t,[t]:!0})}function zD(e){const t=e.toLowerCase(),i=FD(t),r=BD(t,i),s={};r.browser&&(s[r.browser]=!0,s.version=r.version,s.versionNumber=parseInt(r.versionNumber,10)),r.platform&&(s[r.platform]=!0);const l=s.android||s.ios||s.bb||s.blackberry||s.ipad||s.iphone||s.ipod||s.kindle||s.playbook||s.silk||s["windows phone"];return l===!0||t.indexOf("mobile")>-1?(s.mobile=!0,s.edga||s.edgios?(s.edge=!0,r.browser="edge"):s.crios?(s.chrome=!0,r.browser="chrome"):s.fxios&&(s.firefox=!0,r.browser="firefox")):s.desktop=!0,(s.ipod||s.ipad||s.iphone)&&(s.ios=!0),s["windows phone"]&&(s.winphone=!0,delete s["windows phone"]),(s.chrome||s.opr||s.safari||s.vivaldi||s.mobile===!0&&s.ios!==!0&&l!==!0)&&(s.webkit=!0),s.edg&&(r.browser="edgechromium",s.edgeChromium=!0),(s.safari&&s.blackberry||s.bb)&&(r.browser="blackberry",s.blackberry=!0),s.safari&&s.playbook&&(r.browser="playbook",s.playbook=!0),s.opr&&(r.browser="opera",s.opera=!0),s.safari&&s.android&&(r.browser="android",s.android=!0),s.safari&&s.kindle&&(r.browser="kindle",s.kindle=!0),s.safari&&s.silk&&(r.browser="silk",s.silk=!0),s.vivaldi&&(r.browser="vivaldi",s.vivaldi=!0),s.name=r.browser,s.platform=r.platform,t.indexOf("electron")>-1?s.electron=!0:document.location.href.indexOf("-extension://")>-1?s.bex=!0:(window.Capacitor!==void 0?(s.capacitor=!0,s.nativeMobile=!0,s.nativeMobileWrapper="capacitor"):(window._cordovaNative!==void 0||window.cordova!==void 0)&&(s.cordova=!0,s.nativeMobile=!0,s.nativeMobileWrapper="cordova"),ZS===!0&&s.mac===!0&&(s.desktop===!0&&s.safari===!0||s.nativeMobile===!0&&s.android!==!0&&s.ios!==!0&&s.ipad!==!0)&&UD(s)),s}const nx=navigator.userAgent||navigator.vendor||window.opera,HD={has:{touch:!1,webStorage:!1},within:{iframe:!1}},Rn={userAgent:nx,is:zD(nx),has:{touch:ZS},within:{iframe:window.self!==window.top}},Gg={install(e){const{$q:t}=e;vs.value===!0?(e.onSSRHydrated.push(()=>{Object.assign(t.platform,Rn),vs.value=!1,Up=void 0}),t.platform=wn(this)):t.platform=this}};{let e;Ca(Rn.has,"webStorage",()=>{if(e!==void 0)return e;try{if(window.localStorage)return e=!0,!0}catch{}return e=!1,!1}),Rn.is.ios===!0&&window.navigator.vendor.toLowerCase().indexOf("apple"),vs.value===!0?Object.assign(Gg,Rn,Up,HD):Object.assign(Gg,Rn)}const zp=(e,t)=>{const i=wn(e);for(const r in e)Ca(t,r,()=>i[r],s=>{i[r]=s});return t},Hi={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const e=Object.defineProperty({},"passive",{get(){Object.assign(Hi,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,e),window.removeEventListener("qtest",null,e)}catch{}function md(){}function q8(e){return e.button===0}function jD(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]?e=e.changedTouches[0]:e.targetTouches&&e.targetTouches[0]&&(e=e.targetTouches[0]),{top:e.clientY,left:e.clientX}}function GD(e){if(e.path)return e.path;if(e.composedPath)return e.composedPath();const t=[];let i=e.target;for(;i;){if(t.push(i),i.tagName==="HTML")return t.push(document),t.push(window),t;i=i.parentElement}}function ep(e){e.stopPropagation()}function os(e){e.cancelable!==!1&&e.preventDefault()}function cr(e){e.cancelable!==!1&&e.preventDefault(),e.stopPropagation()}function Y8(e,t){if(e===void 0||t===!0&&e.__dragPrevented===!0)return;const i=t===!0?r=>{r.__dragPrevented=!0,r.addEventListener("dragstart",os,Hi.notPassiveCapture)}:r=>{delete r.__dragPrevented,r.removeEventListener("dragstart",os,Hi.notPassiveCapture)};e.querySelectorAll("a, img").forEach(i)}function WD(e,t,i){const r=`__q_${t}_evt`;e[r]=e[r]!==void 0?e[r].concat(i):i,i.forEach(s=>{s[0].addEventListener(s[1],e[s[2]],Hi[s[3]])})}function $D(e,t){const i=`__q_${t}_evt`;e[i]!==void 0&&(e[i].forEach(r=>{r[0].removeEventListener(r[1],e[r[2]],Hi[r[3]])}),e[i]=void 0)}function eT(e,t=250,i){let r=null;function s(){const l=arguments,u=()=>{r=null,i!==!0&&e.apply(this,l)};r!==null?clearTimeout(r):i===!0&&e.apply(this,l),r=setTimeout(u,t)}return s.cancel=()=>{r!==null&&clearTimeout(r)},s}const Fv=["sm","md","lg","xl"],{passive:ix}=Hi,qD=zp({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:md,setDebounce:md,install({$q:e,onSSRHydrated:t}){if(e.screen=this,this.__installed===!0){e.config.screen!==void 0&&(e.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0));return}const{visualViewport:i}=window,r=i||window,s=document.scrollingElement||document.documentElement,l=i===void 0||Rn.is.mobile===!0?()=>[Math.max(window.innerWidth,s.clientWidth),Math.max(window.innerHeight,s.clientHeight)]:()=>[i.width*i.scale+window.innerWidth-s.clientWidth,i.height*i.scale+window.innerHeight-s.clientHeight],u=e.config.screen!==void 0&&e.config.screen.bodyClasses===!0;this.__update=x=>{const[E,A]=l();if(A!==this.height&&(this.height=A),E!==this.width)this.width=E;else if(x!==!0)return;let I=this.sizes;this.gt.xs=E>=I.sm,this.gt.sm=E>=I.md,this.gt.md=E>=I.lg,this.gt.lg=E>=I.xl,this.lt.sm=E<I.sm,this.lt.md=E<I.md,this.lt.lg=E<I.lg,this.lt.xl=E<I.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,I=this.xs===!0&&"xs"||this.sm===!0&&"sm"||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",I!==this.name&&(u===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${I}`)),this.name=I)};let f,m={},v=16;this.setSizes=x=>{Fv.forEach(E=>{x[E]!==void 0&&(m[E]=x[E])})},this.setDebounce=x=>{v=x};const w=()=>{const x=getComputedStyle(document.body);x.getPropertyValue("--q-size-sm")&&Fv.forEach(E=>{this.sizes[E]=parseInt(x.getPropertyValue(`--q-size-${E}`),10)}),this.setSizes=E=>{Fv.forEach(A=>{E[A]&&(this.sizes[A]=E[A])}),this.__update(!0)},this.setDebounce=E=>{f!==void 0&&r.removeEventListener("resize",f,ix),f=E>0?eT(this.__update,E):this.__update,r.addEventListener("resize",f,ix)},this.setDebounce(v),Object.keys(m).length!==0?(this.setSizes(m),m=void 0):this.__update(),u===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};vs.value===!0?t.push(w):w()}}),mi=zp({isActive:!1,mode:!1},{__media:void 0,set(e){mi.mode=e,e==="auto"?(mi.__media===void 0&&(mi.__media=window.matchMedia("(prefers-color-scheme: dark)"),mi.__updateMedia=()=>{mi.set("auto")},mi.__media.addListener(mi.__updateMedia)),e=mi.__media.matches):mi.__media!==void 0&&(mi.__media.removeListener(mi.__updateMedia),mi.__media=void 0),mi.isActive=e===!0,document.body.classList.remove(`body--${e===!0?"light":"dark"}`),document.body.classList.add(`body--${e===!0?"dark":"light"}`)},toggle(){mi.set(mi.isActive===!1)},install({$q:e,onSSRHydrated:t,ssrContext:i}){const{dark:r}=e.config;if(e.dark=this,this.__installed===!0&&r===void 0)return;this.isActive=r===!0;const s=r!==void 0?r:!1;if(vs.value===!0){const l=f=>{this.__fromSSR=f},u=this.set;this.set=l,l(s),t.push(()=>{this.set=u,this.set(this.__fromSSR)})}else this.set(s)}}),tT=()=>!0;function YD(e){return typeof e=="string"&&e!==""&&e!=="/"&&e!=="#/"}function XD(e){return e.startsWith("#")===!0&&(e=e.substring(1)),e.startsWith("/")===!1&&(e="/"+e),e.endsWith("/")===!0&&(e=e.substring(0,e.length-1)),"#"+e}function KD(e){if(e.backButtonExit===!1)return()=>!1;if(e.backButtonExit==="*")return tT;const t=["#/"];return Array.isArray(e.backButtonExit)===!0&&t.push(...e.backButtonExit.filter(YD).map(XD)),()=>t.includes(window.location.hash)}const Wg={__history:[],add:md,remove:md,install({$q:e}){if(this.__installed===!0)return;const{cordova:t,capacitor:i}=Rn.is;if(t!==!0&&i!==!0)return;const r=e.config[t===!0?"cordova":"capacitor"];if(r!==void 0&&r.backButton===!1||i===!0&&(window.Capacitor===void 0||window.Capacitor.Plugins.App===void 0))return;this.add=u=>{u.condition===void 0&&(u.condition=tT),this.__history.push(u)},this.remove=u=>{const f=this.__history.indexOf(u);f>=0&&this.__history.splice(f,1)};const s=KD(Object.assign({backButtonExit:!0},r)),l=()=>{if(this.__history.length){const u=this.__history[this.__history.length-1];u.condition()===!0&&(this.__history.pop(),u.handler())}else s()===!0?navigator.app.exitApp():window.history.back()};t===!0?document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",l,!1)}):window.Capacitor.Plugins.App.addListener("backButton",l)}},$g={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:e=>e?`Expand "${e}"`:"Expand",collapse:e=>e?`Collapse "${e}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:e=>e===1?"1 record selected.":(e===0?"No":e)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(e,t,i)=>e+"-"+t+" of "+i,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function rx(){const e=Array.isArray(navigator.languages)===!0&&navigator.languages.length!==0?navigator.languages[0]:navigator.language;if(typeof e=="string")return e.split(/[-_]/).map((t,i)=>i===0?t.toLowerCase():i>1||t.length<4?t.toUpperCase():t[0].toUpperCase()+t.slice(1).toLowerCase()).join("-")}const kr=zp({__langPack:{}},{getLocale:rx,set(e=$g,t){const i={...e,rtl:e.rtl===!0,getLocale:rx};{if(i.set=kr.set,kr.__langConfig===void 0||kr.__langConfig.noHtmlAttrs!==!0){const r=document.documentElement;r.setAttribute("dir",i.rtl===!0?"rtl":"ltr"),r.setAttribute("lang",i.isoName)}Object.assign(kr.__langPack,i),kr.props=i,kr.isoName=i.isoName,kr.nativeName=i.nativeName}},install({$q:e,lang:t,ssrContext:i}){e.lang=kr.__langPack,kr.__langConfig=e.config.lang,this.__installed===!0?t!==void 0&&this.set(t):this.set(t||$g)}});function QD(e,t,i=document.body){if(typeof e!="string")throw new TypeError("Expected a string as propName");if(typeof t!="string")throw new TypeError("Expected a string as value");if(!(i instanceof Element))throw new TypeError("Expected a DOM element");i.style.setProperty(`--q-${e}`,t)}let nT=!1;function JD(e){nT=e.isComposing===!0}function iT(e){return nT===!0||e!==Object(e)||e.isComposing===!0||e.qKeyEvent===!0}function vd(e,t){return iT(e)===!0?!1:[].concat(t).includes(e.keyCode)}function rT(e){if(e.ios===!0)return"ios";if(e.android===!0)return"android"}function ZD({is:e,has:t,within:i},r){const s=[e.desktop===!0?"desktop":"mobile",`${t.touch===!1?"no-":""}touch`];if(e.mobile===!0){const l=rT(e);l!==void 0&&s.push("platform-"+l)}if(e.nativeMobile===!0){const l=e.nativeMobileWrapper;s.push(l),s.push("native-mobile"),e.ios===!0&&(r[l]===void 0||r[l].iosStatusBarPadding!==!1)&&s.push("q-ios-padding")}else e.electron===!0?s.push("electron"):e.bex===!0&&s.push("bex");return i.iframe===!0&&s.push("within-iframe"),s}function eN(){const{is:e}=Rn,t=document.body.className,i=new Set(t.replace(/ {2}/g," ").split(" "));if(Up!==void 0)i.delete("desktop"),i.add("platform-ios"),i.add("mobile");else if(e.nativeMobile!==!0&&e.electron!==!0&&e.bex!==!0){if(e.desktop===!0)i.delete("mobile"),i.delete("platform-ios"),i.delete("platform-android"),i.add("desktop");else if(e.mobile===!0){i.delete("desktop"),i.add("mobile");const s=rT(e);s!==void 0?(i.add(`platform-${s}`),i.delete(`platform-${s==="ios"?"android":"ios"}`)):(i.delete("platform-ios"),i.delete("platform-android"))}}Rn.has.touch===!0&&(i.delete("no-touch"),i.add("touch")),Rn.within.iframe===!0&&i.add("within-iframe");const r=Array.from(i).join(" ");t!==r&&(document.body.className=r)}function tN(e){for(const t in e)QD(t,e[t])}const nN={install(e){if(this.__installed!==!0){if(vs.value===!0)eN();else{const{$q:t}=e;t.config.brand!==void 0&&tN(t.config.brand);const i=ZD(Rn,t.config);document.body.classList.add.apply(document.body.classList,i)}Rn.is.ios===!0&&document.body.addEventListener("touchstart",md),window.addEventListener("keydown",JD,!0)}}},oT={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}},tp=zp({iconMapFn:null,__icons:{}},{set(e,t){const i={...e,rtl:e.rtl===!0};i.set=tp.set,Object.assign(tp.__icons,i)},install({$q:e,iconSet:t,ssrContext:i}){e.config.iconMapFn!==void 0&&(this.iconMapFn=e.config.iconMapFn),e.iconSet=this.__icons,Ca(e,"iconMapFn",()=>this.iconMapFn,r=>{this.iconMapFn=r}),this.__installed===!0?t!==void 0&&this.set(t):this.set(t||oT)}}),iN="_q_",X8="_q_t_",K8="_q_s_",Q8="_q_l_",J8="_q_pc_",Z8="_q_f_",rN="_q_fo_",eY="_q_tabs_",tY="_q_u_",nY=()=>{},np={};let sT=!1;function oN(){sT=!0}function Uv(e,t){if(e===t)return!0;if(e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let i,r;if(e.constructor===Array){if(i=e.length,i!==t.length)return!1;for(r=i;r--!==0;)if(Uv(e[r],t[r])!==!0)return!1;return!0}if(e.constructor===Map){if(e.size!==t.size)return!1;let l=e.entries();for(r=l.next();r.done!==!0;){if(t.has(r.value[0])!==!0)return!1;r=l.next()}for(l=e.entries(),r=l.next();r.done!==!0;){if(Uv(r.value[1],t.get(r.value[0]))!==!0)return!1;r=l.next()}return!0}if(e.constructor===Set){if(e.size!==t.size)return!1;const l=e.entries();for(r=l.next();r.done!==!0;){if(t.has(r.value[0])!==!0)return!1;r=l.next()}return!0}if(e.buffer!=null&&e.buffer.constructor===ArrayBuffer){if(i=e.length,i!==t.length)return!1;for(r=i;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const s=Object.keys(e).filter(l=>e[l]!==void 0);if(i=s.length,i!==Object.keys(t).filter(l=>t[l]!==void 0).length)return!1;for(r=i;r--!==0;){const l=s[r];if(Uv(e[l],t[l])!==!0)return!1}return!0}return e!==e&&t!==t}function Jr(e){return e!==null&&typeof e=="object"&&Array.isArray(e)!==!0}function iY(e){return Object.prototype.toString.call(e)==="[object Date]"}function rY(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function oY(e){return typeof e=="number"&&isFinite(e)}const ox=[Gg,nN,mi,qD,Wg,kr,tp];function aT(e,t){const i=cS(e);i.config.globalProperties=t.config.globalProperties;const{reload:r,...s}=t._context;return Object.assign(i._context,s),i}function sx(e,t){t.forEach(i=>{i.install(e),i.__installed=!0})}function sN(e,t,i){e.config.globalProperties.$q=i.$q,e.provide(iN,i.$q),sx(i,ox),t.components!==void 0&&Object.values(t.components).forEach(r=>{Jr(r)===!0&&r.name!==void 0&&e.component(r.name,r)}),t.directives!==void 0&&Object.values(t.directives).forEach(r=>{Jr(r)===!0&&r.name!==void 0&&e.directive(r.name,r)}),t.plugins!==void 0&&sx(i,Object.values(t.plugins).filter(r=>typeof r.install=="function"&&ox.includes(r)===!1)),vs.value===!0&&(i.$q.onSSRHydrated=()=>{i.onSSRHydrated.forEach(r=>{r()}),i.$q.onSSRHydrated=()=>{}})}const aN=function(e,t={}){const i={version:"2.12.0"};sT===!1?(t.config!==void 0&&Object.assign(np,t.config),i.config={...np},oN()):i.config=t.config||{},sN(e,t,{parentApp:e,$q:i,lang:t.lang,iconSet:t.iconSet,onSSRHydrated:[]})},lN={version:"2.12.0",install:aN,lang:kr,iconSet:tp},qg={xs:18,sm:24,md:32,lg:38,xl:46},Yd={size:String};function Xd(e,t=qg){return P(()=>e.size!==void 0?{fontSize:e.size in t?`${t[e.size]}px`:e.size}:null)}const Ai=e=>Hd(Es(e)),cN=e=>Hd(e);function Pr(e,t){return e!==void 0&&e()||t}function sY(e,t){if(e!==void 0){const i=e();if(i!=null)return i.slice()}return t}function ra(e,t){return e!==void 0?t.concat(e()):t}function uN(e,t){return e===void 0?t:t!==void 0?t.concat(e()):e()}function aY(e,t,i,r,s,l){t.key=r+s;const u=Te(e,t,i);return s===!0?un(u,l()):u}const ax="0 0 24 24",lx=e=>e,zv=e=>`ionicons ${e}`,lT={"mdi-":e=>`mdi ${e}`,"icon-":lx,"bt-":e=>`bt ${e}`,"eva-":e=>`eva ${e}`,"ion-md":zv,"ion-ios":zv,"ion-logo":zv,"iconfont ":lx,"ti-":e=>`themify-icon ${e}`,"bi-":e=>`bootstrap-icons ${e}`},cT={o_:"-outlined",r_:"-round",s_:"-sharp"},uT={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},dN=new RegExp("^("+Object.keys(lT).join("|")+")"),hN=new RegExp("^("+Object.keys(cT).join("|")+")"),cx=new RegExp("^("+Object.keys(uT).join("|")+")"),fN=/^[Mm]\s?[-+]?\.?\d/,pN=/^img:/,mN=/^svguse:/,vN=/^ion-/,gN=/^(fa-(sharp|solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /,Ro=Ai({name:"QIcon",props:{...Yd,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(e,{slots:t}){const{proxy:{$q:i}}=Cn(),r=Xd(e),s=P(()=>"q-icon"+(e.left===!0?" on-left":"")+(e.right===!0?" on-right":"")+(e.color!==void 0?` text-${e.color}`:"")),l=P(()=>{let u,f=e.name;if(f==="none"||!f)return{none:!0};if(i.iconMapFn!==null){const w=i.iconMapFn(f);if(w!==void 0)if(w.icon!==void 0){if(f=w.icon,f==="none"||!f)return{none:!0}}else return{cls:w.cls,content:w.content!==void 0?w.content:" "}}if(fN.test(f)===!0){const[w,x=ax]=f.split("|");return{svg:!0,viewBox:x,nodes:w.split("&&").map(E=>{const[A,I,D]=E.split("@@");return Te("path",{style:I,d:A,transform:D})})}}if(pN.test(f)===!0)return{img:!0,src:f.substring(4)};if(mN.test(f)===!0){const[w,x=ax]=f.split("|");return{svguse:!0,src:w.substring(7),viewBox:x}}let m=" ";const v=f.match(dN);if(v!==null)u=lT[v[1]](f);else if(gN.test(f)===!0)u=f;else if(vN.test(f)===!0)u=`ionicons ion-${i.platform.is.ios===!0?"ios":"md"}${f.substring(3)}`;else if(cx.test(f)===!0){u="notranslate material-symbols";const w=f.match(cx);w!==null&&(f=f.substring(6),u+=uT[w[1]]),m=f}else{u="notranslate material-icons";const w=f.match(hN);w!==null&&(f=f.substring(2),u+=cT[w[1]]),m=f}return{cls:u,content:m}});return()=>{const u={class:s.value,style:r.value,"aria-hidden":"true",role:"presentation"};return l.value.none===!0?Te(e.tag,u,Pr(t.default)):l.value.img===!0?Te("span",u,ra(t.default,[Te("img",{src:l.value.src})])):l.value.svg===!0?Te("span",u,ra(t.default,[Te("svg",{viewBox:l.value.viewBox||"0 0 24 24"},l.value.nodes)])):l.value.svguse===!0?Te("span",u,ra(t.default,[Te("svg",{viewBox:l.value.viewBox},[Te("use",{"xlink:href":l.value.src})])])):(l.value.cls!==void 0&&(u.class+=" "+l.value.cls),Te(e.tag,u,ra(t.default,[l.value.content])))}}}),yN=Ai({name:"QAvatar",props:{...Yd,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:t}){const i=Xd(e),r=P(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),s=P(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const l=e.icon!==void 0?[Te(Ro,{name:e.icon})]:void 0;return Te("div",{class:r.value,style:i.value},[Te("div",{class:"q-avatar__content row flex-center overflow-hidden",style:s.value},uN(t.default,l))])}}}),wN={size:{type:[Number,String],default:"1em"},color:String};function bN(e){return{cSize:P(()=>e.size in qg?`${qg[e.size]}px`:e.size),classes:P(()=>"q-spinner"+(e.color?` text-${e.color}`:""))}}const gd=Ai({name:"QSpinner",props:{...wN,thickness:{type:Number,default:5}},setup(e){const{cSize:t,classes:i}=bN(e);return()=>Te("svg",{class:i.value+" q-spinner-mat",width:t.value,height:t.value,viewBox:"25 25 50 50"},[Te("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":e.thickness,"stroke-miterlimit":"10"})])}});function lY(e){if(e===window)return{top:0,left:0};const{top:t,left:i}=e.getBoundingClientRect();return{top:t,left:i}}function cY(e){return e===window?window.innerHeight:e.getBoundingClientRect().height}function Yg(e,t){const i=e.style;for(const r in t)i[r]=t[r]}function _N(e){if(e==null)return;if(typeof e=="string")try{return document.querySelector(e)||void 0}catch{return}const t=Zt(e);if(t)return t.$el||t}function xN(e,t){if(e==null||e.contains(t)===!0)return!0;for(let i=e.nextElementSibling;i!==null;i=i.nextElementSibling)if(i.contains(t))return!0;return!1}function EN(e,t=250){let i=!1,r;return function(){return i===!1&&(i=!0,setTimeout(()=>{i=!1},t),r=e.apply(this,arguments)),r}}function ux(e,t,i,r){i.modifiers.stop===!0&&ep(e);const s=i.modifiers.color;let l=i.modifiers.center;l=l===!0||r===!0;const u=document.createElement("span"),f=document.createElement("span"),m=jD(e),{left:v,top:w,width:x,height:E}=t.getBoundingClientRect(),A=Math.sqrt(x*x+E*E),I=A/2,D=`${(x-A)/2}px`,O=l?D:`${m.left-v-I}px`,H=`${(E-A)/2}px`,V=l?H:`${m.top-w-I}px`;f.className="q-ripple__inner",Yg(f,{height:`${A}px`,width:`${A}px`,transform:`translate3d(${O},${V},0) scale3d(.2,.2,1)`,opacity:0}),u.className=`q-ripple${s?" text-"+s:""}`,u.setAttribute("dir","ltr"),u.appendChild(f),t.appendChild(u);const U=()=>{u.remove(),clearTimeout(ne)};i.abort.push(U);let ne=setTimeout(()=>{f.classList.add("q-ripple__inner--enter"),f.style.transform=`translate3d(${D},${H},0) scale3d(1,1,1)`,f.style.opacity=.2,ne=setTimeout(()=>{f.classList.remove("q-ripple__inner--enter"),f.classList.add("q-ripple__inner--leave"),f.style.opacity=0,ne=setTimeout(()=>{u.remove(),i.abort.splice(i.abort.indexOf(U),1)},275)},250)},50)}function dx(e,{modifiers:t,value:i,arg:r}){const s=Object.assign({},e.cfg.ripple,t,i);e.modifiers={early:s.early===!0,stop:s.stop===!0,center:s.center===!0,color:s.color||r,keyCodes:[].concat(s.keyCodes||13)}}const SN=cN({name:"ripple",beforeMount(e,t){const i=t.instance.$.appContext.config.globalProperties.$q.config||{};if(i.ripple===!1)return;const r={cfg:i,enabled:t.value!==!1,modifiers:{},abort:[],start(s){r.enabled===!0&&s.qSkipRipple!==!0&&s.type===(r.modifiers.early===!0?"pointerdown":"click")&&ux(s,e,r,s.qKeyEvent===!0)},keystart:EN(s=>{r.enabled===!0&&s.qSkipRipple!==!0&&vd(s,r.modifiers.keyCodes)===!0&&s.type===`key${r.modifiers.early===!0?"down":"up"}`&&ux(s,e,r,!0)},300)};dx(r,t),e.__qripple=r,WD(r,"main",[[e,"pointerdown","start","passive"],[e,"click","start","passive"],[e,"keydown","keystart","passive"],[e,"keyup","keystart","passive"]])},updated(e,t){if(t.oldValue!==t.value){const i=e.__qripple;i!==void 0&&(i.enabled=t.value!==!1,i.enabled===!0&&Object(t.value)===t.value&&dx(i,t))}},beforeUnmount(e){const t=e.__qripple;t!==void 0&&(t.abort.forEach(i=>{i()}),$D(t,"main"),delete e._qripple)}}),dT={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},TN=Object.keys(dT),hT={align:{type:String,validator:e=>TN.includes(e)}};function fT(e){return P(()=>{const t=e.align===void 0?e.vertical===!0?"stretch":"left":e.align;return`${e.vertical===!0?"items":"justify"}-${dT[t]}`})}function Pf(e){if(Object(e.$parent)===e.$parent)return e.$parent;let{parent:t}=e.$;for(;Object(t)===t;){if(Object(t.proxy)===t.proxy)return t.proxy;t=t.parent}}function pT(e,t){typeof t.type=="symbol"?Array.isArray(t.children)===!0&&t.children.forEach(i=>{pT(e,i)}):e.add(t)}function uY(e){const t=new Set;return e.forEach(i=>{pT(t,i)}),Array.from(t)}function mT(e){return e.appContext.config.globalProperties.$router!==void 0}function vT(e){return e.isUnmounted===!0||e.isDeactivated===!0}function hx(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function fx(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function AN(e,t){for(const i in t){const r=t[i],s=e[i];if(typeof r=="string"){if(r!==s)return!1}else if(Array.isArray(s)===!1||s.length!==r.length||r.some((l,u)=>l!==s[u]))return!1}return!0}function px(e,t){return Array.isArray(t)===!0?e.length===t.length&&e.every((i,r)=>i===t[r]):e.length===1&&e[0]===t}function CN(e,t){return Array.isArray(e)===!0?px(e,t):Array.isArray(t)===!0?px(t,e):e===t}function MN(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(CN(e[i],t[i])===!1)return!1;return!0}const IN={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},href:String,target:String,disable:Boolean};function RN({fallbackTag:e,useDisableForRouterLinkProps:t=!0}={}){const i=Cn(),{props:r,proxy:s,emit:l}=i,u=mT(i),f=P(()=>r.disable!==!0&&r.href!==void 0),m=t===!0?P(()=>u===!0&&r.disable!==!0&&f.value!==!0&&r.to!==void 0&&r.to!==null&&r.to!==""):P(()=>u===!0&&f.value!==!0&&r.to!==void 0&&r.to!==null&&r.to!==""),v=P(()=>m.value===!0?V(r.to):null),w=P(()=>v.value!==null),x=P(()=>f.value===!0||w.value===!0),E=P(()=>r.type==="a"||x.value===!0?"a":r.tag||e||"div"),A=P(()=>f.value===!0?{href:r.href,target:r.target}:w.value===!0?{href:v.value.href,target:r.target}:{}),I=P(()=>{if(w.value===!1)return-1;const{matched:re}=v.value,{length:ee}=re,Z=re[ee-1];if(Z===void 0)return-1;const X=s.$route.matched;if(X.length===0)return-1;const B=X.findIndex(fx.bind(null,Z));if(B>-1)return B;const G=hx(re[ee-2]);return ee>1&&hx(Z)===G&&X[X.length-1].path!==G?X.findIndex(fx.bind(null,re[ee-2])):B}),D=P(()=>w.value===!0&&I.value!==-1&&AN(s.$route.params,v.value.params)),O=P(()=>D.value===!0&&I.value===s.$route.matched.length-1&&MN(s.$route.params,v.value.params)),H=P(()=>w.value===!0?O.value===!0?` ${r.exactActiveClass} ${r.activeClass}`:r.exact===!0?"":D.value===!0?` ${r.activeClass}`:"":"");function V(re){try{return s.$router.resolve(re)}catch{}return null}function U(re,{returnRouterError:ee,to:Z=r.to,replace:X=r.replace}={}){if(r.disable===!0)return re.preventDefault(),Promise.resolve(!1);if(re.metaKey||re.altKey||re.ctrlKey||re.shiftKey||re.button!==void 0&&re.button!==0||r.target==="_blank")return Promise.resolve(!1);re.preventDefault();const B=s.$router[X===!0?"replace":"push"](Z);return ee===!0?B:B.then(()=>{}).catch(()=>{})}function ne(re){if(w.value===!0){const ee=Z=>U(re,Z);l("click",re,ee),re.defaultPrevented!==!0&&ee()}else l("click",re)}return{hasRouterLink:w,hasHrefLink:f,hasLink:x,linkTag:E,resolvedLink:v,linkIsActive:D,linkIsExactActive:O,linkClass:H,linkAttrs:A,getLink:V,navigateToRouterLink:U,navigateOnClick:ne}}const mx={none:0,xs:4,sm:8,md:16,lg:24,xl:32},kN={xs:8,sm:10,md:14,lg:20,xl:24},LN=["button","submit","reset"],PN=/[^\s]\/[^\s]/,ON=["flat","outline","push","unelevated"],gT=(e,t)=>e.flat===!0?"flat":e.outline===!0?"outline":e.push===!0?"push":e.unelevated===!0?"unelevated":t,dY=e=>{const t=gT(e);return t!==void 0?{[t]:!0}:{}},DN={...Yd,...IN,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...ON.reduce((e,t)=>(e[t]=Boolean)&&e,{}),square:Boolean,round:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...hT.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function NN(e){const t=Xd(e,kN),i=fT(e),{hasRouterLink:r,hasLink:s,linkTag:l,linkAttrs:u,navigateOnClick:f}=RN({fallbackTag:"button"}),m=P(()=>{const O=e.fab===!1&&e.fabMini===!1?t.value:{};return e.padding!==void 0?Object.assign({},O,{padding:e.padding.split(/\s+/).map(H=>H in mx?mx[H]+"px":H).join(" "),minWidth:"0",minHeight:"0"}):O}),v=P(()=>e.rounded===!0||e.fab===!0||e.fabMini===!0),w=P(()=>e.disable!==!0&&e.loading!==!0),x=P(()=>w.value===!0?e.tabindex||0:-1),E=P(()=>gT(e,"standard")),A=P(()=>{const O={tabindex:x.value};return s.value===!0?Object.assign(O,u.value):LN.includes(e.type)===!0&&(O.type=e.type),l.value==="a"?(e.disable===!0?O["aria-disabled"]="true":O.href===void 0&&(O.role="button"),r.value!==!0&&PN.test(e.type)===!0&&(O.type=e.type)):e.disable===!0&&(O.disabled="",O["aria-disabled"]="true"),e.loading===!0&&e.percentage!==void 0&&Object.assign(O,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.percentage}),O}),I=P(()=>{let O;e.color!==void 0?e.flat===!0||e.outline===!0?O=`text-${e.textColor||e.color}`:O=`bg-${e.color} text-${e.textColor||"white"}`:e.textColor&&(O=`text-${e.textColor}`);const H=e.round===!0?"round":`rectangle${v.value===!0?" q-btn--rounded":e.square===!0?" q-btn--square":""}`;return`q-btn--${E.value} q-btn--${H}`+(O!==void 0?" "+O:"")+(w.value===!0?" q-btn--actionable q-focusable q-hoverable":e.disable===!0?" disabled":"")+(e.fab===!0?" q-btn--fab":e.fabMini===!0?" q-btn--fab-mini":"")+(e.noCaps===!0?" q-btn--no-uppercase":"")+(e.dense===!0?" q-btn--dense":"")+(e.stretch===!0?" no-border-radius self-stretch":"")+(e.glossy===!0?" glossy":"")+(e.square?" q-btn--square":"")}),D=P(()=>i.value+(e.stack===!0?" column":" row")+(e.noWrap===!0?" no-wrap text-no-wrap":"")+(e.loading===!0?" q-btn__content--hidden":""));return{classes:I,style:m,innerClasses:D,attributes:A,hasLink:s,linkTag:l,navigateOnClick:f,isActionable:w}}const{passiveCapture:lr}=Hi;let Ml=null,Il=null,Rl=null;const Xg=Ai({name:"QBtn",props:{...DN,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(e,{slots:t,emit:i}){const{proxy:r}=Cn(),{classes:s,style:l,innerClasses:u,attributes:f,hasLink:m,linkTag:v,navigateOnClick:w,isActionable:x}=NN(e),E=Ce(null),A=Ce(null);let I=null,D,O=null;const H=P(()=>e.label!==void 0&&e.label!==null&&e.label!==""),V=P(()=>e.disable===!0||e.ripple===!1?!1:{keyCodes:m.value===!0?[13,32]:[13],...e.ripple===!0?{}:e.ripple}),U=P(()=>({center:e.round})),ne=P(()=>{const de=Math.max(0,Math.min(100,e.percentage));return de>0?{transition:"transform 0.6s",transform:`translateX(${de-100}%)`}:{}}),re=P(()=>{if(e.loading===!0)return{onMousedown:fe,onTouchstart:fe,onClick:fe,onKeydown:fe,onKeyup:fe};if(x.value===!0){const de={onClick:Z,onKeydown:X,onMousedown:G};if(r.$q.platform.has.touch===!0){const g=e.onTouchstart!==void 0?"":"Passive";de[`onTouchstart${g}`]=B}return de}return{onClick:cr}}),ee=P(()=>({ref:E,class:"q-btn q-btn-item non-selectable no-outline "+s.value,style:l.value,...f.value,...re.value}));function Z(de){if(E.value!==null){if(de!==void 0){if(de.defaultPrevented===!0)return;const g=document.activeElement;if(e.type==="submit"&&g!==document.body&&E.value.contains(g)===!1&&g.contains(E.value)===!1){E.value.focus();const T=()=>{document.removeEventListener("keydown",cr,!0),document.removeEventListener("keyup",T,lr),E.value!==null&&E.value.removeEventListener("blur",T,lr)};document.addEventListener("keydown",cr,!0),document.addEventListener("keyup",T,lr),E.value.addEventListener("blur",T,lr)}}w(de)}}function X(de){E.value!==null&&(i("keydown",de),vd(de,[13,32])===!0&&Il!==E.value&&(Il!==null&&Y(),de.defaultPrevented!==!0&&(E.value.focus(),Il=E.value,E.value.classList.add("q-btn--active"),document.addEventListener("keyup",q,!0),E.value.addEventListener("blur",q,lr)),cr(de)))}function B(de){E.value!==null&&(i("touchstart",de),de.defaultPrevented!==!0&&(Ml!==E.value&&(Ml!==null&&Y(),Ml=E.value,I=de.target,I.addEventListener("touchcancel",q,lr),I.addEventListener("touchend",q,lr)),D=!0,O!==null&&clearTimeout(O),O=setTimeout(()=>{O=null,D=!1},200)))}function G(de){E.value!==null&&(de.qSkipRipple=D===!0,i("mousedown",de),de.defaultPrevented!==!0&&Rl!==E.value&&(Rl!==null&&Y(),Rl=E.value,E.value.classList.add("q-btn--active"),document.addEventListener("mouseup",q,lr)))}function q(de){if(E.value!==null&&!(de!==void 0&&de.type==="blur"&&document.activeElement===E.value)){if(de!==void 0&&de.type==="keyup"){if(Il===E.value&&vd(de,[13,32])===!0){const g=new MouseEvent("click",de);g.qKeyEvent=!0,de.defaultPrevented===!0&&os(g),de.cancelBubble===!0&&ep(g),E.value.dispatchEvent(g),cr(de),de.qKeyEvent=!0}i("keyup",de)}Y()}}function Y(de){const g=A.value;de!==!0&&(Ml===E.value||Rl===E.value)&&g!==null&&g!==document.activeElement&&(g.setAttribute("tabindex",-1),g.focus()),Ml===E.value&&(I!==null&&(I.removeEventListener("touchcancel",q,lr),I.removeEventListener("touchend",q,lr)),Ml=I=null),Rl===E.value&&(document.removeEventListener("mouseup",q,lr),Rl=null),Il===E.value&&(document.removeEventListener("keyup",q,!0),E.value!==null&&E.value.removeEventListener("blur",q,lr),Il=null),E.value!==null&&E.value.classList.remove("q-btn--active")}function fe(de){cr(de),de.qSkipRipple=!0}return xn(()=>{Y(!0)}),Object.assign(r,{click:Z}),()=>{let de=[];e.icon!==void 0&&de.push(Te(Ro,{name:e.icon,left:e.stack===!1&&H.value===!0,role:"img","aria-hidden":"true"})),H.value===!0&&de.push(Te("span",{class:"block"},[e.label])),de=ra(t.default,de),e.iconRight!==void 0&&e.round===!1&&de.push(Te(Ro,{name:e.iconRight,right:e.stack===!1&&H.value===!0,role:"img","aria-hidden":"true"}));const g=[Te("span",{class:"q-focus-helper",ref:A})];return e.loading===!0&&e.percentage!==void 0&&g.push(Te("span",{class:"q-btn__progress absolute-full overflow-hidden"+(e.darkPercentage===!0?" q-btn__progress--dark":"")},[Te("span",{class:"q-btn__progress-indicator fit block",style:ne.value})])),g.push(Te("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+u.value},de)),e.loading!==null&&g.push(Te(Wi,{name:"q-transition--fade"},()=>e.loading===!0?[Te("span",{key:"loading",class:"absolute-full flex flex-center"},t.loading!==void 0?t.loading():[Te(gd)])]:null)),un(Te(v.value,ee.value,g),[[SN,V.value,void 0,U.value]])}}}),Xl=[],id=[];let VN=1,is=document.body;function w0(e,t){const i=document.createElement("div");if(i.id=t!==void 0?`q-portal--${t}--${VN++}`:e,np.globalNodes!==void 0){const r=np.globalNodes.class;r!==void 0&&(i.className=r)}return is.appendChild(i),Xl.push(i),id.push(t),i}function yT(e){const t=Xl.indexOf(e);Xl.splice(t,1),id.splice(t,1),e.remove()}function hY(e){if(e===is)return;if(is=e,is===document.body||id.reduce((i,r)=>r==="dialog"?i+1:i,0)<2){Xl.forEach(i=>{i.contains(is)===!1&&is.appendChild(i)});return}const t=id.lastIndexOf("dialog");for(let i=0;i<Xl.length;i++){const r=Xl[i];(i===t||id[i]!=="dialog")&&r.contains(is)===!1&&is.appendChild(r)}}let BN=0;const Of={},Df={},Lr={},wT={},FN=/^\s*$/,bT=[],b0=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],UN=["top-left","top-right","bottom-left","bottom-right"],Ul={positive:{icon:e=>e.iconSet.type.positive,color:"positive"},negative:{icon:e=>e.iconSet.type.negative,color:"negative"},warning:{icon:e=>e.iconSet.type.warning,color:"warning",textColor:"dark"},info:{icon:e=>e.iconSet.type.info,color:"info"},ongoing:{group:!1,timeout:0,spinner:!0,color:"grey-8"}};function _T(e,t,i){if(!e)return Pu("parameter required");let r;const s={textColor:"white"};if(e.ignoreDefaults!==!0&&Object.assign(s,Of),Jr(e)===!1&&(s.type&&Object.assign(s,Ul[s.type]),e={message:e}),Object.assign(s,Ul[e.type||s.type],e),typeof s.icon=="function"&&(s.icon=s.icon(t)),s.spinner?(s.spinner===!0&&(s.spinner=gd),s.spinner=Hd(s.spinner)):s.spinner=!1,s.meta={hasMedia:!!(s.spinner!==!1||s.icon||s.avatar),hasText:vx(s.message)||vx(s.caption)},s.position){if(b0.includes(s.position)===!1)return Pu("wrong position",e)}else s.position="bottom";if(s.timeout===void 0)s.timeout=5e3;else{const m=parseInt(s.timeout,10);if(isNaN(m)||m<0)return Pu("wrong timeout",e);s.timeout=m}s.timeout===0?s.progress=!1:s.progress===!0&&(s.meta.progressClass="q-notification__progress"+(s.progressClass?` ${s.progressClass}`:""),s.meta.progressStyle={animationDuration:`${s.timeout+1e3}ms`});const l=(Array.isArray(e.actions)===!0?e.actions:[]).concat(e.ignoreDefaults!==!0&&Array.isArray(Of.actions)===!0?Of.actions:[]).concat(Ul[e.type]!==void 0&&Array.isArray(Ul[e.type].actions)===!0?Ul[e.type].actions:[]),{closeBtn:u}=s;if(u&&l.push({label:typeof u=="string"?u:t.lang.label.close}),s.actions=l.map(({handler:m,noDismiss:v,...w})=>({flat:!0,...w,onClick:typeof m=="function"?()=>{m(),v!==!0&&f()}:()=>{f()}})),s.multiLine===void 0&&(s.multiLine=s.actions.length>1),Object.assign(s.meta,{class:`q-notification row items-stretch q-notification--${s.multiLine===!0?"multi-line":"standard"}`+(s.color!==void 0?` bg-${s.color}`:"")+(s.textColor!==void 0?` text-${s.textColor}`:"")+(s.classes!==void 0?` ${s.classes}`:""),wrapperClass:"q-notification__wrapper col relative-position border-radius-inherit "+(s.multiLine===!0?"column no-wrap justify-center":"row items-center"),contentClass:"q-notification__content row items-center"+(s.multiLine===!0?"":" col"),leftClass:s.meta.hasText===!0?"additional":"single",attrs:{role:"alert",...s.attrs}}),s.group===!1?(s.group=void 0,s.meta.group=void 0):((s.group===void 0||s.group===!0)&&(s.group=[s.message,s.caption,s.multiline].concat(s.actions.map(m=>`${m.label}*${m.icon}`)).join("|")),s.meta.group=s.group+"|"+s.position),s.actions.length===0?s.actions=void 0:s.meta.actionsClass="q-notification__actions row items-center "+(s.multiLine===!0?"justify-end":"col-auto")+(s.meta.hasMedia===!0?" q-notification__actions--with-media":""),i!==void 0){i.notif.meta.timer&&(clearTimeout(i.notif.meta.timer),i.notif.meta.timer=void 0),s.meta.uid=i.notif.meta.uid;const m=Lr[s.position].value.indexOf(i.notif);Lr[s.position].value[m]=s}else{const m=Df[s.meta.group];if(m===void 0){if(s.meta.uid=BN++,s.meta.badge=1,["left","right","center"].indexOf(s.position)!==-1)Lr[s.position].value.splice(Math.floor(Lr[s.position].value.length/2),0,s);else{const v=s.position.indexOf("top")>-1?"unshift":"push";Lr[s.position].value[v](s)}s.group!==void 0&&(Df[s.meta.group]=s)}else{if(m.meta.timer&&(clearTimeout(m.meta.timer),m.meta.timer=void 0),s.badgePosition!==void 0){if(UN.includes(s.badgePosition)===!1)return Pu("wrong badgePosition",e)}else s.badgePosition=`top-${s.position.indexOf("left")>-1?"right":"left"}`;s.meta.uid=m.meta.uid,s.meta.badge=m.meta.badge+1,s.meta.badgeClass=`q-notification__badge q-notification__badge--${s.badgePosition}`+(s.badgeColor!==void 0?` bg-${s.badgeColor}`:"")+(s.badgeTextColor!==void 0?` text-${s.badgeTextColor}`:"")+(s.badgeClass?` ${s.badgeClass}`:"");const v=Lr[s.position].value.indexOf(m);Lr[s.position].value[v]=Df[s.meta.group]=s}}const f=()=>{zN(s),r=void 0};if(s.timeout>0&&(s.meta.timer=setTimeout(()=>{s.meta.timer=void 0,f()},s.timeout+1e3)),s.group!==void 0)return m=>{m!==void 0?Pu("trying to update a grouped one which is forbidden",e):f()};if(r={dismiss:f,config:e,notif:s},i!==void 0){Object.assign(i,r);return}return m=>{if(r!==void 0)if(m===void 0)r.dismiss();else{const v=Object.assign({},r.config,m,{group:!1,position:s.position});_T(v,t,r)}}}function zN(e){e.meta.timer&&(clearTimeout(e.meta.timer),e.meta.timer=void 0);const t=Lr[e.position].value.indexOf(e);if(t!==-1){e.group!==void 0&&delete Df[e.meta.group];const i=bT[""+e.meta.uid];if(i){const{width:r,height:s}=getComputedStyle(i);i.style.left=`${i.offsetLeft}px`,i.style.width=r,i.style.height=s}Lr[e.position].value.splice(t,1),typeof e.onDismiss=="function"&&e.onDismiss()}}function vx(e){return e!=null&&FN.test(e)!==!0}function Pu(e,t){return console.error(`Notify: ${e}`,t),!1}function HN(){return Ai({name:"QNotifications",devtools:{hide:!0},setup(){return()=>Te("div",{class:"q-notifications"},b0.map(e=>Te(uS,{key:e,class:wT[e],tag:"div",name:`q-notification--${e}`},()=>Lr[e].value.map(t=>{const i=t.meta,r=[];if(i.hasMedia===!0&&(t.spinner!==!1?r.push(Te(t.spinner,{class:"q-notification__spinner q-notification__spinner--"+i.leftClass,color:t.spinnerColor,size:t.spinnerSize})):t.icon?r.push(Te(Ro,{class:"q-notification__icon q-notification__icon--"+i.leftClass,name:t.icon,color:t.iconColor,size:t.iconSize,role:"img"})):t.avatar&&r.push(Te(yN,{class:"q-notification__avatar q-notification__avatar--"+i.leftClass},()=>Te("img",{src:t.avatar,"aria-hidden":"true"})))),i.hasText===!0){let l;const u={class:"q-notification__message col"};if(t.html===!0)u.innerHTML=t.caption?`<div>${t.message}</div><div class="q-notification__caption">${t.caption}</div>`:t.message;else{const f=[t.message];l=t.caption?[Te("div",f),Te("div",{class:"q-notification__caption"},[t.caption])]:f}r.push(Te("div",u,l))}const s=[Te("div",{class:i.contentClass},r)];return t.progress===!0&&s.push(Te("div",{key:`${i.uid}|p|${i.badge}`,class:i.progressClass,style:i.progressStyle})),t.actions!==void 0&&s.push(Te("div",{class:i.actionsClass},t.actions.map(l=>Te(Xg,l)))),i.badge>1&&s.push(Te("div",{key:`${i.uid}|${i.badge}`,class:t.meta.badgeClass,style:t.badgeStyle},[i.badge])),Te("div",{ref:l=>{bT[""+i.uid]=l},key:i.uid,class:i.class,...i.attrs},[Te("div",{class:i.wrapperClass},s)])}))))}})}const jN={setDefaults(e){Jr(e)===!0&&Object.assign(Of,e)},registerType(e,t){Jr(t)===!0&&(Ul[e]=t)},install({$q:e,parentApp:t}){if(e.notify=this.create=i=>_T(i,e),e.notify.setDefaults=this.setDefaults,e.notify.registerType=this.registerType,e.config.notify!==void 0&&this.setDefaults(e.config.notify),this.__installed!==!0){b0.forEach(r=>{Lr[r]=Ce([]);const s=["left","center","right"].includes(r)===!0?"center":r.indexOf("top")>-1?"top":"bottom",l=r.indexOf("left")>-1?"start":r.indexOf("right")>-1?"end":"center",u=["left","right"].includes(r)?`items-${r==="left"?"start":"end"} justify-center`:r==="center"?"flex-center":`items-${l}`;wT[r]=`q-notifications__list q-notifications__list--${s} fixed column no-wrap ${u}`});const i=w0("q-notify");aT(HN(),t).mount(i)}}};function GN(e,t,i){let r;function s(){r!==void 0&&(Wg.remove(r),r=void 0)}return xn(()=>{e.value===!0&&s()}),{removeFromHistory:s,addToHistory(){r={condition:()=>i.value===!0,handler:t},Wg.add(r)}}}function WN(){let e=null;const t=Cn();function i(){e!==null&&(clearTimeout(e),e=null)}return jd(i),xn(i),{removeTimeout:i,registerTimeout(r,s){i(),vT(t)===!1&&(e=setTimeout(r,s))}}}function $N(){let e;const t=Cn();function i(){e=void 0}return jd(i),xn(i),{removeTick:i,registerTick(r){e=r,kt(()=>{e===r&&(vT(t)===!1&&e(),e=void 0)})}}}const qN={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},YN=["beforeShow","show","beforeHide","hide"];function XN({showing:e,canShow:t,hideOnRouteChange:i,handleShow:r,handleHide:s,processOnMount:l}){const u=Cn(),{props:f,emit:m,proxy:v}=u;let w;function x(V){e.value===!0?I(V):E(V)}function E(V){if(f.disable===!0||V!==void 0&&V.qAnchorHandled===!0||t!==void 0&&t(V)!==!0)return;const U=f["onUpdate:modelValue"]!==void 0;U===!0&&(m("update:modelValue",!0),w=V,kt(()=>{w===V&&(w=void 0)})),(f.modelValue===null||U===!1)&&A(V)}function A(V){e.value!==!0&&(e.value=!0,m("beforeShow",V),r!==void 0?r(V):m("show",V))}function I(V){if(f.disable===!0)return;const U=f["onUpdate:modelValue"]!==void 0;U===!0&&(m("update:modelValue",!1),w=V,kt(()=>{w===V&&(w=void 0)})),(f.modelValue===null||U===!1)&&D(V)}function D(V){e.value!==!1&&(e.value=!1,m("beforeHide",V),s!==void 0?s(V):m("hide",V))}function O(V){f.disable===!0&&V===!0?f["onUpdate:modelValue"]!==void 0&&m("update:modelValue",!1):V===!0!==e.value&&(V===!0?A:D)(w)}He(()=>f.modelValue,O),i!==void 0&&mT(u)===!0&&He(()=>v.$route.fullPath,()=>{i.value===!0&&e.value===!0&&I()}),l===!0&&Qn(()=>{O(f.modelValue)});const H={show:E,hide:I,toggle:x};return Object.assign(v,H),H}const KN={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function QN(e,t=()=>{},i=()=>{}){return{transitionProps:P(()=>{const r=`q-transition--${e.transitionShow||t()}`,s=`q-transition--${e.transitionHide||i()}`;return{appear:!0,enterFromClass:`${r}-enter-from`,enterActiveClass:`${r}-enter-active`,enterToClass:`${r}-enter-to`,leaveFromClass:`${s}-leave-from`,leaveActiveClass:`${s}-leave-active`,leaveToClass:`${s}-leave-to`}}),transitionStyle:P(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let oa=[],yd=[];function xT(e){yd=yd.filter(t=>t!==e)}function JN(e){xT(e),yd.push(e)}function gx(e){xT(e),yd.length===0&&oa.length!==0&&(oa[oa.length-1](),oa=[])}function _0(e){yd.length===0?e():oa.push(e)}function ZN(e){oa=oa.filter(t=>t!==e)}const Nf=[];function fY(e){return Nf.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function e3(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return Pf(e)}else if(e.__qPortal===!0){const i=Pf(e);return i!==void 0&&i.$options.name==="QPopupProxy"?(e.hide(t),i):e}e=Pf(e)}while(e!=null)}function pY(e,t,i){for(;i!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(i--,e.$options.name==="QMenu"){e=e3(e,t);continue}e.hide(t)}e=Pf(e)}}function t3(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function n3(e,t,i,r){const s=Ce(!1),l=Ce(!1);let u=null;const f={},m=r==="dialog"&&t3(e);function v(x){if(x===!0){gx(f),l.value=!0;return}l.value=!1,s.value===!1&&(m===!1&&u===null&&(u=w0(!1,r)),s.value=!0,Nf.push(e.proxy),JN(f))}function w(x){if(l.value=!1,x!==!0)return;gx(f),s.value=!1;const E=Nf.indexOf(e.proxy);E!==-1&&Nf.splice(E,1),u!==null&&(yT(u),u=null)}return zL(()=>{w(!0)}),e.proxy.__qPortal=!0,Ca(e.proxy,"contentEl",()=>t.value),{showPortal:v,hidePortal:w,portalIsActive:s,portalIsAccessible:l,renderPortal:()=>m===!0?i():s.value===!0?[Te(dS,{to:u},i())]:void 0}}const i3=[null,document,document.body,document.scrollingElement,document.documentElement];function mY(e,t){let i=_N(t);if(i===void 0){if(e==null)return window;i=e.closest(".scroll,.scroll-y,.overflow-auto")}return i3.includes(i)?window:i}function vY(e){return(e===window?document.body:e).scrollHeight}function ET(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function ST(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function TT(e,t,i=0){const r=arguments[3]===void 0?performance.now():arguments[3],s=ET(e);if(i<=0){s!==t&&Kg(e,t);return}requestAnimationFrame(l=>{const u=l-r,f=s+(t-s)/Math.max(u,i)*u;Kg(e,f),f!==t&&TT(e,t,i-u,l)})}function AT(e,t,i=0){const r=arguments[3]===void 0?performance.now():arguments[3],s=ST(e);if(i<=0){s!==t&&Qg(e,t);return}requestAnimationFrame(l=>{const u=l-r,f=s+(t-s)/Math.max(u,i)*u;Qg(e,f),f!==t&&AT(e,t,i-u,l)})}function Kg(e,t){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t);return}e.scrollTop=t}function Qg(e,t){if(e===window){window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=t}function gY(e,t,i){if(i){TT(e,t,i);return}Kg(e,t)}function yY(e,t,i){if(i){AT(e,t,i);return}Qg(e,t)}let df;function wY(){if(df!==void 0)return df;const e=document.createElement("p"),t=document.createElement("div");Yg(e,{width:"100%",height:"200px"}),Yg(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const i=e.offsetWidth;t.style.overflow="scroll";let r=e.offsetWidth;return i===r&&(r=t.clientWidth),t.remove(),df=i-r,df}function r3(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}let Ou=0,Hv,jv,ju,Gv=!1,yx,wx,bx,ea=null;function o3(e){s3(e)&&cr(e)}function s3(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=GD(e),i=e.shiftKey&&!e.deltaX,r=!i&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),s=i||r?e.deltaY:e.deltaX;for(let l=0;l<t.length;l++){const u=t[l];if(r3(u,r))return r?s<0&&u.scrollTop===0?!0:s>0&&u.scrollTop+u.clientHeight===u.scrollHeight:s<0&&u.scrollLeft===0?!0:s>0&&u.scrollLeft+u.clientWidth===u.scrollWidth}return!0}function _x(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function hf(e){Gv!==!0&&(Gv=!0,requestAnimationFrame(()=>{Gv=!1;const{height:t}=e.target,{clientHeight:i,scrollTop:r}=document.scrollingElement;(ju===void 0||t!==window.innerHeight)&&(ju=i-t,document.scrollingElement.scrollTop=r),r>ju&&(document.scrollingElement.scrollTop-=Math.ceil((r-ju)/8))}))}function xx(e){const t=document.body,i=window.visualViewport!==void 0;if(e==="add"){const{overflowY:r,overflowX:s}=window.getComputedStyle(t);Hv=ST(window),jv=ET(window),yx=t.style.left,wx=t.style.top,bx=window.location.href,t.style.left=`-${Hv}px`,t.style.top=`-${jv}px`,s!=="hidden"&&(s==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),r!=="hidden"&&(r==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,Rn.is.ios===!0&&(i===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",hf,Hi.passiveCapture),window.visualViewport.addEventListener("scroll",hf,Hi.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",_x,Hi.passiveCapture))}Rn.is.desktop===!0&&Rn.is.mac===!0&&window[`${e}EventListener`]("wheel",o3,Hi.notPassive),e==="remove"&&(Rn.is.ios===!0&&(i===!0?(window.visualViewport.removeEventListener("resize",hf,Hi.passiveCapture),window.visualViewport.removeEventListener("scroll",hf,Hi.passiveCapture)):window.removeEventListener("scroll",_x,Hi.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=yx,t.style.top=wx,window.location.href===bx&&window.scrollTo(Hv,jv),ju=void 0)}function a3(e){let t="add";if(e===!0){if(Ou++,ea!==null){clearTimeout(ea),ea=null;return}if(Ou>1)return}else{if(Ou===0||(Ou--,Ou>0))return;if(t="remove",Rn.is.ios===!0&&Rn.is.nativeMobile===!0){ea!==null&&clearTimeout(ea),ea=setTimeout(()=>{xx(t),ea=null},100);return}}xx(t)}function l3(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,a3(t))}}}const da=[];let sc;function c3(e){sc=e.keyCode===27}function u3(){sc===!0&&(sc=!1)}function d3(e){sc===!0&&(sc=!1,vd(e,27)===!0&&da[da.length-1](e))}function CT(e){window[e]("keydown",c3),window[e]("blur",u3),window[e]("keyup",d3),sc=!1}function h3(e){Rn.is.desktop===!0&&(da.push(e),da.length===1&&CT("addEventListener"))}function Ex(e){const t=da.indexOf(e);t>-1&&(da.splice(t,1),da.length===0&&CT("removeEventListener"))}const ha=[];function MT(e){ha[ha.length-1](e)}function f3(e){Rn.is.desktop===!0&&(ha.push(e),ha.length===1&&document.body.addEventListener("focusin",MT))}function Sx(e){const t=ha.indexOf(e);t>-1&&(ha.splice(t,1),ha.length===0&&document.body.removeEventListener("focusin",MT))}let ff=0;const p3={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Tx={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},m3=Ai({name:"QDialog",inheritAttrs:!1,props:{...qN,...KN,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...YN,"shake","click","escapeKey"],setup(e,{slots:t,emit:i,attrs:r}){const s=Cn(),l=Ce(null),u=Ce(!1),f=Ce(!1);let m=null,v=null,w,x;const E=P(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:A}=l3(),{registerTimeout:I}=WN(),{registerTick:D,removeTick:O}=$N(),{transitionProps:H,transitionStyle:V}=QN(e,()=>Tx[e.position][0],()=>Tx[e.position][1]),{showPortal:U,hidePortal:ne,portalIsAccessible:re,renderPortal:ee}=n3(s,l,Le,"dialog"),{hide:Z}=XN({showing:u,hideOnRouteChange:E,handleShow:de,handleHide:g,processOnMount:!0}),{addToHistory:X,removeFromHistory:B}=GN(u,Z,E),G=P(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${p3[e.position]}`+(f.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),q=P(()=>u.value===!0&&e.seamless!==!0),Y=P(()=>e.autoClose===!0?{onClick:ce}:{}),fe=P(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${q.value===!0?"modal":"seamless"}`,r.class]);He(()=>e.maximized,me=>{u.value===!0&&$(me)}),He(q,me=>{A(me),me===!0?(f3(ie),h3(S)):(Sx(ie),Ex(S))});function de(me){X(),v=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,$(e.maximized),U(),f.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),D(T)):O(),I(()=>{if(s.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:W,bottom:se}=document.activeElement.getBoundingClientRect(),{innerHeight:we}=window,Ee=window.visualViewport!==void 0?window.visualViewport.height:we;W>0&&se>Ee/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Ee,se>=we?1/0:Math.ceil(document.scrollingElement.scrollTop+se-Ee/2))),document.activeElement.scrollIntoView()}x=!0,l.value.click(),x=!1}U(!0),f.value=!1,i("show",me)},e.transitionDuration)}function g(me){O(),B(),N(!0),f.value=!0,ne(),v!==null&&(((me&&me.type.indexOf("key")===0?v.closest('[tabindex]:not([tabindex^="-"])'):void 0)||v).focus(),v=null),I(()=>{ne(!0),f.value=!1,i("hide",me)},e.transitionDuration)}function T(me){_0(()=>{let W=l.value;W===null||W.contains(document.activeElement)===!0||(W=(me!==""?W.querySelector(me):null)||W.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||W.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||W.querySelector("[autofocus], [data-autofocus]")||W,W.focus({preventScroll:!0}))})}function R(me){me&&typeof me.focus=="function"?me.focus({preventScroll:!0}):T(),i("shake");const W=l.value;W!==null&&(W.classList.remove("q-animate--scale"),W.classList.add("q-animate--scale"),m!==null&&clearTimeout(m),m=setTimeout(()=>{m=null,l.value!==null&&(W.classList.remove("q-animate--scale"),T())},170))}function S(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&R():(i("escapeKey"),Z()))}function N(me){m!==null&&(clearTimeout(m),m=null),(me===!0||u.value===!0)&&($(!1),e.seamless!==!0&&(A(!1),Sx(ie),Ex(S))),me!==!0&&(v=null)}function $(me){me===!0?w!==!0&&(ff<1&&document.body.classList.add("q-body--dialog"),ff++,w=!0):w===!0&&(ff<2&&document.body.classList.remove("q-body--dialog"),ff--,w=!1)}function ce(me){x!==!0&&(Z(me),i("click",me))}function le(me){e.persistent!==!0&&e.noBackdropDismiss!==!0?Z(me):e.noShake!==!0&&R()}function ie(me){e.allowFocusOutside!==!0&&re.value===!0&&xN(l.value,me.target)!==!0&&T('[tabindex]:not([tabindex="-1"])')}Object.assign(s.proxy,{focus:T,shake:R,__updateRefocusTarget(me){v=me||null}}),xn(N);function Le(){return Te("div",{role:"dialog","aria-modal":q.value===!0?"true":"false",...r,class:fe.value},[Te(Wi,{name:"q-transition--fade",appear:!0},()=>q.value===!0?Te("div",{class:"q-dialog__backdrop fixed-full",style:V.value,"aria-hidden":"true",tabindex:-1,onClick:le}):null),Te(Wi,H.value,()=>u.value===!0?Te("div",{ref:l,class:G.value,style:V.value,tabindex:-1,...Y.value},Pr(t.default)):null)])}return ee}}),Ma={dark:{type:Boolean,default:null}};function Ia(e,t){return P(()=>e.dark===null?t.dark.isActive:e.dark)}const v3=Ai({name:"QCard",props:{...Ma,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:i}}=Cn(),r=Ia(e,i),s=P(()=>"q-card"+(r.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>Te(e.tag,{class:s.value},Pr(t.default))}}),Du=Ai({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const i=P(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>Te(e.tag,{class:i.value},Pr(t.default))}}),g3=Ai({name:"QCardActions",props:{...hT,vertical:Boolean},setup(e,{slots:t}){const i=fT(e),r=P(()=>`q-card__actions ${i.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>Te("div",{class:r.value},Pr(t.default))}}),y3={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Wv={xs:2,sm:4,md:8,lg:16,xl:24},Ax=Ai({name:"QSeparator",props:{...Ma,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=Cn(),i=Ia(e,t.proxy.$q),r=P(()=>e.vertical===!0?"vertical":"horizontal"),s=P(()=>` q-separator--${r.value}`),l=P(()=>e.inset!==!1?`${s.value}-${y3[e.inset]}`:""),u=P(()=>`q-separator${s.value}${l.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(i.value===!0?" q-separator--dark":"")),f=P(()=>{const m={};if(e.size!==void 0&&(m[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const v=e.spaced===!0?`${Wv.md}px`:e.spaced in Wv?`${Wv[e.spaced]}px`:e.spaced,w=e.vertical===!0?["Left","Right"]:["Top","Bottom"];m[`margin${w[0]}`]=m[`margin${w[1]}`]=v}return m});return()=>Te("hr",{class:u.value,style:f.value,"aria-orientation":r.value})}});function w3({validate:e,resetValidation:t,requiresQForm:i}){const r=Bt(rN,!1);if(r!==!1){const{props:s,proxy:l}=Cn();Object.assign(l,{validate:e,resetValidation:t}),He(()=>s.disable,u=>{u===!0?(typeof t=="function"&&t(),r.unbindComponent(l)):r.bindComponent(l)}),Qn(()=>{s.disable!==!0&&r.bindComponent(l)}),xn(()=>{s.disable!==!0&&r.unbindComponent(l)})}else i===!0&&console.error("Parent QForm not found on useFormChild()!")}const Cx=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Mx=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Ix=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,pf=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,mf=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,$v={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Cx.test(e),hexaColor:e=>Mx.test(e),hexOrHexaColor:e=>Ix.test(e),rgbColor:e=>pf.test(e),rgbaColor:e=>mf.test(e),rgbOrRgbaColor:e=>pf.test(e)||mf.test(e),hexOrRgbColor:e=>Cx.test(e)||pf.test(e),hexaOrRgbaColor:e=>Mx.test(e)||mf.test(e),anyColor:e=>Ix.test(e)||pf.test(e)||mf.test(e)},b3=[!0,!1,"ondemand"],_3={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>b3.includes(e)}};function x3(e,t){const{props:i,proxy:r}=Cn(),s=Ce(!1),l=Ce(null),u=Ce(null);w3({validate:I,resetValidation:A});let f=0,m;const v=P(()=>i.rules!==void 0&&i.rules!==null&&i.rules.length!==0),w=P(()=>i.disable!==!0&&v.value===!0),x=P(()=>i.error===!0||s.value===!0),E=P(()=>typeof i.errorMessage=="string"&&i.errorMessage.length!==0?i.errorMessage:l.value);He(()=>i.modelValue,()=>{D()}),He(()=>i.reactiveRules,H=>{H===!0?m===void 0&&(m=He(()=>i.rules,()=>{D(!0)})):m!==void 0&&(m(),m=void 0)},{immediate:!0}),He(e,H=>{H===!0?u.value===null&&(u.value=!1):u.value===!1&&(u.value=!0,w.value===!0&&i.lazyRules!=="ondemand"&&t.value===!1&&O())});function A(){f++,t.value=!1,u.value=null,s.value=!1,l.value=null,O.cancel()}function I(H=i.modelValue){if(w.value!==!0)return!0;const V=++f,U=t.value!==!0?()=>{u.value=!0}:()=>{},ne=(ee,Z)=>{ee===!0&&U(),s.value=ee,l.value=Z||null,t.value=!1},re=[];for(let ee=0;ee<i.rules.length;ee++){const Z=i.rules[ee];let X;if(typeof Z=="function"?X=Z(H,$v):typeof Z=="string"&&$v[Z]!==void 0&&(X=$v[Z](H)),X===!1||typeof X=="string")return ne(!0,X),!1;X!==!0&&X!==void 0&&re.push(X)}return re.length===0?(ne(!1),!0):(t.value=!0,Promise.all(re).then(ee=>{if(ee===void 0||Array.isArray(ee)===!1||ee.length===0)return V===f&&ne(!1),!0;const Z=ee.find(X=>X===!1||typeof X=="string");return V===f&&ne(Z!==void 0,Z),Z===void 0},ee=>(V===f&&(console.error(ee),ne(!0)),!1)))}function D(H){w.value===!0&&i.lazyRules!=="ondemand"&&(u.value===!0||i.lazyRules!==!0&&H!==!0)&&O()}const O=eT(I,0);return xn(()=>{m!==void 0&&m(),O.cancel()}),Object.assign(r,{resetValidation:A,validate:I}),Ca(r,"hasError",()=>x.value),{isDirtyModel:u,hasRules:v,hasError:x,errorMessage:E,validate:I,resetValidation:A}}const Rx=/^on[A-Z]/;function E3(e,t){const i={listeners:Ce({}),attributes:Ce({})};function r(){const s={},l={};for(const u in e)u!=="class"&&u!=="style"&&Rx.test(u)===!1&&(s[u]=e[u]);for(const u in t.props)Rx.test(u)===!0&&(l[u]=t.props[u]);i.attributes.value=s,i.listeners.value=l}return hS(r),r(),i}let qv,vf=0;const ni=new Array(256);for(let e=0;e<256;e++)ni[e]=(e+256).toString(16).substring(1);const S3=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const i=new Uint8Array(t);return e.getRandomValues(i),i}}return t=>{const i=[];for(let r=t;r>0;r--)i.push(Math.floor(Math.random()*256));return i}})(),kx=4096;function T3(){(qv===void 0||vf+16>kx)&&(vf=0,qv=S3(kx));const e=Array.prototype.slice.call(qv,vf,vf+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,ni[e[0]]+ni[e[1]]+ni[e[2]]+ni[e[3]]+"-"+ni[e[4]]+ni[e[5]]+"-"+ni[e[6]]+ni[e[7]]+"-"+ni[e[8]]+ni[e[9]]+"-"+ni[e[10]]+ni[e[11]]+ni[e[12]]+ni[e[13]]+ni[e[14]]+ni[e[15]]}function Jg(e){return e===void 0?`f_${T3()}`:e}function Zg(e){return e!=null&&(""+e).length!==0}const A3={...Ma,..._3,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},C3=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function M3(){const{props:e,attrs:t,proxy:i,vnode:r}=Cn();return{isDark:Ia(e,i.$q),editable:P(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:Ce(!1),focused:Ce(!1),hasPopupOpen:!1,splitAttrs:E3(t,r),targetUid:Ce(Jg(e.for)),rootRef:Ce(null),targetRef:Ce(null),controlRef:Ce(null)}}function I3(e){const{props:t,emit:i,slots:r,attrs:s,proxy:l}=Cn(),{$q:u}=l;let f=null;e.hasValue===void 0&&(e.hasValue=P(()=>Zg(t.modelValue))),e.emitValue===void 0&&(e.emitValue=R=>{i("update:modelValue",R)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:B,onFocusout:G}),Object.assign(e,{clearValue:q,onControlFocusin:B,onControlFocusout:G,focus:Z}),e.computedCounter===void 0&&(e.computedCounter=P(()=>{if(t.counter!==!1){const R=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,S=t.maxlength!==void 0?t.maxlength:t.maxValues;return R+(S!==void 0?" / "+S:"")}}));const{isDirtyModel:m,hasRules:v,hasError:w,errorMessage:x,resetValidation:E}=x3(e.focused,e.innerLoading),A=e.floatingLabel!==void 0?P(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):P(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),I=P(()=>t.bottomSlots===!0||t.hint!==void 0||v.value===!0||t.counter===!0||t.error!==null),D=P(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),O=P(()=>`q-field row no-wrap items-start q-field--${D.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(A.value===!0?" q-field--float":"")+(V.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(w.value===!0?" q-field--error":"")+(w.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&I.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),H=P(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(w.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),V=P(()=>t.labelSlot===!0||t.label!==void 0),U=P(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&w.value!==!0?` text-${t.labelColor}`:"")),ne=P(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:A.value,modelValue:t.modelValue,emitValue:e.emitValue})),re=P(()=>{const R={for:e.targetUid.value};return t.disable===!0?R["aria-disabled"]="true":t.readonly===!0&&(R["aria-readonly"]="true"),R});He(()=>t.for,R=>{e.targetUid.value=Jg(R)});function ee(){const R=document.activeElement;let S=e.targetRef!==void 0&&e.targetRef.value;S&&(R===null||R.id!==e.targetUid.value)&&(S.hasAttribute("tabindex")===!0||(S=S.querySelector("[tabindex]")),S&&S!==R&&S.focus({preventScroll:!0}))}function Z(){_0(ee)}function X(){ZN(ee);const R=document.activeElement;R!==null&&e.rootRef.value.contains(R)&&R.blur()}function B(R){f!==null&&(clearTimeout(f),f=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,i("focus",R))}function G(R,S){f!==null&&clearTimeout(f),f=setTimeout(()=>{f=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,i("blur",R)),S!==void 0&&S())})}function q(R){cr(R),u.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),i("update:modelValue",null),i("clear",t.modelValue),kt(()=>{E(),u.platform.is.mobile!==!0&&(m.value=!1)})}function Y(){const R=[];return r.prepend!==void 0&&R.push(Te("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:os},r.prepend())),R.push(Te("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},fe())),w.value===!0&&t.noErrorIcon===!1&&R.push(g("error",[Te(Ro,{name:u.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?R.push(g("inner-loading-append",r.loading!==void 0?r.loading():[Te(gd,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&R.push(g("inner-clearable-append",[Te(Ro,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||u.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:q})])),r.append!==void 0&&R.push(Te("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:os},r.append())),e.getInnerAppend!==void 0&&R.push(g("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&R.push(e.getControlChild()),R}function fe(){const R=[];return t.prefix!==void 0&&t.prefix!==null&&R.push(Te("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&R.push(e.getShadowControl()),e.getControl!==void 0?R.push(e.getControl()):r.rawControl!==void 0?R.push(r.rawControl()):r.control!==void 0&&R.push(Te("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},r.control(ne.value))),V.value===!0&&R.push(Te("div",{class:U.value},Pr(r.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&R.push(Te("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),R.concat(Pr(r.default))}function de(){let R,S;w.value===!0?x.value!==null?(R=[Te("div",{role:"alert"},x.value)],S=`q--slot-error-${x.value}`):(R=Pr(r.error),S="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(R=[Te("div",t.hint)],S=`q--slot-hint-${t.hint}`):(R=Pr(r.hint),S="q--slot-hint"));const N=t.counter===!0||r.counter!==void 0;if(t.hideBottomSpace===!0&&N===!1&&R===void 0)return;const $=Te("div",{key:S,class:"q-field__messages col"},R);return Te("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:os},[t.hideBottomSpace===!0?$:Te(Wi,{name:"q-transition--field-message"},()=>$),N===!0?Te("div",{class:"q-field__counter"},r.counter!==void 0?r.counter():e.computedCounter.value):null])}function g(R,S){return S===null?null:Te("div",{key:R,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},S)}let T=!1;return jd(()=>{T=!0}),u0(()=>{T===!0&&t.autofocus===!0&&l.focus()}),Qn(()=>{vs.value===!0&&t.for===void 0&&(e.targetUid.value=Jg()),t.autofocus===!0&&l.focus()}),xn(()=>{f!==null&&clearTimeout(f)}),Object.assign(l,{focus:Z,blur:X}),function(){const S=e.getControl===void 0&&r.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...re.value}:re.value;return Te("label",{ref:e.rootRef,class:[O.value,s.class],style:s.style,...S},[r.before!==void 0?Te("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:os},r.before()):null,Te("div",{class:"q-field__inner relative-position col self-stretch"},[Te("div",{ref:e.controlRef,class:H.value,tabindex:-1,...e.controlEvents},Y()),I.value===!0?de():null]),r.after!==void 0?Te("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:os},r.after()):null])}}const Lx={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},ip={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},IT=Object.keys(ip);IT.forEach(e=>{ip[e].regex=new RegExp(ip[e].pattern)});const R3=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+IT.join("")+"])|(.)","g"),Px=/[.*+?^${}()|[\]\\]/g,Dn=String.fromCharCode(1),k3={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function L3(e,t,i,r){let s,l,u,f,m,v;const w=Ce(null),x=Ce(A());function E(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}He(()=>e.type+e.autogrow,D),He(()=>e.mask,B=>{if(B!==void 0)O(x.value,!0);else{const G=Z(x.value);D(),e.modelValue!==G&&t("update:modelValue",G)}}),He(()=>e.fillMask+e.reverseFillMask,()=>{w.value===!0&&O(x.value,!0)}),He(()=>e.unmaskedValue,()=>{w.value===!0&&O(x.value)});function A(){if(D(),w.value===!0){const B=re(Z(e.modelValue));return e.fillMask!==!1?X(B):B}return e.modelValue}function I(B){if(B<s.length)return s.slice(-B);let G="",q=s;const Y=q.indexOf(Dn);if(Y>-1){for(let fe=B-q.length;fe>0;fe--)G+=Dn;q=q.slice(0,Y)+G+q.slice(Y)}return q}function D(){if(w.value=e.mask!==void 0&&e.mask.length!==0&&E(),w.value===!1){f=void 0,s="",l="";return}const B=Lx[e.mask]===void 0?e.mask:Lx[e.mask],G=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",q=G.replace(Px,"\\$&"),Y=[],fe=[],de=[];let g=e.reverseFillMask===!0,T="",R="";B.replace(R3,(ce,le,ie,Le,me)=>{if(Le!==void 0){const W=ip[Le];de.push(W),R=W.negate,g===!0&&(fe.push("(?:"+R+"+)?("+W.pattern+"+)?(?:"+R+"+)?("+W.pattern+"+)?"),g=!1),fe.push("(?:"+R+"+)?("+W.pattern+")?")}else if(ie!==void 0)T="\\"+(ie==="\\"?"":ie),de.push(ie),Y.push("([^"+T+"]+)?"+T+"?");else{const W=le!==void 0?le:me;T=W==="\\"?"\\\\\\\\":W.replace(Px,"\\\\$&"),de.push(W),Y.push("([^"+T+"]+)?"+T+"?")}});const S=new RegExp("^"+Y.join("")+"("+(T===""?".":"[^"+T+"]")+"+)?"+(T===""?"":"["+T+"]*")+"$"),N=fe.length-1,$=fe.map((ce,le)=>le===0&&e.reverseFillMask===!0?new RegExp("^"+q+"*"+ce):le===N?new RegExp("^"+ce+"("+(R===""?".":R)+"+)?"+(e.reverseFillMask===!0?"$":q+"*")):new RegExp("^"+ce));u=de,f=ce=>{const le=S.exec(e.reverseFillMask===!0?ce:ce.slice(0,de.length+1));le!==null&&(ce=le.slice(1).join(""));const ie=[],Le=$.length;for(let me=0,W=ce;me<Le;me++){const se=$[me].exec(W);if(se===null)break;W=W.slice(se.shift().length),ie.push(...se)}return ie.length!==0?ie.join(""):ce},s=de.map(ce=>typeof ce=="string"?ce:Dn).join(""),l=s.split(Dn).join(G)}function O(B,G,q){const Y=r.value,fe=Y.selectionEnd,de=Y.value.length-fe,g=Z(B);G===!0&&D();const T=re(g),R=e.fillMask!==!1?X(T):T,S=x.value!==R;Y.value!==R&&(Y.value=R),S===!0&&(x.value=R),document.activeElement===Y&&kt(()=>{if(R===l){const $=e.reverseFillMask===!0?l.length:0;Y.setSelectionRange($,$,"forward");return}if(q==="insertFromPaste"&&e.reverseFillMask!==!0){const $=Y.selectionEnd;let ce=fe-1;for(let le=m;le<=ce&&le<$;le++)s[le]!==Dn&&ce++;V.right(Y,ce);return}if(["deleteContentBackward","deleteContentForward"].indexOf(q)>-1){const $=e.reverseFillMask===!0?fe===0?R.length>T.length?1:0:Math.max(0,R.length-(R===l?0:Math.min(T.length,de)+1))+1:fe;Y.setSelectionRange($,$,"forward");return}if(e.reverseFillMask===!0)if(S===!0){const $=Math.max(0,R.length-(R===l?0:Math.min(T.length,de+1)));$===1&&fe===1?Y.setSelectionRange($,$,"forward"):V.rightReverse(Y,$)}else{const $=R.length-de;Y.setSelectionRange($,$,"backward")}else if(S===!0){const $=Math.max(0,s.indexOf(Dn),Math.min(T.length,fe)-1);V.right(Y,$)}else{const $=fe-1;V.right(Y,$)}});const N=e.unmaskedValue===!0?Z(R):R;String(e.modelValue)!==N&&i(N,!0)}function H(B,G,q){const Y=re(Z(B.value));G=Math.max(0,s.indexOf(Dn),Math.min(Y.length,G)),m=G,B.setSelectionRange(G,q,"forward")}const V={left(B,G){const q=s.slice(G-1).indexOf(Dn)===-1;let Y=Math.max(0,G-1);for(;Y>=0;Y--)if(s[Y]===Dn){G=Y,q===!0&&G++;break}if(Y<0&&s[G]!==void 0&&s[G]!==Dn)return V.right(B,0);G>=0&&B.setSelectionRange(G,G,"backward")},right(B,G){const q=B.value.length;let Y=Math.min(q,G+1);for(;Y<=q;Y++)if(s[Y]===Dn){G=Y;break}else s[Y-1]===Dn&&(G=Y);if(Y>q&&s[G-1]!==void 0&&s[G-1]!==Dn)return V.left(B,q);B.setSelectionRange(G,G,"forward")},leftReverse(B,G){const q=I(B.value.length);let Y=Math.max(0,G-1);for(;Y>=0;Y--)if(q[Y-1]===Dn){G=Y;break}else if(q[Y]===Dn&&(G=Y,Y===0))break;if(Y<0&&q[G]!==void 0&&q[G]!==Dn)return V.rightReverse(B,0);G>=0&&B.setSelectionRange(G,G,"backward")},rightReverse(B,G){const q=B.value.length,Y=I(q),fe=Y.slice(0,G+1).indexOf(Dn)===-1;let de=Math.min(q,G+1);for(;de<=q;de++)if(Y[de-1]===Dn){G=de,G>0&&fe===!0&&G--;break}if(de>q&&Y[G-1]!==void 0&&Y[G-1]!==Dn)return V.leftReverse(B,q);B.setSelectionRange(G,G,"forward")}};function U(B){t("click",B),v=void 0}function ne(B){if(t("keydown",B),iT(B)===!0)return;const G=r.value,q=G.selectionStart,Y=G.selectionEnd;if(B.shiftKey||(v=void 0),B.keyCode===37||B.keyCode===39){B.shiftKey&&v===void 0&&(v=G.selectionDirection==="forward"?q:Y);const fe=V[(B.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(B.preventDefault(),fe(G,v===q?Y:q),B.shiftKey){const de=G.selectionStart;G.setSelectionRange(Math.min(v,de),Math.max(v,de),"forward")}}else B.keyCode===8&&e.reverseFillMask!==!0&&q===Y?(V.left(G,q),G.setSelectionRange(G.selectionStart,Y,"backward")):B.keyCode===46&&e.reverseFillMask===!0&&q===Y&&(V.rightReverse(G,Y),G.setSelectionRange(q,G.selectionEnd,"forward"))}function re(B){if(B==null||B==="")return"";if(e.reverseFillMask===!0)return ee(B);const G=u;let q=0,Y="";for(let fe=0;fe<G.length;fe++){const de=B[q],g=G[fe];if(typeof g=="string")Y+=g,de===g&&q++;else if(de!==void 0&&g.regex.test(de))Y+=g.transform!==void 0?g.transform(de):de,q++;else return Y}return Y}function ee(B){const G=u,q=s.indexOf(Dn);let Y=B.length-1,fe="";for(let de=G.length-1;de>=0&&Y>-1;de--){const g=G[de];let T=B[Y];if(typeof g=="string")fe=g+fe,T===g&&Y--;else if(T!==void 0&&g.regex.test(T))do fe=(g.transform!==void 0?g.transform(T):T)+fe,Y--,T=B[Y];while(q===de&&T!==void 0&&g.regex.test(T));else return fe}return fe}function Z(B){return typeof B!="string"||f===void 0?typeof B=="number"?f(""+B):B:f(B)}function X(B){return l.length-B.length<=0?B:e.reverseFillMask===!0&&B.length!==0?l.slice(0,-B.length)+B:B+l.slice(B.length)}return{innerValue:x,hasMask:w,moveCursorForPaste:H,updateMaskValue:O,onMaskedKeydown:ne,onMaskedClick:U}}const x0={name:String};function bY(e){return P(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function RT(e={}){return(t,i,r)=>{t[i](Te("input",{class:"hidden"+(r||""),...e.value}))}}function P3(e){return P(()=>e.name||e.for)}function O3(e,t){function i(){const r=e.modelValue;try{const s="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(r)===r&&("length"in r?Array.from(r):[r]).forEach(l=>{s.items.add(l)}),{files:s.files}}catch{return{files:void 0}}}return t===!0?P(()=>{if(e.type==="file")return i()}):P(i)}const D3=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,N3=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,V3=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,B3=/[a-z0-9_ -]$/i;function F3(e){return function(i){if(i.type==="compositionend"||i.type==="change"){if(i.target.qComposing!==!0)return;i.target.qComposing=!1,e(i)}else i.type==="compositionupdate"&&i.target.qComposing!==!0&&typeof i.data=="string"&&(Rn.is.firefox===!0?B3.test(i.data)===!1:D3.test(i.data)===!0||N3.test(i.data)===!0||V3.test(i.data)===!0)===!0&&(i.target.qComposing=!0)}}const U3=Ai({name:"QInput",inheritAttrs:!1,props:{...A3,...k3,...x0,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...C3,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:i}){const{proxy:r}=Cn(),{$q:s}=r,l={};let u=NaN,f,m,v=null,w;const x=Ce(null),E=P3(e),{innerValue:A,hasMask:I,moveCursorForPaste:D,updateMaskValue:O,onMaskedKeydown:H,onMaskedClick:V}=L3(e,t,T,x),U=O3(e,!0),ne=P(()=>Zg(A.value)),re=F3(de),ee=M3(),Z=P(()=>e.type==="textarea"||e.autogrow===!0),X=P(()=>Z.value===!0||["text","search","url","tel","password"].includes(e.type)),B=P(()=>{const le={...ee.splitAttrs.listeners.value,onInput:de,onPaste:fe,onChange:S,onBlur:N,onFocus:ep};return le.onCompositionstart=le.onCompositionupdate=le.onCompositionend=re,I.value===!0&&(le.onKeydown=H,le.onClick=V),e.autogrow===!0&&(le.onAnimationend=g),le}),G=P(()=>{const le={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:E.value,...ee.splitAttrs.attributes.value,id:ee.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return Z.value===!1&&(le.type=e.type),e.autogrow===!0&&(le.rows=1),le});He(()=>e.type,()=>{x.value&&(x.value.value=e.modelValue)}),He(()=>e.modelValue,le=>{if(I.value===!0){if(m===!0&&(m=!1,String(le)===u))return;O(le)}else A.value!==le&&(A.value=le,e.type==="number"&&l.hasOwnProperty("value")===!0&&(f===!0?f=!1:delete l.value));e.autogrow===!0&&kt(R)}),He(()=>e.autogrow,le=>{le===!0?kt(R):x.value!==null&&i.rows>0&&(x.value.style.height="auto")}),He(()=>e.dense,()=>{e.autogrow===!0&&kt(R)});function q(){_0(()=>{const le=document.activeElement;x.value!==null&&x.value!==le&&(le===null||le.id!==ee.targetUid.value)&&x.value.focus({preventScroll:!0})})}function Y(){x.value!==null&&x.value.select()}function fe(le){if(I.value===!0&&e.reverseFillMask!==!0){const ie=le.target;D(ie,ie.selectionStart,ie.selectionEnd)}t("paste",le)}function de(le){if(!le||!le.target)return;if(e.type==="file"){t("update:modelValue",le.target.files);return}const ie=le.target.value;if(le.target.qComposing===!0){l.value=ie;return}if(I.value===!0)O(ie,!1,le.inputType);else if(T(ie),X.value===!0&&le.target===document.activeElement){const{selectionStart:Le,selectionEnd:me}=le.target;Le!==void 0&&me!==void 0&&kt(()=>{le.target===document.activeElement&&ie.indexOf(le.target.value)===0&&le.target.setSelectionRange(Le,me)})}e.autogrow===!0&&R()}function g(le){t("animationend",le),R()}function T(le,ie){w=()=>{v=null,e.type!=="number"&&l.hasOwnProperty("value")===!0&&delete l.value,e.modelValue!==le&&u!==le&&(u=le,ie===!0&&(m=!0),t("update:modelValue",le),kt(()=>{u===le&&(u=NaN)})),w=void 0},e.type==="number"&&(f=!0,l.value=le),e.debounce!==void 0?(v!==null&&clearTimeout(v),l.value=le,v=setTimeout(w,e.debounce)):w()}function R(){requestAnimationFrame(()=>{const le=x.value;if(le!==null){const ie=le.parentNode.style,{scrollTop:Le}=le,{overflowY:me,maxHeight:W}=s.platform.is.firefox===!0?{}:window.getComputedStyle(le),se=me!==void 0&&me!=="scroll";se===!0&&(le.style.overflowY="hidden"),ie.marginBottom=le.scrollHeight-1+"px",le.style.height="1px",le.style.height=le.scrollHeight+"px",se===!0&&(le.style.overflowY=parseInt(W,10)<le.scrollHeight?"auto":"hidden"),ie.marginBottom="",le.scrollTop=Le}})}function S(le){re(le),v!==null&&(clearTimeout(v),v=null),w!==void 0&&w(),t("change",le.target.value)}function N(le){le!==void 0&&ep(le),v!==null&&(clearTimeout(v),v=null),w!==void 0&&w(),f=!1,m=!1,delete l.value,e.type!=="file"&&setTimeout(()=>{x.value!==null&&(x.value.value=A.value!==void 0?A.value:"")})}function $(){return l.hasOwnProperty("value")===!0?l.value:A.value!==void 0?A.value:""}xn(()=>{N()}),Qn(()=>{e.autogrow===!0&&R()}),Object.assign(ee,{innerValue:A,fieldClass:P(()=>`q-${Z.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:P(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:x,emitValue:T,hasValue:ne,floatingLabel:P(()=>ne.value===!0&&(e.type!=="number"||isNaN(A.value)===!1)||Zg(e.displayValue)),getControl:()=>Te(Z.value===!0?"textarea":"input",{ref:x,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...G.value,...B.value,...e.type!=="file"?{value:$()}:U.value}),getShadowControl:()=>Te("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(Z.value===!0?"":" text-no-wrap")},[Te("span",{class:"invisible"},$()),Te("span",e.shadowText)])});const ce=I3(ee);return Object.assign(r,{focus:q,select:Y,getNativeElement:()=>x.value}),Ca(r,"nativeEl",()=>x.value),ce}});function kT(e,t){const i=Ce(null),r=P(()=>e.disable===!0?null:Te("span",{ref:i,class:"no-outline",tabindex:-1}));function s(l){const u=t.value;l!==void 0&&l.type.indexOf("key")===0?u!==null&&document.activeElement!==u&&u.contains(document.activeElement)===!0&&u.focus():i.value!==null&&(l===void 0||u!==null&&u.contains(l.target)===!0)&&i.value.focus()}return{refocusTargetEl:r,refocusTarget:s}}const LT={xs:30,sm:35,md:40,lg:50,xl:60},z3=Te("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[Te("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),Te("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]),H3=Ai({name:"QRadio",props:{...Ma,...Yd,...x0,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:t,emit:i}){const{proxy:r}=Cn(),s=Ia(e,r.$q),l=Xd(e,LT),u=Ce(null),{refocusTargetEl:f,refocusTarget:m}=kT(e,u),v=P(()=>Yn(e.modelValue)===Yn(e.val)),w=P(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(s.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),x=P(()=>{const U=e.color!==void 0&&(e.keepColor===!0||v.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${v.value===!0?"truthy":"falsy"}${U}`}),E=P(()=>(v.value===!0?e.checkedIcon:e.uncheckedIcon)||null),A=P(()=>e.disable===!0?-1:e.tabindex||0),I=P(()=>{const U={type:"radio"};return e.name!==void 0&&Object.assign(U,{".checked":v.value===!0,"^checked":v.value===!0?"checked":void 0,name:e.name,value:e.val}),U}),D=RT(I);function O(U){U!==void 0&&(cr(U),m(U)),e.disable!==!0&&v.value!==!0&&i("update:modelValue",e.val,U)}function H(U){(U.keyCode===13||U.keyCode===32)&&cr(U)}function V(U){(U.keyCode===13||U.keyCode===32)&&O(U)}return Object.assign(r,{set:O}),()=>{const U=E.value!==null?[Te("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[Te(Ro,{class:"q-radio__icon",name:E.value})])]:[z3];e.disable!==!0&&D(U,"unshift"," q-radio__native q-ma-none q-pa-none");const ne=[Te("div",{class:x.value,style:l.value,"aria-hidden":"true"},U)];f.value!==null&&ne.push(f.value);const re=e.label!==void 0?ra(t.default,[e.label]):Pr(t.default);return re!==void 0&&ne.push(Te("div",{class:"q-radio__label q-anchor--skip"},re)),Te("div",{ref:u,class:w.value,tabindex:A.value,role:"radio","aria-label":e.label,"aria-checked":v.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:O,onKeydown:H,onKeyup:V},ne)}}}),PT={...Ma,...Yd,...x0,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},OT=["update:modelValue"];function DT(e,t){const{props:i,slots:r,emit:s,proxy:l}=Cn(),{$q:u}=l,f=Ia(i,u),m=Ce(null),{refocusTargetEl:v,refocusTarget:w}=kT(i,m),x=Xd(i,LT),E=P(()=>i.val!==void 0&&Array.isArray(i.modelValue)),A=P(()=>{const Y=Yn(i.val);return E.value===!0?i.modelValue.findIndex(fe=>Yn(fe)===Y):-1}),I=P(()=>E.value===!0?A.value>-1:Yn(i.modelValue)===Yn(i.trueValue)),D=P(()=>E.value===!0?A.value===-1:Yn(i.modelValue)===Yn(i.falseValue)),O=P(()=>I.value===!1&&D.value===!1),H=P(()=>i.disable===!0?-1:i.tabindex||0),V=P(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(i.disable===!0?" disabled":"")+(f.value===!0?` q-${e}--dark`:"")+(i.dense===!0?` q-${e}--dense`:"")+(i.leftLabel===!0?" reverse":"")),U=P(()=>{const Y=I.value===!0?"truthy":D.value===!0?"falsy":"indet",fe=i.color!==void 0&&(i.keepColor===!0||(e==="toggle"?I.value===!0:D.value!==!0))?` text-${i.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${Y}${fe}`}),ne=P(()=>{const Y={type:"checkbox"};return i.name!==void 0&&Object.assign(Y,{".checked":I.value,"^checked":I.value===!0?"checked":void 0,name:i.name,value:E.value===!0?i.val:i.trueValue}),Y}),re=RT(ne),ee=P(()=>{const Y={tabindex:H.value,role:e==="toggle"?"switch":"checkbox","aria-label":i.label,"aria-checked":O.value===!0?"mixed":I.value===!0?"true":"false"};return i.disable===!0&&(Y["aria-disabled"]="true"),Y});function Z(Y){Y!==void 0&&(cr(Y),w(Y)),i.disable!==!0&&s("update:modelValue",X(),Y)}function X(){if(E.value===!0){if(I.value===!0){const Y=i.modelValue.slice();return Y.splice(A.value,1),Y}return i.modelValue.concat([i.val])}if(I.value===!0){if(i.toggleOrder!=="ft"||i.toggleIndeterminate===!1)return i.falseValue}else if(D.value===!0){if(i.toggleOrder==="ft"||i.toggleIndeterminate===!1)return i.trueValue}else return i.toggleOrder!=="ft"?i.trueValue:i.falseValue;return i.indeterminateValue}function B(Y){(Y.keyCode===13||Y.keyCode===32)&&cr(Y)}function G(Y){(Y.keyCode===13||Y.keyCode===32)&&Z(Y)}const q=t(I,O);return Object.assign(l,{toggle:Z}),()=>{const Y=q();i.disable!==!0&&re(Y,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const fe=[Te("div",{class:U.value,style:x.value,"aria-hidden":"true"},Y)];v.value!==null&&fe.push(v.value);const de=i.label!==void 0?ra(r.default,[i.label]):Pr(r.default);return de!==void 0&&fe.push(Te("div",{class:`q-${e}__label q-anchor--skip`},de)),Te("div",{ref:m,class:V.value,...ee.value,onClick:Z,onKeydown:B,onKeyup:G},fe)}}const j3=Te("div",{key:"svg",class:"q-checkbox__bg absolute"},[Te("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[Te("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),Te("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),G3=Ai({name:"QCheckbox",props:PT,emits:OT,setup(e){function t(i,r){const s=P(()=>(i.value===!0?e.checkedIcon:r.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>s.value!==null?[Te("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[Te(Ro,{class:"q-checkbox__icon",name:s.value})])]:[j3]}return DT("checkbox",t)}}),W3=Ai({name:"QToggle",props:{...PT,icon:String,iconColor:String},emits:OT,setup(e){function t(i,r){const s=P(()=>(i.value===!0?e.checkedIcon:r.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),l=P(()=>i.value===!0?e.iconColor:null);return()=>[Te("div",{class:"q-toggle__track"}),Te("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},s.value!==void 0?[Te(Ro,{name:s.value,color:l.value})]:void 0)]}return DT("toggle",t)}}),NT={radio:H3,checkbox:G3,toggle:W3},$3=Object.keys(NT),q3=Ai({name:"QOptionGroup",props:{...Ma,modelValue:{required:!0},options:{type:Array,validator:e=>e.every(t=>"value"in t&&"label"in t)},name:String,type:{default:"radio",validator:e=>$3.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:t,slots:i}){const{proxy:{$q:r}}=Cn(),s=Array.isArray(e.modelValue);e.type==="radio"?s===!0&&console.error("q-option-group: model should not be array"):s===!1&&console.error("q-option-group: model should be array in your case");const l=Ia(e,r),u=P(()=>NT[e.type]),f=P(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),m=P(()=>{const w={role:"group"};return e.type==="radio"&&(w.role="radiogroup",e.disable===!0&&(w["aria-disabled"]="true")),w});function v(w){t("update:modelValue",w)}return()=>Te("div",{class:f.value,...m.value},e.options.map((w,x)=>{const E=i["label-"+x]!==void 0?()=>i["label-"+x](w):i.label!==void 0?()=>i.label(w):void 0;return Te("div",[Te(u.value,{modelValue:e.modelValue,val:w.value,name:w.name===void 0?e.name:w.name,disable:e.disable||w.disable,label:E===void 0?w.label:null,leftLabel:w.leftLabel===void 0?e.leftLabel:w.leftLabel,color:w.color===void 0?e.color:w.color,checkedIcon:w.checkedIcon,uncheckedIcon:w.uncheckedIcon,dark:w.dark||l.value,size:w.size===void 0?e.size:w.size,dense:e.dense,keepColor:w.keepColor===void 0?e.keepColor:w.keepColor,"onUpdate:modelValue":v},E)])}))}}),Y3=Ai({name:"DialogPlugin",props:{...Ma,title:String,message:String,prompt:Object,options:Object,progress:[Boolean,Object],html:Boolean,ok:{type:[String,Object,Boolean],default:!0},cancel:[String,Object,Boolean],focus:{type:String,default:"ok",validator:e=>["ok","cancel","none"].includes(e)},stackButtons:Boolean,color:String,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(e,{emit:t}){const{proxy:i}=Cn(),{$q:r}=i,s=Ia(e,r),l=Ce(null),u=Ce(e.prompt!==void 0?e.prompt.model:e.options!==void 0?e.options.model:void 0),f=P(()=>"q-dialog-plugin"+(s.value===!0?" q-dialog-plugin--dark q-dark":"")+(e.progress!==!1?" q-dialog-plugin--progress":"")),m=P(()=>e.color||(s.value===!0?"amber":"primary")),v=P(()=>e.progress===!1?null:Jr(e.progress)===!0?{component:e.progress.spinner||gd,props:{color:e.progress.color||m.value}}:{component:gd,props:{color:m.value}}),w=P(()=>e.prompt!==void 0||e.options!==void 0),x=P(()=>{if(w.value!==!0)return{};const{model:de,isValid:g,items:T,...R}=e.prompt!==void 0?e.prompt:e.options;return R}),E=P(()=>Jr(e.ok)===!0||e.ok===!0?r.lang.label.ok:e.ok),A=P(()=>Jr(e.cancel)===!0||e.cancel===!0?r.lang.label.cancel:e.cancel),I=P(()=>e.prompt!==void 0?e.prompt.isValid!==void 0&&e.prompt.isValid(u.value)!==!0:e.options!==void 0?e.options.isValid!==void 0&&e.options.isValid(u.value)!==!0:!1),D=P(()=>({color:m.value,label:E.value,ripple:!1,disable:I.value,...Jr(e.ok)===!0?e.ok:{flat:!0},"data-autofocus":e.focus==="ok"&&w.value!==!0||void 0,onClick:U})),O=P(()=>({color:m.value,label:A.value,ripple:!1,...Jr(e.cancel)===!0?e.cancel:{flat:!0},"data-autofocus":e.focus==="cancel"&&w.value!==!0||void 0,onClick:ne}));He(()=>e.prompt&&e.prompt.model,ee),He(()=>e.options&&e.options.model,ee);function H(){l.value.show()}function V(){l.value.hide()}function U(){t("ok",Yn(u.value)),V()}function ne(){V()}function re(){t("hide")}function ee(de){u.value=de}function Z(de){I.value!==!0&&e.prompt.type!=="textarea"&&vd(de,13)===!0&&U()}function X(de,g){return e.html===!0?Te(Du,{class:de,innerHTML:g}):Te(Du,{class:de},()=>g)}function B(){return[Te(U3,{color:m.value,dense:!0,autofocus:!0,dark:s.value,...x.value,modelValue:u.value,"onUpdate:modelValue":ee,onKeyup:Z})]}function G(){return[Te(q3,{color:m.value,options:e.options.items,dark:s.value,...x.value,modelValue:u.value,"onUpdate:modelValue":ee})]}function q(){const de=[];return e.cancel&&de.push(Te(Xg,O.value)),e.ok&&de.push(Te(Xg,D.value)),Te(g3,{class:e.stackButtons===!0?"items-end":"",vertical:e.stackButtons,align:"right"},()=>de)}function Y(){const de=[];return e.title&&de.push(X("q-dialog__title",e.title)),e.progress!==!1&&de.push(Te(Du,{class:"q-dialog__progress"},()=>Te(v.value.component,v.value.props))),e.message&&de.push(X("q-dialog__message",e.message)),e.prompt!==void 0?de.push(Te(Du,{class:"scroll q-dialog-plugin__form"},B)):e.options!==void 0&&de.push(Te(Ax,{dark:s.value}),Te(Du,{class:"scroll q-dialog-plugin__form"},G),Te(Ax,{dark:s.value})),(e.ok||e.cancel)&&de.push(q()),de}function fe(){return[Te(v3,{class:[f.value,e.cardClass],style:e.cardStyle,dark:s.value},Y)]}return Object.assign(i,{show:H,hide:V}),()=>Te(m3,{ref:l,onHide:re},fe)}});function VT(e,t){for(const i in t)i!=="spinner"&&Object(t[i])===t[i]?(e[i]=Object(e[i])!==e[i]?{}:{...e[i]},VT(e[i],t[i])):e[i]=t[i]}function X3(e,t,i){return r=>{let s,l;const u=t===!0&&r.component!==void 0;if(u===!0){const{component:V,componentProps:U}=r;s=typeof V=="string"?i.component(V):V,l=U||{}}else{const{class:V,style:U,...ne}=r;s=e,l=ne,V!==void 0&&(ne.cardClass=V),U!==void 0&&(ne.cardStyle=U)}let f,m=!1;const v=Ce(null),w=w0(!1,"dialog"),x=V=>{if(v.value!==null&&v.value[V]!==void 0){v.value[V]();return}const U=f.$.subTree;if(U&&U.component){if(U.component.proxy&&U.component.proxy[V]){U.component.proxy[V]();return}if(U.component.subTree&&U.component.subTree.component&&U.component.subTree.component.proxy&&U.component.subTree.component.proxy[V]){U.component.subTree.component.proxy[V]();return}}console.error("[Quasar] Incorrectly defined Dialog component")},E=[],A=[],I={onOk(V){return E.push(V),I},onCancel(V){return A.push(V),I},onDismiss(V){return E.push(V),A.push(V),I},hide(){return x("hide"),I},update(V){if(f!==null){if(u===!0)Object.assign(l,V);else{const{class:U,style:ne,...re}=V;U!==void 0&&(re.cardClass=U),ne!==void 0&&(re.cardStyle=ne),VT(l,re)}f.$forceUpdate()}return I}},D=V=>{m=!0,E.forEach(U=>{U(V)})},O=()=>{H.unmount(w),yT(w),H=null,f=null,m!==!0&&A.forEach(V=>{V()})};let H=aT({name:"QGlobalDialog",setup:()=>()=>Te(s,{...l,ref:v,onOk:D,onHide:O,onVnodeMounted(...V){typeof l.onVnodeMounted=="function"&&l.onVnodeMounted(...V),kt(()=>x("show"))}})},i);return f=H.mount(w),I}}const K3={install({$q:e,parentApp:t}){e.dialog=X3(Y3,!0,t),this.__installed!==!0&&(this.create=e.dialog)}},Q3=Vi(e=>{e.vueApp.use(lN,{lang:$g,iconSet:oT,plugins:{Notify:jN,Dialog:K3}})}),J3=Vi({name:"nuxt:chunk-reload",setup(e){const t=bc(),i=f0(),r=new Set;t.beforeEach(()=>{r.clear()}),e.hook("app:chunkError",({error:s})=>{r.add(s)}),t.onError((s,l)=>{if(r.has(s)){const f="href"in l&&l.href.startsWith("#")?i.app.baseURL+l.href:$d(i.app.baseURL,l.fullPath);xO({path:f,persistState:!0})}})}}),Z3=Vi({name:"nuxt:payload",setup(e){wO()&&(e.hooks.hook("link:prefetch",async t=>{Vp(t).protocol||await D_(t)}),bc().beforeResolve(async(t,i)=>{if(t.path===i.path)return;const r=await D_(t.path);r&&Object.assign(e.static.data,r.data)}))}});(function(e,t){typeof exports=="object"&&typeof module<"u"?t(exports):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.THREE={}))})(globalThis,function(e){function t(){}function i(n,o){this.x=n||0,this.y=o||0}function r(n,o,a,c){this._x=n||0,this._y=o||0,this._z=a||0,this._w=c!==void 0?c:1}function s(n,o,a){this.x=n||0,this.y=o||0,this.z=a||0}function l(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function u(n,o,a,c,d,h,p,y,b,_){Object.defineProperty(this,"id",{value:_L++}),this.uuid=Tt.generateUUID(),this.name="",this.image=n!==void 0?n:u.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=o!==void 0?o:u.DEFAULT_MAPPING,this.wrapS=a!==void 0?a:1001,this.wrapT=c!==void 0?c:1001,this.magFilter=d!==void 0?d:1006,this.minFilter=h!==void 0?h:1008,this.anisotropy=b!==void 0?b:1,this.format=p!==void 0?p:1023,this.type=y!==void 0?y:1009,this.offset=new i(0,0),this.repeat=new i(1,1),this.center=new i(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new l,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=_!==void 0?_:3e3,this.version=0,this.onUpdate=null}function f(n,o,a,c){this.x=n||0,this.y=o||0,this.z=a||0,this.w=c!==void 0?c:1}function m(n,o,a){this.width=n,this.height=o,this.scissor=new f(0,0,n,o),this.scissorTest=!1,this.viewport=new f(0,0,n,o),a=a||{},this.texture=new u(void 0,void 0,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),this.texture.generateMipmaps=a.generateMipmaps!==void 0?a.generateMipmaps:!1,this.texture.minFilter=a.minFilter!==void 0?a.minFilter:1006,this.depthBuffer=a.depthBuffer!==void 0?a.depthBuffer:!0,this.stencilBuffer=a.stencilBuffer!==void 0?a.stencilBuffer:!0,this.depthTexture=a.depthTexture!==void 0?a.depthTexture:null}function v(n,o,a){m.call(this,n,o,a),this.samples=4}function w(n,o,a){m.call(this,n,o,a)}function x(n,o,a,c,d,h,p,y,b,_,C,M){u.call(this,null,h,p,y,b,_,c,d,C,M),this.image={data:n,width:o,height:a},this.magFilter=b!==void 0?b:1003,this.minFilter=_!==void 0?_:1003,this.flipY=this.generateMipmaps=!1,this.unpackAlignment=1}function E(n,o){this.min=n!==void 0?n:new s(1/0,1/0,1/0),this.max=o!==void 0?o:new s(-1/0,-1/0,-1/0)}function A(n,o){this.center=n!==void 0?n:new s,this.radius=o!==void 0?o:0}function I(n,o){this.normal=n!==void 0?n:new s(1,0,0),this.constant=o!==void 0?o:0}function D(n,o,a,c,d,h){this.planes=[n!==void 0?n:new I,o!==void 0?o:new I,a!==void 0?a:new I,c!==void 0?c:new I,d!==void 0?d:new I,h!==void 0?h:new I]}function O(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function H(n){var o={},a;for(a in n){o[a]={};for(var c in n[a]){var d=n[a][c];d&&(d.isColor||d.isMatrix3||d.isMatrix4||d.isVector2||d.isVector3||d.isVector4||d.isTexture)?o[a][c]=d.clone():Array.isArray(d)?o[a][c]=d.slice():o[a][c]=d}}return o}function V(n){for(var o={},a=0;a<n.length;a++){var c=H(n[a]),d;for(d in c)o[d]=c[d]}return o}function U(n,o,a){return o===void 0&&a===void 0?this.set(n):this.setRGB(n,o,a)}function ne(){function n(d,h){a!==!1&&(c(d,h),o.requestAnimationFrame(n))}var o=null,a=!1,c=null;return{start:function(){a!==!0&&c!==null&&(o.requestAnimationFrame(n),a=!0)},stop:function(){a=!1},setAnimationLoop:function(d){c=d},setContext:function(d){o=d}}}function re(n){function o(c,d){var h=c.array,p=c.dynamic?35048:35044,y=n.createBuffer();return n.bindBuffer(d,y),n.bufferData(d,h,p),c.onUploadCallback(),d=5126,h instanceof Float32Array?d=5126:h instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):h instanceof Uint16Array?d=5123:h instanceof Int16Array?d=5122:h instanceof Uint32Array?d=5125:h instanceof Int32Array?d=5124:h instanceof Int8Array?d=5120:h instanceof Uint8Array&&(d=5121),{buffer:y,type:d,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}var a=new WeakMap;return{get:function(c){return c.isInterleavedBufferAttribute&&(c=c.data),a.get(c)},remove:function(c){c.isInterleavedBufferAttribute&&(c=c.data);var d=a.get(c);d&&(n.deleteBuffer(d.buffer),a.delete(c))},update:function(c,d){c.isInterleavedBufferAttribute&&(c=c.data);var h=a.get(c);if(h===void 0)a.set(c,o(c,d));else if(h.version<c.version){var p=c,y=p.array,b=p.updateRange;n.bindBuffer(d,h.buffer),p.dynamic===!1?n.bufferData(d,y,35044):b.count===-1?n.bufferSubData(d,0,y):b.count===0?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(n.bufferSubData(d,b.offset*y.BYTES_PER_ELEMENT,y.subarray(b.offset,b.offset+b.count)),b.count=-1),h.version=c.version}}}}function ee(n,o,a,c,d,h){this.a=n,this.b=o,this.c=a,this.normal=c&&c.isVector3?c:new s,this.vertexNormals=Array.isArray(c)?c:[],this.color=d&&d.isColor?d:new U,this.vertexColors=Array.isArray(d)?d:[],this.materialIndex=h!==void 0?h:0}function Z(n,o,a,c){this._x=n||0,this._y=o||0,this._z=a||0,this._order=c||Z.DefaultOrder}function X(){this.mask=1}function B(){Object.defineProperty(this,"id",{value:SL++}),this.uuid=Tt.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=B.DefaultUp.clone();var n=new s,o=new Z,a=new r,c=new s(1,1,1);o.onChange(function(){a.setFromEuler(o,!1)}),a.onChange(function(){o.setFromQuaternion(a,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:n},rotation:{configurable:!0,enumerable:!0,value:o},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:c},modelViewMatrix:{value:new O},normalMatrix:{value:new l}}),this.matrix=new O,this.matrixWorld=new O,this.matrixAutoUpdate=B.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new X,this.visible=!0,this.receiveShadow=this.castShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function G(){Object.defineProperty(this,"id",{value:TL+=2}),this.uuid=Tt.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function q(n,o,a){if(Array.isArray(n))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=n,this.itemSize=o,this.count=n!==void 0?n.length/o:0,this.normalized=a===!0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Y(n,o,a){q.call(this,new Int8Array(n),o,a)}function fe(n,o,a){q.call(this,new Uint8Array(n),o,a)}function de(n,o,a){q.call(this,new Uint8ClampedArray(n),o,a)}function g(n,o,a){q.call(this,new Int16Array(n),o,a)}function T(n,o,a){q.call(this,new Uint16Array(n),o,a)}function R(n,o,a){q.call(this,new Int32Array(n),o,a)}function S(n,o,a){q.call(this,new Uint32Array(n),o,a)}function N(n,o,a){q.call(this,new Float32Array(n),o,a)}function $(n,o,a){q.call(this,new Float64Array(n),o,a)}function ce(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}function le(n){if(n.length===0)return-1/0;for(var o=n[0],a=1,c=n.length;a<c;++a)n[a]>o&&(o=n[a]);return o}function ie(){Object.defineProperty(this,"id",{value:AL+=2}),this.uuid=Tt.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingSphere=this.boundingBox=null,this.drawRange={start:0,count:1/0},this.userData={}}function Le(n,o,a,c,d,h){G.call(this),this.type="BoxGeometry",this.parameters={width:n,height:o,depth:a,widthSegments:c,heightSegments:d,depthSegments:h},this.fromBufferGeometry(new me(n,o,a,c,d,h)),this.mergeVertices()}function me(n,o,a,c,d,h){function p(z,j,Q,he,ue,ae,be,pe,_e,ke,xe){var Ae=ae/_e,De=be/ke,Ge=ae/2,Re=be/2,$e=pe/2;be=_e+1;var wt=ke+1,J=ae=0,oe,ye,Me=new s;for(ye=0;ye<wt;ye++){var Ve=ye*De-Re;for(oe=0;oe<be;oe++)Me[z]=(oe*Ae-Ge)*he,Me[j]=Ve*ue,Me[Q]=$e,_.push(Me.x,Me.y,Me.z),Me[z]=0,Me[j]=0,Me[Q]=0<pe?1:-1,C.push(Me.x,Me.y,Me.z),M.push(oe/_e),M.push(1-ye/ke),ae+=1}for(ye=0;ye<ke;ye++)for(oe=0;oe<_e;oe++)z=k+oe+be*(ye+1),j=k+(oe+1)+be*(ye+1),Q=k+(oe+1)+be*ye,b.push(k+oe+be*ye,z,Q),b.push(z,j,Q),J+=6;y.addGroup(F,J,xe),F+=J,k+=ae}ie.call(this),this.type="BoxBufferGeometry",this.parameters={width:n,height:o,depth:a,widthSegments:c,heightSegments:d,depthSegments:h};var y=this;n=n||1,o=o||1,a=a||1,c=Math.floor(c)||1,d=Math.floor(d)||1,h=Math.floor(h)||1;var b=[],_=[],C=[],M=[],k=0,F=0;p("z","y","x",-1,-1,a,o,n,h,d,0),p("z","y","x",1,-1,a,o,-n,h,d,1),p("x","z","y",1,1,n,a,o,c,h,2),p("x","z","y",1,-1,n,a,-o,c,h,3),p("x","y","z",1,-1,n,o,a,c,d,4),p("x","y","z",-1,-1,n,o,-a,c,d,5),this.setIndex(b),this.addAttribute("position",new N(_,3)),this.addAttribute("normal",new N(C,3)),this.addAttribute("uv",new N(M,2))}function W(n,o,a,c){G.call(this),this.type="PlaneGeometry",this.parameters={width:n,height:o,widthSegments:a,heightSegments:c},this.fromBufferGeometry(new se(n,o,a,c)),this.mergeVertices()}function se(n,o,a,c){ie.call(this),this.type="PlaneBufferGeometry",this.parameters={width:n,height:o,widthSegments:a,heightSegments:c},n=n||1,o=o||1;var d=n/2,h=o/2;a=Math.floor(a)||1,c=Math.floor(c)||1;var p=a+1,y=c+1,b=n/a,_=o/c,C=[],M=[],k=[],F=[];for(n=0;n<y;n++){var z=n*_-h;for(o=0;o<p;o++)M.push(o*b-d,-z,0),k.push(0,0,1),F.push(o/a),F.push(1-n/c)}for(n=0;n<c;n++)for(o=0;o<a;o++)d=o+p*(n+1),h=o+1+p*(n+1),y=o+1+p*n,C.push(o+p*n,d,y),C.push(d,h,y);this.setIndex(C),this.addAttribute("position",new N(M,3)),this.addAttribute("normal",new N(k,3)),this.addAttribute("uv",new N(F,2))}function we(){Object.defineProperty(this,"id",{value:CL++}),this.uuid=Tt.generateUUID(),this.name="",this.type="Material",this.lights=this.fog=!0,this.blending=1,this.side=0,this.vertexTangents=this.flatShading=!1,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null,this.depthFunc=3,this.depthWrite=this.depthTest=!0,this.clippingPlanes=null,this.clipShadows=this.clipIntersection=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetUnits=this.polygonOffsetFactor=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}function Ee(n){we.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,this.fragmentShader=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,n!==void 0&&(n.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(n))}function Ie(n,o){this.origin=n!==void 0?n:new s,this.direction=o!==void 0?o:new s}function je(n,o,a){this.a=n!==void 0?n:new s,this.b=o!==void 0?o:new s,this.c=a!==void 0?a:new s}function Ke(n){we.call(this),this.type="MeshBasicMaterial",this.color=new U(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.lights=this.morphTargets=this.skinning=!1,this.setValues(n)}function it(n,o){B.call(this),this.type="Mesh",this.geometry=n!==void 0?n:new ie,this.material=o!==void 0?o:new Ke({color:16777215*Math.random()}),this.drawMode=0,this.updateMorphTargets()}function Qe(n,o,a,c){function d(M,k){o.buffers.color.setClear(M.r,M.g,M.b,k,c)}var h=new U(0),p=0,y,b,_=null,C=0;return{getClearColor:function(){return h},setClearColor:function(M,k){h.set(M),p=k!==void 0?k:1,d(h,p)},getClearAlpha:function(){return p},setClearAlpha:function(M){p=M,d(h,p)},render:function(M,k,F,z){k=k.background,F=n.vr,(F=F.getSession&&F.getSession())&&F.environmentBlendMode==="additive"&&(k=null),k===null?(d(h,p),_=null,C=0):k&&k.isColor&&(d(k,1),z=!0,_=null,C=0),(n.autoClear||z)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),k&&(k.isCubeTexture||k.isWebGLRenderTargetCube)?(b===void 0&&(b=new it(new me(1,1,1),new Ee({type:"BackgroundCubeMaterial",uniforms:H(qr.cube.uniforms),vertexShader:qr.cube.vertexShader,fragmentShader:qr.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),b.geometry.removeAttribute("normal"),b.geometry.removeAttribute("uv"),b.onBeforeRender=function(j,Q,he){this.matrixWorld.copyPosition(he.matrixWorld)},Object.defineProperty(b.material,"map",{get:function(){return this.uniforms.tCube.value}}),a.update(b)),z=k.isWebGLRenderTargetCube?k.texture:k,b.material.uniforms.tCube.value=z,b.material.uniforms.tFlip.value=k.isWebGLRenderTargetCube?1:-1,(_!==k||C!==z.version)&&(b.material.needsUpdate=!0,_=k,C=z.version),M.unshift(b,b.geometry,b.material,0,0,null)):k&&k.isTexture&&(y===void 0&&(y=new it(new se(2,2),new Ee({type:"BackgroundMaterial",uniforms:H(qr.background.uniforms),vertexShader:qr.background.vertexShader,fragmentShader:qr.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),y.geometry.removeAttribute("normal"),Object.defineProperty(y.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(y)),y.material.uniforms.t2D.value=k,k.matrixAutoUpdate===!0&&k.updateMatrix(),y.material.uniforms.uvTransform.value.copy(k.matrix),(_!==k||C!==k.version)&&(y.material.needsUpdate=!0,_=k,C=k.version),M.unshift(y,y.geometry,y.material,0,0,null))}}}function Pt(n,o,a,c){var d;this.setMode=function(h){d=h},this.render=function(h,p){n.drawArrays(d,h,p),a.update(p,d)},this.renderInstances=function(h,p,y){if(c.isWebGL2)var b=n;else if(b=o.get("ANGLE_instanced_arrays"),b===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}b[c.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](d,p,y,h.maxInstancedCount),a.update(y,d,h.maxInstancedCount)}}function gn(n,o,a){function c(ae){if(ae==="highp"){if(0<n.getShaderPrecisionFormat(35633,36338).precision&&0<n.getShaderPrecisionFormat(35632,36338).precision)return"highp";ae="mediump"}return ae==="mediump"&&0<n.getShaderPrecisionFormat(35633,36337).precision&&0<n.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var d,h=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext,p=a.precision!==void 0?a.precision:"highp",y=c(p);y!==p&&(console.warn("THREE.WebGLRenderer:",p,"not supported, using",y,"instead."),p=y),a=a.logarithmicDepthBuffer===!0,y=n.getParameter(34930);var b=n.getParameter(35660),_=n.getParameter(3379),C=n.getParameter(34076),M=n.getParameter(34921),k=n.getParameter(36347),F=n.getParameter(36348),z=n.getParameter(36349),j=0<b,Q=h||!!o.get("OES_texture_float"),he=j&&Q,ue=h?n.getParameter(36183):0;return{isWebGL2:h,getMaxAnisotropy:function(){if(d!==void 0)return d;var ae=o.get("EXT_texture_filter_anisotropic");return d=ae!==null?n.getParameter(ae.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:c,precision:p,logarithmicDepthBuffer:a,maxTextures:y,maxVertexTextures:b,maxTextureSize:_,maxCubemapSize:C,maxAttributes:M,maxVertexUniforms:k,maxVaryings:F,maxFragmentUniforms:z,vertexTextures:j,floatFragmentTextures:Q,floatVertexTextures:he,maxSamples:ue}}function Wt(){function n(){_.value!==c&&(_.value=c,_.needsUpdate=0<d),a.numPlanes=d,a.numIntersection=0}function o(C,M,k,F){var z=C!==null?C.length:0,j=null;if(z!==0){if(j=_.value,F!==!0||j===null)for(F=k+4*z,M=M.matrixWorldInverse,b.getNormalMatrix(M),(j===null||j.length<F)&&(j=new Float32Array(F)),F=0;F!==z;++F,k+=4)y.copy(C[F]).applyMatrix4(M,b),y.normal.toArray(j,k),j[k+3]=y.constant;_.value=j,_.needsUpdate=!0}return a.numPlanes=z,j}var a=this,c=null,d=0,h=!1,p=!1,y=new I,b=new l,_={value:null,needsUpdate:!1};this.uniform=_,this.numIntersection=this.numPlanes=0,this.init=function(C,M,k){var F=C.length!==0||M||d!==0||h;return h=M,c=o(C,k,0),d=C.length,F},this.beginShadows=function(){p=!0,o(null)},this.endShadows=function(){p=!1,n()},this.setState=function(C,M,k,F,z,j){if(!h||C===null||C.length===0||p&&!k)p?o(null):n();else{k=p?0:d;var Q=4*k,he=z.clippingState||null;for(_.value=he,he=o(C,F,Q,j),C=0;C!==Q;++C)he[C]=c[C];z.clippingState=he,this.numIntersection=M?this.numPlanes:0,this.numPlanes+=k}}}function br(n){var o={};return{get:function(a){if(o[a]!==void 0)return o[a];switch(a){case"WEBGL_depth_texture":var c=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":c=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":c=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":c=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:c=n.getExtension(a)}return c===null&&console.warn("THREE.WebGLRenderer: "+a+" extension not supported."),o[a]=c}}}function Pn(n,o,a){function c(p){var y=p.target;p=d[y.id],p.index!==null&&o.remove(p.index);for(var b in p.attributes)o.remove(p.attributes[b]);y.removeEventListener("dispose",c),delete d[y.id],(b=h[p.id])&&(o.remove(b),delete h[p.id]),a.memory.geometries--}var d={},h={};return{get:function(p,y){var b=d[y.id];return b||(y.addEventListener("dispose",c),y.isBufferGeometry?b=y:y.isGeometry&&(y._bufferGeometry===void 0&&(y._bufferGeometry=new ie().setFromObject(p)),b=y._bufferGeometry),d[y.id]=b,a.memory.geometries++,b)},update:function(p){var y=p.index,b=p.attributes;y!==null&&o.update(y,34963);for(var _ in b)o.update(b[_],34962);p=p.morphAttributes;for(_ in p){y=p[_],b=0;for(var C=y.length;b<C;b++)o.update(y[b],34962)}},getWireframeAttribute:function(p){var y=h[p.id];if(y)return y;y=[];var b=p.index,_=p.attributes;if(b!==null){b=b.array,_=0;for(var C=b.length;_<C;_+=3){var M=b[_+0],k=b[_+1],F=b[_+2];y.push(M,k,k,F,F,M)}}else for(b=_.position.array,_=0,C=b.length/3-1;_<C;_+=3)M=_+0,k=_+1,F=_+2,y.push(M,k,k,F,F,M);return y=new(65535<le(y)?S:T)(y,1),o.update(y,34963),h[p.id]=y}}}function Ha(n,o,a,c){var d,h,p;this.setMode=function(y){d=y},this.setIndex=function(y){h=y.type,p=y.bytesPerElement},this.render=function(y,b){n.drawElements(d,b,h,y*p),a.update(b,d)},this.renderInstances=function(y,b,_){if(c.isWebGL2)var C=n;else if(C=o.get("ANGLE_instanced_arrays"),C===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}C[c.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](d,_,h,b*p,y.maxInstancedCount),a.update(_,d,y.maxInstancedCount)}}function ja(n){var o={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:o,programs:null,autoReset:!0,reset:function(){o.frame++,o.calls=0,o.triangles=0,o.points=0,o.lines=0},update:function(a,c,d){switch(d=d||1,o.calls++,c){case 4:o.triangles+=a/3*d;break;case 5:case 6:o.triangles+=d*(a-2);break;case 1:o.lines+=a/2*d;break;case 3:o.lines+=d*(a-1);break;case 2:o.lines+=d*a;break;case 0:o.points+=d*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",c)}}}}function Ga(n,o){return Math.abs(o[1])-Math.abs(n[1])}function Wa(n){var o={},a=new Float32Array(8);return{update:function(c,d,h,p){var y=c.morphTargetInfluences,b=y.length;if(c=o[d.id],c===void 0){c=[];for(var _=0;_<b;_++)c[_]=[_,0];o[d.id]=c}var C=h.morphTargets&&d.morphAttributes.position;for(h=h.morphNormals&&d.morphAttributes.normal,_=0;_<b;_++){var M=c[_];M[1]!==0&&(C&&d.removeAttribute("morphTarget"+_),h&&d.removeAttribute("morphNormal"+_))}for(_=0;_<b;_++)M=c[_],M[0]=_,M[1]=y[_];for(c.sort(Ga),_=0;8>_;_++){if((M=c[_])&&(y=M[0],b=M[1])){C&&d.addAttribute("morphTarget"+_,C[y]),h&&d.addAttribute("morphNormal"+_,h[y]),a[_]=b;continue}a[_]=0}p.getUniforms().setValue(n,"morphTargetInfluences",a)}}}function Bc(n,o){var a={};return{update:function(c){var d=o.render.frame,h=c.geometry,p=n.get(c,h);return a[p.id]!==d&&(h.isGeometry&&p.updateFromObject(c),n.update(p),a[p.id]=d),p},dispose:function(){a={}}}}function Yi(n,o,a,c,d,h,p,y,b,_){n=n!==void 0?n:[],u.call(this,n,o!==void 0?o:301,a,c,d,h,p!==void 0?p:1022,y,b,_),this.flipY=!1}function ci(n,o,a,c){u.call(this,null),this.image={data:n,width:o,height:a,depth:c},this.minFilter=this.magFilter=1003,this.wrapR=1001,this.flipY=this.generateMipmaps=!1}function ui(n,o,a,c){u.call(this,null),this.image={data:n,width:o,height:a,depth:c},this.minFilter=this.magFilter=1003,this.wrapR=1001,this.flipY=this.generateMipmaps=!1}function Zn(n,o,a){var c=n[0];if(0>=c||0<c)return n;var d=o*a,h=l_[d];if(h===void 0&&(h=new Float32Array(d),l_[d]=h),o!==0)for(c.toArray(h,0),c=1,d=0;c!==o;++c)d+=a,n[c].toArray(h,d);return h}function On(n,o){if(n.length!==o.length)return!1;for(var a=0,c=n.length;a<c;a++)if(n[a]!==o[a])return!1;return!0}function Gn(n,o){for(var a=0,c=o.length;a<c;a++)n[a]=o[a]}function Ps(n,o){var a=c_[o];a===void 0&&(a=new Int32Array(o),c_[o]=a);for(var c=0;c!==o;++c)a[c]=n.allocateTextureUnit();return a}function $a(n,o){var a=this.cache;a[0]!==o&&(n.uniform1f(this.addr,o),a[0]=o)}function qa(n,o){var a=this.cache;o.x!==void 0?(a[0]!==o.x||a[1]!==o.y)&&(n.uniform2f(this.addr,o.x,o.y),a[0]=o.x,a[1]=o.y):On(a,o)||(n.uniform2fv(this.addr,o),Gn(a,o))}function dn(n,o){var a=this.cache;o.x!==void 0?(a[0]!==o.x||a[1]!==o.y||a[2]!==o.z)&&(n.uniform3f(this.addr,o.x,o.y,o.z),a[0]=o.x,a[1]=o.y,a[2]=o.z):o.r!==void 0?(a[0]!==o.r||a[1]!==o.g||a[2]!==o.b)&&(n.uniform3f(this.addr,o.r,o.g,o.b),a[0]=o.r,a[1]=o.g,a[2]=o.b):On(a,o)||(n.uniform3fv(this.addr,o),Gn(a,o))}function mn(n,o){var a=this.cache;o.x!==void 0?(a[0]!==o.x||a[1]!==o.y||a[2]!==o.z||a[3]!==o.w)&&(n.uniform4f(this.addr,o.x,o.y,o.z,o.w),a[0]=o.x,a[1]=o.y,a[2]=o.z,a[3]=o.w):On(a,o)||(n.uniform4fv(this.addr,o),Gn(a,o))}function Sh(n,o){var a=this.cache,c=o.elements;c===void 0?On(a,o)||(n.uniformMatrix2fv(this.addr,!1,o),Gn(a,o)):On(a,c)||(h_.set(c),n.uniformMatrix2fv(this.addr,!1,h_),Gn(a,c))}function Gm(n,o){var a=this.cache,c=o.elements;c===void 0?On(a,o)||(n.uniformMatrix3fv(this.addr,!1,o),Gn(a,o)):On(a,c)||(d_.set(c),n.uniformMatrix3fv(this.addr,!1,d_),Gn(a,c))}function Wo(n,o){var a=this.cache,c=o.elements;c===void 0?On(a,o)||(n.uniformMatrix4fv(this.addr,!1,o),Gn(a,o)):On(a,c)||(u_.set(c),n.uniformMatrix4fv(this.addr,!1,u_),Gn(a,c))}function Fc(n,o,a){var c=this.cache,d=a.allocateTextureUnit();c[0]!==d&&(n.uniform1i(this.addr,d),c[0]=d),a.safeSetTexture2D(o||s_,d)}function Uc(n,o,a){var c=this.cache,d=a.allocateTextureUnit();c[0]!==d&&(n.uniform1i(this.addr,d),c[0]=d),a.setTexture2DArray(o||ML,d)}function ze(n,o,a){var c=this.cache,d=a.allocateTextureUnit();c[0]!==d&&(n.uniform1i(this.addr,d),c[0]=d),a.setTexture3D(o||IL,d)}function Xt(n,o,a){var c=this.cache,d=a.allocateTextureUnit();c[0]!==d&&(n.uniform1i(this.addr,d),c[0]=d),a.safeSetTextureCube(o||a_,d)}function sr(n,o){var a=this.cache;a[0]!==o&&(n.uniform1i(this.addr,o),a[0]=o)}function zc(n,o){var a=this.cache;On(a,o)||(n.uniform2iv(this.addr,o),Gn(a,o))}function Dk(n,o){var a=this.cache;On(a,o)||(n.uniform3iv(this.addr,o),Gn(a,o))}function Nk(n,o){var a=this.cache;On(a,o)||(n.uniform4iv(this.addr,o),Gn(a,o))}function Vk(n){switch(n){case 5126:return $a;case 35664:return qa;case 35665:return dn;case 35666:return mn;case 35674:return Sh;case 35675:return Gm;case 35676:return Wo;case 35678:case 36198:return Fc;case 35679:return ze;case 35680:return Xt;case 36289:return Uc;case 5124:case 35670:return sr;case 35667:case 35671:return zc;case 35668:case 35672:return Dk;case 35669:case 35673:return Nk}}function Bk(n,o){n.uniform1fv(this.addr,o)}function Fk(n,o){n.uniform1iv(this.addr,o)}function Uk(n,o){n.uniform2iv(this.addr,o)}function zk(n,o){n.uniform3iv(this.addr,o)}function Hk(n,o){n.uniform4iv(this.addr,o)}function jk(n,o){o=Zn(o,this.size,2),n.uniform2fv(this.addr,o)}function Gk(n,o){o=Zn(o,this.size,3),n.uniform3fv(this.addr,o)}function Wk(n,o){o=Zn(o,this.size,4),n.uniform4fv(this.addr,o)}function $k(n,o){o=Zn(o,this.size,4),n.uniformMatrix2fv(this.addr,!1,o)}function qk(n,o){o=Zn(o,this.size,9),n.uniformMatrix3fv(this.addr,!1,o)}function Yk(n,o){o=Zn(o,this.size,16),n.uniformMatrix4fv(this.addr,!1,o)}function Xk(n,o,a){var c=o.length,d=Ps(a,c);for(n.uniform1iv(this.addr,d),n=0;n!==c;++n)a.safeSetTexture2D(o[n]||s_,d[n])}function Kk(n,o,a){var c=o.length,d=Ps(a,c);for(n.uniform1iv(this.addr,d),n=0;n!==c;++n)a.safeSetTextureCube(o[n]||a_,d[n])}function Qk(n){switch(n){case 5126:return Bk;case 35664:return jk;case 35665:return Gk;case 35666:return Wk;case 35674:return $k;case 35675:return qk;case 35676:return Yk;case 35678:return Xk;case 35680:return Kk;case 5124:case 35670:return Fk;case 35667:case 35671:return Uk;case 35668:case 35672:return zk;case 35669:case 35673:return Hk}}function Jk(n,o,a){this.id=n,this.addr=a,this.cache=[],this.setValue=Vk(o.type)}function Sb(n,o,a){this.id=n,this.addr=a,this.cache=[],this.size=o.size,this.setValue=Qk(o.type)}function Tb(n){this.id=n,this.seq=[],this.map={}}function $o(n,o){this.seq=[],this.map={};for(var a=n.getProgramParameter(o,35718),c=0;c<a;++c){var d=n.getActiveUniform(o,c),h=n.getUniformLocation(o,d.name),p=this,y=d.name,b=y.length;for(bv.lastIndex=0;;){var _=bv.exec(y),C=bv.lastIndex,M=_[1],k=_[3];if(_[2]==="]"&&(M|=0),k===void 0||k==="["&&C+2===b){y=p,d=k===void 0?new Jk(M,d,h):new Sb(M,d,h),y.seq.push(d),y.map[d.id]=d;break}else k=p.map[M],k===void 0&&(k=new Tb(M),M=p,p=k,M.seq.push(p),M.map[p.id]=p),p=k}}}function Zk(n){n=n.split(`
`);for(var o=0;o<n.length;o++)n[o]=o+1+": "+n[o];return n.join(`
`)}function Ab(n,o,a,c){var d=n.createShader(o);return n.shaderSource(d,a),n.compileShader(d),c===!0&&(n.getShaderParameter(d,35713)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),n.getShaderInfoLog(d)!==""&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",o===35633?"vertex":"fragment",n.getShaderInfoLog(d),Zk(a))),d}function Cb(n){switch(n){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+n)}}function Th(n,o){return o=Cb(o),"vec4 "+n+"( vec4 value ) { return "+o[0]+"ToLinear"+o[1]+"; }"}function eL(n,o){return o=Cb(o),"vec4 "+n+"( vec4 value ) { return LinearTo"+o[0]+o[1]+"; }"}function tL(n,o){switch(o){case 1:o="Linear";break;case 2:o="Reinhard";break;case 3:o="Uncharted2";break;case 4:o="OptimizedCineon";break;case 5:o="ACESFilmic";break;default:throw Error("unsupported toneMapping: "+o)}return"vec3 "+n+"( vec3 color ) { return "+o+"ToneMapping( color ); }"}function nL(n,o,a){return n=n||{},[n.derivatives||o.envMapCubeUV||o.bumpMap||o.normalMap&&!o.objectSpaceNormalMap||o.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(n.fragDepth||o.logarithmicDepthBuffer)&&a.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",n.drawBuffers&&a.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(n.shaderTextureLOD||o.envMap)&&a.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Hc).join(`
`)}function iL(n){var o=[],a;for(a in n){var c=n[a];c!==!1&&o.push("#define "+a+" "+c)}return o.join(`
`)}function Hc(n){return n!==""}function Mb(n,o){return n.replace(/NUM_DIR_LIGHTS/g,o.numDirLights).replace(/NUM_SPOT_LIGHTS/g,o.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,o.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,o.numPointLights).replace(/NUM_HEMI_LIGHTS/g,o.numHemiLights)}function Ib(n,o){return n.replace(/NUM_CLIPPING_PLANES/g,o.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,o.numClippingPlanes-o.numClipIntersection)}function Wm(n){return n.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,function(o,a){if(o=Ft[a],o===void 0)throw Error("Can not resolve #include <"+a+">");return Wm(o)})}function Rb(n){return n.replace(/#pragma unroll_loop[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(o,a,c,d){for(o="",a=parseInt(a);a<parseInt(c);a++)o+=d.replace(/\[ i \]/g,"[ "+a+" ]");return o})}function rL(n,o,a,c,d,h,p,y){var b=n.context,_=c.defines,C=d.vertexShader,M=d.fragmentShader,k="SHADOWMAP_TYPE_BASIC";h.shadowMapType===1?k="SHADOWMAP_TYPE_PCF":h.shadowMapType===2&&(k="SHADOWMAP_TYPE_PCF_SOFT");var F="ENVMAP_TYPE_CUBE",z="ENVMAP_MODE_REFLECTION",j="ENVMAP_BLENDING_MULTIPLY";if(h.envMap){switch(c.envMap.mapping){case 301:case 302:F="ENVMAP_TYPE_CUBE";break;case 306:case 307:F="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:F="ENVMAP_TYPE_EQUIREC";break;case 305:F="ENVMAP_TYPE_SPHERE"}switch(c.envMap.mapping){case 302:case 304:z="ENVMAP_MODE_REFRACTION"}switch(c.combine){case 0:j="ENVMAP_BLENDING_MULTIPLY";break;case 1:j="ENVMAP_BLENDING_MIX";break;case 2:j="ENVMAP_BLENDING_ADD"}}var Q=0<n.gammaFactor?n.gammaFactor:1,he=p.isWebGL2?"":nL(c.extensions,h,o),ue=iL(_),ae=b.createProgram();c.isRawShaderMaterial?(_=[ue].filter(Hc).join(`
`),0<_.length&&(_+=`
`),o=[he,ue].filter(Hc).join(`
`),0<o.length&&(o+=`
`)):(_=["precision "+h.precision+" float;","precision "+h.precision+" int;","#define SHADER_NAME "+d.name,ue,h.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+Q,"#define MAX_BONES "+h.maxBones,h.useFog&&h.fog?"#define USE_FOG":"",h.useFog&&h.fogExp?"#define FOG_EXP2":"",h.map?"#define USE_MAP":"",h.envMap?"#define USE_ENVMAP":"",h.envMap?"#define "+z:"",h.lightMap?"#define USE_LIGHTMAP":"",h.aoMap?"#define USE_AOMAP":"",h.emissiveMap?"#define USE_EMISSIVEMAP":"",h.bumpMap?"#define USE_BUMPMAP":"",h.normalMap?"#define USE_NORMALMAP":"",h.normalMap&&h.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",h.displacementMap&&h.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",h.specularMap?"#define USE_SPECULARMAP":"",h.roughnessMap?"#define USE_ROUGHNESSMAP":"",h.metalnessMap?"#define USE_METALNESSMAP":"",h.alphaMap?"#define USE_ALPHAMAP":"",h.vertexTangents?"#define USE_TANGENT":"",h.vertexColors?"#define USE_COLOR":"",h.flatShading?"#define FLAT_SHADED":"",h.skinning?"#define USE_SKINNING":"",h.useVertexTexture?"#define BONE_TEXTURE":"",h.morphTargets?"#define USE_MORPHTARGETS":"",h.morphNormals&&h.flatShading===!1?"#define USE_MORPHNORMALS":"",h.doubleSided?"#define DOUBLE_SIDED":"",h.flipSided?"#define FLIP_SIDED":"",h.shadowMapEnabled?"#define USE_SHADOWMAP":"",h.shadowMapEnabled?"#define "+k:"",h.sizeAttenuation?"#define USE_SIZEATTENUATION":"",h.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",h.logarithmicDepthBuffer&&(p.isWebGL2||o.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Hc).join(`
`),o=[he,"precision "+h.precision+" float;","precision "+h.precision+" int;","#define SHADER_NAME "+d.name,ue,h.alphaTest?"#define ALPHATEST "+h.alphaTest+(h.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+Q,h.useFog&&h.fog?"#define USE_FOG":"",h.useFog&&h.fogExp?"#define FOG_EXP2":"",h.map?"#define USE_MAP":"",h.matcap?"#define USE_MATCAP":"",h.envMap?"#define USE_ENVMAP":"",h.envMap?"#define "+F:"",h.envMap?"#define "+z:"",h.envMap?"#define "+j:"",h.lightMap?"#define USE_LIGHTMAP":"",h.aoMap?"#define USE_AOMAP":"",h.emissiveMap?"#define USE_EMISSIVEMAP":"",h.bumpMap?"#define USE_BUMPMAP":"",h.normalMap?"#define USE_NORMALMAP":"",h.normalMap&&h.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",h.specularMap?"#define USE_SPECULARMAP":"",h.roughnessMap?"#define USE_ROUGHNESSMAP":"",h.metalnessMap?"#define USE_METALNESSMAP":"",h.alphaMap?"#define USE_ALPHAMAP":"",h.vertexTangents?"#define USE_TANGENT":"",h.vertexColors?"#define USE_COLOR":"",h.gradientMap?"#define USE_GRADIENTMAP":"",h.flatShading?"#define FLAT_SHADED":"",h.doubleSided?"#define DOUBLE_SIDED":"",h.flipSided?"#define FLIP_SIDED":"",h.shadowMapEnabled?"#define USE_SHADOWMAP":"",h.shadowMapEnabled?"#define "+k:"",h.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",h.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",h.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",h.logarithmicDepthBuffer&&(p.isWebGL2||o.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",h.envMap&&(p.isWebGL2||o.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",h.toneMapping!==0?"#define TONE_MAPPING":"",h.toneMapping!==0?Ft.tonemapping_pars_fragment:"",h.toneMapping!==0?tL("toneMapping",h.toneMapping):"",h.dithering?"#define DITHERING":"",h.outputEncoding||h.mapEncoding||h.matcapEncoding||h.envMapEncoding||h.emissiveMapEncoding?Ft.encodings_pars_fragment:"",h.mapEncoding?Th("mapTexelToLinear",h.mapEncoding):"",h.matcapEncoding?Th("matcapTexelToLinear",h.matcapEncoding):"",h.envMapEncoding?Th("envMapTexelToLinear",h.envMapEncoding):"",h.emissiveMapEncoding?Th("emissiveMapTexelToLinear",h.emissiveMapEncoding):"",h.outputEncoding?eL("linearToOutputTexel",h.outputEncoding):"",h.depthPacking?"#define DEPTH_PACKING "+c.depthPacking:"",`
`].filter(Hc).join(`
`)),C=Wm(C),C=Mb(C,h),C=Ib(C,h),M=Wm(M),M=Mb(M,h),M=Ib(M,h),C=Rb(C),M=Rb(M),p.isWebGL2&&!c.isRawShaderMaterial&&(p=!1,k=/^\s*#version\s+300\s+es\s*\n/,c.isShaderMaterial&&C.match(k)!==null&&M.match(k)!==null&&(p=!0,C=C.replace(k,""),M=M.replace(k,"")),_=`#version 300 es

#define attribute in
#define varying out
#define texture2D texture
`+_,o=[`#version 300 es

#define varying in`,p?"":"out highp vec4 pc_fragColor;",p?"":"#define gl_FragColor pc_fragColor",`#define gl_FragDepthEXT gl_FragDepth
#define texture2D texture
#define textureCube texture
#define texture2DProj textureProj
#define texture2DLodEXT textureLod
#define texture2DProjLodEXT textureProjLod
#define textureCubeLodEXT textureLod
#define texture2DGradEXT textureGrad
#define texture2DProjGradEXT textureProjGrad
#define textureCubeGradEXT textureGrad`].join(`
`)+`
`+o),M=o+M,C=Ab(b,35633,_+C,n.debug.checkShaderErrors),M=Ab(b,35632,M,n.debug.checkShaderErrors),b.attachShader(ae,C),b.attachShader(ae,M),c.index0AttributeName!==void 0?b.bindAttribLocation(ae,0,c.index0AttributeName):h.morphTargets===!0&&b.bindAttribLocation(ae,0,"position"),b.linkProgram(ae),n.debug.checkShaderErrors&&(n=b.getProgramInfoLog(ae).trim(),h=b.getShaderInfoLog(C).trim(),p=b.getShaderInfoLog(M).trim(),F=k=!0,b.getProgramParameter(ae,35714)===!1?(k=!1,console.error("THREE.WebGLProgram: shader error: ",b.getError(),"35715",b.getProgramParameter(ae,35715),"gl.getProgramInfoLog",n,h,p)):n!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",n):(h===""||p==="")&&(F=!1),F&&(this.diagnostics={runnable:k,material:c,programLog:n,vertexShader:{log:h,prefix:_},fragmentShader:{log:p,prefix:o}})),b.deleteShader(C),b.deleteShader(M);var be;this.getUniforms=function(){return be===void 0&&(be=new $o(b,ae)),be};var pe;return this.getAttributes=function(){if(pe===void 0){for(var _e={},ke=b.getProgramParameter(ae,35721),xe=0;xe<ke;xe++){var Ae=b.getActiveAttrib(ae,xe).name;_e[Ae]=b.getAttribLocation(ae,Ae)}pe=_e}return pe},this.destroy=function(){b.deleteProgram(ae),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=d.name,this.id=RL++,this.code=a,this.usedTimes=1,this.program=ae,this.vertexShader=C,this.fragmentShader=M,this}function oL(n,o,a,c){function d(b,_){if(b)b.isTexture?C=b.encoding:b.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),C=b.texture.encoding);else var C=3e3;return C===3e3&&_&&(C=3007),C}var h=[],p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},y="precision supportsVertexTextures map mapEncoding matcap matcapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap objectSpaceNormalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors vertexTangents fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering".split(" ");this.getParameters=function(b,_,C,M,k,F,z){var j=p[b.type];if(z.isSkinnedMesh){var Q=z.skeleton.bones;if(a.floatVertexTextures)Q=1024;else{var he=Math.min(Math.floor((a.maxVertexUniforms-20)/4),Q.length);he<Q.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+Q.length+" bones. This GPU supports "+he+"."),Q=0):Q=he}}else Q=0;he=a.precision,b.precision!==null&&(he=a.getMaxPrecision(b.precision),he!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",he,"instead."));var ue=n.getRenderTarget();return{shaderID:j,precision:he,supportsVertexTextures:a.vertexTextures,outputEncoding:d(ue?ue.texture:null,n.gammaOutput),map:!!b.map,mapEncoding:d(b.map,n.gammaInput),matcap:!!b.matcap,matcapEncoding:d(b.matcap,n.gammaInput),envMap:!!b.envMap,envMapMode:b.envMap&&b.envMap.mapping,envMapEncoding:d(b.envMap,n.gammaInput),envMapCubeUV:!!b.envMap&&(b.envMap.mapping===306||b.envMap.mapping===307),lightMap:!!b.lightMap,aoMap:!!b.aoMap,emissiveMap:!!b.emissiveMap,emissiveMapEncoding:d(b.emissiveMap,n.gammaInput),bumpMap:!!b.bumpMap,normalMap:!!b.normalMap,objectSpaceNormalMap:b.normalMapType===1,displacementMap:!!b.displacementMap,roughnessMap:!!b.roughnessMap,metalnessMap:!!b.metalnessMap,specularMap:!!b.specularMap,alphaMap:!!b.alphaMap,gradientMap:!!b.gradientMap,combine:b.combine,vertexTangents:b.normalMap&&b.vertexTangents,vertexColors:b.vertexColors,fog:!!M,useFog:b.fog,fogExp:M&&M.isFogExp2,flatShading:b.flatShading,sizeAttenuation:b.sizeAttenuation,logarithmicDepthBuffer:a.logarithmicDepthBuffer,skinning:b.skinning&&0<Q,maxBones:Q,useVertexTexture:a.floatVertexTextures,morphTargets:b.morphTargets,morphNormals:b.morphNormals,maxMorphTargets:n.maxMorphTargets,maxMorphNormals:n.maxMorphNormals,numDirLights:_.directional.length,numPointLights:_.point.length,numSpotLights:_.spot.length,numRectAreaLights:_.rectArea.length,numHemiLights:_.hemi.length,numClippingPlanes:k,numClipIntersection:F,dithering:b.dithering,shadowMapEnabled:n.shadowMap.enabled&&z.receiveShadow&&0<C.length,shadowMapType:n.shadowMap.type,toneMapping:n.toneMapping,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:b.premultipliedAlpha,alphaTest:b.alphaTest,doubleSided:b.side===2,flipSided:b.side===1,depthPacking:b.depthPacking!==void 0?b.depthPacking:!1}},this.getProgramCode=function(b,_){var C=[];if(_.shaderID?C.push(_.shaderID):(C.push(b.fragmentShader),C.push(b.vertexShader)),b.defines!==void 0)for(var M in b.defines)C.push(M),C.push(b.defines[M]);for(M=0;M<y.length;M++)C.push(_[y[M]]);return C.push(b.onBeforeCompile.toString()),C.push(n.gammaOutput),C.push(n.gammaFactor),C.join()},this.acquireProgram=function(b,_,C,M){for(var k,F=0,z=h.length;F<z;F++){var j=h[F];if(j.code===M){k=j,++k.usedTimes;break}}return k===void 0&&(k=new rL(n,o,M,b,_,C,a),h.push(k)),k},this.releaseProgram=function(b){if(--b.usedTimes===0){var _=h.indexOf(b);h[_]=h[h.length-1],h.pop(),b.destroy()}},this.programs=h}function sL(){var n=new WeakMap;return{get:function(o){var a=n.get(o);return a===void 0&&(a={},n.set(o,a)),a},remove:function(o){n.delete(o)},update:function(o,a,c){n.get(o)[a]=c},dispose:function(){n=new WeakMap}}}function aL(n,o){return n.groupOrder!==o.groupOrder?n.groupOrder-o.groupOrder:n.renderOrder!==o.renderOrder?n.renderOrder-o.renderOrder:n.program!==o.program?n.program.id-o.program.id:n.material.id!==o.material.id?n.material.id-o.material.id:n.z!==o.z?n.z-o.z:n.id-o.id}function lL(n,o){return n.groupOrder!==o.groupOrder?n.groupOrder-o.groupOrder:n.renderOrder!==o.renderOrder?n.renderOrder-o.renderOrder:n.z!==o.z?o.z-n.z:n.id-o.id}function kb(){function n(p,y,b,_,C,M){var k=o[a];return k===void 0?(k={id:p.id,object:p,geometry:y,material:b,program:b.program||h,groupOrder:_,renderOrder:p.renderOrder,z:C,group:M},o[a]=k):(k.id=p.id,k.object=p,k.geometry=y,k.material=b,k.program=b.program||h,k.groupOrder=_,k.renderOrder=p.renderOrder,k.z=C,k.group=M),a++,k}var o=[],a=0,c=[],d=[],h={id:-1};return{opaque:c,transparent:d,init:function(){a=0,c.length=0,d.length=0},push:function(p,y,b,_,C,M){p=n(p,y,b,_,C,M),(b.transparent===!0?d:c).push(p)},unshift:function(p,y,b,_,C,M){p=n(p,y,b,_,C,M),(b.transparent===!0?d:c).unshift(p)},sort:function(){1<c.length&&c.sort(aL),1<d.length&&d.sort(lL)}}}function cL(){function n(a){a=a.target,a.removeEventListener("dispose",n),delete o[a.id]}var o={};return{get:function(a,c){var d=o[a.id];if(d===void 0){var h=new kb;o[a.id]={},o[a.id][c.id]=h,a.addEventListener("dispose",n)}else h=d[c.id],h===void 0&&(h=new kb,d[c.id]=h);return h},dispose:function(){o={}}}}function uL(){var n={};return{get:function(o){if(n[o.id]!==void 0)return n[o.id];switch(o.type){case"DirectionalLight":var a={direction:new s,color:new U,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"SpotLight":a={position:new s,direction:new s,color:new U,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"PointLight":a={position:new s,color:new U,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":a={direction:new s,skyColor:new U,groundColor:new U};break;case"RectAreaLight":a={color:new U,position:new s,halfWidth:new s,halfHeight:new s}}return n[o.id]=a}}}function dL(){for(var n=new uL,o={id:kL++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},a=0;9>a;a++)o.probe.push(new s);var c=new s,d=new O,h=new O;return{setup:function(p,y,b){for(var _=0,C=0,M=0,k=0;9>k;k++)o.probe[k].set(0,0,0);var F=0,z=0,j=0,Q=0,he=0;b=b.matrixWorldInverse,k=0;for(var ue=p.length;k<ue;k++){var ae=p[k],be=ae.color,pe=ae.intensity,_e=ae.distance,ke=ae.shadow&&ae.shadow.map?ae.shadow.map.texture:null;if(ae.isAmbientLight)_+=be.r*pe,C+=be.g*pe,M+=be.b*pe;else if(ae.isLightProbe)for(ke=0;9>ke;ke++)o.probe[ke].addScaledVector(ae.sh.coefficients[ke],pe);else if(ae.isDirectionalLight){var xe=n.get(ae);xe.color.copy(ae.color).multiplyScalar(ae.intensity),xe.direction.setFromMatrixPosition(ae.matrixWorld),c.setFromMatrixPosition(ae.target.matrixWorld),xe.direction.sub(c),xe.direction.transformDirection(b),(xe.shadow=ae.castShadow)&&(pe=ae.shadow,xe.shadowBias=pe.bias,xe.shadowRadius=pe.radius,xe.shadowMapSize=pe.mapSize),o.directionalShadowMap[F]=ke,o.directionalShadowMatrix[F]=ae.shadow.matrix,o.directional[F]=xe,F++}else ae.isSpotLight?(xe=n.get(ae),xe.position.setFromMatrixPosition(ae.matrixWorld),xe.position.applyMatrix4(b),xe.color.copy(be).multiplyScalar(pe),xe.distance=_e,xe.direction.setFromMatrixPosition(ae.matrixWorld),c.setFromMatrixPosition(ae.target.matrixWorld),xe.direction.sub(c),xe.direction.transformDirection(b),xe.coneCos=Math.cos(ae.angle),xe.penumbraCos=Math.cos(ae.angle*(1-ae.penumbra)),xe.decay=ae.decay,(xe.shadow=ae.castShadow)&&(pe=ae.shadow,xe.shadowBias=pe.bias,xe.shadowRadius=pe.radius,xe.shadowMapSize=pe.mapSize),o.spotShadowMap[j]=ke,o.spotShadowMatrix[j]=ae.shadow.matrix,o.spot[j]=xe,j++):ae.isRectAreaLight?(xe=n.get(ae),xe.color.copy(be).multiplyScalar(pe),xe.position.setFromMatrixPosition(ae.matrixWorld),xe.position.applyMatrix4(b),h.identity(),d.copy(ae.matrixWorld),d.premultiply(b),h.extractRotation(d),xe.halfWidth.set(.5*ae.width,0,0),xe.halfHeight.set(0,.5*ae.height,0),xe.halfWidth.applyMatrix4(h),xe.halfHeight.applyMatrix4(h),o.rectArea[Q]=xe,Q++):ae.isPointLight?(xe=n.get(ae),xe.position.setFromMatrixPosition(ae.matrixWorld),xe.position.applyMatrix4(b),xe.color.copy(ae.color).multiplyScalar(ae.intensity),xe.distance=ae.distance,xe.decay=ae.decay,(xe.shadow=ae.castShadow)&&(pe=ae.shadow,xe.shadowBias=pe.bias,xe.shadowRadius=pe.radius,xe.shadowMapSize=pe.mapSize,xe.shadowCameraNear=pe.camera.near,xe.shadowCameraFar=pe.camera.far),o.pointShadowMap[z]=ke,o.pointShadowMatrix[z]=ae.shadow.matrix,o.point[z]=xe,z++):ae.isHemisphereLight&&(xe=n.get(ae),xe.direction.setFromMatrixPosition(ae.matrixWorld),xe.direction.transformDirection(b),xe.direction.normalize(),xe.skyColor.copy(ae.color).multiplyScalar(pe),xe.groundColor.copy(ae.groundColor).multiplyScalar(pe),o.hemi[he]=xe,he++)}o.ambient[0]=_,o.ambient[1]=C,o.ambient[2]=M,o.directional.length=F,o.spot.length=j,o.rectArea.length=Q,o.point.length=z,o.hemi.length=he,o.hash.stateID=o.id,o.hash.directionalLength=F,o.hash.pointLength=z,o.hash.spotLength=j,o.hash.rectAreaLength=Q,o.hash.hemiLength=he,o.hash.shadowsLength=y.length},state:o}}function Lb(){var n=new dL,o=[],a=[];return{init:function(){o.length=0,a.length=0},state:{lightsArray:o,shadowsArray:a,lights:n},setupLights:function(c){n.setup(o,a,c)},pushLight:function(c){o.push(c)},pushShadow:function(c){a.push(c)}}}function hL(){function n(a){a=a.target,a.removeEventListener("dispose",n),delete o[a.id]}var o={};return{get:function(a,c){if(o[a.id]===void 0){var d=new Lb;o[a.id]={},o[a.id][c.id]=d,a.addEventListener("dispose",n)}else o[a.id][c.id]===void 0?(d=new Lb,o[a.id][c.id]=d):d=o[a.id][c.id];return d},dispose:function(){o={}}}}function qo(n){we.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.lights=this.fog=!1,this.setValues(n)}function Yo(n){we.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new s,this.nearDistance=1,this.farDistance=1e3,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.lights=this.fog=!1,this.setValues(n)}function Pb(n,o,a){function c(_e,ke,xe,Ae,De,Ge){var Re=_e.geometry,$e=M,wt=_e.customDepthMaterial;return xe&&($e=k,wt=_e.customDistanceMaterial),wt?$e=wt:(wt=!1,ke.morphTargets&&(Re&&Re.isBufferGeometry?wt=Re.morphAttributes&&Re.morphAttributes.position&&0<Re.morphAttributes.position.length:Re&&Re.isGeometry&&(wt=Re.morphTargets&&0<Re.morphTargets.length)),_e.isSkinnedMesh&&ke.skinning===!1&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",_e),_e=_e.isSkinnedMesh&&ke.skinning,Re=0,wt&&(Re|=1),_e&&(Re|=2),$e=$e[Re]),n.localClippingEnabled&&ke.clipShadows===!0&&ke.clippingPlanes.length!==0&&(Re=$e.uuid,wt=ke.uuid,_e=F[Re],_e===void 0&&(_e={},F[Re]=_e),Re=_e[wt],Re===void 0&&(Re=$e.clone(),_e[wt]=Re),$e=Re),$e.visible=ke.visible,$e.wireframe=ke.wireframe,$e.side=ke.shadowSide!=null?ke.shadowSide:z[ke.side],$e.clipShadows=ke.clipShadows,$e.clippingPlanes=ke.clippingPlanes,$e.clipIntersection=ke.clipIntersection,$e.wireframeLinewidth=ke.wireframeLinewidth,$e.linewidth=ke.linewidth,xe&&$e.isMeshDistanceMaterial&&($e.referencePosition.copy(Ae),$e.nearDistance=De,$e.farDistance=Ge),$e}function d(_e,ke,xe,Ae){if(_e.visible!==!1){if(_e.layers.test(ke.layers)&&(_e.isMesh||_e.isLine||_e.isPoints)&&_e.castShadow&&(!_e.frustumCulled||h.intersectsObject(_e))){_e.modelViewMatrix.multiplyMatrices(xe.matrixWorldInverse,_e.matrixWorld);var De=o.update(_e),Ge=_e.material;if(Array.isArray(Ge))for(var Re=De.groups,$e=0,wt=Re.length;$e<wt;$e++){var J=Re[$e],oe=Ge[J.materialIndex];oe&&oe.visible&&(oe=c(_e,oe,Ae,C,xe.near,xe.far),n.renderBufferDirect(xe,null,De,oe,_e,J))}else Ge.visible&&(oe=c(_e,Ge,Ae,C,xe.near,xe.far),n.renderBufferDirect(xe,null,De,oe,_e,null))}for(_e=_e.children,De=0,Ge=_e.length;De<Ge;De++)d(_e[De],ke,xe,Ae)}}var h=new D,p=new O,y=new i,b=new i(a,a),_=new s,C=new s,M=Array(4),k=Array(4),F={},z={0:1,1:0,2:2},j=[new s(1,0,0),new s(-1,0,0),new s(0,0,1),new s(0,0,-1),new s(0,1,0),new s(0,-1,0)],Q=[new s(0,1,0),new s(0,1,0),new s(0,1,0),new s(0,1,0),new s(0,0,1),new s(0,0,-1)],he=[new f,new f,new f,new f,new f,new f];for(a=0;a!==4;++a){var ue=(a&1)!==0,ae=(a&2)!==0,be=new qo({depthPacking:3201,morphTargets:ue,skinning:ae});M[a]=be,ue=new Yo({morphTargets:ue,skinning:ae}),k[a]=ue}var pe=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(_e,ke,xe){if(pe.enabled!==!1&&(pe.autoUpdate!==!1||pe.needsUpdate!==!1)&&_e.length!==0){var Ae=n.getRenderTarget(),De=n.getActiveCubeFace(),Ge=n.getActiveMipMapLevel(),Re=n.state;Re.setBlending(0),Re.buffers.color.setClear(1,1,1,1),Re.buffers.depth.setTest(!0),Re.setScissorTest(!1);for(var $e,wt=0,J=_e.length;wt<J;wt++){var oe=_e[wt];$e=oe.shadow;var ye=oe&&oe.isPointLight;if($e===void 0)console.warn("THREE.WebGLShadowMap:",oe,"has no shadow.");else{var Me=$e.camera;if(y.copy($e.mapSize),y.min(b),ye){var Ve=y.x,qe=y.y;he[0].set(2*Ve,qe,Ve,qe),he[1].set(0,qe,Ve,qe),he[2].set(3*Ve,qe,Ve,qe),he[3].set(Ve,qe,Ve,qe),he[4].set(3*Ve,0,Ve,qe),he[5].set(Ve,0,Ve,qe),y.x*=4,y.y*=2}for($e.map===null&&($e.map=new m(y.x,y.y,{minFilter:1003,magFilter:1003,format:1023}),$e.map.texture.name=oe.name+".shadowMap",Me.updateProjectionMatrix()),$e.isSpotLightShadow&&$e.update(oe),Ve=$e.map,qe=$e.matrix,C.setFromMatrixPosition(oe.matrixWorld),Me.position.copy(C),ye?($e=6,qe.makeTranslation(-C.x,-C.y,-C.z)):($e=1,_.setFromMatrixPosition(oe.target.matrixWorld),Me.lookAt(_),Me.updateMatrixWorld(),qe.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),qe.multiply(Me.projectionMatrix),qe.multiply(Me.matrixWorldInverse)),n.setRenderTarget(Ve),n.clear(),oe=0;oe<$e;oe++)ye&&(_.copy(Me.position),_.add(j[oe]),Me.up.copy(Q[oe]),Me.lookAt(_),Me.updateMatrixWorld(),Re.viewport(he[oe])),p.multiplyMatrices(Me.projectionMatrix,Me.matrixWorldInverse),h.setFromMatrix(p),d(ke,xe,Me,ye)}}pe.needsUpdate=!1,n.setRenderTarget(Ae,De,Ge)}}}function fL(n,o,a,c){function d(ge,tt,_t){var Yt=new Uint8Array(4),vt=n.createTexture();for(n.bindTexture(ge,vt),n.texParameteri(ge,10241,9728),n.texParameteri(ge,10240,9728),ge=0;ge<_t;ge++)n.texImage2D(tt+ge,0,6408,1,1,0,6408,5121,Yt);return vt}function h(ge,tt){he[ge]=1,ue[ge]===0&&(n.enableVertexAttribArray(ge),ue[ge]=1),ae[ge]!==tt&&((c.isWebGL2?n:o.get("ANGLE_instanced_arrays"))[c.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](ge,tt),ae[ge]=tt)}function p(ge){be[ge]!==!0&&(n.enable(ge),be[ge]=!0)}function y(ge){be[ge]!==!1&&(n.disable(ge),be[ge]=!1)}function b(ge,tt,_t,Yt,vt,Ot,lt,gt){if(ge===0)ke&&(y(3042),ke=!1);else if(ke||(p(3042),ke=!0),ge!==5){if(ge!==xe||gt!==J){if((Ae!==100||Re!==100)&&(n.blendEquation(32774),Re=Ae=100),gt)switch(ge){case 1:n.blendFuncSeparate(1,771,1,771);break;case 2:n.blendFunc(1,1);break;case 3:n.blendFuncSeparate(0,0,769,771);break;case 4:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ge)}else switch(ge){case 1:n.blendFuncSeparate(770,771,1,771);break;case 2:n.blendFunc(770,1);break;case 3:n.blendFunc(0,769);break;case 4:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ge)}wt=$e=Ge=De=null,xe=ge,J=gt}}else vt=vt||tt,Ot=Ot||_t,lt=lt||Yt,(tt!==Ae||vt!==Re)&&(n.blendEquationSeparate(a.convert(tt),a.convert(vt)),Ae=tt,Re=vt),(_t!==De||Yt!==Ge||Ot!==$e||lt!==wt)&&(n.blendFuncSeparate(a.convert(_t),a.convert(Yt),a.convert(Ot),a.convert(lt)),De=_t,Ge=Yt,$e=Ot,wt=lt),xe=ge,J=null}function _(ge){oe!==ge&&(ge?n.frontFace(2304):n.frontFace(2305),oe=ge)}function C(ge){ge!==0?(p(2884),ge!==ye&&(ge===1?n.cullFace(1029):ge===2?n.cullFace(1028):n.cullFace(1032))):y(2884),ye=ge}function M(ge,tt,_t){ge?(p(32823),(Ve!==tt||qe!==_t)&&(n.polygonOffset(tt,_t),Ve=tt,qe=_t)):y(32823)}function k(ge){ge===void 0&&(ge=33984+$t-1),bt!==ge&&(n.activeTexture(ge),bt=ge)}var F=new function(){var ge=!1,tt=new f,_t=null,Yt=new f(0,0,0,0);return{setMask:function(vt){_t===vt||ge||(n.colorMask(vt,vt,vt,vt),_t=vt)},setLocked:function(vt){ge=vt},setClear:function(vt,Ot,lt,gt,yn){yn===!0&&(vt*=gt,Ot*=gt,lt*=gt),tt.set(vt,Ot,lt,gt),Yt.equals(tt)===!1&&(n.clearColor(vt,Ot,lt,gt),Yt.copy(tt))},reset:function(){ge=!1,_t=null,Yt.set(-1,0,0,0)}}},z=new function(){var ge=!1,tt=null,_t=null,Yt=null;return{setTest:function(vt){vt?p(2929):y(2929)},setMask:function(vt){tt===vt||ge||(n.depthMask(vt),tt=vt)},setFunc:function(vt){if(_t!==vt){if(vt)switch(vt){case 0:n.depthFunc(512);break;case 1:n.depthFunc(519);break;case 2:n.depthFunc(513);break;case 3:n.depthFunc(515);break;case 4:n.depthFunc(514);break;case 5:n.depthFunc(518);break;case 6:n.depthFunc(516);break;case 7:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);_t=vt}},setLocked:function(vt){ge=vt},setClear:function(vt){Yt!==vt&&(n.clearDepth(vt),Yt=vt)},reset:function(){ge=!1,Yt=_t=tt=null}}},j=new function(){var ge=!1,tt=null,_t=null,Yt=null,vt=null,Ot=null,lt=null,gt=null,yn=null;return{setTest:function(xt){xt?p(2960):y(2960)},setMask:function(xt){tt===xt||ge||(n.stencilMask(xt),tt=xt)},setFunc:function(xt,Dt,Fe){(_t!==xt||Yt!==Dt||vt!==Fe)&&(n.stencilFunc(xt,Dt,Fe),_t=xt,Yt=Dt,vt=Fe)},setOp:function(xt,Dt,Fe){(Ot!==xt||lt!==Dt||gt!==Fe)&&(n.stencilOp(xt,Dt,Fe),Ot=xt,lt=Dt,gt=Fe)},setLocked:function(xt){ge=xt},setClear:function(xt){yn!==xt&&(n.clearStencil(xt),yn=xt)},reset:function(){ge=!1,yn=gt=lt=Ot=vt=Yt=_t=tt=null}}},Q=n.getParameter(34921),he=new Uint8Array(Q),ue=new Uint8Array(Q),ae=new Uint8Array(Q),be={},pe=null,_e=null,ke=null,xe=null,Ae=null,De=null,Ge=null,Re=null,$e=null,wt=null,J=!1,oe=null,ye=null,Me=null,Ve=null,qe=null,$t=n.getParameter(35661),Vt=!1;Q=0,Q=n.getParameter(7938),Q.indexOf("WebGL")!==-1?(Q=parseFloat(/^WebGL ([0-9])/.exec(Q)[1]),Vt=1<=Q):Q.indexOf("OpenGL ES")!==-1&&(Q=parseFloat(/^OpenGL ES ([0-9])/.exec(Q)[1]),Vt=2<=Q);var bt=null,Rt={},Ut=new f,Un=new f,Je={};return Je[3553]=d(3553,3553,1),Je[34067]=d(34067,34069,6),F.setClear(0,0,0,1),z.setClear(1),j.setClear(0),p(2929),z.setFunc(3),_(!1),C(1),p(2884),b(0),{buffers:{color:F,depth:z,stencil:j},initAttributes:function(){for(var ge=0,tt=he.length;ge<tt;ge++)he[ge]=0},enableAttribute:function(ge){h(ge,0)},enableAttributeAndDivisor:h,disableUnusedAttributes:function(){for(var ge=0,tt=ue.length;ge!==tt;++ge)ue[ge]!==he[ge]&&(n.disableVertexAttribArray(ge),ue[ge]=0)},enable:p,disable:y,getCompressedTextureFormats:function(){if(pe===null&&(pe=[],o.get("WEBGL_compressed_texture_pvrtc")||o.get("WEBGL_compressed_texture_s3tc")||o.get("WEBGL_compressed_texture_etc1")||o.get("WEBGL_compressed_texture_astc")))for(var ge=n.getParameter(34467),tt=0;tt<ge.length;tt++)pe.push(ge[tt]);return pe},useProgram:function(ge){return _e!==ge?(n.useProgram(ge),_e=ge,!0):!1},setBlending:b,setMaterial:function(ge,tt){ge.side===2?y(2884):p(2884);var _t=ge.side===1;tt&&(_t=!_t),_(_t),ge.blending===1&&ge.transparent===!1?b(0):b(ge.blending,ge.blendEquation,ge.blendSrc,ge.blendDst,ge.blendEquationAlpha,ge.blendSrcAlpha,ge.blendDstAlpha,ge.premultipliedAlpha),z.setFunc(ge.depthFunc),z.setTest(ge.depthTest),z.setMask(ge.depthWrite),F.setMask(ge.colorWrite),M(ge.polygonOffset,ge.polygonOffsetFactor,ge.polygonOffsetUnits)},setFlipSided:_,setCullFace:C,setLineWidth:function(ge){ge!==Me&&(Vt&&n.lineWidth(ge),Me=ge)},setPolygonOffset:M,setScissorTest:function(ge){ge?p(3089):y(3089)},activeTexture:k,bindTexture:function(ge,tt){bt===null&&k();var _t=Rt[bt];_t===void 0&&(_t={type:void 0,texture:void 0},Rt[bt]=_t),(_t.type!==ge||_t.texture!==tt)&&(n.bindTexture(ge,tt||Je[ge]),_t.type=ge,_t.texture=tt)},compressedTexImage2D:function(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ge){console.error("THREE.WebGLState:",ge)}},texImage2D:function(){try{n.texImage2D.apply(n,arguments)}catch(ge){console.error("THREE.WebGLState:",ge)}},texImage3D:function(){try{n.texImage3D.apply(n,arguments)}catch(ge){console.error("THREE.WebGLState:",ge)}},scissor:function(ge){Ut.equals(ge)===!1&&(n.scissor(ge.x,ge.y,ge.z,ge.w),Ut.copy(ge))},viewport:function(ge){Un.equals(ge)===!1&&(n.viewport(ge.x,ge.y,ge.z,ge.w),Un.copy(ge))},reset:function(){for(var ge=0;ge<ue.length;ge++)ue[ge]===1&&(n.disableVertexAttribArray(ge),ue[ge]=0);be={},bt=pe=null,Rt={},ye=oe=xe=_e=null,F.reset(),z.reset(),j.reset()}}}function pL(n,o,a,c,d,h,p){function y(J,oe){return Ge?new OffscreenCanvas(J,oe):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function b(J,oe,ye,Me){var Ve=1;if((J.width>Me||J.height>Me)&&(Ve=Me/Math.max(J.width,J.height)),1>Ve||oe===!0){if(typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&J instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&J instanceof ImageBitmap)return Me=oe?Tt.floorPowerOfTwo:Math.floor,oe=Me(Ve*J.width),Ve=Me(Ve*J.height),De===void 0&&(De=y(oe,Ve)),ye=ye?y(oe,Ve):De,ye.width=oe,ye.height=Ve,ye.getContext("2d").drawImage(J,0,0,oe,Ve),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+J.width+"x"+J.height+") to ("+oe+"x"+Ve+")."),ye;"data"in J&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+J.width+"x"+J.height+").")}return J}function _(J){return Tt.isPowerOfTwo(J.width)&&Tt.isPowerOfTwo(J.height)}function C(J,oe){return J.generateMipmaps&&oe&&J.minFilter!==1003&&J.minFilter!==1006}function M(J,oe,ye,Me){n.generateMipmap(J),c.get(oe).__maxMipLevel=Math.log(Math.max(ye,Me))*Math.LOG2E}function k(J,oe){if(!d.isWebGL2)return J;var ye=J;return J===6403&&(oe===5126&&(ye=33326),oe===5131&&(ye=33325),oe===5121&&(ye=33321)),J===6407&&(oe===5126&&(ye=34837),oe===5131&&(ye=34843),oe===5121&&(ye=32849)),J===6408&&(oe===5126&&(ye=34836),oe===5131&&(ye=34842),oe===5121&&(ye=32856)),ye===33325||ye===33326||ye===34842||ye===34836?o.get("EXT_color_buffer_float"):(ye===34843||ye===34837)&&console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),ye}function F(J){return J===1003||J===1004||J===1005?9728:9729}function z(J){J=J.target,J.removeEventListener("dispose",z);var oe=c.get(J);oe.__webglInit!==void 0&&(n.deleteTexture(oe.__webglTexture),c.remove(J)),J.isVideoTexture&&delete Ae[J.id],p.memory.textures--}function j(J){J=J.target,J.removeEventListener("dispose",j);var oe=c.get(J),ye=c.get(J.texture);if(J){if(ye.__webglTexture!==void 0&&n.deleteTexture(ye.__webglTexture),J.depthTexture&&J.depthTexture.dispose(),J.isWebGLRenderTargetCube)for(ye=0;6>ye;ye++)n.deleteFramebuffer(oe.__webglFramebuffer[ye]),oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer[ye]);else n.deleteFramebuffer(oe.__webglFramebuffer),oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer);c.remove(J.texture),c.remove(J)}p.memory.textures--}function Q(J,oe){var ye=c.get(J);if(J.isVideoTexture){var Me=J.id,Ve=p.render.frame;Ae[Me]!==Ve&&(Ae[Me]=Ve,J.update())}if(0<J.version&&ye.__version!==J.version)if(Me=J.image,Me===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(Me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{pe(ye,J,oe);return}a.activeTexture(33984+oe),a.bindTexture(3553,ye.__webglTexture)}function he(J,oe){var ye=c.get(J);if(J.image.length===6)if(0<J.version&&ye.__version!==J.version){be(ye,J),a.activeTexture(33984+oe),a.bindTexture(34067,ye.__webglTexture),n.pixelStorei(37440,J.flipY),oe=J&&J.isCompressedTexture;for(var Me=J.image[0]&&J.image[0].isDataTexture,Ve=[],qe=0;6>qe;qe++)Ve[qe]=oe||Me?Me?J.image[qe].image:J.image[qe]:b(J.image[qe],!1,!0,d.maxCubemapSize);var $t=Ve[0],Vt=_($t)||d.isWebGL2,bt=h.convert(J.format),Rt=h.convert(J.type),Ut=k(bt,Rt);for(ae(34067,J,Vt),qe=0;6>qe;qe++)if(oe)for(var Un,Je=Ve[qe].mipmaps,ge=0,tt=Je.length;ge<tt;ge++)Un=Je[ge],J.format!==1023&&J.format!==1022?-1<a.getCompressedTextureFormats().indexOf(bt)?a.compressedTexImage2D(34069+qe,ge,Ut,Un.width,Un.height,0,Un.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):a.texImage2D(34069+qe,ge,Ut,Un.width,Un.height,0,bt,Rt,Un.data);else Me?a.texImage2D(34069+qe,0,Ut,Ve[qe].width,Ve[qe].height,0,bt,Rt,Ve[qe].data):a.texImage2D(34069+qe,0,Ut,bt,Rt,Ve[qe]);ye.__maxMipLevel=oe?Je.length-1:0,C(J,Vt)&&M(34067,J,$t.width,$t.height),ye.__version=J.version,J.onUpdate&&J.onUpdate(J)}else a.activeTexture(33984+oe),a.bindTexture(34067,ye.__webglTexture)}function ue(J,oe){a.activeTexture(33984+oe),a.bindTexture(34067,c.get(J).__webglTexture)}function ae(J,oe,ye){ye?(n.texParameteri(J,10242,h.convert(oe.wrapS)),n.texParameteri(J,10243,h.convert(oe.wrapT)),J!==32879&&J!==35866||n.texParameteri(J,32882,h.convert(oe.wrapR)),n.texParameteri(J,10240,h.convert(oe.magFilter)),n.texParameteri(J,10241,h.convert(oe.minFilter))):(n.texParameteri(J,10242,33071),n.texParameteri(J,10243,33071),J!==32879&&J!==35866||n.texParameteri(J,32882,33071),oe.wrapS===1001&&oe.wrapT===1001||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(J,10240,F(oe.magFilter)),n.texParameteri(J,10241,F(oe.minFilter)),oe.minFilter!==1003&&oe.minFilter!==1006&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!(ye=o.get("EXT_texture_filter_anisotropic"))||oe.type===1015&&o.get("OES_texture_float_linear")===null||oe.type===1016&&(d.isWebGL2||o.get("OES_texture_half_float_linear"))===null||!(1<oe.anisotropy||c.get(oe).__currentAnisotropy)||(n.texParameterf(J,ye.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(oe.anisotropy,d.getMaxAnisotropy())),c.get(oe).__currentAnisotropy=oe.anisotropy)}function be(J,oe){J.__webglInit===void 0&&(J.__webglInit=!0,oe.addEventListener("dispose",z),J.__webglTexture=n.createTexture(),p.memory.textures++)}function pe(J,oe,ye){var Me=3553;oe.isDataTexture2DArray&&(Me=35866),oe.isDataTexture3D&&(Me=32879),be(J,oe),a.activeTexture(33984+ye),a.bindTexture(Me,J.__webglTexture),n.pixelStorei(37440,oe.flipY),n.pixelStorei(37441,oe.premultiplyAlpha),n.pixelStorei(3317,oe.unpackAlignment),ye=d.isWebGL2?!1:oe.wrapS!==1001||oe.wrapT!==1001||oe.minFilter!==1003&&oe.minFilter!==1006,ye=ye&&_(oe.image)===!1,ye=b(oe.image,ye,!1,d.maxTextureSize);var Ve=_(ye)||d.isWebGL2,qe=h.convert(oe.format),$t=h.convert(oe.type),Vt=k(qe,$t);ae(Me,oe,Ve);var bt=oe.mipmaps;if(oe.isDepthTexture){if(Vt=6402,oe.type===1015){if(!d.isWebGL2)throw Error("Float Depth Texture only supported in WebGL2.0");Vt=36012}else d.isWebGL2&&(Vt=33189);oe.format===1026&&Vt===6402&&oe.type!==1012&&oe.type!==1014&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),oe.type=1012,$t=h.convert(oe.type)),oe.format===1027&&(Vt=34041,oe.type!==1020&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),oe.type=1020,$t=h.convert(oe.type))),a.texImage2D(3553,0,Vt,ye.width,ye.height,0,qe,$t,null)}else if(oe.isDataTexture)if(0<bt.length&&Ve){for(var Rt=0,Ut=bt.length;Rt<Ut;Rt++)Me=bt[Rt],a.texImage2D(3553,Rt,Vt,Me.width,Me.height,0,qe,$t,Me.data);oe.generateMipmaps=!1,J.__maxMipLevel=bt.length-1}else a.texImage2D(3553,0,Vt,ye.width,ye.height,0,qe,$t,ye.data),J.__maxMipLevel=0;else if(oe.isCompressedTexture){for(Rt=0,Ut=bt.length;Rt<Ut;Rt++)Me=bt[Rt],oe.format!==1023&&oe.format!==1022?-1<a.getCompressedTextureFormats().indexOf(qe)?a.compressedTexImage2D(3553,Rt,Vt,Me.width,Me.height,0,Me.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):a.texImage2D(3553,Rt,Vt,Me.width,Me.height,0,qe,$t,Me.data);J.__maxMipLevel=bt.length-1}else if(oe.isDataTexture2DArray)a.texImage3D(35866,0,Vt,ye.width,ye.height,ye.depth,0,qe,$t,ye.data),J.__maxMipLevel=0;else if(oe.isDataTexture3D)a.texImage3D(32879,0,Vt,ye.width,ye.height,ye.depth,0,qe,$t,ye.data),J.__maxMipLevel=0;else if(0<bt.length&&Ve){for(Rt=0,Ut=bt.length;Rt<Ut;Rt++)Me=bt[Rt],a.texImage2D(3553,Rt,Vt,qe,$t,Me);oe.generateMipmaps=!1,J.__maxMipLevel=bt.length-1}else a.texImage2D(3553,0,Vt,qe,$t,ye),J.__maxMipLevel=0;C(oe,Ve)&&M(3553,oe,ye.width,ye.height),J.__version=oe.version,oe.onUpdate&&oe.onUpdate(oe)}function _e(J,oe,ye,Me){var Ve=h.convert(oe.texture.format),qe=h.convert(oe.texture.type),$t=k(Ve,qe);a.texImage2D(Me,0,$t,oe.width,oe.height,0,Ve,qe,null),n.bindFramebuffer(36160,J),n.framebufferTexture2D(36160,ye,Me,c.get(oe.texture).__webglTexture,0),n.bindFramebuffer(36160,null)}function ke(J,oe,ye){if(n.bindRenderbuffer(36161,J),oe.depthBuffer&&!oe.stencilBuffer)ye?(ye=xe(oe),n.renderbufferStorageMultisample(36161,ye,33189,oe.width,oe.height)):n.renderbufferStorage(36161,33189,oe.width,oe.height),n.framebufferRenderbuffer(36160,36096,36161,J);else if(oe.depthBuffer&&oe.stencilBuffer)ye?(ye=xe(oe),n.renderbufferStorageMultisample(36161,ye,34041,oe.width,oe.height)):n.renderbufferStorage(36161,34041,oe.width,oe.height),n.framebufferRenderbuffer(36160,33306,36161,J);else{J=h.convert(oe.texture.format);var Me=h.convert(oe.texture.type);J=k(J,Me),ye?(ye=xe(oe),n.renderbufferStorageMultisample(36161,ye,J,oe.width,oe.height)):n.renderbufferStorage(36161,J,oe.width,oe.height)}n.bindRenderbuffer(36161,null)}function xe(J){return d.isWebGL2&&J.isWebGLMultisampleRenderTarget?Math.min(d.maxSamples,J.samples):0}var Ae={},De,Ge=typeof OffscreenCanvas<"u",Re=0,$e=!1,wt=!1;this.allocateTextureUnit=function(){var J=Re;return J>=d.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+J+" texture units while this GPU supports only "+d.maxTextures),Re+=1,J},this.resetTextureUnits=function(){Re=0},this.setTexture2D=Q,this.setTexture2DArray=function(J,oe){var ye=c.get(J);0<J.version&&ye.__version!==J.version?pe(ye,J,oe):(a.activeTexture(33984+oe),a.bindTexture(35866,ye.__webglTexture))},this.setTexture3D=function(J,oe){var ye=c.get(J);0<J.version&&ye.__version!==J.version?pe(ye,J,oe):(a.activeTexture(33984+oe),a.bindTexture(32879,ye.__webglTexture))},this.setTextureCube=he,this.setTextureCubeDynamic=ue,this.setupRenderTarget=function(J){var oe=c.get(J),ye=c.get(J.texture);J.addEventListener("dispose",j),ye.__webglTexture=n.createTexture(),p.memory.textures++;var Me=J.isWebGLRenderTargetCube===!0,Ve=J.isWebGLMultisampleRenderTarget===!0,qe=_(J)||d.isWebGL2;if(Me)for(oe.__webglFramebuffer=[],Ve=0;6>Ve;Ve++)oe.__webglFramebuffer[Ve]=n.createFramebuffer();else if(oe.__webglFramebuffer=n.createFramebuffer(),Ve)if(d.isWebGL2){oe.__webglMultisampledFramebuffer=n.createFramebuffer(),oe.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,oe.__webglColorRenderbuffer),Ve=h.convert(J.texture.format);var $t=h.convert(J.texture.type);Ve=k(Ve,$t),$t=xe(J),n.renderbufferStorageMultisample(36161,$t,Ve,J.width,J.height),n.bindFramebuffer(36160,oe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,oe.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),J.depthBuffer&&(oe.__webglDepthRenderbuffer=n.createRenderbuffer(),ke(oe.__webglDepthRenderbuffer,J,!0)),n.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(Me){for(a.bindTexture(34067,ye.__webglTexture),ae(34067,J.texture,qe),Ve=0;6>Ve;Ve++)_e(oe.__webglFramebuffer[Ve],J,36064,34069+Ve);C(J.texture,qe)&&M(34067,J.texture,J.width,J.height),a.bindTexture(34067,null)}else a.bindTexture(3553,ye.__webglTexture),ae(3553,J.texture,qe),_e(oe.__webglFramebuffer,J,36064,3553),C(J.texture,qe)&&M(3553,J.texture,J.width,J.height),a.bindTexture(3553,null);if(J.depthBuffer){if(oe=c.get(J),ye=J.isWebGLRenderTargetCube===!0,J.depthTexture){if(ye)throw Error("target.depthTexture not supported in Cube render targets");if(J&&J.isWebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,oe.__webglFramebuffer),!J.depthTexture||!J.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");if(c.get(J.depthTexture).__webglTexture&&J.depthTexture.image.width===J.width&&J.depthTexture.image.height===J.height||(J.depthTexture.image.width=J.width,J.depthTexture.image.height=J.height,J.depthTexture.needsUpdate=!0),Q(J.depthTexture,0),oe=c.get(J.depthTexture).__webglTexture,J.depthTexture.format===1026)n.framebufferTexture2D(36160,36096,3553,oe,0);else if(J.depthTexture.format===1027)n.framebufferTexture2D(36160,33306,3553,oe,0);else throw Error("Unknown depthTexture format")}else if(ye)for(oe.__webglDepthbuffer=[],ye=0;6>ye;ye++)n.bindFramebuffer(36160,oe.__webglFramebuffer[ye]),oe.__webglDepthbuffer[ye]=n.createRenderbuffer(),ke(oe.__webglDepthbuffer[ye],J);else n.bindFramebuffer(36160,oe.__webglFramebuffer),oe.__webglDepthbuffer=n.createRenderbuffer(),ke(oe.__webglDepthbuffer,J);n.bindFramebuffer(36160,null)}},this.updateRenderTargetMipmap=function(J){var oe=J.texture,ye=_(J)||d.isWebGL2;if(C(oe,ye)){ye=J.isWebGLRenderTargetCube?34067:3553;var Me=c.get(oe).__webglTexture;a.bindTexture(ye,Me),M(ye,oe,J.width,J.height),a.bindTexture(ye,null)}},this.updateMultisampleRenderTarget=function(J){if(J.isWebGLMultisampleRenderTarget)if(d.isWebGL2){var oe=c.get(J);n.bindFramebuffer(36008,oe.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,oe.__webglFramebuffer),oe=J.width;var ye=J.height,Me=16384;J.depthBuffer&&(Me|=256),J.stencilBuffer&&(Me|=1024),n.blitFramebuffer(0,0,oe,ye,0,0,oe,ye,Me,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(J,oe){J&&J.isWebGLRenderTarget&&($e===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),$e=!0),J=J.texture),Q(J,oe)},this.safeSetTextureCube=function(J,oe){J&&J.isWebGLRenderTargetCube&&(wt===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),wt=!0),J=J.texture),J&&J.isCubeTexture||Array.isArray(J.image)&&J.image.length===6?he(J,oe):ue(J,oe)}}function Ob(n,o,a){return{convert:function(c){if(c===1e3)return 10497;if(c===1001)return 33071;if(c===1002)return 33648;if(c===1003)return 9728;if(c===1004)return 9984;if(c===1005)return 9986;if(c===1006)return 9729;if(c===1007)return 9985;if(c===1008)return 9987;if(c===1009)return 5121;if(c===1017)return 32819;if(c===1018)return 32820;if(c===1019)return 33635;if(c===1010)return 5120;if(c===1011)return 5122;if(c===1012)return 5123;if(c===1013)return 5124;if(c===1014)return 5125;if(c===1015)return 5126;if(c===1016){if(a.isWebGL2)return 5131;var d=o.get("OES_texture_half_float");if(d!==null)return d.HALF_FLOAT_OES}if(c===1021)return 6406;if(c===1022)return 6407;if(c===1023)return 6408;if(c===1024)return 6409;if(c===1025)return 6410;if(c===1026)return 6402;if(c===1027)return 34041;if(c===1028)return 6403;if(c===100)return 32774;if(c===101)return 32778;if(c===102)return 32779;if(c===200)return 0;if(c===201)return 1;if(c===202)return 768;if(c===203)return 769;if(c===204)return 770;if(c===205)return 771;if(c===206)return 772;if(c===207)return 773;if(c===208)return 774;if(c===209)return 775;if(c===210)return 776;if((c===33776||c===33777||c===33778||c===33779)&&(d=o.get("WEBGL_compressed_texture_s3tc"),d!==null)){if(c===33776)return d.COMPRESSED_RGB_S3TC_DXT1_EXT;if(c===33777)return d.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(c===33778)return d.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(c===33779)return d.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((c===35840||c===35841||c===35842||c===35843)&&(d=o.get("WEBGL_compressed_texture_pvrtc"),d!==null)){if(c===35840)return d.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(c===35841)return d.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(c===35842)return d.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(c===35843)return d.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(c===36196&&(d=o.get("WEBGL_compressed_texture_etc1"),d!==null))return d.COMPRESSED_RGB_ETC1_WEBGL;if((c===37808||c===37809||c===37810||c===37811||c===37812||c===37813||c===37814||c===37815||c===37816||c===37817||c===37818||c===37819||c===37820||c===37821)&&(d=o.get("WEBGL_compressed_texture_astc"),d!==null))return c;if(c===103||c===104){if(a.isWebGL2){if(c===103)return 32775;if(c===104)return 32776}if(d=o.get("EXT_blend_minmax"),d!==null){if(c===103)return d.MIN_EXT;if(c===104)return d.MAX_EXT}}if(c===1020){if(a.isWebGL2)return 34042;if(d=o.get("WEBGL_depth_texture"),d!==null)return d.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Ya(){B.call(this),this.type="Group"}function Hr(){B.call(this),this.type="Camera",this.matrixWorldInverse=new O,this.projectionMatrix=new O,this.projectionMatrixInverse=new O}function In(n,o,a,c){Hr.call(this),this.type="PerspectiveCamera",this.fov=n!==void 0?n:50,this.zoom=1,this.near=a!==void 0?a:.1,this.far=c!==void 0?c:2e3,this.focus=10,this.aspect=o!==void 0?o:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function jc(n){In.call(this),this.cameras=n||[]}function Db(n,o,a){f_.setFromMatrixPosition(o.matrixWorld),p_.setFromMatrixPosition(a.matrixWorld);var c=f_.distanceTo(p_),d=o.projectionMatrix.elements,h=a.projectionMatrix.elements,p=d[14]/(d[10]-1);a=d[14]/(d[10]+1);var y=(d[9]+1)/d[5],b=(d[9]-1)/d[5],_=(d[8]-1)/d[0],C=(h[8]+1)/h[0];d=p*_,h=p*C,C=c/(-_+C),_=C*-_,o.matrixWorld.decompose(n.position,n.quaternion,n.scale),n.translateX(_),n.translateZ(C),n.matrixWorld.compose(n.position,n.quaternion,n.scale),n.matrixWorldInverse.getInverse(n.matrixWorld),o=p+C,p=a+C,n.projectionMatrix.makePerspective(d-_,h+(c-_),y*a/p*o,b*a/p*o,o,p)}function Nb(n){function o(){return y!==null&&y.isPresenting===!0}function a(){if(o()){var Ae=y.getEyeParameters("left");d=2*Ae.renderWidth*F,h=Ae.renderHeight*F,_e=n.getPixelRatio(),n.getSize(pe),n.setDrawingBufferSize(d,h,1),ue.viewport.set(0,0,d/2,h),ae.viewport.set(d/2,0,d/2,h),xe.start()}else p.enabled&&n.setDrawingBufferSize(pe.width,pe.height,_e),xe.stop()}function c(Ae,De){De!==null&&De.length===4&&Ae.set(De[0]*d,De[1]*h,De[2]*d,De[3]*h)}var d,h,p=this,y=null,b=null,_=null,C=[],M=new O,k=new O,F=1,z="local-floor";typeof window<"u"&&"VRFrameData"in window&&(b=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",a,!1));var j=new O,Q=new r,he=new s,ue=new In;ue.viewport=new f,ue.layers.enable(1);var ae=new In;ae.viewport=new f,ae.layers.enable(2);var be=new jc([ue,ae]);be.layers.enable(1),be.layers.enable(2);var pe=new i,_e,ke=[];this.enabled=!1,this.getController=function(Ae){var De=C[Ae];return De===void 0&&(De=new Ya,De.matrixAutoUpdate=!1,De.visible=!1,C[Ae]=De),De},this.getDevice=function(){return y},this.setDevice=function(Ae){Ae!==void 0&&(y=Ae),xe.setContext(Ae)},this.setFramebufferScaleFactor=function(Ae){F=Ae},this.setReferenceSpaceType=function(Ae){z=Ae},this.setPoseTarget=function(Ae){Ae!==void 0&&(_=Ae)},this.getCamera=function(Ae){var De=z==="local-floor"?1.6:0;if(o()===!1)return Ae.position.set(0,De,0),Ae.rotation.set(0,0,0),Ae;if(y.depthNear=Ae.near,y.depthFar=Ae.far,y.getFrameData(b),z==="local-floor"){var Ge=y.stageParameters;Ge?M.fromArray(Ge.sittingToStandingTransform):M.makeTranslation(0,De,0)}De=b.pose,Ge=_!==null?_:Ae,Ge.matrix.copy(M),Ge.matrix.decompose(Ge.position,Ge.quaternion,Ge.scale),De.orientation!==null&&(Q.fromArray(De.orientation),Ge.quaternion.multiply(Q)),De.position!==null&&(Q.setFromRotationMatrix(M),he.fromArray(De.position),he.applyQuaternion(Q),Ge.position.add(he)),Ge.updateMatrixWorld(),ue.near=Ae.near,ae.near=Ae.near,ue.far=Ae.far,ae.far=Ae.far,ue.matrixWorldInverse.fromArray(b.leftViewMatrix),ae.matrixWorldInverse.fromArray(b.rightViewMatrix),k.getInverse(M),z==="local-floor"&&(ue.matrixWorldInverse.multiply(k),ae.matrixWorldInverse.multiply(k)),Ae=Ge.parent,Ae!==null&&(j.getInverse(Ae.matrixWorld),ue.matrixWorldInverse.multiply(j),ae.matrixWorldInverse.multiply(j)),ue.matrixWorld.getInverse(ue.matrixWorldInverse),ae.matrixWorld.getInverse(ae.matrixWorldInverse),ue.projectionMatrix.fromArray(b.leftProjectionMatrix),ae.projectionMatrix.fromArray(b.rightProjectionMatrix),Db(be,ue,ae),Ae=y.getLayers(),Ae.length&&(Ae=Ae[0],c(ue.viewport,Ae.leftBounds),c(ae.viewport,Ae.rightBounds));e:for(Ae=0;Ae<C.length;Ae++){De=C[Ae];t:{Ge=Ae;for(var Re=navigator.getGamepads&&navigator.getGamepads(),$e=0,wt=0,J=Re.length;$e<J;$e++){var oe=Re[$e];if(oe&&(oe.id==="Daydream Controller"||oe.id==="Gear VR Controller"||oe.id==="Oculus Go Controller"||oe.id==="OpenVR Gamepad"||oe.id.startsWith("Oculus Touch")||oe.id.startsWith("Spatial Controller"))){if(wt===Ge){Ge=oe;break t}wt++}}Ge=void 0}if(Ge!==void 0&&Ge.pose!==void 0){if(Ge.pose===null)break e;Re=Ge.pose,Re.hasPosition===!1&&De.position.set(.2,-.6,-.05),Re.position!==null&&De.position.fromArray(Re.position),Re.orientation!==null&&De.quaternion.fromArray(Re.orientation),De.matrix.compose(De.position,De.quaternion,De.scale),De.matrix.premultiply(M),De.matrix.decompose(De.position,De.quaternion,De.scale),De.matrixWorldNeedsUpdate=!0,De.visible=!0,Re=Ge.id==="Daydream Controller"?0:1,ke[Ae]===void 0&&(ke[Ae]=!1),ke[Ae]!==Ge.buttons[Re].pressed&&(ke[Ae]=Ge.buttons[Re].pressed,ke[Ae]===!0?De.dispatchEvent({type:"selectstart"}):(De.dispatchEvent({type:"selectend"}),De.dispatchEvent({type:"select"})))}else De.visible=!1}return be},this.getStandingMatrix=function(){return M},this.isPresenting=o;var xe=new ne;this.setAnimationLoop=function(Ae){xe.setAnimationLoop(Ae),o()&&xe.start()},this.submitFrame=function(){o()&&y.submitFrame()},this.dispose=function(){typeof window<"u"&&window.removeEventListener("vrdisplaypresentchange",a)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}function mL(n){function o(){return y!==null&&b!==null}function a(ue){for(var ae=0;ae<M.length;ae++)k[ae]===ue.inputSource&&M[ae].dispatchEvent({type:ue.type})}function c(){n.setFramebuffer(null),n.setRenderTarget(n.getRenderTarget()),he.stop()}function d(ue){b=ue,he.setContext(y),he.start()}function h(ue,ae){ae===null?ue.matrixWorld.copy(ue.matrix):ue.matrixWorld.multiplyMatrices(ae.matrixWorld,ue.matrix),ue.matrixWorldInverse.getInverse(ue.matrixWorld)}var p=n.context,y=null,b=null,_="local-floor",C=null,M=[],k=[],F=new In;F.layers.enable(1),F.viewport=new f;var z=new In;z.layers.enable(2),z.viewport=new f;var j=new jc([F,z]);j.layers.enable(1),j.layers.enable(2),this.enabled=!1,this.getController=function(ue){var ae=M[ue];return ae===void 0&&(ae=new Ya,ae.matrixAutoUpdate=!1,ae.visible=!1,M[ue]=ae),ae},this.setFramebufferScaleFactor=function(ue){},this.setReferenceSpaceType=function(ue){_=ue},this.setSession=function(ue){y=ue,y!==null&&(y.addEventListener("select",a),y.addEventListener("selectstart",a),y.addEventListener("selectend",a),y.addEventListener("end",c),y.updateRenderState({baseLayer:new XRWebGLLayer(y,p)}),y.requestReferenceSpace(_).then(d),k=y.inputSources,y.addEventListener("inputsourceschange",function(){k=y.inputSources,console.log(k);for(var ae=0;ae<M.length;ae++)M[ae].userData.inputSource=k[ae]}))},this.getCamera=function(ue){if(o()){var ae=ue.parent,be=j.cameras;h(j,ae);for(var pe=0;pe<be.length;pe++)h(be[pe],ae);for(ue.matrixWorld.copy(j.matrixWorld),ue=ue.children,pe=0,ae=ue.length;pe<ae;pe++)ue[pe].updateMatrixWorld(!0);return Db(j,F,z),j}return ue},this.isPresenting=o;var Q=null,he=new ne;he.setAnimationLoop(function(ue,ae){if(C=ae.getViewerPose(b),C!==null){var be=C.views,pe=y.renderState.baseLayer;n.setFramebuffer(pe.framebuffer);for(var _e=0;_e<be.length;_e++){var ke=be[_e],xe=pe.getViewport(ke),Ae=j.cameras[_e];Ae.matrix.fromArray(ke.transform.inverse.matrix).getInverse(Ae.matrix),Ae.projectionMatrix.fromArray(ke.projectionMatrix),Ae.viewport.set(xe.x,xe.y,xe.width,xe.height),_e===0&&j.matrix.copy(Ae.matrix)}}for(_e=0;_e<M.length;_e++){if(be=M[_e],(pe=k[_e])&&(pe=ae.getPose(pe.targetRaySpace,b),pe!==null)){be.matrix.fromArray(pe.transform.matrix),be.matrix.decompose(be.position,be.rotation,be.scale),be.visible=!0;continue}be.visible=!1}Q&&Q(ue)}),this.setAnimationLoop=function(ue){Q=ue},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new O},this.getDevice=function(){console.warn("THREE.WebXRManager: getDevice() has been deprecated.")},this.setDevice=function(){console.warn("THREE.WebXRManager: setDevice() has been deprecated.")},this.setFrameOfReferenceType=function(){console.warn("THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.")},this.submitFrame=function(){}}function $m(n){var o;function a(){yt=new br(Fe),sn=new gn(Fe,yt,n),sn.isWebGL2||(yt.get("WEBGL_depth_texture"),yt.get("OES_texture_float"),yt.get("OES_texture_half_float"),yt.get("OES_texture_half_float_linear"),yt.get("OES_standard_derivatives"),yt.get("OES_element_index_uint"),yt.get("ANGLE_instanced_arrays")),yt.get("OES_texture_float_linear"),Xr=new Ob(Fe,yt,sn),Nt=new fL(Fe,yt,Xr,sn),Nt.scissor(Ut.copy(Yt).multiplyScalar(tt)),Nt.viewport(Rt.copy(_t).multiplyScalar(tt)),Qi=new ja,Li=new sL,Yr=new pL(Fe,yt,Nt,Li,sn,Xr,Qi),rf=new re(Fe),Iv=new Pn(Fe,rf,Qi),Sl=new Bc(Iv,Qi),g_=new Wa(Fe),Qs=new oL(Re,yt,sn),of=new cL,Tl=new hL,Zo=new Qe(Re,Nt,Sl,_e),y_=new Pt(Fe,yt,Qi,sn),w_=new Ha(Fe,yt,Qi,sn),Qi.programs=Qs.programs,Re.context=Fe,Re.capabilities=sn,Re.extensions=yt,Re.properties=Li,Re.renderLists=of,Re.state=Nt,Re.info=Qi}function c(K){K.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),$e=!0}function d(){console.log("THREE.WebGLRenderer: Context Restored."),$e=!1,a()}function h(K){K=K.target,K.removeEventListener("dispose",h),p(K),Li.remove(K)}function p(K){var ve=Li.get(K).program;K.program=void 0,ve!==void 0&&Qs.releaseProgram(ve)}function y(K,ve){K.render(function(te){Re.renderBufferImmediate(te,ve)})}function b(K,ve,te,Ye){if(K.visible!==!1){if(K.layers.test(ve.layers)){if(K.isGroup)te=K.renderOrder;else if(K.isLight)Ge.pushLight(K),K.castShadow&&Ge.pushShadow(K);else if(K.isSprite){if(!K.frustumCulled||Ot.intersectsSprite(K)){Ye&&Dt.setFromMatrixPosition(K.matrixWorld).applyMatrix4(xt);var rt=Sl.update(K),ct=K.material;ct.visible&&De.push(K,rt,ct,te,Dt.z,null)}}else if(K.isImmediateRenderObject)Ye&&Dt.setFromMatrixPosition(K.matrixWorld).applyMatrix4(xt),De.push(K,null,K.material,te,Dt.z,null);else if((K.isMesh||K.isLine||K.isPoints)&&(K.isSkinnedMesh&&K.skeleton.update(),!K.frustumCulled||Ot.intersectsObject(K)))if(Ye&&Dt.setFromMatrixPosition(K.matrixWorld).applyMatrix4(xt),rt=Sl.update(K),ct=K.material,Array.isArray(ct))for(var Ze=rt.groups,dt=0,jt=Ze.length;dt<jt;dt++){var Sn=Ze[dt],Be=ct[Sn.materialIndex];Be&&Be.visible&&De.push(K,rt,Be,te,Dt.z,Sn)}else ct.visible&&De.push(K,rt,ct,te,Dt.z,null)}for(K=K.children,dt=0,jt=K.length;dt<jt;dt++)b(K[dt],ve,te,Ye)}}function _(K,ve,te,Ye){for(var rt=0,ct=K.length;rt<ct;rt++){var Ze=K[rt],dt=Ze.object,jt=Ze.geometry,Sn=Ye===void 0?Ze.material:Ye;if(Ze=Ze.group,te.isArrayCamera){bt=te;for(var Be=te.cameras,Kr=0,fi=Be.length;Kr<fi;Kr++){var $n=Be[Kr];dt.layers.test($n.layers)&&(Nt.viewport(Rt.copy($n.viewport)),Ge.setupLights($n),C(dt,ve,$n,jt,Sn,Ze))}}else bt=null,C(dt,ve,te,jt,Sn,Ze)}}function C(K,ve,te,Ye,rt,ct){if(K.onBeforeRender(Re,ve,te,Ye,rt,ct),Ge=Tl.get(ve,bt||te),K.modelViewMatrix.multiplyMatrices(te.matrixWorldInverse,K.matrixWorld),K.normalMatrix.getNormalMatrix(K.modelViewMatrix),K.isImmediateRenderObject){Nt.setMaterial(rt);var Ze=k(te,ve.fog,rt,K);qe=o=null,$t=!1,y(K,Ze)}else Re.renderBufferDirect(te,ve.fog,Ye,rt,K,ct);K.onAfterRender(Re,ve,te,Ye,rt,ct),Ge=Tl.get(ve,bt||te)}function M(K,ve,te){var Ye=Li.get(K),rt=Ge.state.lights,ct=Ye.lightsHash,Ze=rt.state.hash;te=Qs.getParameters(K,rt.state,Ge.state.shadowsArray,ve,lt.numPlanes,lt.numIntersection,te);var dt=Qs.getProgramCode(K,te),jt=Ye.program,Sn=!0;if(jt===void 0)K.addEventListener("dispose",h);else if(jt.code!==dt)p(K);else{if(ct.stateID!==Ze.stateID||ct.directionalLength!==Ze.directionalLength||ct.pointLength!==Ze.pointLength||ct.spotLength!==Ze.spotLength||ct.rectAreaLength!==Ze.rectAreaLength||ct.hemiLength!==Ze.hemiLength||ct.shadowsLength!==Ze.shadowsLength)ct.stateID=Ze.stateID,ct.directionalLength=Ze.directionalLength,ct.pointLength=Ze.pointLength,ct.spotLength=Ze.spotLength,ct.rectAreaLength=Ze.rectAreaLength,ct.hemiLength=Ze.hemiLength,ct.shadowsLength=Ze.shadowsLength;else if(te.shaderID!==void 0)return;Sn=!1}if(Sn&&(te.shaderID?(dt=qr[te.shaderID],Ye.shader={name:K.type,uniforms:H(dt.uniforms),vertexShader:dt.vertexShader,fragmentShader:dt.fragmentShader}):Ye.shader={name:K.type,uniforms:K.uniforms,vertexShader:K.vertexShader,fragmentShader:K.fragmentShader},K.onBeforeCompile(Ye.shader,Re),dt=Qs.getProgramCode(K,te),jt=Qs.acquireProgram(K,Ye.shader,te,dt),Ye.program=jt,K.program=jt),te=jt.getAttributes(),K.morphTargets)for(dt=K.numSupportedMorphTargets=0;dt<Re.maxMorphTargets;dt++)0<=te["morphTarget"+dt]&&K.numSupportedMorphTargets++;if(K.morphNormals)for(dt=K.numSupportedMorphNormals=0;dt<Re.maxMorphNormals;dt++)0<=te["morphNormal"+dt]&&K.numSupportedMorphNormals++;te=Ye.shader.uniforms,(!K.isShaderMaterial&&!K.isRawShaderMaterial||K.clipping===!0)&&(Ye.numClippingPlanes=lt.numPlanes,Ye.numIntersection=lt.numIntersection,te.clippingPlanes=lt.uniform),Ye.fog=ve,ct===void 0&&(Ye.lightsHash=ct={}),ct.stateID=Ze.stateID,ct.directionalLength=Ze.directionalLength,ct.pointLength=Ze.pointLength,ct.spotLength=Ze.spotLength,ct.rectAreaLength=Ze.rectAreaLength,ct.hemiLength=Ze.hemiLength,ct.shadowsLength=Ze.shadowsLength,K.lights&&(te.ambientLightColor.value=rt.state.ambient,te.lightProbe.value=rt.state.probe,te.directionalLights.value=rt.state.directional,te.spotLights.value=rt.state.spot,te.rectAreaLights.value=rt.state.rectArea,te.pointLights.value=rt.state.point,te.hemisphereLights.value=rt.state.hemi,te.directionalShadowMap.value=rt.state.directionalShadowMap,te.directionalShadowMatrix.value=rt.state.directionalShadowMatrix,te.spotShadowMap.value=rt.state.spotShadowMap,te.spotShadowMatrix.value=rt.state.spotShadowMatrix,te.pointShadowMap.value=rt.state.pointShadowMap,te.pointShadowMatrix.value=rt.state.pointShadowMatrix),K=Ye.program.getUniforms(),K=$o.seqWithValue(K.seq,te),Ye.uniformsList=K}function k(K,ve,te,Ye){Yr.resetTextureUnits();var rt=Li.get(te),ct=rt.lightsHash,Ze=Ge.state.lights.state.hash;gt&&(yn||K!==Vt)&&lt.setState(te.clippingPlanes,te.clipIntersection,te.clipShadows,K,rt,K===Vt&&te.id===Ve),te.needsUpdate===!1&&(rt.program===void 0||te.fog&&rt.fog!==ve?te.needsUpdate=!0:(!te.lights||ct.stateID===Ze.stateID&&ct.directionalLength===Ze.directionalLength&&ct.pointLength===Ze.pointLength&&ct.spotLength===Ze.spotLength&&ct.rectAreaLength===Ze.rectAreaLength&&ct.hemiLength===Ze.hemiLength&&ct.shadowsLength===Ze.shadowsLength)&&(rt.numClippingPlanes===void 0||rt.numClippingPlanes===lt.numPlanes&&rt.numIntersection===lt.numIntersection)||(te.needsUpdate=!0)),te.needsUpdate&&(M(te,ve,Ye),te.needsUpdate=!1);var dt=!1,jt=!1,Sn=!1;ct=rt.program,Ze=ct.getUniforms();var Be=rt.shader.uniforms;if(Nt.useProgram(ct.program)&&(Sn=jt=dt=!0),te.id!==Ve&&(Ve=te.id,jt=!0),(dt||Vt!==K)&&(Ze.setValue(Fe,"projectionMatrix",K.projectionMatrix),sn.logarithmicDepthBuffer&&Ze.setValue(Fe,"logDepthBufFC",2/(Math.log(K.far+1)/Math.LN2)),Vt!==K&&(Vt=K,Sn=jt=!0),(te.isShaderMaterial||te.isMeshPhongMaterial||te.isMeshStandardMaterial||te.envMap)&&(dt=Ze.map.cameraPosition,dt!==void 0&&dt.setValue(Fe,Dt.setFromMatrixPosition(K.matrixWorld))),(te.isMeshPhongMaterial||te.isMeshLambertMaterial||te.isMeshBasicMaterial||te.isMeshStandardMaterial||te.isShaderMaterial||te.skinning)&&Ze.setValue(Fe,"viewMatrix",K.matrixWorldInverse)),te.skinning&&(Ze.setOptional(Fe,Ye,"bindMatrix"),Ze.setOptional(Fe,Ye,"bindMatrixInverse"),K=Ye.skeleton))if(dt=K.bones,sn.floatVertexTextures){if(K.boneTexture===void 0){dt=Math.sqrt(4*dt.length),dt=Tt.ceilPowerOfTwo(dt),dt=Math.max(dt,4);var Kr=new Float32Array(dt*dt*4);Kr.set(K.boneMatrices);var fi=new x(Kr,dt,dt,1023,1015);fi.needsUpdate=!0,K.boneMatrices=Kr,K.boneTexture=fi,K.boneTextureSize=dt}Ze.setValue(Fe,"boneTexture",K.boneTexture,Yr),Ze.setValue(Fe,"boneTextureSize",K.boneTextureSize)}else Ze.setOptional(Fe,K,"boneMatrices");return jt&&(Ze.setValue(Fe,"toneMappingExposure",Re.toneMappingExposure),Ze.setValue(Fe,"toneMappingWhitePoint",Re.toneMappingWhitePoint),te.lights&&(jt=Sn,Be.ambientLightColor.needsUpdate=jt,Be.lightProbe.needsUpdate=jt,Be.directionalLights.needsUpdate=jt,Be.pointLights.needsUpdate=jt,Be.spotLights.needsUpdate=jt,Be.rectAreaLights.needsUpdate=jt,Be.hemisphereLights.needsUpdate=jt),ve&&te.fog&&(Be.fogColor.value.copy(ve.color),ve.isFog?(Be.fogNear.value=ve.near,Be.fogFar.value=ve.far):ve.isFogExp2&&(Be.fogDensity.value=ve.density)),te.isMeshBasicMaterial?F(Be,te):te.isMeshLambertMaterial?(F(Be,te),te.emissiveMap&&(Be.emissiveMap.value=te.emissiveMap)):te.isMeshPhongMaterial?(F(Be,te),te.isMeshToonMaterial?(z(Be,te),te.gradientMap&&(Be.gradientMap.value=te.gradientMap)):z(Be,te)):te.isMeshStandardMaterial?(F(Be,te),te.isMeshPhysicalMaterial?(j(Be,te),Be.reflectivity.value=te.reflectivity,Be.clearCoat.value=te.clearCoat,Be.clearCoatRoughness.value=te.clearCoatRoughness):j(Be,te)):te.isMeshMatcapMaterial?(F(Be,te),te.matcap&&(Be.matcap.value=te.matcap),te.bumpMap&&(Be.bumpMap.value=te.bumpMap,Be.bumpScale.value=te.bumpScale,te.side===1&&(Be.bumpScale.value*=-1)),te.normalMap&&(Be.normalMap.value=te.normalMap,Be.normalScale.value.copy(te.normalScale),te.side===1&&Be.normalScale.value.negate()),te.displacementMap&&(Be.displacementMap.value=te.displacementMap,Be.displacementScale.value=te.displacementScale,Be.displacementBias.value=te.displacementBias)):te.isMeshDepthMaterial?(F(Be,te),te.displacementMap&&(Be.displacementMap.value=te.displacementMap,Be.displacementScale.value=te.displacementScale,Be.displacementBias.value=te.displacementBias)):te.isMeshDistanceMaterial?(F(Be,te),te.displacementMap&&(Be.displacementMap.value=te.displacementMap,Be.displacementScale.value=te.displacementScale,Be.displacementBias.value=te.displacementBias),Be.referencePosition.value.copy(te.referencePosition),Be.nearDistance.value=te.nearDistance,Be.farDistance.value=te.farDistance):te.isMeshNormalMaterial?(F(Be,te),te.bumpMap&&(Be.bumpMap.value=te.bumpMap,Be.bumpScale.value=te.bumpScale,te.side===1&&(Be.bumpScale.value*=-1)),te.normalMap&&(Be.normalMap.value=te.normalMap,Be.normalScale.value.copy(te.normalScale),te.side===1&&Be.normalScale.value.negate()),te.displacementMap&&(Be.displacementMap.value=te.displacementMap,Be.displacementScale.value=te.displacementScale,Be.displacementBias.value=te.displacementBias)):te.isLineBasicMaterial?(Be.diffuse.value.copy(te.color),Be.opacity.value=te.opacity,te.isLineDashedMaterial&&(Be.dashSize.value=te.dashSize,Be.totalSize.value=te.dashSize+te.gapSize,Be.scale.value=te.scale)):te.isPointsMaterial?(Be.diffuse.value.copy(te.color),Be.opacity.value=te.opacity,Be.size.value=te.size*tt,Be.scale.value=.5*ge,Be.map.value=te.map,te.map!==null&&(te.map.matrixAutoUpdate===!0&&te.map.updateMatrix(),Be.uvTransform.value.copy(te.map.matrix))):te.isSpriteMaterial?(Be.diffuse.value.copy(te.color),Be.opacity.value=te.opacity,Be.rotation.value=te.rotation,Be.map.value=te.map,te.map!==null&&(te.map.matrixAutoUpdate===!0&&te.map.updateMatrix(),Be.uvTransform.value.copy(te.map.matrix))):te.isShadowMaterial&&(Be.color.value.copy(te.color),Be.opacity.value=te.opacity),Be.ltc_1!==void 0&&(Be.ltc_1.value=ut.LTC_1),Be.ltc_2!==void 0&&(Be.ltc_2.value=ut.LTC_2),$o.upload(Fe,rt.uniformsList,Be,Yr)),te.isShaderMaterial&&te.uniformsNeedUpdate===!0&&($o.upload(Fe,rt.uniformsList,Be,Yr),te.uniformsNeedUpdate=!1),te.isSpriteMaterial&&Ze.setValue(Fe,"center",Ye.center),Ze.setValue(Fe,"modelViewMatrix",Ye.modelViewMatrix),Ze.setValue(Fe,"normalMatrix",Ye.normalMatrix),Ze.setValue(Fe,"modelMatrix",Ye.matrixWorld),ct}function F(K,ve){if(K.opacity.value=ve.opacity,ve.color&&K.diffuse.value.copy(ve.color),ve.emissive&&K.emissive.value.copy(ve.emissive).multiplyScalar(ve.emissiveIntensity),ve.map&&(K.map.value=ve.map),ve.alphaMap&&(K.alphaMap.value=ve.alphaMap),ve.specularMap&&(K.specularMap.value=ve.specularMap),ve.envMap&&(K.envMap.value=ve.envMap,K.flipEnvMap.value=ve.envMap.isCubeTexture?-1:1,K.reflectivity.value=ve.reflectivity,K.refractionRatio.value=ve.refractionRatio,K.maxMipLevel.value=Li.get(ve.envMap).__maxMipLevel),ve.lightMap&&(K.lightMap.value=ve.lightMap,K.lightMapIntensity.value=ve.lightMapIntensity),ve.aoMap&&(K.aoMap.value=ve.aoMap,K.aoMapIntensity.value=ve.aoMapIntensity),ve.map)var te=ve.map;else ve.specularMap?te=ve.specularMap:ve.displacementMap?te=ve.displacementMap:ve.normalMap?te=ve.normalMap:ve.bumpMap?te=ve.bumpMap:ve.roughnessMap?te=ve.roughnessMap:ve.metalnessMap?te=ve.metalnessMap:ve.alphaMap?te=ve.alphaMap:ve.emissiveMap&&(te=ve.emissiveMap);te!==void 0&&(te.isWebGLRenderTarget&&(te=te.texture),te.matrixAutoUpdate===!0&&te.updateMatrix(),K.uvTransform.value.copy(te.matrix))}function z(K,ve){K.specular.value.copy(ve.specular),K.shininess.value=Math.max(ve.shininess,1e-4),ve.emissiveMap&&(K.emissiveMap.value=ve.emissiveMap),ve.bumpMap&&(K.bumpMap.value=ve.bumpMap,K.bumpScale.value=ve.bumpScale,ve.side===1&&(K.bumpScale.value*=-1)),ve.normalMap&&(K.normalMap.value=ve.normalMap,K.normalScale.value.copy(ve.normalScale),ve.side===1&&K.normalScale.value.negate()),ve.displacementMap&&(K.displacementMap.value=ve.displacementMap,K.displacementScale.value=ve.displacementScale,K.displacementBias.value=ve.displacementBias)}function j(K,ve){K.roughness.value=ve.roughness,K.metalness.value=ve.metalness,ve.roughnessMap&&(K.roughnessMap.value=ve.roughnessMap),ve.metalnessMap&&(K.metalnessMap.value=ve.metalnessMap),ve.emissiveMap&&(K.emissiveMap.value=ve.emissiveMap),ve.bumpMap&&(K.bumpMap.value=ve.bumpMap,K.bumpScale.value=ve.bumpScale,ve.side===1&&(K.bumpScale.value*=-1)),ve.normalMap&&(K.normalMap.value=ve.normalMap,K.normalScale.value.copy(ve.normalScale),ve.side===1&&K.normalScale.value.negate()),ve.displacementMap&&(K.displacementMap.value=ve.displacementMap,K.displacementScale.value=ve.displacementScale,K.displacementBias.value=ve.displacementBias),ve.envMap&&(K.envMapIntensity.value=ve.envMapIntensity)}console.log("THREE.WebGLRenderer","105"),n=n||{};var Q=n.canvas!==void 0?n.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),he=n.context!==void 0?n.context:null,ue=n.alpha!==void 0?n.alpha:!1,ae=n.depth!==void 0?n.depth:!0,be=n.stencil!==void 0?n.stencil:!0,pe=n.antialias!==void 0?n.antialias:!1,_e=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,ke=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,xe=n.powerPreference!==void 0?n.powerPreference:"default",Ae=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1,De=null,Ge=null;this.domElement=Q,this.context=null,this.debug={checkShaderErrors:!0},this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1,this.toneMappingWhitePoint=this.toneMappingExposure=this.toneMapping=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var Re=this,$e=!1,wt=null,J=0,oe=0,ye=null,Me=null,Ve=-1,qe=o=null,$t=!1,Vt=null,bt=null,Rt=new f,Ut=new f,Un=null,Je=Q.width,ge=Q.height,tt=1,_t=new f(0,0,Je,ge),Yt=new f(0,0,Je,ge),vt=!1,Ot=new D,lt=new Wt,gt=!1,yn=!1,xt=new O,Dt=new s;try{ue={alpha:ue,depth:ae,stencil:be,antialias:pe,premultipliedAlpha:_e,preserveDrawingBuffer:ke,powerPreference:xe,failIfMajorPerformanceCaveat:Ae,xrCompatible:!0},Q.addEventListener("webglcontextlost",c,!1),Q.addEventListener("webglcontextrestored",d,!1);var Fe=he||Q.getContext("webgl",ue)||Q.getContext("experimental-webgl",ue);if(Fe===null)throw Q.getContext("webgl")!==null?Error("Error creating WebGL context with your selected attributes."):Error("Error creating WebGL context.");Fe.getShaderPrecisionFormat===void 0&&(Fe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(K){throw console.error("THREE.WebGLRenderer: "+K.message),K}var yt,sn,Nt,Qi,Li,Yr,rf,Iv,Sl,Qs,of,Tl,Zo,g_,y_,w_,Xr;a();var _o=typeof navigator<"u"&&"xr"in navigator&&"supportsSession"in navigator.xr?new mL(Re):new Nb(Re);this.vr=_o;var b_=new Pb(Re,Sl,sn.maxTextureSize);this.shadowMap=b_,this.getContext=function(){return Fe},this.getContextAttributes=function(){return Fe.getContextAttributes()},this.forceContextLoss=function(){var K=yt.get("WEBGL_lose_context");K&&K.loseContext()},this.forceContextRestore=function(){var K=yt.get("WEBGL_lose_context");K&&K.restoreContext()},this.getPixelRatio=function(){return tt},this.setPixelRatio=function(K){K!==void 0&&(tt=K,this.setSize(Je,ge,!1))},this.getSize=function(K){return K===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),K=new i),K.set(Je,ge)},this.setSize=function(K,ve,te){_o.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(Je=K,ge=ve,Q.width=K*tt,Q.height=ve*tt,te!==!1&&(Q.style.width=K+"px",Q.style.height=ve+"px"),this.setViewport(0,0,K,ve))},this.getDrawingBufferSize=function(K){return K===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),K=new i),K.set(Je*tt,ge*tt)},this.setDrawingBufferSize=function(K,ve,te){Je=K,ge=ve,tt=te,Q.width=K*te,Q.height=ve*te,this.setViewport(0,0,K,ve)},this.getCurrentViewport=function(K){return K===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),K=new f),K.copy(Rt)},this.getViewport=function(K){return K.copy(_t)},this.setViewport=function(K,ve,te,Ye){K.isVector4?_t.set(K.x,K.y,K.z,K.w):_t.set(K,ve,te,Ye),Nt.viewport(Rt.copy(_t).multiplyScalar(tt))},this.getScissor=function(K){return K.copy(Yt)},this.setScissor=function(K,ve,te,Ye){K.isVector4?Yt.set(K.x,K.y,K.z,K.w):Yt.set(K,ve,te,Ye),Nt.scissor(Ut.copy(Yt).multiplyScalar(tt))},this.getScissorTest=function(){return vt},this.setScissorTest=function(K){Nt.setScissorTest(vt=K)},this.getClearColor=function(){return Zo.getClearColor()},this.setClearColor=function(){Zo.setClearColor.apply(Zo,arguments)},this.getClearAlpha=function(){return Zo.getClearAlpha()},this.setClearAlpha=function(){Zo.setClearAlpha.apply(Zo,arguments)},this.clear=function(K,ve,te){var Ye=0;(K===void 0||K)&&(Ye|=16384),(ve===void 0||ve)&&(Ye|=256),(te===void 0||te)&&(Ye|=1024),Fe.clear(Ye)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){Q.removeEventListener("webglcontextlost",c,!1),Q.removeEventListener("webglcontextrestored",d,!1),of.dispose(),Tl.dispose(),Li.dispose(),Sl.dispose(),_o.dispose(),sf.stop()},this.renderBufferImmediate=function(K,ve){Nt.initAttributes();var te=Li.get(K);K.hasPositions&&!te.position&&(te.position=Fe.createBuffer()),K.hasNormals&&!te.normal&&(te.normal=Fe.createBuffer()),K.hasUvs&&!te.uv&&(te.uv=Fe.createBuffer()),K.hasColors&&!te.color&&(te.color=Fe.createBuffer()),ve=ve.getAttributes(),K.hasPositions&&(Fe.bindBuffer(34962,te.position),Fe.bufferData(34962,K.positionArray,35048),Nt.enableAttribute(ve.position),Fe.vertexAttribPointer(ve.position,3,5126,!1,0,0)),K.hasNormals&&(Fe.bindBuffer(34962,te.normal),Fe.bufferData(34962,K.normalArray,35048),Nt.enableAttribute(ve.normal),Fe.vertexAttribPointer(ve.normal,3,5126,!1,0,0)),K.hasUvs&&(Fe.bindBuffer(34962,te.uv),Fe.bufferData(34962,K.uvArray,35048),Nt.enableAttribute(ve.uv),Fe.vertexAttribPointer(ve.uv,2,5126,!1,0,0)),K.hasColors&&(Fe.bindBuffer(34962,te.color),Fe.bufferData(34962,K.colorArray,35048),Nt.enableAttribute(ve.color),Fe.vertexAttribPointer(ve.color,3,5126,!1,0,0)),Nt.disableUnusedAttributes(),Fe.drawArrays(4,0,K.count),K.count=0},this.renderBufferDirect=function(K,ve,te,Ye,rt,ct){var Ze=rt.isMesh&&0>rt.matrixWorld.determinant();Nt.setMaterial(Ye,Ze);var dt=k(K,ve,Ye,rt),jt=!1;(o!==te.id||qe!==dt.id||$t!==(Ye.wireframe===!0))&&(o=te.id,qe=dt.id,$t=Ye.wireframe===!0,jt=!0),rt.morphTargetInfluences&&(g_.update(rt,te,Ye,dt),jt=!0),Ze=te.index;var Sn=te.attributes.position;if(ve=1,Ye.wireframe===!0&&(Ze=Iv.getWireframeAttribute(te),ve=2),K=y_,Ze!==null){var Be=rf.get(Ze);K=w_,K.setIndex(Be)}if(jt){if(te&&te.isInstancedBufferGeometry&&!sn.isWebGL2&&yt.get("ANGLE_instanced_arrays")===null)console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{Nt.initAttributes(),jt=te.attributes,dt=dt.getAttributes();var Kr=Ye.defaultAttributeValues;for(Zs in dt){var fi=dt[Zs];if(0<=fi){var $n=jt[Zs];if($n!==void 0){var xo=$n.normalized,__=$n.itemSize,Js=rf.get($n);if(Js!==void 0){var x_=Js.buffer,E_=Js.type;if(Js=Js.bytesPerElement,$n.isInterleavedBufferAttribute){var Al=$n.data,NL=Al.stride;$n=$n.offset,Al&&Al.isInstancedInterleavedBuffer?(Nt.enableAttributeAndDivisor(fi,Al.meshPerAttribute),te.maxInstancedCount===void 0&&(te.maxInstancedCount=Al.meshPerAttribute*Al.count)):Nt.enableAttribute(fi),Fe.bindBuffer(34962,x_),Fe.vertexAttribPointer(fi,__,E_,xo,NL*Js,$n*Js)}else $n.isInstancedBufferAttribute?(Nt.enableAttributeAndDivisor(fi,$n.meshPerAttribute),te.maxInstancedCount===void 0&&(te.maxInstancedCount=$n.meshPerAttribute*$n.count)):Nt.enableAttribute(fi),Fe.bindBuffer(34962,x_),Fe.vertexAttribPointer(fi,__,E_,xo,0,0)}}else if(Kr!==void 0&&(xo=Kr[Zs],xo!==void 0))switch(xo.length){case 2:Fe.vertexAttrib2fv(fi,xo);break;case 3:Fe.vertexAttrib3fv(fi,xo);break;case 4:Fe.vertexAttrib4fv(fi,xo);break;default:Fe.vertexAttrib1fv(fi,xo)}}}Nt.disableUnusedAttributes()}Ze!==null&&Fe.bindBuffer(34963,Be.buffer)}Be=1/0,Ze!==null?Be=Ze.count:Sn!==void 0&&(Be=Sn.count),Ze=te.drawRange.start*ve,Sn=ct!==null?ct.start*ve:0;var Zs=Math.max(Ze,Sn);if(ct=Math.max(0,Math.min(Be,Ze+te.drawRange.count*ve,Sn+(ct!==null?ct.count*ve:1/0))-1-Zs+1),ct!==0){if(rt.isMesh)if(Ye.wireframe===!0)Nt.setLineWidth(Ye.wireframeLinewidth*(ye===null?tt:1)),K.setMode(1);else switch(rt.drawMode){case 0:K.setMode(4);break;case 1:K.setMode(5);break;case 2:K.setMode(6)}else rt.isLine?(Ye=Ye.linewidth,Ye===void 0&&(Ye=1),Nt.setLineWidth(Ye*(ye===null?tt:1)),rt.isLineSegments?K.setMode(1):rt.isLineLoop?K.setMode(2):K.setMode(3)):rt.isPoints?K.setMode(0):rt.isSprite&&K.setMode(4);te&&te.isInstancedBufferGeometry?0<te.maxInstancedCount&&K.renderInstances(te,Zs,ct):K.render(Zs,ct)}},this.compile=function(K,ve){Ge=Tl.get(K,ve),Ge.init(),K.traverse(function(te){te.isLight&&(Ge.pushLight(te),te.castShadow&&Ge.pushShadow(te))}),Ge.setupLights(ve),K.traverse(function(te){if(te.material)if(Array.isArray(te.material))for(var Ye=0;Ye<te.material.length;Ye++)M(te.material[Ye],K.fog,te);else M(te.material,K.fog,te)})};var Rv=null,sf=new ne;sf.setAnimationLoop(function(K){_o.isPresenting()||Rv&&Rv(K)}),typeof window<"u"&&sf.setContext(window),this.setAnimationLoop=function(K){Rv=K,_o.setAnimationLoop(K),sf.start()},this.render=function(K,ve,te,Ye){if(te!==void 0){console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.");var rt=te}if(Ye!==void 0){console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.");var ct=Ye}ve&&ve.isCamera?$e||(qe=o=null,$t=!1,Ve=-1,Vt=null,K.autoUpdate===!0&&K.updateMatrixWorld(),ve.parent===null&&ve.updateMatrixWorld(),_o.enabled&&(ve=_o.getCamera(ve)),Ge=Tl.get(K,ve),Ge.init(),K.onBeforeRender(Re,K,ve,rt||ye),xt.multiplyMatrices(ve.projectionMatrix,ve.matrixWorldInverse),Ot.setFromMatrix(xt),yn=this.localClippingEnabled,gt=lt.init(this.clippingPlanes,yn,ve),De=of.get(K,ve),De.init(),b(K,ve,0,Re.sortObjects),Re.sortObjects===!0&&De.sort(),gt&&lt.beginShadows(),b_.render(Ge.state.shadowsArray,K,ve),Ge.setupLights(ve),gt&&lt.endShadows(),this.info.autoReset&&this.info.reset(),rt!==void 0&&this.setRenderTarget(rt),Zo.render(De,K,ve,ct),te=De.opaque,Ye=De.transparent,K.overrideMaterial?(rt=K.overrideMaterial,te.length&&_(te,K,ve,rt),Ye.length&&_(Ye,K,ve,rt)):(te.length&&_(te,K,ve),Ye.length&&_(Ye,K,ve)),K.onAfterRender(Re,K,ve),ye!==null&&(Yr.updateRenderTargetMipmap(ye),Yr.updateMultisampleRenderTarget(ye)),Nt.buffers.depth.setTest(!0),Nt.buffers.depth.setMask(!0),Nt.buffers.color.setMask(!0),Nt.setPolygonOffset(!1),_o.enabled&&_o.submitFrame(),Ge=De=null):console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(K){wt!==K&&Fe.bindFramebuffer(36160,K),wt=K},this.getActiveCubeFace=function(){return J},this.getActiveMipMapLevel=function(){return oe},this.getRenderTarget=function(){return ye},this.setRenderTarget=function(K,ve,te){ye=K,J=ve,oe=te,K&&Li.get(K).__webglFramebuffer===void 0&&Yr.setupRenderTarget(K);var Ye=wt,rt=!1;K?(Ye=Li.get(K).__webglFramebuffer,K.isWebGLRenderTargetCube?(Ye=Ye[ve||0],rt=!0):Ye=K.isWebGLMultisampleRenderTarget?Li.get(K).__webglMultisampledFramebuffer:Ye,Rt.copy(K.viewport),Ut.copy(K.scissor),Un=K.scissorTest):(Rt.copy(_t).multiplyScalar(tt),Ut.copy(Yt).multiplyScalar(tt),Un=vt),Me!==Ye&&(Fe.bindFramebuffer(36160,Ye),Me=Ye),Nt.viewport(Rt),Nt.scissor(Ut),Nt.setScissorTest(Un),rt&&(K=Li.get(K.texture),Fe.framebufferTexture2D(36160,36064,34069+(ve||0),K.__webglTexture,te||0))},this.readRenderTargetPixels=function(K,ve,te,Ye,rt,ct,Ze){if(K&&K.isWebGLRenderTarget){var dt=Li.get(K).__webglFramebuffer;if(K.isWebGLRenderTargetCube&&Ze!==void 0&&(dt=dt[Ze]),dt){Ze=!1,dt!==Me&&(Fe.bindFramebuffer(36160,dt),Ze=!0);try{var jt=K.texture,Sn=jt.format,Be=jt.type;Sn!==1023&&Xr.convert(Sn)!==Fe.getParameter(35739)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):Be===1009||Xr.convert(Be)===Fe.getParameter(35738)||Be===1015&&(sn.isWebGL2||yt.get("OES_texture_float")||yt.get("WEBGL_color_buffer_float"))||Be===1016&&(sn.isWebGL2?yt.get("EXT_color_buffer_float"):yt.get("EXT_color_buffer_half_float"))?Fe.checkFramebufferStatus(36160)===36053?0<=ve&&ve<=K.width-Ye&&0<=te&&te<=K.height-rt&&Fe.readPixels(ve,te,Ye,rt,Xr.convert(Sn),Xr.convert(Be),ct):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{Ze&&Fe.bindFramebuffer(36160,Me)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(K,ve,te){var Ye=ve.image.width,rt=ve.image.height,ct=Xr.convert(ve.format);Yr.setTexture2D(ve,0),Fe.copyTexImage2D(3553,te||0,ct,K.x,K.y,Ye,rt,0)},this.copyTextureToTexture=function(K,ve,te,Ye){var rt=ve.image.width,ct=ve.image.height,Ze=Xr.convert(te.format),dt=Xr.convert(te.type);Yr.setTexture2D(te,0),ve.isDataTexture?Fe.texSubImage2D(3553,Ye||0,K.x,K.y,rt,ct,Ze,dt,ve.image.data):Fe.texSubImage2D(3553,Ye||0,K.x,K.y,Ze,dt,ve.image)}}function Ah(n,o){this.name="",this.color=new U(n),this.density=o!==void 0?o:25e-5}function Ch(n,o,a){this.name="",this.color=new U(n),this.near=o!==void 0?o:1,this.far=a!==void 0?a:1e3}function Mh(){B.call(this),this.type="Scene",this.overrideMaterial=this.fog=this.background=null,this.autoUpdate=!0}function Os(n,o){this.array=n,this.stride=o,this.count=n!==void 0?n.length/o:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Gc(n,o,a,c){this.data=n,this.itemSize=o,this.offset=a,this.normalized=c===!0}function Xo(n){we.call(this),this.type="SpriteMaterial",this.color=new U(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(n)}function Wc(n){if(B.call(this),this.type="Sprite",El===void 0){El=new ie;var o=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);o=new Os(o,5),El.setIndex([0,1,2,0,2,3]),El.addAttribute("position",new Gc(o,3,0,!1)),El.addAttribute("uv",new Gc(o,2,3,!1))}this.geometry=El,this.material=n!==void 0?n:new Xo,this.center=new i(.5,.5)}function $c(){B.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function qc(n,o){n&&n.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),it.call(this,n,o),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new O,this.bindMatrixInverse=new O}function Ih(n,o){if(n=n||[],this.bones=n.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),o===void 0)this.calculateInverses();else if(this.bones.length===o.length)this.boneInverses=o.slice(0);else for(console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[],n=0,o=this.bones.length;n<o;n++)this.boneInverses.push(new O)}function qm(){B.call(this),this.type="Bone"}function tn(n){we.call(this),this.type="LineBasicMaterial",this.color=new U(16777215),this.linewidth=1,this.linejoin=this.linecap="round",this.lights=!1,this.setValues(n)}function ei(n,o,a){a===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),B.call(this),this.type="Line",this.geometry=n!==void 0?n:new ie,this.material=o!==void 0?o:new tn({color:16777215*Math.random()})}function an(n,o){ei.call(this,n,o),this.type="LineSegments"}function Rh(n,o){ei.call(this,n,o),this.type="LineLoop"}function _r(n){we.call(this),this.type="PointsMaterial",this.color=new U(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=this.morphTargets=!1,this.setValues(n)}function Xa(n,o){B.call(this),this.type="Points",this.geometry=n!==void 0?n:new ie,this.material=o!==void 0?o:new _r({color:16777215*Math.random()})}function Ym(n,o,a,c,d,h,p,y,b){u.call(this,n,o,a,c,d,h,p,y,b),this.format=p!==void 0?p:1022,this.minFilter=h!==void 0?h:1006,this.magFilter=d!==void 0?d:1006,this.generateMipmaps=!1}function Ka(n,o,a,c,d,h,p,y,b,_,C,M){u.call(this,null,h,p,y,b,_,c,d,C,M),this.image={width:o,height:a},this.mipmaps=n,this.generateMipmaps=this.flipY=!1}function Yc(n,o,a,c,d,h,p,y,b){u.call(this,n,o,a,c,d,h,p,y,b),this.needsUpdate=!0}function Xc(n,o,a,c,d,h,p,y,b,_){if(_=_!==void 0?_:1026,_!==1026&&_!==1027)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");a===void 0&&_===1026&&(a=1012),a===void 0&&_===1027&&(a=1020),u.call(this,null,c,d,h,p,y,_,a,b),this.image={width:n,height:o},this.magFilter=p!==void 0?p:1003,this.minFilter=y!==void 0?y:1003,this.generateMipmaps=this.flipY=!1}function Qa(n){ie.call(this),this.type="WireframeGeometry";var o=[],a,c,d,h=[0,0],p={},y=["a","b","c"];if(n&&n.isGeometry){var b=n.faces,_=0;for(c=b.length;_<c;_++){var C=b[_];for(a=0;3>a;a++){var M=C[y[a]],k=C[y[(a+1)%3]];h[0]=Math.min(M,k),h[1]=Math.max(M,k),M=h[0]+","+h[1],p[M]===void 0&&(p[M]={index1:h[0],index2:h[1]})}}for(M in p)_=p[M],y=n.vertices[_.index1],o.push(y.x,y.y,y.z),y=n.vertices[_.index2],o.push(y.x,y.y,y.z)}else if(n&&n.isBufferGeometry)if(y=new s,n.index!==null){b=n.attributes.position,C=n.index;var F=n.groups;for(F.length===0&&(F=[{start:0,count:C.count,materialIndex:0}]),n=0,d=F.length;n<d;++n)for(_=F[n],a=_.start,c=_.count,_=a,c=a+c;_<c;_+=3)for(a=0;3>a;a++)M=C.getX(_+a),k=C.getX(_+(a+1)%3),h[0]=Math.min(M,k),h[1]=Math.max(M,k),M=h[0]+","+h[1],p[M]===void 0&&(p[M]={index1:h[0],index2:h[1]});for(M in p)_=p[M],y.fromBufferAttribute(b,_.index1),o.push(y.x,y.y,y.z),y.fromBufferAttribute(b,_.index2),o.push(y.x,y.y,y.z)}else for(b=n.attributes.position,_=0,c=b.count/3;_<c;_++)for(a=0;3>a;a++)p=3*_+a,y.fromBufferAttribute(b,p),o.push(y.x,y.y,y.z),p=3*_+(a+1)%3,y.fromBufferAttribute(b,p),o.push(y.x,y.y,y.z);this.addAttribute("position",new N(o,3))}function Kc(n,o,a){G.call(this),this.type="ParametricGeometry",this.parameters={func:n,slices:o,stacks:a},this.fromBufferGeometry(new Ja(n,o,a)),this.mergeVertices()}function Ja(n,o,a){ie.call(this),this.type="ParametricBufferGeometry",this.parameters={func:n,slices:o,stacks:a};var c=[],d=[],h=[],p=[],y=new s,b=new s,_=new s,C=new s,M=new s,k,F;3>n.length&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var z=o+1;for(k=0;k<=a;k++){var j=k/a;for(F=0;F<=o;F++){var Q=F/o;n(Q,j,b),d.push(b.x,b.y,b.z),0<=Q-1e-5?(n(Q-1e-5,j,_),C.subVectors(b,_)):(n(Q+1e-5,j,_),C.subVectors(_,b)),0<=j-1e-5?(n(Q,j-1e-5,_),M.subVectors(b,_)):(n(Q,j+1e-5,_),M.subVectors(_,b)),y.crossVectors(C,M).normalize(),h.push(y.x,y.y,y.z),p.push(Q,j)}}for(k=0;k<a;k++)for(F=0;F<o;F++)n=k*z+F+1,y=(k+1)*z+F+1,b=(k+1)*z+F,c.push(k*z+F,n,b),c.push(n,y,b);this.setIndex(c),this.addAttribute("position",new N(d,3)),this.addAttribute("normal",new N(h,3)),this.addAttribute("uv",new N(p,2))}function Qc(n,o,a,c){G.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:n,indices:o,radius:a,detail:c},this.fromBufferGeometry(new Bi(n,o,a,c)),this.mergeVertices()}function Bi(n,o,a,c){function d(_){y.push(_.x,_.y,_.z)}function h(_,C){_*=3,C.x=n[_+0],C.y=n[_+1],C.z=n[_+2]}function p(_,C,M,k){0>k&&_.x===1&&(b[C]=_.x-1),M.x===0&&M.z===0&&(b[C]=k/2/Math.PI+.5)}ie.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:n,indices:o,radius:a,detail:c},a=a||1,c=c||0;var y=[],b=[];(function(_){for(var C=new s,M=new s,k=new s,F=0;F<o.length;F+=3){h(o[F+0],C),h(o[F+1],M),h(o[F+2],k);var z,j,Q=C,he=M,ue=k,ae=Math.pow(2,_),be=[];for(j=0;j<=ae;j++){be[j]=[];var pe=Q.clone().lerp(ue,j/ae),_e=he.clone().lerp(ue,j/ae),ke=ae-j;for(z=0;z<=ke;z++)be[j][z]=z===0&&j===ae?pe:pe.clone().lerp(_e,z/ke)}for(j=0;j<ae;j++)for(z=0;z<2*(ae-j)-1;z++)Q=Math.floor(z/2),z%2===0?(d(be[j][Q+1]),d(be[j+1][Q]),d(be[j][Q])):(d(be[j][Q+1]),d(be[j+1][Q+1]),d(be[j+1][Q]))}})(c),function(_){for(var C=new s,M=0;M<y.length;M+=3)C.x=y[M+0],C.y=y[M+1],C.z=y[M+2],C.normalize().multiplyScalar(_),y[M+0]=C.x,y[M+1]=C.y,y[M+2]=C.z}(a),function(){for(var _=new s,C=0;C<y.length;C+=3)_.x=y[C+0],_.y=y[C+1],_.z=y[C+2],b.push(Math.atan2(_.z,-_.x)/2/Math.PI+.5,1-(Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))/Math.PI+.5));_=new s,C=new s;for(var M=new s,k=new s,F=new i,z=new i,j=new i,Q=0,he=0;Q<y.length;Q+=9,he+=6){_.set(y[Q+0],y[Q+1],y[Q+2]),C.set(y[Q+3],y[Q+4],y[Q+5]),M.set(y[Q+6],y[Q+7],y[Q+8]),F.set(b[he+0],b[he+1]),z.set(b[he+2],b[he+3]),j.set(b[he+4],b[he+5]),k.copy(_).add(C).add(M).divideScalar(3);var ue=Math.atan2(k.z,-k.x);p(F,he+0,_,ue),p(z,he+2,C,ue),p(j,he+4,M,ue)}for(_=0;_<b.length;_+=6)C=b[_+0],M=b[_+2],k=b[_+4],F=Math.min(C,M,k),.9<Math.max(C,M,k)&&.1>F&&(.2>C&&(b[_+0]+=1),.2>M&&(b[_+2]+=1),.2>k&&(b[_+4]+=1))}(),this.addAttribute("position",new N(y,3)),this.addAttribute("normal",new N(y.slice(),3)),this.addAttribute("uv",new N(b,2)),c===0?this.computeVertexNormals():this.normalizeNormals()}function Jc(n,o){G.call(this),this.type="TetrahedronGeometry",this.parameters={radius:n,detail:o},this.fromBufferGeometry(new Za(n,o)),this.mergeVertices()}function Za(n,o){Bi.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],n,o),this.type="TetrahedronBufferGeometry",this.parameters={radius:n,detail:o}}function Zc(n,o){G.call(this),this.type="OctahedronGeometry",this.parameters={radius:n,detail:o},this.fromBufferGeometry(new Ds(n,o)),this.mergeVertices()}function Ds(n,o){Bi.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],n,o),this.type="OctahedronBufferGeometry",this.parameters={radius:n,detail:o}}function eu(n,o){G.call(this),this.type="IcosahedronGeometry",this.parameters={radius:n,detail:o},this.fromBufferGeometry(new el(n,o)),this.mergeVertices()}function el(n,o){var a=(1+Math.sqrt(5))/2;Bi.call(this,[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],n,o),this.type="IcosahedronBufferGeometry",this.parameters={radius:n,detail:o}}function tu(n,o){G.call(this),this.type="DodecahedronGeometry",this.parameters={radius:n,detail:o},this.fromBufferGeometry(new tl(n,o)),this.mergeVertices()}function tl(n,o){var a=(1+Math.sqrt(5))/2,c=1/a;Bi.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-c,-a,0,-c,a,0,c,-a,0,c,a,-c,-a,0,-c,a,0,c,-a,0,c,a,0,-a,0,-c,a,0,-c,-a,0,c,a,0,c],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],n,o),this.type="DodecahedronBufferGeometry",this.parameters={radius:n,detail:o}}function nu(n,o,a,c,d,h){G.call(this),this.type="TubeGeometry",this.parameters={path:n,tubularSegments:o,radius:a,radialSegments:c,closed:d},h!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed."),n=new Ns(n,o,a,c,d),this.tangents=n.tangents,this.normals=n.normals,this.binormals=n.binormals,this.fromBufferGeometry(n),this.mergeVertices()}function Ns(n,o,a,c,d){function h(he){C=n.getPointAt(he/o,C);var ue=p.normals[he];for(he=p.binormals[he],k=0;k<=c;k++){var ae=k/c*Math.PI*2,be=Math.sin(ae);ae=-Math.cos(ae),b.x=ae*ue.x+be*he.x,b.y=ae*ue.y+be*he.y,b.z=ae*ue.z+be*he.z,b.normalize(),z.push(b.x,b.y,b.z),y.x=C.x+a*b.x,y.y=C.y+a*b.y,y.z=C.z+a*b.z,F.push(y.x,y.y,y.z)}}ie.call(this),this.type="TubeBufferGeometry",this.parameters={path:n,tubularSegments:o,radius:a,radialSegments:c,closed:d},o=o||64,a=a||1,c=c||8,d=d||!1;var p=n.computeFrenetFrames(o,d);this.tangents=p.tangents,this.normals=p.normals,this.binormals=p.binormals;var y=new s,b=new s,_=new i,C=new s,M,k,F=[],z=[],j=[],Q=[];for(M=0;M<o;M++)h(M);for(h(d===!1?o:0),M=0;M<=o;M++)for(k=0;k<=c;k++)_.x=M/o,_.y=k/c,j.push(_.x,_.y);(function(){for(k=1;k<=o;k++)for(M=1;M<=c;M++){var he=(c+1)*k+(M-1),ue=(c+1)*k+M,ae=(c+1)*(k-1)+M;Q.push((c+1)*(k-1)+(M-1),he,ae),Q.push(he,ue,ae)}})(),this.setIndex(Q),this.addAttribute("position",new N(F,3)),this.addAttribute("normal",new N(z,3)),this.addAttribute("uv",new N(j,2))}function iu(n,o,a,c,d,h,p){G.call(this),this.type="TorusKnotGeometry",this.parameters={radius:n,tube:o,tubularSegments:a,radialSegments:c,p:d,q:h},p!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new nl(n,o,a,c,d,h)),this.mergeVertices()}function nl(n,o,a,c,d,h){function p(_e,ke,xe,Ae,De){var Ge=Math.sin(_e);ke=xe/ke*_e,xe=Math.cos(ke),De.x=Ae*(2+xe)*.5*Math.cos(_e),De.y=Ae*(2+xe)*Ge*.5,De.z=Ae*Math.sin(ke)*.5}ie.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:n,tube:o,tubularSegments:a,radialSegments:c,p:d,q:h},n=n||1,o=o||.4,a=Math.floor(a)||64,c=Math.floor(c)||8,d=d||2,h=h||3;var y=[],b=[],_=[],C=[],M,k=new s,F=new s,z=new s,j=new s,Q=new s,he=new s,ue=new s;for(M=0;M<=a;++M){var ae=M/a*d*Math.PI*2;for(p(ae,d,h,n,z),p(ae+.01,d,h,n,j),he.subVectors(j,z),ue.addVectors(j,z),Q.crossVectors(he,ue),ue.crossVectors(Q,he),Q.normalize(),ue.normalize(),ae=0;ae<=c;++ae){var be=ae/c*Math.PI*2,pe=-o*Math.cos(be);be=o*Math.sin(be),k.x=z.x+(pe*ue.x+be*Q.x),k.y=z.y+(pe*ue.y+be*Q.y),k.z=z.z+(pe*ue.z+be*Q.z),b.push(k.x,k.y,k.z),F.subVectors(k,z).normalize(),_.push(F.x,F.y,F.z),C.push(M/a),C.push(ae/c)}}for(ae=1;ae<=a;ae++)for(M=1;M<=c;M++)n=(c+1)*ae+(M-1),o=(c+1)*ae+M,d=(c+1)*(ae-1)+M,y.push((c+1)*(ae-1)+(M-1),n,d),y.push(n,o,d);this.setIndex(y),this.addAttribute("position",new N(b,3)),this.addAttribute("normal",new N(_,3)),this.addAttribute("uv",new N(C,2))}function ru(n,o,a,c,d){G.call(this),this.type="TorusGeometry",this.parameters={radius:n,tube:o,radialSegments:a,tubularSegments:c,arc:d},this.fromBufferGeometry(new il(n,o,a,c,d)),this.mergeVertices()}function il(n,o,a,c,d){ie.call(this),this.type="TorusBufferGeometry",this.parameters={radius:n,tube:o,radialSegments:a,tubularSegments:c,arc:d},n=n||1,o=o||.4,a=Math.floor(a)||8,c=Math.floor(c)||6,d=d||2*Math.PI;var h=[],p=[],y=[],b=[],_=new s,C=new s,M=new s,k,F;for(k=0;k<=a;k++)for(F=0;F<=c;F++){var z=F/c*d,j=k/a*Math.PI*2;C.x=(n+o*Math.cos(j))*Math.cos(z),C.y=(n+o*Math.cos(j))*Math.sin(z),C.z=o*Math.sin(j),p.push(C.x,C.y,C.z),_.x=n*Math.cos(z),_.y=n*Math.sin(z),M.subVectors(C,_).normalize(),y.push(M.x,M.y,M.z),b.push(F/c),b.push(k/a)}for(k=1;k<=a;k++)for(F=1;F<=c;F++)n=(c+1)*(k-1)+F-1,o=(c+1)*(k-1)+F,d=(c+1)*k+F,h.push((c+1)*k+F-1,n,d),h.push(n,o,d);this.setIndex(h),this.addAttribute("position",new N(p,3)),this.addAttribute("normal",new N(y,3)),this.addAttribute("uv",new N(b,2))}function Vb(n,o,a,c,d){for(var h,p=0,y=o,b=a-c;y<a;y+=c)p+=(n[b]-n[y])*(n[y+1]+n[b+1]),b=y;if(d===0<p)for(d=o;d<a;d+=c)h=Ub(d,n[d],n[d+1],h);else for(d=a-c;d>=o;d-=c)h=Ub(d,n[d],n[d+1],h);return h&&Vs(h,h.next)&&(lu(h),h=h.next),h}function ou(n,o){if(!n)return n;o||(o=n);do{var a=!1;if(n.steiner||!Vs(n,n.next)&&Ri(n.prev,n,n.next)!==0)n=n.next;else{if(lu(n),n=o=n.prev,n===n.next)break;a=!0}}while(a||n!==o);return o}function su(n,o,a,c,d,h,p){if(n){if(!p&&h){var y=n,b=y;do b.z===null&&(b.z=Xm(b.x,b.y,c,d,h)),b.prevZ=b.prev,b=b.nextZ=b.next;while(b!==y);b.prevZ.nextZ=null,b.prevZ=null,y=b;var _,C,M,k,F=1;do{b=y;var z=y=null;for(C=0;b;){C++;var j=b;for(_=M=0;_<F&&(M++,j=j.nextZ,j);_++);for(k=F;0<M||0<k&&j;)M!==0&&(k===0||!j||b.z<=j.z)?(_=b,b=b.nextZ,M--):(_=j,j=j.nextZ,k--),z?z.nextZ=_:y=_,_.prevZ=z,z=_;b=j}z.nextZ=null,F*=2}while(1<C)}for(y=n;n.prev!==n.next;){if(b=n.prev,j=n.next,h)e:{z=n,k=c;var Q=d,he=h;if(C=z.prev,M=z,F=z.next,0<=Ri(C,M,F))z=!1;else{var ue=C.x>M.x?C.x>F.x?C.x:F.x:M.x>F.x?M.x:F.x,ae=C.y>M.y?C.y>F.y?C.y:F.y:M.y>F.y?M.y:F.y;for(_=Xm(C.x<M.x?C.x<F.x?C.x:F.x:M.x<F.x?M.x:F.x,C.y<M.y?C.y<F.y?C.y:F.y:M.y<F.y?M.y:F.y,k,Q,he),k=Xm(ue,ae,k,Q,he),Q=z.nextZ;Q&&Q.z<=k;){if(Q!==z.prev&&Q!==z.next&&kh(C.x,C.y,M.x,M.y,F.x,F.y,Q.x,Q.y)&&0<=Ri(Q.prev,Q,Q.next)){z=!1;break e}Q=Q.nextZ}for(Q=z.prevZ;Q&&Q.z>=_;){if(Q!==z.prev&&Q!==z.next&&kh(C.x,C.y,M.x,M.y,F.x,F.y,Q.x,Q.y)&&0<=Ri(Q.prev,Q,Q.next)){z=!1;break e}Q=Q.prevZ}z=!0}}else e:if(z=n,C=z.prev,M=z,F=z.next,0<=Ri(C,M,F))z=!1;else{for(_=z.next.next;_!==z.prev;){if(kh(C.x,C.y,M.x,M.y,F.x,F.y,_.x,_.y)&&0<=Ri(_.prev,_,_.next)){z=!1;break e}_=_.next}z=!0}if(z)o.push(b.i/a),o.push(n.i/a),o.push(j.i/a),lu(n),y=n=j.next;else if(n=j,n===y){if(!p)su(ou(n),o,a,c,d,h,1);else if(p===1){p=o,y=a,b=n;do j=b.prev,z=b.next.next,!Vs(j,z)&&Bb(j,b,b.next,z)&&au(j,z)&&au(z,j)&&(p.push(j.i/y),p.push(b.i/y),p.push(z.i/y),lu(b),lu(b.next),b=n=z),b=b.next;while(b!==n);n=b,su(n,o,a,c,d,h,2)}else if(p===2)e:{p=n;do{for(y=p.next.next;y!==p.prev;){if(b=p.i!==y.i){if(b=p,j=y,z=b.next.i!==j.i&&b.prev.i!==j.i){t:{z=b;do{if(z.i!==b.i&&z.next.i!==b.i&&z.i!==j.i&&z.next.i!==j.i&&Bb(z,z.next,b,j)){z=!0;break t}z=z.next}while(z!==b);z=!1}z=!z}if(z=z&&au(b,j)&&au(j,b)){z=b,C=!1,M=(b.x+j.x)/2,j=(b.y+j.y)/2;do z.y>j!=z.next.y>j&&z.next.y!==z.y&&M<(z.next.x-z.x)*(j-z.y)/(z.next.y-z.y)+z.x&&(C=!C),z=z.next;while(z!==b);z=C}b=z}if(b){n=Fb(p,y),p=ou(p,p.next),n=ou(n,n.next),su(p,o,a,c,d,h),su(n,o,a,c,d,h);break e}y=y.next}p=p.next}while(p!==n)}break}}}}function vL(n,o){return n.x-o.x}function gL(n,o){var a=o,c=n.x,d=n.y,h=-1/0;do{if(d<=a.y&&d>=a.next.y&&a.next.y!==a.y){var p=a.x+(d-a.y)*(a.next.x-a.x)/(a.next.y-a.y);if(p<=c&&p>h){if(h=p,p===c){if(d===a.y)return a;if(d===a.next.y)return a.next}var y=a.x<a.next.x?a:a.next}}a=a.next}while(a!==o);if(!y)return null;if(c===h)return y.prev;o=y,p=y.x;var b=y.y,_=1/0;for(a=y.next;a!==o;){if(c>=a.x&&a.x>=p&&c!==a.x&&kh(d<b?c:h,d,p,b,d<b?h:c,d,a.x,a.y)){var C=Math.abs(d-a.y)/(c-a.x);(C<_||C===_&&a.x>y.x)&&au(a,n)&&(y=a,_=C)}a=a.next}return y}function Xm(n,o,a,c,d){return n=32767*(n-a)*d,o=32767*(o-c)*d,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,(n|n<<1)&1431655765|((o|o<<1)&1431655765)<<1}function yL(n){var o=n,a=n;do o.x<a.x&&(a=o),o=o.next;while(o!==n);return a}function kh(n,o,a,c,d,h,p,y){return 0<=(d-p)*(o-y)-(n-p)*(h-y)&&0<=(n-p)*(c-y)-(a-p)*(o-y)&&0<=(a-p)*(h-y)-(d-p)*(c-y)}function Ri(n,o,a){return(o.y-n.y)*(a.x-o.x)-(o.x-n.x)*(a.y-o.y)}function Vs(n,o){return n.x===o.x&&n.y===o.y}function Bb(n,o,a,c){return Vs(n,o)&&Vs(a,c)||Vs(n,c)&&Vs(a,o)?!0:0<Ri(n,o,a)!=0<Ri(n,o,c)&&0<Ri(a,c,n)!=0<Ri(a,c,o)}function au(n,o){return 0>Ri(n.prev,n,n.next)?0<=Ri(n,o,n.next)&&0<=Ri(n,n.prev,o):0>Ri(n,o,n.prev)||0>Ri(n,n.next,o)}function Fb(n,o){var a=new Km(n.i,n.x,n.y),c=new Km(o.i,o.x,o.y),d=n.next,h=o.prev;return n.next=o,o.prev=n,a.next=d,d.prev=a,c.next=a,a.prev=c,h.next=c,c.prev=h,c}function Ub(n,o,a,c){return n=new Km(n,o,a),c?(n.next=c.next,n.prev=c,c.next.prev=n,c.next=n):(n.prev=n,n.next=n),n}function lu(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Km(n,o,a){this.i=n,this.x=o,this.y=a,this.nextZ=this.prevZ=this.z=this.next=this.prev=null,this.steiner=!1}function zb(n){var o=n.length;2<o&&n[o-1].equals(n[0])&&n.pop()}function Hb(n,o){for(var a=0;a<o.length;a++)n.push(o[a].x),n.push(o[a].y)}function Bs(n,o){G.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:n,options:o},this.fromBufferGeometry(new jr(n,o)),this.mergeVertices()}function jr(n,o){function a(b){function _(lt,gt,yn){return gt||console.error("THREE.ExtrudeGeometry: vec does not exist"),gt.clone().multiplyScalar(yn).add(lt)}function C(lt,gt,yn){var xt=lt.x-gt.x,Dt=lt.y-gt.y,Fe=yn.x-lt.x,yt=yn.y-lt.y,sn=xt*xt+Dt*Dt;if(Math.abs(xt*yt-Dt*Fe)>Number.EPSILON){var Nt=Math.sqrt(sn),Qi=Math.sqrt(Fe*Fe+yt*yt);if(sn=gt.x-Dt/Nt,gt=gt.y+xt/Nt,yt=((yn.x-yt/Qi-sn)*yt-(yn.y+Fe/Qi-gt)*Fe)/(xt*yt-Dt*Fe),Fe=sn+xt*yt-lt.x,xt=gt+Dt*yt-lt.y,Dt=Fe*Fe+xt*xt,2>=Dt)return new i(Fe,xt);Dt=Math.sqrt(Dt/2)}else lt=!1,xt>Number.EPSILON?Fe>Number.EPSILON&&(lt=!0):xt<-Number.EPSILON?Fe<-Number.EPSILON&&(lt=!0):Math.sign(Dt)===Math.sign(yt)&&(lt=!0),lt?(Fe=-Dt,Dt=Math.sqrt(sn)):(Fe=xt,xt=Dt,Dt=Math.sqrt(sn/2));return new i(Fe/Dt,xt/Dt)}function M(lt,gt){for(Je=lt.length;0<=--Je;){var yn=Je,xt=Je-1;0>xt&&(xt=lt.length-1);var Dt,Fe=ue+2*xe;for(Dt=0;Dt<Fe;Dt++){var yt=Rt*Dt,sn=Rt*(Dt+1),Nt=gt+xt+yt,Qi=gt+xt+sn;sn=gt+yn+sn,z(gt+yn+yt),z(Nt),z(sn),z(Nt),z(Qi),z(sn),yt=d.length/3,yt=De.generateSideWallUV(c,d,yt-6,yt-3,yt-2,yt-1),j(yt[0]),j(yt[1]),j(yt[3]),j(yt[1]),j(yt[2]),j(yt[3])}}}function k(lt,gt,yn){Q.push(lt),Q.push(gt),Q.push(yn)}function F(lt,gt,yn){z(lt),z(gt),z(yn),lt=d.length/3,lt=De.generateTopUV(c,d,lt-3,lt-2,lt-1),j(lt[0]),j(lt[1]),j(lt[2])}function z(lt){d.push(Q[3*lt]),d.push(Q[3*lt+1]),d.push(Q[3*lt+2])}function j(lt){h.push(lt.x),h.push(lt.y)}var Q=[],he=o.curveSegments!==void 0?o.curveSegments:12,ue=o.steps!==void 0?o.steps:1,ae=o.depth!==void 0?o.depth:100,be=o.bevelEnabled!==void 0?o.bevelEnabled:!0,pe=o.bevelThickness!==void 0?o.bevelThickness:6,_e=o.bevelSize!==void 0?o.bevelSize:pe-2,ke=o.bevelOffset!==void 0?o.bevelOffset:0,xe=o.bevelSegments!==void 0?o.bevelSegments:3,Ae=o.extrudePath,De=o.UVGenerator!==void 0?o.UVGenerator:PL;o.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),ae=o.amount);var Ge=!1;if(Ae){var Re=Ae.getSpacedPoints(ue);Ge=!0,be=!1;var $e=Ae.computeFrenetFrames(ue,!1),wt=new s,J=new s,oe=new s}be||(ke=_e=pe=xe=0);var ye;he=b.extractPoints(he),b=he.shape;var Me=he.holes;if(!bo.isClockWise(b)){b=b.reverse();var Ve=0;for(ye=Me.length;Ve<ye;Ve++){var qe=Me[Ve];bo.isClockWise(qe)&&(Me[Ve]=qe.reverse())}}var $t=bo.triangulateShape(b,Me),Vt=b;for(Ve=0,ye=Me.length;Ve<ye;Ve++)qe=Me[Ve],b=b.concat(qe);var bt,Rt=b.length,Ut,Un=$t.length;he=[];var Je=0,ge=Vt.length,tt=ge-1;for(bt=Je+1;Je<ge;Je++,tt++,bt++)tt===ge&&(tt=0),bt===ge&&(bt=0),he[Je]=C(Vt[Je],Vt[tt],Vt[bt]);Ae=[];var _t=he.concat();for(Ve=0,ye=Me.length;Ve<ye;Ve++){qe=Me[Ve];var Yt=[];for(Je=0,ge=qe.length,tt=ge-1,bt=Je+1;Je<ge;Je++,tt++,bt++)tt===ge&&(tt=0),bt===ge&&(bt=0),Yt[Je]=C(qe[Je],qe[tt],qe[bt]);Ae.push(Yt),_t=_t.concat(Yt)}for(tt=0;tt<xe;tt++){ge=tt/xe;var vt=pe*Math.cos(ge*Math.PI/2);for(bt=_e*Math.sin(ge*Math.PI/2)+ke,Je=0,ge=Vt.length;Je<ge;Je++){var Ot=_(Vt[Je],he[Je],bt);k(Ot.x,Ot.y,-vt)}for(Ve=0,ye=Me.length;Ve<ye;Ve++)for(qe=Me[Ve],Yt=Ae[Ve],Je=0,ge=qe.length;Je<ge;Je++)Ot=_(qe[Je],Yt[Je],bt),k(Ot.x,Ot.y,-vt)}for(bt=_e+ke,Je=0;Je<Rt;Je++)Ot=be?_(b[Je],_t[Je],bt):b[Je],Ge?(J.copy($e.normals[0]).multiplyScalar(Ot.x),wt.copy($e.binormals[0]).multiplyScalar(Ot.y),oe.copy(Re[0]).add(J).add(wt),k(oe.x,oe.y,oe.z)):k(Ot.x,Ot.y,0);for(ge=1;ge<=ue;ge++)for(Je=0;Je<Rt;Je++)Ot=be?_(b[Je],_t[Je],bt):b[Je],Ge?(J.copy($e.normals[ge]).multiplyScalar(Ot.x),wt.copy($e.binormals[ge]).multiplyScalar(Ot.y),oe.copy(Re[ge]).add(J).add(wt),k(oe.x,oe.y,oe.z)):k(Ot.x,Ot.y,ae/ue*ge);for(tt=xe-1;0<=tt;tt--){for(ge=tt/xe,vt=pe*Math.cos(ge*Math.PI/2),bt=_e*Math.sin(ge*Math.PI/2)+ke,Je=0,ge=Vt.length;Je<ge;Je++)Ot=_(Vt[Je],he[Je],bt),k(Ot.x,Ot.y,ae+vt);for(Ve=0,ye=Me.length;Ve<ye;Ve++)for(qe=Me[Ve],Yt=Ae[Ve],Je=0,ge=qe.length;Je<ge;Je++)Ot=_(qe[Je],Yt[Je],bt),Ge?k(Ot.x,Ot.y+Re[ue-1].y,Re[ue-1].x+vt):k(Ot.x,Ot.y,ae+vt)}(function(){var lt=d.length/3;if(be){var gt=0*Rt;for(Je=0;Je<Un;Je++)Ut=$t[Je],F(Ut[2]+gt,Ut[1]+gt,Ut[0]+gt);for(gt=Rt*(ue+2*xe),Je=0;Je<Un;Je++)Ut=$t[Je],F(Ut[0]+gt,Ut[1]+gt,Ut[2]+gt)}else{for(Je=0;Je<Un;Je++)Ut=$t[Je],F(Ut[2],Ut[1],Ut[0]);for(Je=0;Je<Un;Je++)Ut=$t[Je],F(Ut[0]+Rt*ue,Ut[1]+Rt*ue,Ut[2]+Rt*ue)}c.addGroup(lt,d.length/3-lt,0)})(),function(){var lt=d.length/3,gt=0;for(M(Vt,gt),gt+=Vt.length,Ve=0,ye=Me.length;Ve<ye;Ve++)qe=Me[Ve],M(qe,gt),gt+=qe.length;c.addGroup(lt,d.length/3-lt,1)}()}ie.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:n,options:o},n=Array.isArray(n)?n:[n];for(var c=this,d=[],h=[],p=0,y=n.length;p<y;p++)a(n[p]);this.addAttribute("position",new N(d,3)),this.addAttribute("uv",new N(h,2)),this.computeVertexNormals()}function jb(n,o,a){if(a.shapes=[],Array.isArray(n))for(var c=0,d=n.length;c<d;c++)a.shapes.push(n[c].uuid);else a.shapes.push(n.uuid);return o.extrudePath!==void 0&&(a.options.extrudePath=o.extrudePath.toJSON()),a}function cu(n,o){G.call(this),this.type="TextGeometry",this.parameters={text:n,parameters:o},this.fromBufferGeometry(new rl(n,o)),this.mergeVertices()}function rl(n,o){o=o||{};var a=o.font;if(!a||!a.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new G;n=a.generateShapes(n,o.size),o.depth=o.height!==void 0?o.height:50,o.bevelThickness===void 0&&(o.bevelThickness=10),o.bevelSize===void 0&&(o.bevelSize=8),o.bevelEnabled===void 0&&(o.bevelEnabled=!1),jr.call(this,n,o),this.type="TextBufferGeometry"}function uu(n,o,a,c,d,h,p){G.call(this),this.type="SphereGeometry",this.parameters={radius:n,widthSegments:o,heightSegments:a,phiStart:c,phiLength:d,thetaStart:h,thetaLength:p},this.fromBufferGeometry(new Ko(n,o,a,c,d,h,p)),this.mergeVertices()}function Ko(n,o,a,c,d,h,p){ie.call(this),this.type="SphereBufferGeometry",this.parameters={radius:n,widthSegments:o,heightSegments:a,phiStart:c,phiLength:d,thetaStart:h,thetaLength:p},n=n||1,o=Math.max(3,Math.floor(o)||8),a=Math.max(2,Math.floor(a)||6),c=c!==void 0?c:0,d=d!==void 0?d:2*Math.PI,h=h!==void 0?h:0,p=p!==void 0?p:Math.PI;var y=Math.min(h+p,Math.PI),b,_,C=0,M=[],k=new s,F=new s,z=[],j=[],Q=[],he=[];for(_=0;_<=a;_++){var ue=[],ae=_/a,be=0;for(_==0&&h==0?be=.5/o:_==a&&y==Math.PI&&(be=-.5/o),b=0;b<=o;b++){var pe=b/o;k.x=-n*Math.cos(c+pe*d)*Math.sin(h+ae*p),k.y=n*Math.cos(h+ae*p),k.z=n*Math.sin(c+pe*d)*Math.sin(h+ae*p),j.push(k.x,k.y,k.z),F.copy(k).normalize(),Q.push(F.x,F.y,F.z),he.push(pe+be,1-ae),ue.push(C++)}M.push(ue)}for(_=0;_<a;_++)for(b=0;b<o;b++)n=M[_][b+1],c=M[_][b],d=M[_+1][b],p=M[_+1][b+1],(_!==0||0<h)&&z.push(n,c,p),(_!==a-1||y<Math.PI)&&z.push(c,d,p);this.setIndex(z),this.addAttribute("position",new N(j,3)),this.addAttribute("normal",new N(Q,3)),this.addAttribute("uv",new N(he,2))}function du(n,o,a,c,d,h){G.call(this),this.type="RingGeometry",this.parameters={innerRadius:n,outerRadius:o,thetaSegments:a,phiSegments:c,thetaStart:d,thetaLength:h},this.fromBufferGeometry(new ol(n,o,a,c,d,h)),this.mergeVertices()}function ol(n,o,a,c,d,h){ie.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:n,outerRadius:o,thetaSegments:a,phiSegments:c,thetaStart:d,thetaLength:h},n=n||.5,o=o||1,d=d!==void 0?d:0,h=h!==void 0?h:2*Math.PI,a=a!==void 0?Math.max(3,a):8,c=c!==void 0?Math.max(1,c):1;var p=[],y=[],b=[],_=[],C=n,M=(o-n)/c,k=new s,F=new i,z,j;for(z=0;z<=c;z++){for(j=0;j<=a;j++)n=d+j/a*h,k.x=C*Math.cos(n),k.y=C*Math.sin(n),y.push(k.x,k.y,k.z),b.push(0,0,1),F.x=(k.x/o+1)/2,F.y=(k.y/o+1)/2,_.push(F.x,F.y);C+=M}for(z=0;z<c;z++)for(o=z*(a+1),j=0;j<a;j++)n=j+o,d=n+a+1,h=n+a+2,C=n+1,p.push(n,d,C),p.push(d,h,C);this.setIndex(p),this.addAttribute("position",new N(y,3)),this.addAttribute("normal",new N(b,3)),this.addAttribute("uv",new N(_,2))}function hu(n,o,a,c){G.call(this),this.type="LatheGeometry",this.parameters={points:n,segments:o,phiStart:a,phiLength:c},this.fromBufferGeometry(new sl(n,o,a,c)),this.mergeVertices()}function sl(n,o,a,c){ie.call(this),this.type="LatheBufferGeometry",this.parameters={points:n,segments:o,phiStart:a,phiLength:c},o=Math.floor(o)||12,a=a||0,c=c||2*Math.PI,c=Tt.clamp(c,0,2*Math.PI);var d=[],h=[],p=[],y=1/o,b=new s,_=new i,C;for(C=0;C<=o;C++){var M=a+C*y*c,k=Math.sin(M),F=Math.cos(M);for(M=0;M<=n.length-1;M++)b.x=n[M].x*k,b.y=n[M].y,b.z=n[M].x*F,h.push(b.x,b.y,b.z),_.x=C/o,_.y=M/(n.length-1),p.push(_.x,_.y)}for(C=0;C<o;C++)for(M=0;M<n.length-1;M++)a=M+C*n.length,y=a+n.length,b=a+n.length+1,_=a+1,d.push(a,y,_),d.push(y,b,_);if(this.setIndex(d),this.addAttribute("position",new N(h,3)),this.addAttribute("uv",new N(p,2)),this.computeVertexNormals(),c===2*Math.PI)for(c=this.attributes.normal.array,d=new s,h=new s,p=new s,a=o*n.length*3,M=C=0;C<n.length;C++,M+=3)d.x=c[M+0],d.y=c[M+1],d.z=c[M+2],h.x=c[a+M+0],h.y=c[a+M+1],h.z=c[a+M+2],p.addVectors(d,h).normalize(),c[M+0]=c[a+M+0]=p.x,c[M+1]=c[a+M+1]=p.y,c[M+2]=c[a+M+2]=p.z}function Fs(n,o){G.call(this),this.type="ShapeGeometry",typeof o=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),o=o.curveSegments),this.parameters={shapes:n,curveSegments:o},this.fromBufferGeometry(new Us(n,o)),this.mergeVertices()}function Us(n,o){function a(C){var M,k=d.length/3;C=C.extractPoints(o);var F=C.shape,z=C.holes;for(bo.isClockWise(F)===!1&&(F=F.reverse()),C=0,M=z.length;C<M;C++){var j=z[C];bo.isClockWise(j)===!0&&(z[C]=j.reverse())}var Q=bo.triangulateShape(F,z);for(C=0,M=z.length;C<M;C++)j=z[C],F=F.concat(j);for(C=0,M=F.length;C<M;C++)j=F[C],d.push(j.x,j.y,0),h.push(0,0,1),p.push(j.x,j.y);for(C=0,M=Q.length;C<M;C++)F=Q[C],c.push(F[0]+k,F[1]+k,F[2]+k),b+=3}ie.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:n,curveSegments:o},o=o||12;var c=[],d=[],h=[],p=[],y=0,b=0;if(Array.isArray(n)===!1)a(n);else for(var _=0;_<n.length;_++)a(n[_]),this.addGroup(y,b,_),y+=b,b=0;this.setIndex(c),this.addAttribute("position",new N(d,3)),this.addAttribute("normal",new N(h,3)),this.addAttribute("uv",new N(p,2))}function Gb(n,o){if(o.shapes=[],Array.isArray(n))for(var a=0,c=n.length;a<c;a++)o.shapes.push(n[a].uuid);else o.shapes.push(n.uuid);return o}function al(n,o){ie.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:o};var a=[];o=Math.cos(Tt.DEG2RAD*(o!==void 0?o:1));var c=[0,0],d={},h=["a","b","c"];if(n.isBufferGeometry){var p=new G;p.fromBufferGeometry(n)}else p=n.clone();p.mergeVertices(),p.computeFaceNormals(),n=p.vertices,p=p.faces;for(var y=0,b=p.length;y<b;y++)for(var _=p[y],C=0;3>C;C++){var M=_[h[C]],k=_[h[(C+1)%3]];c[0]=Math.min(M,k),c[1]=Math.max(M,k),M=c[0]+","+c[1],d[M]===void 0?d[M]={index1:c[0],index2:c[1],face1:y,face2:void 0}:d[M].face2=y}for(M in d)c=d[M],(c.face2===void 0||p[c.face1].normal.dot(p[c.face2].normal)<=o)&&(h=n[c.index1],a.push(h.x,h.y,h.z),h=n[c.index2],a.push(h.x,h.y,h.z));this.addAttribute("position",new N(a,3))}function zs(n,o,a,c,d,h,p,y){G.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:n,radiusBottom:o,height:a,radialSegments:c,heightSegments:d,openEnded:h,thetaStart:p,thetaLength:y},this.fromBufferGeometry(new vo(n,o,a,c,d,h,p,y)),this.mergeVertices()}function vo(n,o,a,c,d,h,p,y){function b(ue){var ae,be=new i,pe=new s,_e=0,ke=ue===!0?n:o,xe=ue===!0?1:-1,Ae=z;for(ae=1;ae<=c;ae++)M.push(0,Q*xe,0),k.push(0,xe,0),F.push(.5,.5),z++;var De=z;for(ae=0;ae<=c;ae++){var Ge=ae/c*y+p,Re=Math.cos(Ge);Ge=Math.sin(Ge),pe.x=ke*Ge,pe.y=Q*xe,pe.z=ke*Re,M.push(pe.x,pe.y,pe.z),k.push(0,xe,0),be.x=.5*Re+.5,be.y=.5*Ge*xe+.5,F.push(be.x,be.y),z++}for(ae=0;ae<c;ae++)be=Ae+ae,pe=De+ae,ue===!0?C.push(pe,pe+1,be):C.push(pe+1,pe,be),_e+=3;_.addGroup(he,_e,ue===!0?1:2),he+=_e}ie.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:n,radiusBottom:o,height:a,radialSegments:c,heightSegments:d,openEnded:h,thetaStart:p,thetaLength:y};var _=this;n=n!==void 0?n:1,o=o!==void 0?o:1,a=a||1,c=Math.floor(c)||8,d=Math.floor(d)||1,h=h!==void 0?h:!1,p=p!==void 0?p:0,y=y!==void 0?y:2*Math.PI;var C=[],M=[],k=[],F=[],z=0,j=[],Q=a/2,he=0;(function(){var ue,ae,be=new s,pe=new s,_e=0,ke=(o-n)/a;for(ae=0;ae<=d;ae++){var xe=[],Ae=ae/d,De=Ae*(o-n)+n;for(ue=0;ue<=c;ue++){var Ge=ue/c,Re=Ge*y+p,$e=Math.sin(Re);Re=Math.cos(Re),pe.x=De*$e,pe.y=-Ae*a+Q,pe.z=De*Re,M.push(pe.x,pe.y,pe.z),be.set($e,ke,Re).normalize(),k.push(be.x,be.y,be.z),F.push(Ge,1-Ae),xe.push(z++)}j.push(xe)}for(ue=0;ue<c;ue++)for(ae=0;ae<d;ae++)be=j[ae+1][ue],pe=j[ae+1][ue+1],ke=j[ae][ue+1],C.push(j[ae][ue],be,ke),C.push(be,pe,ke),_e+=6;_.addGroup(he,_e,0),he+=_e})(),h===!1&&(0<n&&b(!0),0<o&&b(!1)),this.setIndex(C),this.addAttribute("position",new N(M,3)),this.addAttribute("normal",new N(k,3)),this.addAttribute("uv",new N(F,2))}function fu(n,o,a,c,d,h,p){zs.call(this,0,n,o,a,c,d,h,p),this.type="ConeGeometry",this.parameters={radius:n,height:o,radialSegments:a,heightSegments:c,openEnded:d,thetaStart:h,thetaLength:p}}function pu(n,o,a,c,d,h,p){vo.call(this,0,n,o,a,c,d,h,p),this.type="ConeBufferGeometry",this.parameters={radius:n,height:o,radialSegments:a,heightSegments:c,openEnded:d,thetaStart:h,thetaLength:p}}function mu(n,o,a,c){G.call(this),this.type="CircleGeometry",this.parameters={radius:n,segments:o,thetaStart:a,thetaLength:c},this.fromBufferGeometry(new ll(n,o,a,c)),this.mergeVertices()}function ll(n,o,a,c){ie.call(this),this.type="CircleBufferGeometry",this.parameters={radius:n,segments:o,thetaStart:a,thetaLength:c},n=n||1,o=o!==void 0?Math.max(3,o):8,a=a!==void 0?a:0,c=c!==void 0?c:2*Math.PI;var d=[],h=[],p=[],y=[],b,_=new s,C=new i;h.push(0,0,0),p.push(0,0,1),y.push(.5,.5);var M=0;for(b=3;M<=o;M++,b+=3){var k=a+M/o*c;_.x=n*Math.cos(k),_.y=n*Math.sin(k),h.push(_.x,_.y,_.z),p.push(0,0,1),C.x=(h[b]/n+1)/2,C.y=(h[b+1]/n+1)/2,y.push(C.x,C.y)}for(b=1;b<=o;b++)d.push(b,b+1,0);this.setIndex(d),this.addAttribute("position",new N(h,3)),this.addAttribute("normal",new N(p,3)),this.addAttribute("uv",new N(y,2))}function Hs(n){we.call(this),this.type="ShadowMaterial",this.color=new U(0),this.transparent=!0,this.setValues(n)}function cl(n){Ee.call(this,n),this.type="RawShaderMaterial"}function Gr(n){we.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new U(16777215),this.metalness=this.roughness=.5,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new U(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(n)}function js(n){Gr.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoatRoughness=this.clearCoat=0,this.setValues(n)}function xr(n){we.call(this),this.type="MeshPhongMaterial",this.color=new U(16777215),this.specular=new U(1118481),this.shininess=30,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new U(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(n)}function Gs(n){xr.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(n)}function Ws(n){we.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.lights=this.fog=!1,this.setValues(n)}function $s(n){we.call(this),this.type="MeshLambertMaterial",this.color=new U(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new U(0),this.emissiveIntensity=1,this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(n)}function qs(n){we.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new U(16777215),this.bumpMap=this.map=this.matcap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.lights=this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(n)}function Ys(n){tn.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(n)}function Xi(n,o,a,c){this.parameterPositions=n,this._cachedIndex=0,this.resultBuffer=c!==void 0?c:new o.constructor(a),this.sampleValues=o,this.valueSize=a}function Lh(n,o,a,c){Xi.call(this,n,o,a,c),this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function vu(n,o,a,c){Xi.call(this,n,o,a,c)}function Ph(n,o,a,c){Xi.call(this,n,o,a,c)}function ti(n,o,a,c){if(n===void 0)throw Error("THREE.KeyframeTrack: track name is undefined");if(o===void 0||o.length===0)throw Error("THREE.KeyframeTrack: no keyframes in track named "+n);this.name=n,this.times=Wn.convertArray(o,this.TimeBufferType),this.values=Wn.convertArray(a,this.ValueBufferType),this.setInterpolation(c||this.DefaultInterpolation)}function Oh(n,o,a){ti.call(this,n,o,a)}function Dh(n,o,a,c){ti.call(this,n,o,a,c)}function ul(n,o,a,c){ti.call(this,n,o,a,c)}function Nh(n,o,a,c){Xi.call(this,n,o,a,c)}function gu(n,o,a,c){ti.call(this,n,o,a,c)}function Vh(n,o,a,c){ti.call(this,n,o,a,c)}function dl(n,o,a,c){ti.call(this,n,o,a,c)}function ar(n,o,a){this.name=n,this.tracks=a,this.duration=o!==void 0?o:-1,this.uuid=Tt.generateUUID(),0>this.duration&&this.resetDuration()}function wL(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ul;case"vector":case"vector2":case"vector3":case"vector4":return dl;case"color":return Dh;case"quaternion":return gu;case"bool":case"boolean":return Oh;case"string":return Vh}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function bL(n){if(n.type===void 0)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");var o=wL(n.type);if(n.times===void 0){var a=[],c=[];Wn.flattenJSON(n.keys,a,c,"value"),n.times=a,n.values=c}return o.parse!==void 0?o.parse(n):new o(n.name,n.times,n.values,n.interpolation)}function Qm(n,o,a){var c=this,d=!1,h=0,p=0,y=void 0;this.onStart=void 0,this.onLoad=n,this.onProgress=o,this.onError=a,this.itemStart=function(b){p++,d===!1&&c.onStart!==void 0&&c.onStart(b,h,p),d=!0},this.itemEnd=function(b){h++,c.onProgress!==void 0&&c.onProgress(b,h,p),h===p&&(d=!1,c.onLoad!==void 0)&&c.onLoad()},this.itemError=function(b){c.onError!==void 0&&c.onError(b)},this.resolveURL=function(b){return y?y(b):b},this.setURLModifier=function(b){return y=b,this}}function Er(n){this.manager=n!==void 0?n:Ui}function Wb(n){this.manager=n!==void 0?n:Ui}function $b(n){this.manager=n!==void 0?n:Ui,this._parser=null}function Jm(n){this.manager=n!==void 0?n:Ui,this._parser=null}function yu(n){this.manager=n!==void 0?n:Ui}function Zm(n){this.manager=n!==void 0?n:Ui}function Bh(n){this.manager=n!==void 0?n:Ui}function pt(){this.type="Curve",this.arcLengthDivisions=200}function Ki(n,o,a,c,d,h,p,y){pt.call(this),this.type="EllipseCurve",this.aX=n||0,this.aY=o||0,this.xRadius=a||1,this.yRadius=c||1,this.aStartAngle=d||0,this.aEndAngle=h||2*Math.PI,this.aClockwise=p||!1,this.aRotation=y||0}function hl(n,o,a,c,d,h){Ki.call(this,n,o,a,a,c,d,h),this.type="ArcCurve"}function ev(){var n=0,o=0,a=0,c=0;return{initCatmullRom:function(d,h,p,y,b){d=b*(p-d),y=b*(y-h),n=h,o=d,a=-3*h+3*p-2*d-y,c=2*h-2*p+d+y},initNonuniformCatmullRom:function(d,h,p,y,b,_,C){d=((h-d)/b-(p-d)/(b+_)+(p-h)/_)*_,y=((p-h)/_-(y-h)/(_+C)+(y-p)/C)*_,n=h,o=d,a=-3*h+3*p-2*d-y,c=2*h-2*p+d+y},calc:function(d){var h=d*d;return n+o*d+a*h+c*h*d}}}function di(n,o,a,c){pt.call(this),this.type="CatmullRomCurve3",this.points=n||[],this.closed=o||!1,this.curveType=a||"centripetal",this.tension=c||.5}function qb(n,o,a,c,d){o=.5*(c-o),d=.5*(d-a);var h=n*n;return(2*a-2*c+o+d)*n*h+(-3*a+3*c-2*o-d)*h+o*n+a}function wu(n,o,a,c){var d=1-n;return d*d*o+2*(1-n)*n*a+n*n*c}function bu(n,o,a,c,d){var h=1-n,p=1-n;return h*h*h*o+3*p*p*n*a+3*(1-n)*n*n*c+n*n*n*d}function Sr(n,o,a,c){pt.call(this),this.type="CubicBezierCurve",this.v0=n||new i,this.v1=o||new i,this.v2=a||new i,this.v3=c||new i}function Wr(n,o,a,c){pt.call(this),this.type="CubicBezierCurve3",this.v0=n||new s,this.v1=o||new s,this.v2=a||new s,this.v3=c||new s}function Fi(n,o){pt.call(this),this.type="LineCurve",this.v1=n||new i,this.v2=o||new i}function Tr(n,o){pt.call(this),this.type="LineCurve3",this.v1=n||new s,this.v2=o||new s}function Ar(n,o,a){pt.call(this),this.type="QuadraticBezierCurve",this.v0=n||new i,this.v1=o||new i,this.v2=a||new i}function $r(n,o,a){pt.call(this),this.type="QuadraticBezierCurve3",this.v0=n||new s,this.v1=o||new s,this.v2=a||new s}function Cr(n){pt.call(this),this.type="SplineCurve",this.points=n||[]}function go(){pt.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Mr(n){go.call(this),this.type="Path",this.currentPoint=new i,n&&this.setFromPoints(n)}function Qo(n){Mr.call(this,n),this.uuid=Tt.generateUUID(),this.type="Shape",this.holes=[]}function cn(n,o){B.call(this),this.type="Light",this.color=new U(n),this.intensity=o!==void 0?o:1,this.receiveShadow=void 0}function Fh(n,o,a){cn.call(this,n,a),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(B.DefaultUp),this.updateMatrix(),this.groundColor=new U(o)}function Xs(n){this.camera=n,this.bias=0,this.radius=1,this.mapSize=new i(512,512),this.map=null,this.matrix=new O}function Uh(){Xs.call(this,new In(50,1,.5,500))}function zh(n,o,a,c,d,h){cn.call(this,n,o),this.type="SpotLight",this.position.copy(B.DefaultUp),this.updateMatrix(),this.target=new B,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(p){this.intensity=p/Math.PI}}),this.distance=a!==void 0?a:0,this.angle=c!==void 0?c:Math.PI/3,this.penumbra=d!==void 0?d:0,this.decay=h!==void 0?h:1,this.shadow=new Uh}function Hh(n,o,a,c){cn.call(this,n,o),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(d){this.intensity=d/(4*Math.PI)}}),this.distance=a!==void 0?a:0,this.decay=c!==void 0?c:1,this.shadow=new Xs(new In(90,1,.5,500))}function _u(n,o,a,c,d,h){Hr.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=n!==void 0?n:-1,this.right=o!==void 0?o:1,this.top=a!==void 0?a:1,this.bottom=c!==void 0?c:-1,this.near=d!==void 0?d:.1,this.far=h!==void 0?h:2e3,this.updateProjectionMatrix()}function jh(){Xs.call(this,new _u(-5,5,5,-5,.5,500))}function Gh(n,o){cn.call(this,n,o),this.type="DirectionalLight",this.position.copy(B.DefaultUp),this.updateMatrix(),this.target=new B,this.shadow=new jh}function Wh(n,o){cn.call(this,n,o),this.type="AmbientLight",this.castShadow=void 0}function $h(n,o,a,c){cn.call(this,n,o),this.type="RectAreaLight",this.width=a!==void 0?a:10,this.height=c!==void 0?c:10}function qh(n){this.manager=n!==void 0?n:Ui,this.textures={}}function Yh(){ie.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Xh(n,o,a,c){typeof a=="number"&&(c=a,a=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),q.call(this,n,o,a),this.meshPerAttribute=c||1}function tv(n){this.manager=n!==void 0?n:Ui}function nv(n){this.manager=n!==void 0?n:Ui,this.resourcePath=""}function iv(n){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=n!==void 0?n:Ui,this.options=void 0}function rv(){this.type="ShapePath",this.color=new U,this.subPaths=[],this.currentPath=null}function ov(n){this.type="Font",this.data=n}function Yb(n){this.manager=n!==void 0?n:Ui}function xu(){}function sv(n){this.manager=n!==void 0?n:Ui}function Kh(){this.coefficients=[];for(var n=0;9>n;n++)this.coefficients.push(new s)}function Ir(n,o){cn.call(this,void 0,o),this.sh=n!==void 0?n:new Kh}function av(n,o,a){Ir.call(this,void 0,a),n=new U().set(n),a=new U().set(o),o=new s(n.r,n.g,n.b),n=new s(a.r,a.g,a.b),a=Math.sqrt(Math.PI);var c=a*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(n).multiplyScalar(a),this.sh.coefficients[1].copy(o).sub(n).multiplyScalar(c)}function lv(n,o){Ir.call(this,void 0,o),n=new U().set(n),this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}function Xb(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new In,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new In,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Eu(n,o,a,c){B.call(this),this.type="CubeCamera";var d=new In(90,1,n,o);d.up.set(0,-1,0),d.lookAt(new s(1,0,0)),this.add(d);var h=new In(90,1,n,o);h.up.set(0,-1,0),h.lookAt(new s(-1,0,0)),this.add(h);var p=new In(90,1,n,o);p.up.set(0,0,1),p.lookAt(new s(0,1,0)),this.add(p);var y=new In(90,1,n,o);y.up.set(0,0,-1),y.lookAt(new s(0,-1,0)),this.add(y);var b=new In(90,1,n,o);b.up.set(0,-1,0),b.lookAt(new s(0,0,1)),this.add(b);var _=new In(90,1,n,o);_.up.set(0,-1,0),_.lookAt(new s(0,0,-1)),this.add(_),c=c||{format:1022,magFilter:1006,minFilter:1006},this.renderTarget=new w(a,a,c),this.renderTarget.texture.name="CubeCamera",this.update=function(C,M){this.parent===null&&this.updateMatrixWorld();var k=C.getRenderTarget(),F=this.renderTarget,z=F.texture.generateMipmaps;F.texture.generateMipmaps=!1,C.setRenderTarget(F,0),C.render(M,d),C.setRenderTarget(F,1),C.render(M,h),C.setRenderTarget(F,2),C.render(M,p),C.setRenderTarget(F,3),C.render(M,y),C.setRenderTarget(F,4),C.render(M,b),F.texture.generateMipmaps=z,C.setRenderTarget(F,5),C.render(M,_),C.setRenderTarget(k)},this.clear=function(C,M,k,F){for(var z=C.getRenderTarget(),j=this.renderTarget,Q=0;6>Q;Q++)C.setRenderTarget(j,Q),C.clear(M,k,F);C.setRenderTarget(z)}}function cv(n){this.autoStart=n!==void 0?n:!0,this.elapsedTime=this.oldTime=this.startTime=0,this.running=!1}function uv(){B.call(this),this.type="AudioListener",this.context=Cv.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function fl(n){B.call(this),this.type="Audio",this.listener=n,this.context=n.context,this.gain=this.context.createGain(),this.gain.connect(n.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.offset=this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function dv(n){fl.call(this,n),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function hv(n,o){this.analyser=n.context.createAnalyser(),this.analyser.fftSize=o!==void 0?o:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),n.getOutput().connect(this.analyser)}function fv(n,o,a){switch(this.binding=n,this.valueSize=a,n=Float64Array,o){case"quaternion":o=this._slerp;break;case"string":case"bool":n=Array,o=this._select;break;default:o=this._lerp}this.buffer=new n(4*a),this._mixBufferRegion=o,this.referenceCount=this.useCount=this.cumulativeWeight=0}function Kb(n,o,a){a=a||hi.parseTrackName(o),this._targetGroup=n,this._bindings=n.subscribe_(o,a)}function hi(n,o,a){this.path=o,this.parsedPath=a||hi.parseTrackName(o),this.node=hi.findNode(n,this.parsedPath.nodeName)||n,this.rootNode=n}function Qb(){this.uuid=Tt.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var n={};this._indicesByUUID=n;for(var o=0,a=arguments.length;o!==a;++o)n[arguments[o].uuid]=o;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var c=this;this.stats={objects:{get total(){return c._objects.length},get inUse(){return this.total-c.nCachedObjects_}},get bindingsPerObject(){return c._bindings.length}}}function Jb(n,o,a){this._mixer=n,this._clip=o,this._localRoot=a||null,n=o.tracks,o=n.length,a=Array(o);for(var c={endingStart:2400,endingEnd:2400},d=0;d!==o;++d){var h=n[d].createInterpolant(null);a[d]=h,h.settings=c}this._interpolantSettings=c,this._interpolants=a,this._propertyBindings=Array(o),this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}function pv(n){this._root=n,this._initMemoryManager(),this.time=this._accuIndex=0,this.timeScale=1}function Qh(n,o){typeof n=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),n=o),this.value=n}function mv(n,o,a){Os.call(this,n,o),this.meshPerAttribute=a||1}function Zb(n,o,a,c){this.ray=new Ie(n,o),this.near=a||0,this.far=c||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function e_(n,o){return n.distance-o.distance}function vv(n,o,a,c){if(n.visible!==!1&&(n.raycast(o,a),c===!0)){n=n.children,c=0;for(var d=n.length;c<d;c++)vv(n[c],o,a,!0)}}function t_(n,o,a){return this.radius=n!==void 0?n:1,this.phi=o!==void 0?o:0,this.theta=a!==void 0?a:0,this}function n_(n,o,a){return this.radius=n!==void 0?n:1,this.theta=o!==void 0?o:0,this.y=a!==void 0?a:0,this}function gv(n,o){this.min=n!==void 0?n:new i(1/0,1/0),this.max=o!==void 0?o:new i(-1/0,-1/0)}function yv(n,o){this.start=n!==void 0?n:new s,this.end=o!==void 0?o:new s}function Su(n){B.call(this),this.material=n,this.render=function(){}}function Tu(n,o,a,c){this.object=n,this.size=o!==void 0?o:1,n=a!==void 0?a:16711680,c=c!==void 0?c:1,o=0,(a=this.object.geometry)&&a.isGeometry?o=3*a.faces.length:a&&a.isBufferGeometry&&(o=a.attributes.normal.count),a=new ie,o=new N(6*o,3),a.addAttribute("position",o),an.call(this,a,new tn({color:n,linewidth:c})),this.matrixAutoUpdate=!1,this.update()}function pl(n,o){B.call(this),this.light=n,this.light.updateMatrixWorld(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=o,n=new ie,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var a=0,c=1;32>a;a++,c++){var d=a/32*Math.PI*2,h=c/32*Math.PI*2;o.push(Math.cos(d),Math.sin(d),1,Math.cos(h),Math.sin(h),1)}n.addAttribute("position",new N(o,3)),o=new tn({fog:!1}),this.cone=new an(n,o),this.add(this.cone),this.update()}function i_(n){var o=[];n&&n.isBone&&o.push(n);for(var a=0;a<n.children.length;a++)o.push.apply(o,i_(n.children[a]));return o}function ml(n){for(var o=i_(n),a=new ie,c=[],d=[],h=new U(0,0,1),p=new U(0,1,0),y=0;y<o.length;y++){var b=o[y];b.parent&&b.parent.isBone&&(c.push(0,0,0),c.push(0,0,0),d.push(h.r,h.g,h.b),d.push(p.r,p.g,p.b))}a.addAttribute("position",new N(c,3)),a.addAttribute("color",new N(d,3)),c=new tn({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0}),an.call(this,a,c),this.root=n,this.bones=o,this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1}function vl(n,o,a){this.light=n,this.light.updateMatrixWorld(),this.color=a,n=new Ko(o,4,2),o=new Ke({wireframe:!0,fog:!1}),it.call(this,n,o),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function gl(n,o){this.type="RectAreaLightHelper",this.light=n,this.color=o,n=new ie,n.addAttribute("position",new N([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),n.computeBoundingSphere(),o=new tn({fog:!1}),ei.call(this,n,o),n=new ie,n.addAttribute("position",new N([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),n.computeBoundingSphere(),this.add(new it(n,new Ke({side:1,fog:!1}))),this.update()}function yl(n,o,a){B.call(this),this.light=n,this.light.updateMatrixWorld(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=a,n=new Ds(o),n.rotateY(.5*Math.PI),this.material=new Ke({wireframe:!0,fog:!1}),this.color===void 0&&(this.material.vertexColors=2),o=n.getAttribute("position"),o=new Float32Array(3*o.count),n.addAttribute("color",new q(o,3)),this.add(new it(n,this.material)),this.update()}function wl(n,o){this.lightProbe=n,this.size=o,n=new Ee({defines:{GAMMA_OUTPUT:""},uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:`varying vec3 vNormal;
void main() {
	vNormal = normalize( normalMatrix * normal );
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fragmentShader:`#define RECIPROCAL_PI 0.318309886
vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {
	// matrix is assumed to be orthogonal
	return normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );
}
vec3 linearToOutput( in vec3 a ) {
	#ifdef GAMMA_OUTPUT
		return pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );
	#else
		return a;
	#endif
}
// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	// normal is assumed to have unit length
	float x = normal.x, y = normal.y, z = normal.z;
	// band 0
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	// band 1
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	// band 2
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
uniform vec3 sh[ 9 ]; // sh coefficients
uniform float intensity; // light probe intensity
varying vec3 vNormal;
void main() {
	vec3 normal = normalize( vNormal );
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, sh );
	vec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;
	outgoingLight = linearToOutput( outgoingLight );
	gl_FragColor = vec4( outgoingLight, 1.0 );
}`}),o=new Ko(1,32,16),it.call(this,o,n),this.onBeforeRender()}function Jh(n,o,a,c){n=n||10,o=o||10,a=new U(a!==void 0?a:4473924),c=new U(c!==void 0?c:8947848);var d=o/2,h=n/o,p=n/2;n=[];for(var y=[],b=0,_=0,C=-p;b<=o;b++,C+=h){n.push(-p,0,C,p,0,C),n.push(C,0,-p,C,0,p);var M=b===d?a:c;M.toArray(y,_),_+=3,M.toArray(y,_),_+=3,M.toArray(y,_),_+=3,M.toArray(y,_),_+=3}o=new ie,o.addAttribute("position",new N(n,3)),o.addAttribute("color",new N(y,3)),a=new tn({vertexColors:2}),an.call(this,o,a)}function Zh(n,o,a,c,d,h){n=n||10,o=o||16,a=a||8,c=c||64,d=new U(d!==void 0?d:4473924),h=new U(h!==void 0?h:8947848);var p=[],y=[],b;for(b=0;b<=o;b++){var _=b/o*2*Math.PI,C=Math.sin(_)*n;_=Math.cos(_)*n,p.push(0,0,0),p.push(C,0,_);var M=b&1?d:h;y.push(M.r,M.g,M.b),y.push(M.r,M.g,M.b)}for(b=0;b<=a;b++){M=b&1?d:h;var k=n-n/a*b;for(o=0;o<c;o++)_=o/c*2*Math.PI,C=Math.sin(_)*k,_=Math.cos(_)*k,p.push(C,0,_),y.push(M.r,M.g,M.b),_=(o+1)/c*2*Math.PI,C=Math.sin(_)*k,_=Math.cos(_)*k,p.push(C,0,_),y.push(M.r,M.g,M.b)}n=new ie,n.addAttribute("position",new N(p,3)),n.addAttribute("color",new N(y,3)),p=new tn({vertexColors:2}),an.call(this,n,p)}function bl(n,o,a,c){this.audio=n,this.range=o||1,this.divisionsInnerAngle=a||16,this.divisionsOuterAngle=c||2,n=new ie,o=new Float32Array(3*(3*(this.divisionsInnerAngle+2*this.divisionsOuterAngle)+3)),n.addAttribute("position",new q(o,3)),o=new tn({color:65280}),a=new tn({color:16776960}),ei.call(this,n,[a,o]),this.update()}function Au(n,o,a,c){this.object=n,this.size=o!==void 0?o:1,n=a!==void 0?a:16776960,c=c!==void 0?c:1,o=0,(a=this.object.geometry)&&a.isGeometry?o=a.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead."),a=new ie,o=new N(6*o,3),a.addAttribute("position",o),an.call(this,a,new tn({color:n,linewidth:c})),this.matrixAutoUpdate=!1,this.update()}function _l(n,o,a){B.call(this),this.light=n,this.light.updateMatrixWorld(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=a,o===void 0&&(o=1),n=new ie,n.addAttribute("position",new N([-o,o,0,o,o,0,o,-o,0,-o,-o,0,-o,o,0],3)),o=new tn({fog:!1}),this.lightPlane=new ei(n,o),this.add(this.lightPlane),n=new ie,n.addAttribute("position",new N([0,0,0,0,0,1],3)),this.targetLine=new ei(n,o),this.add(this.targetLine),this.update()}function Cu(n){function o(F,z,j){a(F,j),a(z,j)}function a(F,z){h.push(0,0,0),p.push(z.r,z.g,z.b),y[F]===void 0&&(y[F]=[]),y[F].push(h.length/3-1)}var c=new ie,d=new tn({color:16777215,vertexColors:1}),h=[],p=[],y={},b=new U(16755200),_=new U(16711680),C=new U(43775),M=new U(16777215),k=new U(3355443);o("n1","n2",b),o("n2","n4",b),o("n4","n3",b),o("n3","n1",b),o("f1","f2",b),o("f2","f4",b),o("f4","f3",b),o("f3","f1",b),o("n1","f1",b),o("n2","f2",b),o("n3","f3",b),o("n4","f4",b),o("p","n1",_),o("p","n2",_),o("p","n3",_),o("p","n4",_),o("u1","u2",C),o("u2","u3",C),o("u3","u1",C),o("c","t",M),o("p","c",k),o("cn1","cn2",k),o("cn3","cn4",k),o("cf1","cf2",k),o("cf3","cf4",k),c.addAttribute("position",new N(h,3)),c.addAttribute("color",new N(p,3)),an.call(this,c,d),this.camera=n,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=y,this.update()}function yo(n,o){this.object=n,o===void 0&&(o=16776960),n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var a=new Float32Array(24),c=new ie;c.setIndex(new q(n,1)),c.addAttribute("position",new q(a,3)),an.call(this,c,new tn({color:o})),this.matrixAutoUpdate=!1,this.update()}function Mu(n,o){this.type="Box3Helper",this.box=n,n=o!==void 0?o:16776960,o=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var a=new ie;a.setIndex(new q(o,1)),a.addAttribute("position",new N([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),an.call(this,a,new tn({color:n})),this.geometry.computeBoundingSphere()}function Iu(n,o,a){this.type="PlaneHelper",this.plane=n,this.size=o===void 0?1:o,n=a!==void 0?a:16776960,o=new ie,o.addAttribute("position",new N([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),o.computeBoundingSphere(),ei.call(this,o,new tn({color:n})),o=new ie,o.addAttribute("position",new N([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new it(o,new Ke({color:n,opacity:.2,transparent:!0,depthWrite:!1})))}function wo(n,o,a,c,d,h){B.call(this),n===void 0&&(n=new s(0,0,1)),o===void 0&&(o=new s(0,0,0)),a===void 0&&(a=1),c===void 0&&(c=16776960),d===void 0&&(d=.2*a),h===void 0&&(h=.2*d),nf===void 0&&(nf=new ie,nf.addAttribute("position",new N([0,0,0,0,1,0],3)),Mv=new vo(0,.5,1,5,1),Mv.translate(0,-.5,0)),this.position.copy(o),this.line=new ei(nf,new tn({color:c})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new it(Mv,new Ke({color:c})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(n),this.setLength(a,d,h)}function Ru(n){n=n||1;var o=[0,0,0,n,0,0,0,0,0,0,n,0,0,0,0,0,0,n];n=new ie,n.addAttribute("position",new N(o,3)),n.addAttribute("color",new N([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),o=new tn({vertexColors:2}),an.call(this,n,o)}function r_(n){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),di.call(this,n),this.type="catmullrom",this.closed=!0}function o_(n){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),di.call(this,n),this.type="catmullrom"}function wv(n){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),di.call(this,n),this.type="catmullrom"}Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52)),Number.isInteger===void 0&&(Number.isInteger=function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}),Math.sign===void 0&&(Math.sign=function(n){return 0>n?-1:0<n?1:+n}),!("name"in Function.prototype)&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),Object.assign===void 0&&function(){Object.assign=function(n){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),a=1;a<arguments.length;a++){var c=arguments[a];if(c!=null)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(o[d]=c[d])}return o}}(),Object.assign(t.prototype,{addEventListener:function(n,o){this._listeners===void 0&&(this._listeners={});var a=this._listeners;a[n]===void 0&&(a[n]=[]),a[n].indexOf(o)===-1&&a[n].push(o)},hasEventListener:function(n,o){if(this._listeners===void 0)return!1;var a=this._listeners;return a[n]!==void 0&&a[n].indexOf(o)!==-1},removeEventListener:function(n,o){this._listeners!==void 0&&(n=this._listeners[n],n!==void 0&&(o=n.indexOf(o),o!==-1&&n.splice(o,1)))},dispatchEvent:function(n){if(this._listeners!==void 0){var o=this._listeners[n.type];if(o!==void 0){n.target=this,o=o.slice(0);for(var a=0,c=o.length;a<c;a++)o[a].call(this,n)}}}});var Tt={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var n=[],o=0;256>o;o++)n[o]=(16>o?"0":"")+o.toString(16);return function(){var a=4294967295*Math.random()|0,c=4294967295*Math.random()|0,d=4294967295*Math.random()|0,h=4294967295*Math.random()|0;return(n[a&255]+n[a>>8&255]+n[a>>16&255]+n[a>>24&255]+"-"+n[c&255]+n[c>>8&255]+"-"+n[c>>16&15|64]+n[c>>24&255]+"-"+n[d&63|128]+n[d>>8&255]+"-"+n[d>>16&255]+n[d>>24&255]+n[h&255]+n[h>>8&255]+n[h>>16&255]+n[h>>24&255]).toUpperCase()}}(),clamp:function(n,o,a){return Math.max(o,Math.min(a,n))},euclideanModulo:function(n,o){return(n%o+o)%o},mapLinear:function(n,o,a,c,d){return c+(n-o)*(d-c)/(a-o)},lerp:function(n,o,a){return(1-a)*n+a*o},smoothstep:function(n,o,a){return n<=o?0:n>=a?1:(n=(n-o)/(a-o),n*n*(3-2*n))},smootherstep:function(n,o,a){return n<=o?0:n>=a?1:(n=(n-o)/(a-o),n*n*n*(n*(6*n-15)+10))},randInt:function(n,o){return n+Math.floor(Math.random()*(o-n+1))},randFloat:function(n,o){return n+Math.random()*(o-n)},randFloatSpread:function(n){return n*(.5-Math.random())},degToRad:function(n){return n*Tt.DEG2RAD},radToDeg:function(n){return n*Tt.RAD2DEG},isPowerOfTwo:function(n){return(n&n-1)===0&&n!==0},ceilPowerOfTwo:function(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))},floorPowerOfTwo:function(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}};Object.defineProperties(i.prototype,{width:{get:function(){return this.x},set:function(n){this.x=n}},height:{get:function(){return this.y},set:function(n){this.y=n}}}),Object.assign(i.prototype,{isVector2:!0,set:function(n,o){return this.x=n,this.y=o,this},setScalar:function(n){return this.y=this.x=n,this},setX:function(n){return this.x=n,this},setY:function(n){return this.y=n,this},setComponent:function(n,o){switch(n){case 0:this.x=o;break;case 1:this.y=o;break;default:throw Error("index is out of range: "+n)}return this},getComponent:function(n){switch(n){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+n)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(n){return this.x=n.x,this.y=n.y,this},add:function(n,o){return o!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(n,o)):(this.x+=n.x,this.y+=n.y,this)},addScalar:function(n){return this.x+=n,this.y+=n,this},addVectors:function(n,o){return this.x=n.x+o.x,this.y=n.y+o.y,this},addScaledVector:function(n,o){return this.x+=n.x*o,this.y+=n.y*o,this},sub:function(n,o){return o!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(n,o)):(this.x-=n.x,this.y-=n.y,this)},subScalar:function(n){return this.x-=n,this.y-=n,this},subVectors:function(n,o){return this.x=n.x-o.x,this.y=n.y-o.y,this},multiply:function(n){return this.x*=n.x,this.y*=n.y,this},multiplyScalar:function(n){return this.x*=n,this.y*=n,this},divide:function(n){return this.x/=n.x,this.y/=n.y,this},divideScalar:function(n){return this.multiplyScalar(1/n)},applyMatrix3:function(n){var o=this.x,a=this.y;return n=n.elements,this.x=n[0]*o+n[3]*a+n[6],this.y=n[1]*o+n[4]*a+n[7],this},min:function(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this},max:function(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this},clamp:function(n,o){return this.x=Math.max(n.x,Math.min(o.x,this.x)),this.y=Math.max(n.y,Math.min(o.y,this.y)),this},clampScalar:function(n,o){return this.x=Math.max(n,Math.min(o,this.x)),this.y=Math.max(n,Math.min(o,this.y)),this},clampLength:function(n,o){var a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(n,Math.min(o,a)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(n){return this.x*n.x+this.y*n.y},cross:function(n){return this.x*n.y-this.y*n.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var n=Math.atan2(this.y,this.x);return 0>n&&(n+=2*Math.PI),n},distanceTo:function(n){return Math.sqrt(this.distanceToSquared(n))},distanceToSquared:function(n){var o=this.x-n.x;return n=this.y-n.y,o*o+n*n},manhattanDistanceTo:function(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)},setLength:function(n){return this.normalize().multiplyScalar(n)},lerp:function(n,o){return this.x+=(n.x-this.x)*o,this.y+=(n.y-this.y)*o,this},lerpVectors:function(n,o,a){return this.subVectors(o,n).multiplyScalar(a).add(n)},equals:function(n){return n.x===this.x&&n.y===this.y},fromArray:function(n,o){return o===void 0&&(o=0),this.x=n[o],this.y=n[o+1],this},toArray:function(n,o){return n===void 0&&(n=[]),o===void 0&&(o=0),n[o]=this.x,n[o+1]=this.y,n},fromBufferAttribute:function(n,o,a){return a!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=n.getX(o),this.y=n.getY(o),this},rotateAround:function(n,o){var a=Math.cos(o);o=Math.sin(o);var c=this.x-n.x,d=this.y-n.y;return this.x=c*a-d*o+n.x,this.y=c*o+d*a+n.y,this}}),Object.assign(r,{slerp:function(n,o,a,c){return a.copy(n).slerp(o,c)},slerpFlat:function(n,o,a,c,d,h,p){var y=a[c+0],b=a[c+1],_=a[c+2];a=a[c+3],c=d[h+0];var C=d[h+1],M=d[h+2];if(d=d[h+3],a!==d||y!==c||b!==C||_!==M){h=1-p;var k=y*c+b*C+_*M+a*d,F=0<=k?1:-1,z=1-k*k;z>Number.EPSILON&&(z=Math.sqrt(z),k=Math.atan2(z,k*F),h=Math.sin(h*k)/z,p=Math.sin(p*k)/z),F*=p,y=y*h+c*F,b=b*h+C*F,_=_*h+M*F,a=a*h+d*F,h===1-p&&(p=1/Math.sqrt(y*y+b*b+_*_+a*a),y*=p,b*=p,_*=p,a*=p)}n[o]=y,n[o+1]=b,n[o+2]=_,n[o+3]=a}}),Object.defineProperties(r.prototype,{x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(n){this._w=n,this.onChangeCallback()}}}),Object.assign(r.prototype,{isQuaternion:!0,set:function(n,o,a,c){return this._x=n,this._y=o,this._z=a,this._w=c,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(n){return this._x=n.x,this._y=n.y,this._z=n.z,this._w=n.w,this.onChangeCallback(),this},setFromEuler:function(n,o){if(!n||!n.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var a=n._x,c=n._y,d=n._z;n=n.order;var h=Math.cos,p=Math.sin,y=h(a/2),b=h(c/2);return h=h(d/2),a=p(a/2),c=p(c/2),d=p(d/2),n==="XYZ"?(this._x=a*b*h+y*c*d,this._y=y*c*h-a*b*d,this._z=y*b*d+a*c*h,this._w=y*b*h-a*c*d):n==="YXZ"?(this._x=a*b*h+y*c*d,this._y=y*c*h-a*b*d,this._z=y*b*d-a*c*h,this._w=y*b*h+a*c*d):n==="ZXY"?(this._x=a*b*h-y*c*d,this._y=y*c*h+a*b*d,this._z=y*b*d+a*c*h,this._w=y*b*h-a*c*d):n==="ZYX"?(this._x=a*b*h-y*c*d,this._y=y*c*h+a*b*d,this._z=y*b*d-a*c*h,this._w=y*b*h+a*c*d):n==="YZX"?(this._x=a*b*h+y*c*d,this._y=y*c*h+a*b*d,this._z=y*b*d-a*c*h,this._w=y*b*h-a*c*d):n==="XZY"&&(this._x=a*b*h-y*c*d,this._y=y*c*h-a*b*d,this._z=y*b*d+a*c*h,this._w=y*b*h+a*c*d),o!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(n,o){o/=2;var a=Math.sin(o);return this._x=n.x*a,this._y=n.y*a,this._z=n.z*a,this._w=Math.cos(o),this.onChangeCallback(),this},setFromRotationMatrix:function(n){var o=n.elements,a=o[0];n=o[4];var c=o[8],d=o[1],h=o[5],p=o[9],y=o[2],b=o[6];o=o[10];var _=a+h+o;return 0<_?(a=.5/Math.sqrt(_+1),this._w=.25/a,this._x=(b-p)*a,this._y=(c-y)*a,this._z=(d-n)*a):a>h&&a>o?(a=2*Math.sqrt(1+a-h-o),this._w=(b-p)/a,this._x=.25*a,this._y=(n+d)/a,this._z=(c+y)/a):h>o?(a=2*Math.sqrt(1+h-a-o),this._w=(c-y)/a,this._x=(n+d)/a,this._y=.25*a,this._z=(p+b)/a):(a=2*Math.sqrt(1+o-a-h),this._w=(d-n)/a,this._x=(c+y)/a,this._y=(p+b)/a,this._z=.25*a),this.onChangeCallback(),this},setFromUnitVectors:function(n,o){var a=n.dot(o)+1;return 1e-6>a?(a=0,Math.abs(n.x)>Math.abs(n.z)?(this._x=-n.y,this._y=n.x,this._z=0):(this._x=0,this._y=-n.z,this._z=n.y)):(this._x=n.y*o.z-n.z*o.y,this._y=n.z*o.x-n.x*o.z,this._z=n.x*o.y-n.y*o.x),this._w=a,this.normalize()},angleTo:function(n){return 2*Math.acos(Math.abs(Tt.clamp(this.dot(n),-1,1)))},rotateTowards:function(n,o){var a=this.angleTo(n);return a===0?this:(this.slerp(n,Math.min(1,o/a)),this)},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(n){return this._x*n._x+this._y*n._y+this._z*n._z+this._w*n._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var n=this.length();return n===0?(this._z=this._y=this._x=0,this._w=1):(n=1/n,this._x*=n,this._y*=n,this._z*=n,this._w*=n),this.onChangeCallback(),this},multiply:function(n,o){return o!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(n,o)):this.multiplyQuaternions(this,n)},premultiply:function(n){return this.multiplyQuaternions(n,this)},multiplyQuaternions:function(n,o){var a=n._x,c=n._y,d=n._z;n=n._w;var h=o._x,p=o._y,y=o._z;return o=o._w,this._x=a*o+n*h+c*y-d*p,this._y=c*o+n*p+d*h-a*y,this._z=d*o+n*y+a*p-c*h,this._w=n*o-a*h-c*p-d*y,this.onChangeCallback(),this},slerp:function(n,o){if(o===0)return this;if(o===1)return this.copy(n);var a=this._x,c=this._y,d=this._z,h=this._w,p=h*n._w+a*n._x+c*n._y+d*n._z;if(0>p?(this._w=-n._w,this._x=-n._x,this._y=-n._y,this._z=-n._z,p=-p):this.copy(n),1<=p)return this._w=h,this._x=a,this._y=c,this._z=d,this;if(n=1-p*p,n<=Number.EPSILON)return p=1-o,this._w=p*h+o*this._w,this._x=p*a+o*this._x,this._y=p*c+o*this._y,this._z=p*d+o*this._z,this.normalize();n=Math.sqrt(n);var y=Math.atan2(n,p);return p=Math.sin((1-o)*y)/n,o=Math.sin(o*y)/n,this._w=h*p+this._w*o,this._x=a*p+this._x*o,this._y=c*p+this._y*o,this._z=d*p+this._z*o,this.onChangeCallback(),this},equals:function(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._w===this._w},fromArray:function(n,o){return o===void 0&&(o=0),this._x=n[o],this._y=n[o+1],this._z=n[o+2],this._w=n[o+3],this.onChangeCallback(),this},toArray:function(n,o){return n===void 0&&(n=[]),o===void 0&&(o=0),n[o]=this._x,n[o+1]=this._y,n[o+2]=this._z,n[o+3]=this._w,n},onChange:function(n){return this.onChangeCallback=n,this},onChangeCallback:function(){}}),Object.assign(s.prototype,{isVector3:!0,set:function(n,o,a){return this.x=n,this.y=o,this.z=a,this},setScalar:function(n){return this.z=this.y=this.x=n,this},setX:function(n){return this.x=n,this},setY:function(n){return this.y=n,this},setZ:function(n){return this.z=n,this},setComponent:function(n,o){switch(n){case 0:this.x=o;break;case 1:this.y=o;break;case 2:this.z=o;break;default:throw Error("index is out of range: "+n)}return this},getComponent:function(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+n)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(n){return this.x=n.x,this.y=n.y,this.z=n.z,this},add:function(n,o){return o!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(n,o)):(this.x+=n.x,this.y+=n.y,this.z+=n.z,this)},addScalar:function(n){return this.x+=n,this.y+=n,this.z+=n,this},addVectors:function(n,o){return this.x=n.x+o.x,this.y=n.y+o.y,this.z=n.z+o.z,this},addScaledVector:function(n,o){return this.x+=n.x*o,this.y+=n.y*o,this.z+=n.z*o,this},sub:function(n,o){return o!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(n,o)):(this.x-=n.x,this.y-=n.y,this.z-=n.z,this)},subScalar:function(n){return this.x-=n,this.y-=n,this.z-=n,this},subVectors:function(n,o){return this.x=n.x-o.x,this.y=n.y-o.y,this.z=n.z-o.z,this},multiply:function(n,o){return o!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(n,o)):(this.x*=n.x,this.y*=n.y,this.z*=n.z,this)},multiplyScalar:function(n){return this.x*=n,this.y*=n,this.z*=n,this},multiplyVectors:function(n,o){return this.x=n.x*o.x,this.y=n.y*o.y,this.z=n.z*o.z,this},applyEuler:function(){var n=new r;return function(o){return o&&o.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(n.setFromEuler(o))}}(),applyAxisAngle:function(){var n=new r;return function(o,a){return this.applyQuaternion(n.setFromAxisAngle(o,a))}}(),applyMatrix3:function(n){var o=this.x,a=this.y,c=this.z;return n=n.elements,this.x=n[0]*o+n[3]*a+n[6]*c,this.y=n[1]*o+n[4]*a+n[7]*c,this.z=n[2]*o+n[5]*a+n[8]*c,this},applyMatrix4:function(n){var o=this.x,a=this.y,c=this.z;n=n.elements;var d=1/(n[3]*o+n[7]*a+n[11]*c+n[15]);return this.x=(n[0]*o+n[4]*a+n[8]*c+n[12])*d,this.y=(n[1]*o+n[5]*a+n[9]*c+n[13])*d,this.z=(n[2]*o+n[6]*a+n[10]*c+n[14])*d,this},applyQuaternion:function(n){var o=this.x,a=this.y,c=this.z,d=n.x,h=n.y,p=n.z;n=n.w;var y=n*o+h*c-p*a,b=n*a+p*o-d*c,_=n*c+d*a-h*o;return o=-d*o-h*a-p*c,this.x=y*n+o*-d+b*-p-_*-h,this.y=b*n+o*-h+_*-d-y*-p,this.z=_*n+o*-p+y*-h-b*-d,this},project:function(n){return this.applyMatrix4(n.matrixWorldInverse).applyMatrix4(n.projectionMatrix)},unproject:function(n){return this.applyMatrix4(n.projectionMatrixInverse).applyMatrix4(n.matrixWorld)},transformDirection:function(n){var o=this.x,a=this.y,c=this.z;return n=n.elements,this.x=n[0]*o+n[4]*a+n[8]*c,this.y=n[1]*o+n[5]*a+n[9]*c,this.z=n[2]*o+n[6]*a+n[10]*c,this.normalize()},divide:function(n){return this.x/=n.x,this.y/=n.y,this.z/=n.z,this},divideScalar:function(n){return this.multiplyScalar(1/n)},min:function(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this},max:function(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this},clamp:function(n,o){return this.x=Math.max(n.x,Math.min(o.x,this.x)),this.y=Math.max(n.y,Math.min(o.y,this.y)),this.z=Math.max(n.z,Math.min(o.z,this.z)),this},clampScalar:function(n,o){return this.x=Math.max(n,Math.min(o,this.x)),this.y=Math.max(n,Math.min(o,this.y)),this.z=Math.max(n,Math.min(o,this.z)),this},clampLength:function(n,o){var a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(n,Math.min(o,a)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(n){return this.x*n.x+this.y*n.y+this.z*n.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(n){return this.normalize().multiplyScalar(n)},lerp:function(n,o){return this.x+=(n.x-this.x)*o,this.y+=(n.y-this.y)*o,this.z+=(n.z-this.z)*o,this},lerpVectors:function(n,o,a){return this.subVectors(o,n).multiplyScalar(a).add(n)},cross:function(n,o){return o!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(n,o)):this.crossVectors(this,n)},crossVectors:function(n,o){var a=n.x,c=n.y;n=n.z;var d=o.x,h=o.y;return o=o.z,this.x=c*o-n*h,this.y=n*d-a*o,this.z=a*h-c*d,this},projectOnVector:function(n){var o=n.dot(this)/n.lengthSq();return this.copy(n).multiplyScalar(o)},projectOnPlane:function(){var n=new s;return function(o){return n.copy(this).projectOnVector(o),this.sub(n)}}(),reflect:function(){var n=new s;return function(o){return this.sub(n.copy(o).multiplyScalar(2*this.dot(o)))}}(),angleTo:function(n){return n=this.dot(n)/Math.sqrt(this.lengthSq()*n.lengthSq()),Math.acos(Tt.clamp(n,-1,1))},distanceTo:function(n){return Math.sqrt(this.distanceToSquared(n))},distanceToSquared:function(n){var o=this.x-n.x,a=this.y-n.y;return n=this.z-n.z,o*o+a*a+n*n},manhattanDistanceTo:function(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)+Math.abs(this.z-n.z)},setFromSpherical:function(n){return this.setFromSphericalCoords(n.radius,n.phi,n.theta)},setFromSphericalCoords:function(n,o,a){var c=Math.sin(o)*n;return this.x=c*Math.sin(a),this.y=Math.cos(o)*n,this.z=c*Math.cos(a),this},setFromCylindrical:function(n){return this.setFromCylindricalCoords(n.radius,n.theta,n.y)},setFromCylindricalCoords:function(n,o,a){return this.x=n*Math.sin(o),this.y=a,this.z=n*Math.cos(o),this},setFromMatrixPosition:function(n){return n=n.elements,this.x=n[12],this.y=n[13],this.z=n[14],this},setFromMatrixScale:function(n){var o=this.setFromMatrixColumn(n,0).length(),a=this.setFromMatrixColumn(n,1).length();return n=this.setFromMatrixColumn(n,2).length(),this.x=o,this.y=a,this.z=n,this},setFromMatrixColumn:function(n,o){return this.fromArray(n.elements,4*o)},equals:function(n){return n.x===this.x&&n.y===this.y&&n.z===this.z},fromArray:function(n,o){return o===void 0&&(o=0),this.x=n[o],this.y=n[o+1],this.z=n[o+2],this},toArray:function(n,o){return n===void 0&&(n=[]),o===void 0&&(o=0),n[o]=this.x,n[o+1]=this.y,n[o+2]=this.z,n},fromBufferAttribute:function(n,o,a){return a!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=n.getX(o),this.y=n.getY(o),this.z=n.getZ(o),this}}),Object.assign(l.prototype,{isMatrix3:!0,set:function(n,o,a,c,d,h,p,y,b){var _=this.elements;return _[0]=n,_[1]=c,_[2]=p,_[3]=o,_[4]=d,_[5]=y,_[6]=a,_[7]=h,_[8]=b,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(n){var o=this.elements;return n=n.elements,o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],this},setFromMatrix4:function(n){return n=n.elements,this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this},applyToBufferAttribute:function(){var n=new s;return function(o){for(var a=0,c=o.count;a<c;a++)n.x=o.getX(a),n.y=o.getY(a),n.z=o.getZ(a),n.applyMatrix3(this),o.setXYZ(a,n.x,n.y,n.z);return o}}(),multiply:function(n){return this.multiplyMatrices(this,n)},premultiply:function(n){return this.multiplyMatrices(n,this)},multiplyMatrices:function(n,o){var a=n.elements,c=o.elements;o=this.elements,n=a[0];var d=a[3],h=a[6],p=a[1],y=a[4],b=a[7],_=a[2],C=a[5];a=a[8];var M=c[0],k=c[3],F=c[6],z=c[1],j=c[4],Q=c[7],he=c[2],ue=c[5];return c=c[8],o[0]=n*M+d*z+h*he,o[3]=n*k+d*j+h*ue,o[6]=n*F+d*Q+h*c,o[1]=p*M+y*z+b*he,o[4]=p*k+y*j+b*ue,o[7]=p*F+y*Q+b*c,o[2]=_*M+C*z+a*he,o[5]=_*k+C*j+a*ue,o[8]=_*F+C*Q+a*c,this},multiplyScalar:function(n){var o=this.elements;return o[0]*=n,o[3]*=n,o[6]*=n,o[1]*=n,o[4]*=n,o[7]*=n,o[2]*=n,o[5]*=n,o[8]*=n,this},determinant:function(){var n=this.elements,o=n[0],a=n[1],c=n[2],d=n[3],h=n[4],p=n[5],y=n[6],b=n[7];return n=n[8],o*h*n-o*p*b-a*d*n+a*p*y+c*d*b-c*h*y},getInverse:function(n,o){n&&n.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var a=n.elements;n=this.elements;var c=a[0],d=a[1],h=a[2],p=a[3],y=a[4],b=a[5],_=a[6],C=a[7];a=a[8];var M=a*y-b*C,k=b*_-a*p,F=C*p-y*_,z=c*M+d*k+h*F;if(z===0){if(o===!0)throw Error("THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0");return console.warn("THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0"),this.identity()}return o=1/z,n[0]=M*o,n[1]=(h*C-a*d)*o,n[2]=(b*d-h*y)*o,n[3]=k*o,n[4]=(a*c-h*_)*o,n[5]=(h*p-b*c)*o,n[6]=F*o,n[7]=(d*_-C*c)*o,n[8]=(y*c-d*p)*o,this},transpose:function(){var n=this.elements,o=n[1];return n[1]=n[3],n[3]=o,o=n[2],n[2]=n[6],n[6]=o,o=n[5],n[5]=n[7],n[7]=o,this},getNormalMatrix:function(n){return this.setFromMatrix4(n).getInverse(this).transpose()},transposeIntoArray:function(n){var o=this.elements;return n[0]=o[0],n[1]=o[3],n[2]=o[6],n[3]=o[1],n[4]=o[4],n[5]=o[7],n[6]=o[2],n[7]=o[5],n[8]=o[8],this},setUvTransform:function(n,o,a,c,d,h,p){var y=Math.cos(d);d=Math.sin(d),this.set(a*y,a*d,-a*(y*h+d*p)+h+n,-c*d,c*y,-c*(-d*h+y*p)+p+o,0,0,1)},scale:function(n,o){var a=this.elements;return a[0]*=n,a[3]*=n,a[6]*=n,a[1]*=o,a[4]*=o,a[7]*=o,this},rotate:function(n){var o=Math.cos(n);n=Math.sin(n);var a=this.elements,c=a[0],d=a[3],h=a[6],p=a[1],y=a[4],b=a[7];return a[0]=o*c+n*p,a[3]=o*d+n*y,a[6]=o*h+n*b,a[1]=-n*c+o*p,a[4]=-n*d+o*y,a[7]=-n*h+o*b,this},translate:function(n,o){var a=this.elements;return a[0]+=n*a[2],a[3]+=n*a[5],a[6]+=n*a[8],a[1]+=o*a[2],a[4]+=o*a[5],a[7]+=o*a[8],this},equals:function(n){var o=this.elements;n=n.elements;for(var a=0;9>a;a++)if(o[a]!==n[a])return!1;return!0},fromArray:function(n,o){o===void 0&&(o=0);for(var a=0;9>a;a++)this.elements[a]=n[a+o];return this},toArray:function(n,o){n===void 0&&(n=[]),o===void 0&&(o=0);var a=this.elements;return n[o]=a[0],n[o+1]=a[1],n[o+2]=a[2],n[o+3]=a[3],n[o+4]=a[4],n[o+5]=a[5],n[o+6]=a[6],n[o+7]=a[7],n[o+8]=a[8],n}});var xl,Jo={getDataURL:function(n){if(typeof HTMLCanvasElement>"u")return n.src;if(!(n instanceof HTMLCanvasElement)){xl===void 0&&(xl=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),xl.width=n.width,xl.height=n.height;var o=xl.getContext("2d");n instanceof ImageData?o.putImageData(n,0,0):o.drawImage(n,0,0,n.width,n.height),n=xl}return 2048<n.width||2048<n.height?n.toDataURL("image/jpeg",.6):n.toDataURL("image/png")}},_L=0;u.DEFAULT_IMAGE=void 0,u.DEFAULT_MAPPING=300,u.prototype=Object.assign(Object.create(t.prototype),{constructor:u,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.name=n.name,this.image=n.image,this.mipmaps=n.mipmaps.slice(0),this.mapping=n.mapping,this.wrapS=n.wrapS,this.wrapT=n.wrapT,this.magFilter=n.magFilter,this.minFilter=n.minFilter,this.anisotropy=n.anisotropy,this.format=n.format,this.type=n.type,this.offset.copy(n.offset),this.repeat.copy(n.repeat),this.center.copy(n.center),this.rotation=n.rotation,this.matrixAutoUpdate=n.matrixAutoUpdate,this.matrix.copy(n.matrix),this.generateMipmaps=n.generateMipmaps,this.premultiplyAlpha=n.premultiplyAlpha,this.flipY=n.flipY,this.unpackAlignment=n.unpackAlignment,this.encoding=n.encoding,this},toJSON:function(n){var o=n===void 0||typeof n=="string";if(!o&&n.textures[this.uuid]!==void 0)return n.textures[this.uuid];var a={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){var c=this.image;if(c.uuid===void 0&&(c.uuid=Tt.generateUUID()),!o&&n.images[c.uuid]===void 0){if(Array.isArray(c))for(var d=[],h=0,p=c.length;h<p;h++)d.push(Jo.getDataURL(c[h]));else d=Jo.getDataURL(c);n.images[c.uuid]={uuid:c.uuid,url:d}}a.image=c.uuid}return o||(n.textures[this.uuid]=a),a},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(n){if(this.mapping!==300)return n;if(n.applyMatrix3(this.matrix),0>n.x||1<n.x)switch(this.wrapS){case 1e3:n.x-=Math.floor(n.x);break;case 1001:n.x=0>n.x?0:1;break;case 1002:n.x=Math.abs(Math.floor(n.x)%2)===1?Math.ceil(n.x)-n.x:n.x-Math.floor(n.x)}if(0>n.y||1<n.y)switch(this.wrapT){case 1e3:n.y-=Math.floor(n.y);break;case 1001:n.y=0>n.y?0:1;break;case 1002:n.y=Math.abs(Math.floor(n.y)%2)===1?Math.ceil(n.y)-n.y:n.y-Math.floor(n.y)}return this.flipY&&(n.y=1-n.y),n}}),Object.defineProperty(u.prototype,"needsUpdate",{set:function(n){n===!0&&this.version++}}),Object.assign(f.prototype,{isVector4:!0,set:function(n,o,a,c){return this.x=n,this.y=o,this.z=a,this.w=c,this},setScalar:function(n){return this.w=this.z=this.y=this.x=n,this},setX:function(n){return this.x=n,this},setY:function(n){return this.y=n,this},setZ:function(n){return this.z=n,this},setW:function(n){return this.w=n,this},setComponent:function(n,o){switch(n){case 0:this.x=o;break;case 1:this.y=o;break;case 2:this.z=o;break;case 3:this.w=o;break;default:throw Error("index is out of range: "+n)}return this},getComponent:function(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+n)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(n){return this.x=n.x,this.y=n.y,this.z=n.z,this.w=n.w!==void 0?n.w:1,this},add:function(n,o){return o!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(n,o)):(this.x+=n.x,this.y+=n.y,this.z+=n.z,this.w+=n.w,this)},addScalar:function(n){return this.x+=n,this.y+=n,this.z+=n,this.w+=n,this},addVectors:function(n,o){return this.x=n.x+o.x,this.y=n.y+o.y,this.z=n.z+o.z,this.w=n.w+o.w,this},addScaledVector:function(n,o){return this.x+=n.x*o,this.y+=n.y*o,this.z+=n.z*o,this.w+=n.w*o,this},sub:function(n,o){return o!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(n,o)):(this.x-=n.x,this.y-=n.y,this.z-=n.z,this.w-=n.w,this)},subScalar:function(n){return this.x-=n,this.y-=n,this.z-=n,this.w-=n,this},subVectors:function(n,o){return this.x=n.x-o.x,this.y=n.y-o.y,this.z=n.z-o.z,this.w=n.w-o.w,this},multiplyScalar:function(n){return this.x*=n,this.y*=n,this.z*=n,this.w*=n,this},applyMatrix4:function(n){var o=this.x,a=this.y,c=this.z,d=this.w;return n=n.elements,this.x=n[0]*o+n[4]*a+n[8]*c+n[12]*d,this.y=n[1]*o+n[5]*a+n[9]*c+n[13]*d,this.z=n[2]*o+n[6]*a+n[10]*c+n[14]*d,this.w=n[3]*o+n[7]*a+n[11]*c+n[15]*d,this},divideScalar:function(n){return this.multiplyScalar(1/n)},setAxisAngleFromQuaternion:function(n){this.w=2*Math.acos(n.w);var o=Math.sqrt(1-n.w*n.w);return 1e-4>o?(this.x=1,this.z=this.y=0):(this.x=n.x/o,this.y=n.y/o,this.z=n.z/o),this},setAxisAngleFromRotationMatrix:function(n){n=n.elements;var o=n[0],a=n[4],c=n[8],d=n[1],h=n[5],p=n[9],y=n[2],b=n[6],_=n[10];return .01>Math.abs(a-d)&&.01>Math.abs(c-y)&&.01>Math.abs(p-b)?.1>Math.abs(a+d)&&.1>Math.abs(c+y)&&.1>Math.abs(p+b)&&.1>Math.abs(o+h+_-3)?(this.set(1,0,0,0),this):(n=Math.PI,o=(o+1)/2,h=(h+1)/2,_=(_+1)/2,a=(a+d)/4,c=(c+y)/4,p=(p+b)/4,o>h&&o>_?.01>o?(b=0,a=y=.707106781):(b=Math.sqrt(o),y=a/b,a=c/b):h>_?.01>h?(b=.707106781,y=0,a=.707106781):(y=Math.sqrt(h),b=a/y,a=p/y):.01>_?(y=b=.707106781,a=0):(a=Math.sqrt(_),b=c/a,y=p/a),this.set(b,y,a,n),this):(n=Math.sqrt((b-p)*(b-p)+(c-y)*(c-y)+(d-a)*(d-a)),.001>Math.abs(n)&&(n=1),this.x=(b-p)/n,this.y=(c-y)/n,this.z=(d-a)/n,this.w=Math.acos((o+h+_-1)/2),this)},min:function(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this.w=Math.min(this.w,n.w),this},max:function(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this.w=Math.max(this.w,n.w),this},clamp:function(n,o){return this.x=Math.max(n.x,Math.min(o.x,this.x)),this.y=Math.max(n.y,Math.min(o.y,this.y)),this.z=Math.max(n.z,Math.min(o.z,this.z)),this.w=Math.max(n.w,Math.min(o.w,this.w)),this},clampScalar:function(){var n,o;return function(a,c){return n===void 0&&(n=new f,o=new f),n.set(a,a,a,a),o.set(c,c,c,c),this.clamp(n,o)}}(),clampLength:function(n,o){var a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(n,Math.min(o,a)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(n){return this.x*n.x+this.y*n.y+this.z*n.z+this.w*n.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(n){return this.normalize().multiplyScalar(n)},lerp:function(n,o){return this.x+=(n.x-this.x)*o,this.y+=(n.y-this.y)*o,this.z+=(n.z-this.z)*o,this.w+=(n.w-this.w)*o,this},lerpVectors:function(n,o,a){return this.subVectors(o,n).multiplyScalar(a).add(n)},equals:function(n){return n.x===this.x&&n.y===this.y&&n.z===this.z&&n.w===this.w},fromArray:function(n,o){return o===void 0&&(o=0),this.x=n[o],this.y=n[o+1],this.z=n[o+2],this.w=n[o+3],this},toArray:function(n,o){return n===void 0&&(n=[]),o===void 0&&(o=0),n[o]=this.x,n[o+1]=this.y,n[o+2]=this.z,n[o+3]=this.w,n},fromBufferAttribute:function(n,o,a){return a!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=n.getX(o),this.y=n.getY(o),this.z=n.getZ(o),this.w=n.getW(o),this}}),m.prototype=Object.assign(Object.create(t.prototype),{constructor:m,isWebGLRenderTarget:!0,setSize:function(n,o){(this.width!==n||this.height!==o)&&(this.width=n,this.height=o,this.dispose()),this.viewport.set(0,0,n,o),this.scissor.set(0,0,n,o)},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.width=n.width,this.height=n.height,this.viewport.copy(n.viewport),this.texture=n.texture.clone(),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.depthTexture=n.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),v.prototype=Object.assign(Object.create(m.prototype),{constructor:v,isWebGLMultisampleRenderTarget:!0,copy:function(n){return m.prototype.copy.call(this,n),this.samples=n.samples,this}}),w.prototype=Object.create(m.prototype),w.prototype.constructor=w,w.prototype.isWebGLRenderTargetCube=!0,x.prototype=Object.create(u.prototype),x.prototype.constructor=x,x.prototype.isDataTexture=!0,Object.assign(E.prototype,{isBox3:!0,set:function(n,o){return this.min.copy(n),this.max.copy(o),this},setFromArray:function(n){for(var o=1/0,a=1/0,c=1/0,d=-1/0,h=-1/0,p=-1/0,y=0,b=n.length;y<b;y+=3){var _=n[y],C=n[y+1],M=n[y+2];_<o&&(o=_),C<a&&(a=C),M<c&&(c=M),_>d&&(d=_),C>h&&(h=C),M>p&&(p=M)}return this.min.set(o,a,c),this.max.set(d,h,p),this},setFromBufferAttribute:function(n){for(var o=1/0,a=1/0,c=1/0,d=-1/0,h=-1/0,p=-1/0,y=0,b=n.count;y<b;y++){var _=n.getX(y),C=n.getY(y),M=n.getZ(y);_<o&&(o=_),C<a&&(a=C),M<c&&(c=M),_>d&&(d=_),C>h&&(h=C),M>p&&(p=M)}return this.min.set(o,a,c),this.max.set(d,h,p),this},setFromPoints:function(n){this.makeEmpty();for(var o=0,a=n.length;o<a;o++)this.expandByPoint(n[o]);return this},setFromCenterAndSize:function(){var n=new s;return function(o,a){return a=n.copy(a).multiplyScalar(.5),this.min.copy(o).sub(a),this.max.copy(o).add(a),this}}(),setFromObject:function(n){return this.makeEmpty(),this.expandByObject(n)},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.min.copy(n.min),this.max.copy(n.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(n){return n===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),n=new s),this.isEmpty()?n.set(0,0,0):n.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(n){return n===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),n=new s),this.isEmpty()?n.set(0,0,0):n.subVectors(this.max,this.min)},expandByPoint:function(n){return this.min.min(n),this.max.max(n),this},expandByVector:function(n){return this.min.sub(n),this.max.add(n),this},expandByScalar:function(n){return this.min.addScalar(-n),this.max.addScalar(n),this},expandByObject:function(){function n(h){var p=h.geometry;if(p!==void 0){if(p.isGeometry)for(p=p.vertices,a=0,c=p.length;a<c;a++)d.copy(p[a]),d.applyMatrix4(h.matrixWorld),o.expandByPoint(d);else if(p.isBufferGeometry&&(p=p.attributes.position,p!==void 0))for(a=0,c=p.count;a<c;a++)d.fromBufferAttribute(p,a).applyMatrix4(h.matrixWorld),o.expandByPoint(d)}}var o,a,c,d=new s;return function(h){return o=this,h.updateMatrixWorld(!0),h.traverse(n),this}}(),containsPoint:function(n){return!(n.x<this.min.x||n.x>this.max.x||n.y<this.min.y||n.y>this.max.y||n.z<this.min.z||n.z>this.max.z)},containsBox:function(n){return this.min.x<=n.min.x&&n.max.x<=this.max.x&&this.min.y<=n.min.y&&n.max.y<=this.max.y&&this.min.z<=n.min.z&&n.max.z<=this.max.z},getParameter:function(n,o){return o===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),o=new s),o.set((n.x-this.min.x)/(this.max.x-this.min.x),(n.y-this.min.y)/(this.max.y-this.min.y),(n.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(n){return!(n.max.x<this.min.x||n.min.x>this.max.x||n.max.y<this.min.y||n.min.y>this.max.y||n.max.z<this.min.z||n.min.z>this.max.z)},intersectsSphere:function(){var n=new s;return function(o){return this.clampPoint(o.center,n),n.distanceToSquared(o.center)<=o.radius*o.radius}}(),intersectsPlane:function(n){if(0<n.normal.x)var o=n.normal.x*this.min.x,a=n.normal.x*this.max.x;else o=n.normal.x*this.max.x,a=n.normal.x*this.min.x;return 0<n.normal.y?(o+=n.normal.y*this.min.y,a+=n.normal.y*this.max.y):(o+=n.normal.y*this.max.y,a+=n.normal.y*this.min.y),0<n.normal.z?(o+=n.normal.z*this.min.z,a+=n.normal.z*this.max.z):(o+=n.normal.z*this.max.z,a+=n.normal.z*this.min.z),o<=-n.constant&&a>=-n.constant},intersectsTriangle:function(){function n(M){var k,F=0;for(k=M.length-3;F<=k;F+=3){y.fromArray(M,F);var z=_.x*Math.abs(y.x)+_.y*Math.abs(y.y)+_.z*Math.abs(y.z),j=o.dot(y),Q=a.dot(y),he=c.dot(y);if(Math.max(-Math.max(j,Q,he),Math.min(j,Q,he))>z)return!1}return!0}var o=new s,a=new s,c=new s,d=new s,h=new s,p=new s,y=new s,b=new s,_=new s,C=new s;return function(M){return this.isEmpty()||(this.getCenter(b),_.subVectors(this.max,b),o.subVectors(M.a,b),a.subVectors(M.b,b),c.subVectors(M.c,b),d.subVectors(a,o),h.subVectors(c,a),p.subVectors(o,c),M=[0,-d.z,d.y,0,-h.z,h.y,0,-p.z,p.y,d.z,0,-d.x,h.z,0,-h.x,p.z,0,-p.x,-d.y,d.x,0,-h.y,h.x,0,-p.y,p.x,0],!n(M))||(M=[1,0,0,0,1,0,0,0,1],!n(M))?!1:(C.crossVectors(d,h),M=[C.x,C.y,C.z],n(M))}}(),clampPoint:function(n,o){return o===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),o=new s),o.copy(n).clamp(this.min,this.max)},distanceToPoint:function(){var n=new s;return function(o){return n.copy(o).clamp(this.min,this.max).sub(o).length()}}(),getBoundingSphere:function(){var n=new s;return function(o){return o===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(o.center),o.radius=.5*this.getSize(n).length(),o}}(),intersect:function(n){return this.min.max(n.min),this.max.min(n.max),this.isEmpty()&&this.makeEmpty(),this},union:function(n){return this.min.min(n.min),this.max.max(n.max),this},applyMatrix4:function(){var n=[new s,new s,new s,new s,new s,new s,new s,new s];return function(o){return this.isEmpty()?this:(n[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(o),n[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(o),n[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(o),n[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(o),n[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(o),n[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(o),n[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(o),n[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(o),this.setFromPoints(n),this)}}(),translate:function(n){return this.min.add(n),this.max.add(n),this},equals:function(n){return n.min.equals(this.min)&&n.max.equals(this.max)}}),Object.assign(A.prototype,{set:function(n,o){return this.center.copy(n),this.radius=o,this},setFromPoints:function(){var n=new E;return function(o,a){var c=this.center;a!==void 0?c.copy(a):n.setFromPoints(o).getCenter(c);for(var d=a=0,h=o.length;d<h;d++)a=Math.max(a,c.distanceToSquared(o[d]));return this.radius=Math.sqrt(a),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.center.copy(n.center),this.radius=n.radius,this},empty:function(){return 0>=this.radius},containsPoint:function(n){return n.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(n){return n.distanceTo(this.center)-this.radius},intersectsSphere:function(n){var o=this.radius+n.radius;return n.center.distanceToSquared(this.center)<=o*o},intersectsBox:function(n){return n.intersectsSphere(this)},intersectsPlane:function(n){return Math.abs(n.distanceToPoint(this.center))<=this.radius},clampPoint:function(n,o){var a=this.center.distanceToSquared(n);return o===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),o=new s),o.copy(n),a>this.radius*this.radius&&(o.sub(this.center).normalize(),o.multiplyScalar(this.radius).add(this.center)),o},getBoundingBox:function(n){return n===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),n=new E),n.set(this.center,this.center),n.expandByScalar(this.radius),n},applyMatrix4:function(n){return this.center.applyMatrix4(n),this.radius*=n.getMaxScaleOnAxis(),this},translate:function(n){return this.center.add(n),this},equals:function(n){return n.center.equals(this.center)&&n.radius===this.radius}}),Object.assign(I.prototype,{set:function(n,o){return this.normal.copy(n),this.constant=o,this},setComponents:function(n,o,a,c){return this.normal.set(n,o,a),this.constant=c,this},setFromNormalAndCoplanarPoint:function(n,o){return this.normal.copy(n),this.constant=-o.dot(this.normal),this},setFromCoplanarPoints:function(){var n=new s,o=new s;return function(a,c,d){return c=n.subVectors(d,c).cross(o.subVectors(a,c)).normalize(),this.setFromNormalAndCoplanarPoint(c,a),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.normal.copy(n.normal),this.constant=n.constant,this},normalize:function(){var n=1/this.normal.length();return this.normal.multiplyScalar(n),this.constant*=n,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(n){return this.normal.dot(n)+this.constant},distanceToSphere:function(n){return this.distanceToPoint(n.center)-n.radius},projectPoint:function(n,o){return o===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),o=new s),o.copy(this.normal).multiplyScalar(-this.distanceToPoint(n)).add(n)},intersectLine:function(){var n=new s;return function(o,a){a===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),a=new s);var c=o.delta(n),d=this.normal.dot(c);if(d===0){if(this.distanceToPoint(o.start)===0)return a.copy(o.start)}else if(d=-(o.start.dot(this.normal)+this.constant)/d,!(0>d||1<d))return a.copy(c).multiplyScalar(d).add(o.start)}}(),intersectsLine:function(n){var o=this.distanceToPoint(n.start);return n=this.distanceToPoint(n.end),0>o&&0<n||0>n&&0<o},intersectsBox:function(n){return n.intersectsPlane(this)},intersectsSphere:function(n){return n.intersectsPlane(this)},coplanarPoint:function(n){return n===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),n=new s),n.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var n=new s,o=new l;return function(a,c){return c=c||o.getNormalMatrix(a),a=this.coplanarPoint(n).applyMatrix4(a),c=this.normal.applyMatrix3(c).normalize(),this.constant=-a.dot(c),this}}(),translate:function(n){return this.constant-=n.dot(this.normal),this},equals:function(n){return n.normal.equals(this.normal)&&n.constant===this.constant}}),Object.assign(D.prototype,{set:function(n,o,a,c,d,h){var p=this.planes;return p[0].copy(n),p[1].copy(o),p[2].copy(a),p[3].copy(c),p[4].copy(d),p[5].copy(h),this},clone:function(){return new this.constructor().copy(this)},copy:function(n){for(var o=this.planes,a=0;6>a;a++)o[a].copy(n.planes[a]);return this},setFromMatrix:function(n){var o=this.planes,a=n.elements;n=a[0];var c=a[1],d=a[2],h=a[3],p=a[4],y=a[5],b=a[6],_=a[7],C=a[8],M=a[9],k=a[10],F=a[11],z=a[12],j=a[13],Q=a[14];return a=a[15],o[0].setComponents(h-n,_-p,F-C,a-z).normalize(),o[1].setComponents(h+n,_+p,F+C,a+z).normalize(),o[2].setComponents(h+c,_+y,F+M,a+j).normalize(),o[3].setComponents(h-c,_-y,F-M,a-j).normalize(),o[4].setComponents(h-d,_-b,F-k,a-Q).normalize(),o[5].setComponents(h+d,_+b,F+k,a+Q).normalize(),this},intersectsObject:function(){var n=new A;return function(o){var a=o.geometry;return a.boundingSphere===null&&a.computeBoundingSphere(),n.copy(a.boundingSphere).applyMatrix4(o.matrixWorld),this.intersectsSphere(n)}}(),intersectsSprite:function(){var n=new A;return function(o){return n.center.set(0,0,0),n.radius=.7071067811865476,n.applyMatrix4(o.matrixWorld),this.intersectsSphere(n)}}(),intersectsSphere:function(n){var o=this.planes,a=n.center;n=-n.radius;for(var c=0;6>c;c++)if(o[c].distanceToPoint(a)<n)return!1;return!0},intersectsBox:function(){var n=new s;return function(o){for(var a=this.planes,c=0;6>c;c++){var d=a[c];if(n.x=0<d.normal.x?o.max.x:o.min.x,n.y=0<d.normal.y?o.max.y:o.min.y,n.z=0<d.normal.z?o.max.z:o.min.z,0>d.distanceToPoint(n))return!1}return!0}}(),containsPoint:function(n){for(var o=this.planes,a=0;6>a;a++)if(0>o[a].distanceToPoint(n))return!1;return!0}}),Object.assign(O.prototype,{isMatrix4:!0,set:function(n,o,a,c,d,h,p,y,b,_,C,M,k,F,z,j){var Q=this.elements;return Q[0]=n,Q[4]=o,Q[8]=a,Q[12]=c,Q[1]=d,Q[5]=h,Q[9]=p,Q[13]=y,Q[2]=b,Q[6]=_,Q[10]=C,Q[14]=M,Q[3]=k,Q[7]=F,Q[11]=z,Q[15]=j,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new O().fromArray(this.elements)},copy:function(n){var o=this.elements;return n=n.elements,o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15],this},copyPosition:function(n){var o=this.elements;return n=n.elements,o[12]=n[12],o[13]=n[13],o[14]=n[14],this},extractBasis:function(n,o,a){return n.setFromMatrixColumn(this,0),o.setFromMatrixColumn(this,1),a.setFromMatrixColumn(this,2),this},makeBasis:function(n,o,a){return this.set(n.x,o.x,a.x,0,n.y,o.y,a.y,0,n.z,o.z,a.z,0,0,0,0,1),this},extractRotation:function(){var n=new s;return function(o){var a=this.elements,c=o.elements,d=1/n.setFromMatrixColumn(o,0).length(),h=1/n.setFromMatrixColumn(o,1).length();return o=1/n.setFromMatrixColumn(o,2).length(),a[0]=c[0]*d,a[1]=c[1]*d,a[2]=c[2]*d,a[3]=0,a[4]=c[4]*h,a[5]=c[5]*h,a[6]=c[6]*h,a[7]=0,a[8]=c[8]*o,a[9]=c[9]*o,a[10]=c[10]*o,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}}(),makeRotationFromEuler:function(n){n&&n.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var o=this.elements,a=n.x,c=n.y,d=n.z,h=Math.cos(a);a=Math.sin(a);var p=Math.cos(c);c=Math.sin(c);var y=Math.cos(d);if(d=Math.sin(d),n.order==="XYZ"){n=h*y;var b=h*d,_=a*y,C=a*d;o[0]=p*y,o[4]=-p*d,o[8]=c,o[1]=b+_*c,o[5]=n-C*c,o[9]=-a*p,o[2]=C-n*c,o[6]=_+b*c,o[10]=h*p}else n.order==="YXZ"?(n=p*y,b=p*d,_=c*y,C=c*d,o[0]=n+C*a,o[4]=_*a-b,o[8]=h*c,o[1]=h*d,o[5]=h*y,o[9]=-a,o[2]=b*a-_,o[6]=C+n*a,o[10]=h*p):n.order==="ZXY"?(n=p*y,b=p*d,_=c*y,C=c*d,o[0]=n-C*a,o[4]=-h*d,o[8]=_+b*a,o[1]=b+_*a,o[5]=h*y,o[9]=C-n*a,o[2]=-h*c,o[6]=a,o[10]=h*p):n.order==="ZYX"?(n=h*y,b=h*d,_=a*y,C=a*d,o[0]=p*y,o[4]=_*c-b,o[8]=n*c+C,o[1]=p*d,o[5]=C*c+n,o[9]=b*c-_,o[2]=-c,o[6]=a*p,o[10]=h*p):n.order==="YZX"?(n=h*p,b=h*c,_=a*p,C=a*c,o[0]=p*y,o[4]=C-n*d,o[8]=_*d+b,o[1]=d,o[5]=h*y,o[9]=-a*y,o[2]=-c*y,o[6]=b*d+_,o[10]=n-C*d):n.order==="XZY"&&(n=h*p,b=h*c,_=a*p,C=a*c,o[0]=p*y,o[4]=-d,o[8]=c*y,o[1]=n*d+C,o[5]=h*y,o[9]=b*d-_,o[2]=_*d-b,o[6]=a*y,o[10]=C*d+n);return o[3]=0,o[7]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,this},makeRotationFromQuaternion:function(){var n=new s(0,0,0),o=new s(1,1,1);return function(a){return this.compose(n,a,o)}}(),lookAt:function(){var n=new s,o=new s,a=new s;return function(c,d,h){var p=this.elements;return a.subVectors(c,d),a.lengthSq()===0&&(a.z=1),a.normalize(),n.crossVectors(h,a),n.lengthSq()===0&&(Math.abs(h.z)===1?a.x+=1e-4:a.z+=1e-4,a.normalize(),n.crossVectors(h,a)),n.normalize(),o.crossVectors(a,n),p[0]=n.x,p[4]=o.x,p[8]=a.x,p[1]=n.y,p[5]=o.y,p[9]=a.y,p[2]=n.z,p[6]=o.z,p[10]=a.z,this}}(),multiply:function(n,o){return o!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(n,o)):this.multiplyMatrices(this,n)},premultiply:function(n){return this.multiplyMatrices(n,this)},multiplyMatrices:function(n,o){var a=n.elements,c=o.elements;o=this.elements,n=a[0];var d=a[4],h=a[8],p=a[12],y=a[1],b=a[5],_=a[9],C=a[13],M=a[2],k=a[6],F=a[10],z=a[14],j=a[3],Q=a[7],he=a[11];a=a[15];var ue=c[0],ae=c[4],be=c[8],pe=c[12],_e=c[1],ke=c[5],xe=c[9],Ae=c[13],De=c[2],Ge=c[6],Re=c[10],$e=c[14],wt=c[3],J=c[7],oe=c[11];return c=c[15],o[0]=n*ue+d*_e+h*De+p*wt,o[4]=n*ae+d*ke+h*Ge+p*J,o[8]=n*be+d*xe+h*Re+p*oe,o[12]=n*pe+d*Ae+h*$e+p*c,o[1]=y*ue+b*_e+_*De+C*wt,o[5]=y*ae+b*ke+_*Ge+C*J,o[9]=y*be+b*xe+_*Re+C*oe,o[13]=y*pe+b*Ae+_*$e+C*c,o[2]=M*ue+k*_e+F*De+z*wt,o[6]=M*ae+k*ke+F*Ge+z*J,o[10]=M*be+k*xe+F*Re+z*oe,o[14]=M*pe+k*Ae+F*$e+z*c,o[3]=j*ue+Q*_e+he*De+a*wt,o[7]=j*ae+Q*ke+he*Ge+a*J,o[11]=j*be+Q*xe+he*Re+a*oe,o[15]=j*pe+Q*Ae+he*$e+a*c,this},multiplyScalar:function(n){var o=this.elements;return o[0]*=n,o[4]*=n,o[8]*=n,o[12]*=n,o[1]*=n,o[5]*=n,o[9]*=n,o[13]*=n,o[2]*=n,o[6]*=n,o[10]*=n,o[14]*=n,o[3]*=n,o[7]*=n,o[11]*=n,o[15]*=n,this},applyToBufferAttribute:function(){var n=new s;return function(o){for(var a=0,c=o.count;a<c;a++)n.x=o.getX(a),n.y=o.getY(a),n.z=o.getZ(a),n.applyMatrix4(this),o.setXYZ(a,n.x,n.y,n.z);return o}}(),determinant:function(){var n=this.elements,o=n[0],a=n[4],c=n[8],d=n[12],h=n[1],p=n[5],y=n[9],b=n[13],_=n[2],C=n[6],M=n[10],k=n[14];return n[3]*(+d*y*C-c*b*C-d*p*M+a*b*M+c*p*k-a*y*k)+n[7]*(+o*y*k-o*b*M+d*h*M-c*h*k+c*b*_-d*y*_)+n[11]*(+o*b*C-o*p*k-d*h*C+a*h*k+d*p*_-a*b*_)+n[15]*(-c*p*_-o*y*C+o*p*M+c*h*C-a*h*M+a*y*_)},transpose:function(){var n=this.elements,o=n[1];return n[1]=n[4],n[4]=o,o=n[2],n[2]=n[8],n[8]=o,o=n[6],n[6]=n[9],n[9]=o,o=n[3],n[3]=n[12],n[12]=o,o=n[7],n[7]=n[13],n[13]=o,o=n[11],n[11]=n[14],n[14]=o,this},setPosition:function(n,o,a){var c=this.elements;return n.isVector3?(c[12]=n.x,c[13]=n.y,c[14]=n.z):(c[12]=n,c[13]=o,c[14]=a),this},getInverse:function(n,o){var a=this.elements,c=n.elements;n=c[0];var d=c[1],h=c[2],p=c[3],y=c[4],b=c[5],_=c[6],C=c[7],M=c[8],k=c[9],F=c[10],z=c[11],j=c[12],Q=c[13],he=c[14];c=c[15];var ue=k*he*C-Q*F*C+Q*_*z-b*he*z-k*_*c+b*F*c,ae=j*F*C-M*he*C-j*_*z+y*he*z+M*_*c-y*F*c,be=M*Q*C-j*k*C+j*b*z-y*Q*z-M*b*c+y*k*c,pe=j*k*_-M*Q*_-j*b*F+y*Q*F+M*b*he-y*k*he,_e=n*ue+d*ae+h*be+p*pe;if(_e===0){if(o===!0)throw Error("THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0");return console.warn("THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0"),this.identity()}return o=1/_e,a[0]=ue*o,a[1]=(Q*F*p-k*he*p-Q*h*z+d*he*z+k*h*c-d*F*c)*o,a[2]=(b*he*p-Q*_*p+Q*h*C-d*he*C-b*h*c+d*_*c)*o,a[3]=(k*_*p-b*F*p-k*h*C+d*F*C+b*h*z-d*_*z)*o,a[4]=ae*o,a[5]=(M*he*p-j*F*p+j*h*z-n*he*z-M*h*c+n*F*c)*o,a[6]=(j*_*p-y*he*p-j*h*C+n*he*C+y*h*c-n*_*c)*o,a[7]=(y*F*p-M*_*p+M*h*C-n*F*C-y*h*z+n*_*z)*o,a[8]=be*o,a[9]=(j*k*p-M*Q*p-j*d*z+n*Q*z+M*d*c-n*k*c)*o,a[10]=(y*Q*p-j*b*p+j*d*C-n*Q*C-y*d*c+n*b*c)*o,a[11]=(M*b*p-y*k*p-M*d*C+n*k*C+y*d*z-n*b*z)*o,a[12]=pe*o,a[13]=(M*Q*h-j*k*h+j*d*F-n*Q*F-M*d*he+n*k*he)*o,a[14]=(j*b*h-y*Q*h-j*d*_+n*Q*_+y*d*he-n*b*he)*o,a[15]=(y*k*h-M*b*h+M*d*_-n*k*_-y*d*F+n*b*F)*o,this},scale:function(n){var o=this.elements,a=n.x,c=n.y;return n=n.z,o[0]*=a,o[4]*=c,o[8]*=n,o[1]*=a,o[5]*=c,o[9]*=n,o[2]*=a,o[6]*=c,o[10]*=n,o[3]*=a,o[7]*=c,o[11]*=n,this},getMaxScaleOnAxis:function(){var n=this.elements;return Math.sqrt(Math.max(n[0]*n[0]+n[1]*n[1]+n[2]*n[2],n[4]*n[4]+n[5]*n[5]+n[6]*n[6],n[8]*n[8]+n[9]*n[9]+n[10]*n[10]))},makeTranslation:function(n,o,a){return this.set(1,0,0,n,0,1,0,o,0,0,1,a,0,0,0,1),this},makeRotationX:function(n){var o=Math.cos(n);return n=Math.sin(n),this.set(1,0,0,0,0,o,-n,0,0,n,o,0,0,0,0,1),this},makeRotationY:function(n){var o=Math.cos(n);return n=Math.sin(n),this.set(o,0,n,0,0,1,0,0,-n,0,o,0,0,0,0,1),this},makeRotationZ:function(n){var o=Math.cos(n);return n=Math.sin(n),this.set(o,-n,0,0,n,o,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(n,o){var a=Math.cos(o);o=Math.sin(o);var c=1-a,d=n.x,h=n.y;n=n.z;var p=c*d,y=c*h;return this.set(p*d+a,p*h-o*n,p*n+o*h,0,p*h+o*n,y*h+a,y*n-o*d,0,p*n-o*h,y*n+o*d,c*n*n+a,0,0,0,0,1),this},makeScale:function(n,o,a){return this.set(n,0,0,0,0,o,0,0,0,0,a,0,0,0,0,1),this},makeShear:function(n,o,a){return this.set(1,o,a,0,n,1,a,0,n,o,1,0,0,0,0,1),this},compose:function(n,o,a){var c=this.elements,d=o._x,h=o._y,p=o._z,y=o._w,b=d+d,_=h+h,C=p+p;o=d*b;var M=d*_;d*=C;var k=h*_;h*=C,p*=C,b*=y,_*=y,y*=C,C=a.x;var F=a.y;return a=a.z,c[0]=(1-(k+p))*C,c[1]=(M+y)*C,c[2]=(d-_)*C,c[3]=0,c[4]=(M-y)*F,c[5]=(1-(o+p))*F,c[6]=(h+b)*F,c[7]=0,c[8]=(d+_)*a,c[9]=(h-b)*a,c[10]=(1-(o+k))*a,c[11]=0,c[12]=n.x,c[13]=n.y,c[14]=n.z,c[15]=1,this},decompose:function(){var n=new s,o=new O;return function(a,c,d){var h=this.elements,p=n.set(h[0],h[1],h[2]).length(),y=n.set(h[4],h[5],h[6]).length(),b=n.set(h[8],h[9],h[10]).length();0>this.determinant()&&(p=-p),a.x=h[12],a.y=h[13],a.z=h[14],o.copy(this),a=1/p,h=1/y;var _=1/b;return o.elements[0]*=a,o.elements[1]*=a,o.elements[2]*=a,o.elements[4]*=h,o.elements[5]*=h,o.elements[6]*=h,o.elements[8]*=_,o.elements[9]*=_,o.elements[10]*=_,c.setFromRotationMatrix(o),d.x=p,d.y=y,d.z=b,this}}(),makePerspective:function(n,o,a,c,d,h){h===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var p=this.elements;return p[0]=2*d/(o-n),p[4]=0,p[8]=(o+n)/(o-n),p[12]=0,p[1]=0,p[5]=2*d/(a-c),p[9]=(a+c)/(a-c),p[13]=0,p[2]=0,p[6]=0,p[10]=-(h+d)/(h-d),p[14]=-2*h*d/(h-d),p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this},makeOrthographic:function(n,o,a,c,d,h){var p=this.elements,y=1/(o-n),b=1/(a-c),_=1/(h-d);return p[0]=2*y,p[4]=0,p[8]=0,p[12]=-((o+n)*y),p[1]=0,p[5]=2*b,p[9]=0,p[13]=-((a+c)*b),p[2]=0,p[6]=0,p[10]=-2*_,p[14]=-((h+d)*_),p[3]=0,p[7]=0,p[11]=0,p[15]=1,this},equals:function(n){var o=this.elements;n=n.elements;for(var a=0;16>a;a++)if(o[a]!==n[a])return!1;return!0},fromArray:function(n,o){o===void 0&&(o=0);for(var a=0;16>a;a++)this.elements[a]=n[a+o];return this},toArray:function(n,o){n===void 0&&(n=[]),o===void 0&&(o=0);var a=this.elements;return n[o]=a[0],n[o+1]=a[1],n[o+2]=a[2],n[o+3]=a[3],n[o+4]=a[4],n[o+5]=a[5],n[o+6]=a[6],n[o+7]=a[7],n[o+8]=a[8],n[o+9]=a[9],n[o+10]=a[10],n[o+11]=a[11],n[o+12]=a[12],n[o+13]=a[13],n[o+14]=a[14],n[o+15]=a[15],n}});var Ft={alphamap_fragment:`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment:`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment:`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,aomap_fragment:`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( PHYSICAL )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,aomap_pars_fragment:`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs:`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}`,bumpmap_pars_fragment:`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment:`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;
	}
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;
		}
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment:`#if NUM_CLIPPING_PLANES > 0
	#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )
		varying vec3 vViewPosition;
	#endif
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex:`#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )
	varying vec3 vViewPosition;
#endif`,clipping_planes_vertex:`#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )
	vViewPosition = - mvPosition.xyz;
#endif`,color_fragment:`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment:`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_pars_vertex:`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_vertex:`#ifdef USE_COLOR
	vColor.xyz = color.xyz;
#endif`,common:`#define PI 3.14159265359
#define PI2 6.28318530718
#define PI_HALF 1.5707963267949
#define RECIPROCAL_PI 0.31830988618
#define RECIPROCAL_PI2 0.15915494
#define LOG2 1.442695
#define EPSILON 1e-6
#define saturate(a) clamp( a, 0.0, 1.0 )
#define whiteCompliment(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}`,cube_uv_reflection_fragment:`#ifdef ENVMAP_TYPE_CUBE_UV
#define cubeUV_textureSize (1024.0)
int getFaceFromDirection(vec3 direction) {
	vec3 absDirection = abs(direction);
	int face = -1;
	if( absDirection.x > absDirection.z ) {
		if(absDirection.x > absDirection.y )
			face = direction.x > 0.0 ? 0 : 3;
		else
			face = direction.y > 0.0 ? 1 : 4;
	}
	else {
		if(absDirection.z > absDirection.y )
			face = direction.z > 0.0 ? 2 : 5;
		else
			face = direction.y > 0.0 ? 1 : 4;
	}
	return face;
}
#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)
#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))
vec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {
	float scale = exp2(cubeUV_maxLods1 - roughnessLevel);
	float dxRoughness = dFdx(roughness);
	float dyRoughness = dFdy(roughness);
	vec3 dx = dFdx( vec * scale * dxRoughness );
	vec3 dy = dFdy( vec * scale * dyRoughness );
	float d = max( dot( dx, dx ), dot( dy, dy ) );
	d = clamp(d, 1.0, cubeUV_rangeClamp);
	float mipLevel = 0.5 * log2(d);
	return vec2(floor(mipLevel), fract(mipLevel));
}
#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)
#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)
vec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {
	mipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;
	float a = 16.0 * cubeUV_rcpTextureSize;
	vec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );
	vec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;
	float powScale = exp2_packed.x * exp2_packed.y;
	float scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;
	float mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;
	bool bRes = mipLevel == 0.0;
	scale =  bRes && (scale < a) ? a : scale;
	vec3 r;
	vec2 offset;
	int face = getFaceFromDirection(direction);
	float rcpPowScale = 1.0 / powScale;
	if( face == 0) {
		r = vec3(direction.x, -direction.z, direction.y);
		offset = vec2(0.0+mipOffset,0.75 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;
	}
	else if( face == 1) {
		r = vec3(direction.y, direction.x, direction.z);
		offset = vec2(scale+mipOffset, 0.75 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;
	}
	else if( face == 2) {
		r = vec3(direction.z, direction.x, direction.y);
		offset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;
	}
	else if( face == 3) {
		r = vec3(direction.x, direction.z, direction.y);
		offset = vec2(0.0+mipOffset,0.5 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;
	}
	else if( face == 4) {
		r = vec3(direction.y, direction.x, -direction.z);
		offset = vec2(scale+mipOffset, 0.5 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;
	}
	else {
		r = vec3(direction.z, -direction.x, direction.y);
		offset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;
	}
	r = normalize(r);
	float texelOffset = 0.5 * cubeUV_rcpTextureSize;
	vec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;
	vec2 base = offset + vec2( texelOffset );
	return base + s * ( scale - 2.0 * texelOffset );
}
#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)
vec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {
	float roughnessVal = roughness* cubeUV_maxLods3;
	float r1 = floor(roughnessVal);
	float r2 = r1 + 1.0;
	float t = fract(roughnessVal);
	vec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);
	float s = mipInfo.y;
	float level0 = mipInfo.x;
	float level1 = level0 + 1.0;
	level1 = level1 > 5.0 ? 5.0 : level1;
	level0 += min( floor( s + 0.5 ), 5.0 );
	vec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);
	vec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));
	vec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);
	vec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));
	vec4 result = mix(color10, color20, t);
	return vec4(result.rgb, 1.0);
}
#endif`,defaultnormal_vertex:`vec3 transformedNormal = normalMatrix * objectNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = normalMatrix * objectTangent;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex:`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex:`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment:`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment:`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = min( floor( D ) / 255.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,envmap_fragment:`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToVertex, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_EQUIREC )
		vec2 sampleUV;
		reflectVec = normalize( reflectVec );
		sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
		sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;
		vec4 envColor = texture2D( envMap, sampleUV );
	#elif defined( ENVMAP_TYPE_SPHERE )
		reflectVec = normalize( reflectVec );
		vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );
		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	envColor = envMapTexelToLinear( envColor );
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_pars_fragment:`#if defined( USE_ENVMAP ) || defined( PHYSICAL )
	uniform float reflectivity;
	uniform float envMapIntensity;
#endif
#ifdef USE_ENVMAP
	#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )
		varying vec3 vWorldPosition;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex:`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_physical_pars_fragment:`#if defined( USE_ENVMAP ) && defined( PHYSICAL )
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			vec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );
		#else
			vec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			vec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));
		#elif defined( ENVMAP_TYPE_EQUIREC )
			vec2 sampleUV;
			sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
			sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_SPHERE )
			vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,envmap_vertex:`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex:`#ifdef USE_FOG
	fogDepth = -mvPosition.z;
#endif`,fog_pars_vertex:`#ifdef USE_FOG
	varying float fogDepth;
#endif`,fog_fragment:`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment:`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment:`#ifdef TOON
	uniform sampler2D gradientMap;
	vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
		float dotNL = dot( normal, lightDirection );
		vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
		#ifdef USE_GRADIENTMAP
			return texture2D( gradientMap, coord ).rgb;
		#else
			return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
		#endif
	}
#endif`,lightmap_fragment:`#ifdef USE_LIGHTMAP
	reflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;
#endif`,lightmap_pars_fragment:`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_vertex:`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
#endif`,lights_pars_begin:`uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
		float shadowCameraNear;
		float shadowCameraFar;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,lights_phong_fragment:`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment:`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	#ifdef TOON
		vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#else
		float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
		vec3 irradiance = dotNL * directLight.color;
	#endif
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lights_physical_fragment:`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );
#ifdef STANDARD
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
	material.clearCoat = saturate( clearCoat );	material.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );
#endif`,lights_physical_pars_fragment:`struct PhysicalMaterial {
	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;
	#ifndef STANDARD
		float clearCoat;
		float clearCoatRoughness;
	#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearCoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifndef STANDARD
		float clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );
	#else
		float clearCoatDHR = 0.0;
	#endif
	reflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );
	reflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	#ifndef STANDARD
		reflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );
	#endif
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	#ifndef ENVMAP_TYPE_CUBE_UV
		reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	#endif
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifndef STANDARD
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		float dotNL = dotNV;
		float clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );
	#else
		float clearCoatDHR = 0.0;
	#endif
	float clearCoatInv = 1.0 - clearCoatDHR;
	#if defined( ENVMAP_TYPE_CUBE_UV )
		vec3 singleScattering = vec3( 0.0 );
		vec3 multiScattering = vec3( 0.0 );
		vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
		BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
		vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
		reflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;
		reflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;
		reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
	#else
		reflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );
	#endif
	#ifndef STANDARD
		reflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );
	#endif
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )
#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin:`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = normalize( vViewPosition );
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#ifdef USE_SHADOWMAP
		directLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#ifdef USE_SHADOWMAP
		directLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#ifdef USE_SHADOWMAP
		directLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
#endif
#if defined( RE_IndirectDiffuse )
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearCoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps:`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )
		irradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );
	#ifndef STANDARD
		clearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );
	#endif
#endif`,lights_fragment_end:`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
#endif`,logdepthbuf_pars_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
	#else
		gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
		gl_Position.z *= gl_Position.w;
	#endif
#endif`,map_fragment:`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,map_pars_fragment:`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment:`#ifdef USE_MAP
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif`,map_particle_pars_fragment:`#ifdef USE_MAP
	uniform mat3 uvTransform;
	uniform sampler2D map;
#endif`,metalnessmap_fragment:`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment:`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphnormal_vertex:`#ifdef USE_MORPHNORMALS
	objectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];
	objectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];
	objectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];
	objectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];
#endif`,morphtarget_pars_vertex:`#ifdef USE_MORPHTARGETS
	#ifndef USE_MORPHNORMALS
	uniform float morphTargetInfluences[ 8 ];
	#else
	uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,morphtarget_vertex:`#ifdef USE_MORPHTARGETS
	transformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];
	transformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];
	transformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];
	transformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
	transformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];
	transformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];
	transformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];
	transformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];
	#endif
#endif`,normal_fragment_begin:`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
	#endif
#endif`,normal_fragment_maps:`#ifdef USE_NORMALMAP
	#ifdef OBJECTSPACE_NORMALMAP
		normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
		#ifdef FLIP_SIDED
			normal = - normal;
		#endif
		#ifdef DOUBLE_SIDED
			normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		normal = normalize( normalMatrix * normal );
	#else
		#ifdef USE_TANGENT
			mat3 vTBN = mat3( tangent, bitangent, normal );
			vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
			mapN.xy = normalScale * mapN.xy;
			normal = normalize( vTBN * mapN );
		#else
			normal = perturbNormal2Arb( -vViewPosition, normal );
		#endif
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,normalmap_pars_fragment:`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
	#ifdef OBJECTSPACE_NORMALMAP
		uniform mat3 normalMatrix;
	#else
		vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {
			vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
			vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
			vec2 st0 = dFdx( vUv.st );
			vec2 st1 = dFdy( vUv.st );
			float scale = sign( st1.t * st0.s - st0.t * st1.s );
			vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
			vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
			vec3 N = normalize( surf_norm );
			mat3 tsn = mat3( S, T, N );
			vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
			mapN.xy *= normalScale;
			mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			return normalize( tsn * mapN );
		}
	#endif
#endif`,packing:`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment:`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex:`vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment:`#if defined( DITHERING )
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment:`#if defined( DITHERING )
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment:`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment:`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHTS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];
	#endif
	#if NUM_SPOT_LIGHTS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];
	#endif
	#if NUM_POINT_LIGHTS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	float texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {
		const vec2 offset = vec2( 0.0, 1.0 );
		vec2 texelSize = vec2( 1.0 ) / size;
		vec2 centroidUV = floor( uv * size + 0.5 ) / size;
		float lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );
		float lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );
		float rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );
		float rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );
		vec2 f = fract( uv * size + 0.5 );
		float a = mix( lb, lt, f.y );
		float b = mix( rb, rt, f.y );
		float c = mix( a, b, f.x );
		return c;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			shadow = (
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 9.0 );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHTS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];
	#endif
	#if NUM_SPOT_LIGHTS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];
	#endif
	#if NUM_POINT_LIGHTS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];
	#endif
#endif`,shadowmap_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;
	}
	#endif
	#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;
	}
	#endif
	#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;
	}
	#endif
#endif`,shadowmask_pars_fragment:`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHTS > 0
	DirectionalLight directionalLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		shadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#endif
	#if NUM_SPOT_LIGHTS > 0
	SpotLight spotLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		shadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#endif
	#if NUM_POINT_LIGHTS > 0
	PointLight pointLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		shadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#endif
	#endif
	return shadow;
}`,skinbase_vertex:`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex:`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,skinning_vertex:`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex:`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment:`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment:`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment:`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment:`#ifndef saturate
	#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
uniform float toneMappingWhitePoint;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )
vec3 Uncharted2ToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );
}`,uv_pars_fragment:`#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )
	varying vec2 vUv;
#endif`,uv_pars_vertex:`#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif`,uv_vertex:`#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
#endif`,uv2_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = uv2;
#endif`,worldpos_vertex:`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );
#endif`,background_frag:`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,cube_frag:`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = mapTexelToLinear( texColor );
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( gl_FragCoord.z );
	#endif
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV;
	sampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	vLineDistance = scale * lineDistance;
	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		reflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	reflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphysical_frag:`#define PHYSICAL
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifndef STANDARD
	uniform float clearCoat;
	uniform float clearCoatRoughness;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define PHYSICAL
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,normal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,normal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )
	vViewPosition = - mvPosition.xyz;
#endif
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <fog_fragment>
}`,shadow_vert:`#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`},xL={clone:H,merge:V},EL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(U.prototype,{isColor:!0,r:1,g:1,b:1,set:function(n){return n&&n.isColor?this.copy(n):typeof n=="number"?this.setHex(n):typeof n=="string"&&this.setStyle(n),this},setScalar:function(n){return this.b=this.g=this.r=n,this},setHex:function(n){return n=Math.floor(n),this.r=(n>>16&255)/255,this.g=(n>>8&255)/255,this.b=(n&255)/255,this},setRGB:function(n,o,a){return this.r=n,this.g=o,this.b=a,this},setHSL:function(){function n(o,a,c){return 0>c&&(c+=1),1<c&&--c,c<1/6?o+6*(a-o)*c:.5>c?a:c<2/3?o+6*(a-o)*(2/3-c):o}return function(o,a,c){return o=Tt.euclideanModulo(o,1),a=Tt.clamp(a,0,1),c=Tt.clamp(c,0,1),a===0?this.r=this.g=this.b=c:(a=.5>=c?c*(1+a):c+a-c*a,c=2*c-a,this.r=n(c,a,o+1/3),this.g=n(c,a,o),this.b=n(c,a,o-1/3)),this}}(),setStyle:function(n){function o(p){p!==void 0&&1>parseFloat(p)&&console.warn("THREE.Color: Alpha component of "+n+" will be ignored.")}var a;if(a=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(n)){var c=a[2];switch(a[1]){case"rgb":case"rgba":if(a=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(c))return this.r=Math.min(255,parseInt(a[1],10))/255,this.g=Math.min(255,parseInt(a[2],10))/255,this.b=Math.min(255,parseInt(a[3],10))/255,o(a[5]),this;if(a=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(c))return this.r=Math.min(100,parseInt(a[1],10))/100,this.g=Math.min(100,parseInt(a[2],10))/100,this.b=Math.min(100,parseInt(a[3],10))/100,o(a[5]),this;break;case"hsl":case"hsla":if(a=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(c)){c=parseFloat(a[1])/360;var d=parseInt(a[2],10)/100,h=parseInt(a[3],10)/100;return o(a[5]),this.setHSL(c,d,h)}}}else if(a=/^#([A-Fa-f0-9]+)$/.exec(n)){if(a=a[1],c=a.length,c===3)return this.r=parseInt(a.charAt(0)+a.charAt(0),16)/255,this.g=parseInt(a.charAt(1)+a.charAt(1),16)/255,this.b=parseInt(a.charAt(2)+a.charAt(2),16)/255,this;if(c===6)return this.r=parseInt(a.charAt(0)+a.charAt(1),16)/255,this.g=parseInt(a.charAt(2)+a.charAt(3),16)/255,this.b=parseInt(a.charAt(4)+a.charAt(5),16)/255,this}return n&&0<n.length&&(a=EL[n],a!==void 0?this.setHex(a):console.warn("THREE.Color: Unknown color "+n)),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(n){return this.r=n.r,this.g=n.g,this.b=n.b,this},copyGammaToLinear:function(n,o){return o===void 0&&(o=2),this.r=Math.pow(n.r,o),this.g=Math.pow(n.g,o),this.b=Math.pow(n.b,o),this},copyLinearToGamma:function(n,o){return o===void 0&&(o=2),o=0<o?1/o:1,this.r=Math.pow(n.r,o),this.g=Math.pow(n.g,o),this.b=Math.pow(n.b,o),this},convertGammaToLinear:function(n){return this.copyGammaToLinear(this,n),this},convertLinearToGamma:function(n){return this.copyLinearToGamma(this,n),this},copySRGBToLinear:function(){function n(o){return .04045>o?.0773993808*o:Math.pow(.9478672986*o+.0521327014,2.4)}return function(o){return this.r=n(o.r),this.g=n(o.g),this.b=n(o.b),this}}(),copyLinearToSRGB:function(){function n(o){return .0031308>o?12.92*o:1.055*Math.pow(o,.41666)-.055}return function(o){return this.r=n(o.r),this.g=n(o.g),this.b=n(o.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(n){n===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),n={h:0,s:0,l:0});var o=this.r,a=this.g,c=this.b,d=Math.max(o,a,c),h=Math.min(o,a,c),p,y=(h+d)/2;if(h===d)h=p=0;else{var b=d-h;switch(h=.5>=y?b/(d+h):b/(2-d-h),d){case o:p=(a-c)/b+(a<c?6:0);break;case a:p=(c-o)/b+2;break;case c:p=(o-a)/b+4}p/=6}return n.h=p,n.s=h,n.l=y,n},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(){var n={};return function(o,a,c){return this.getHSL(n),n.h+=o,n.s+=a,n.l+=c,this.setHSL(n.h,n.s,n.l),this}}(),add:function(n){return this.r+=n.r,this.g+=n.g,this.b+=n.b,this},addColors:function(n,o){return this.r=n.r+o.r,this.g=n.g+o.g,this.b=n.b+o.b,this},addScalar:function(n){return this.r+=n,this.g+=n,this.b+=n,this},sub:function(n){return this.r=Math.max(0,this.r-n.r),this.g=Math.max(0,this.g-n.g),this.b=Math.max(0,this.b-n.b),this},multiply:function(n){return this.r*=n.r,this.g*=n.g,this.b*=n.b,this},multiplyScalar:function(n){return this.r*=n,this.g*=n,this.b*=n,this},lerp:function(n,o){return this.r+=(n.r-this.r)*o,this.g+=(n.g-this.g)*o,this.b+=(n.b-this.b)*o,this},lerpHSL:function(){var n={h:0,s:0,l:0},o={h:0,s:0,l:0};return function(a,c){this.getHSL(n),a.getHSL(o),a=Tt.lerp(n.h,o.h,c);var d=Tt.lerp(n.s,o.s,c);return c=Tt.lerp(n.l,o.l,c),this.setHSL(a,d,c),this}}(),equals:function(n){return n.r===this.r&&n.g===this.g&&n.b===this.b},fromArray:function(n,o){return o===void 0&&(o=0),this.r=n[o],this.g=n[o+1],this.b=n[o+2],this},toArray:function(n,o){return n===void 0&&(n=[]),o===void 0&&(o=0),n[o]=this.r,n[o+1]=this.g,n[o+2]=this.b,n},toJSON:function(){return this.getHex()}});var ut={common:{diffuse:{value:new U(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new l},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new i(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new U(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new U(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new l}},sprite:{diffuse:{value:new U(15658734)},opacity:{value:1},center:{value:new i(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new l}}},qr={basic:{uniforms:V([ut.common,ut.specularmap,ut.envmap,ut.aomap,ut.lightmap,ut.fog]),vertexShader:Ft.meshbasic_vert,fragmentShader:Ft.meshbasic_frag},lambert:{uniforms:V([ut.common,ut.specularmap,ut.envmap,ut.aomap,ut.lightmap,ut.emissivemap,ut.fog,ut.lights,{emissive:{value:new U(0)}}]),vertexShader:Ft.meshlambert_vert,fragmentShader:Ft.meshlambert_frag},phong:{uniforms:V([ut.common,ut.specularmap,ut.envmap,ut.aomap,ut.lightmap,ut.emissivemap,ut.bumpmap,ut.normalmap,ut.displacementmap,ut.gradientmap,ut.fog,ut.lights,{emissive:{value:new U(0)},specular:{value:new U(1118481)},shininess:{value:30}}]),vertexShader:Ft.meshphong_vert,fragmentShader:Ft.meshphong_frag},standard:{uniforms:V([ut.common,ut.envmap,ut.aomap,ut.lightmap,ut.emissivemap,ut.bumpmap,ut.normalmap,ut.displacementmap,ut.roughnessmap,ut.metalnessmap,ut.fog,ut.lights,{emissive:{value:new U(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Ft.meshphysical_vert,fragmentShader:Ft.meshphysical_frag},matcap:{uniforms:V([ut.common,ut.bumpmap,ut.normalmap,ut.displacementmap,ut.fog,{matcap:{value:null}}]),vertexShader:Ft.meshmatcap_vert,fragmentShader:Ft.meshmatcap_frag},points:{uniforms:V([ut.points,ut.fog]),vertexShader:Ft.points_vert,fragmentShader:Ft.points_frag},dashed:{uniforms:V([ut.common,ut.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ft.linedashed_vert,fragmentShader:Ft.linedashed_frag},depth:{uniforms:V([ut.common,ut.displacementmap]),vertexShader:Ft.depth_vert,fragmentShader:Ft.depth_frag},normal:{uniforms:V([ut.common,ut.bumpmap,ut.normalmap,ut.displacementmap,{opacity:{value:1}}]),vertexShader:Ft.normal_vert,fragmentShader:Ft.normal_frag},sprite:{uniforms:V([ut.sprite,ut.fog]),vertexShader:Ft.sprite_vert,fragmentShader:Ft.sprite_frag},background:{uniforms:{uvTransform:{value:new l},t2D:{value:null}},vertexShader:Ft.background_vert,fragmentShader:Ft.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ft.cube_vert,fragmentShader:Ft.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ft.equirect_vert,fragmentShader:Ft.equirect_frag},distanceRGBA:{uniforms:V([ut.common,ut.displacementmap,{referencePosition:{value:new s},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ft.distanceRGBA_vert,fragmentShader:Ft.distanceRGBA_frag},shadow:{uniforms:V([ut.lights,ut.fog,{color:{value:new U(0)},opacity:{value:1}}]),vertexShader:Ft.shadow_vert,fragmentShader:Ft.shadow_frag}};qr.physical={uniforms:V([qr.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Ft.meshphysical_vert,fragmentShader:Ft.meshphysical_frag},Object.assign(ee.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(n){this.a=n.a,this.b=n.b,this.c=n.c,this.normal.copy(n.normal),this.color.copy(n.color),this.materialIndex=n.materialIndex;for(var o=0,a=n.vertexNormals.length;o<a;o++)this.vertexNormals[o]=n.vertexNormals[o].clone();for(o=0,a=n.vertexColors.length;o<a;o++)this.vertexColors[o]=n.vertexColors[o].clone();return this}}),Z.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" "),Z.DefaultOrder="XYZ",Object.defineProperties(Z.prototype,{x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(n){this._order=n,this.onChangeCallback()}}}),Object.assign(Z.prototype,{isEuler:!0,set:function(n,o,a,c){return this._x=n,this._y=o,this._z=a,this._order=c||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(n){return this._x=n._x,this._y=n._y,this._z=n._z,this._order=n._order,this.onChangeCallback(),this},setFromRotationMatrix:function(n,o,a){var c=Tt.clamp,d=n.elements;n=d[0];var h=d[4],p=d[8],y=d[1],b=d[5],_=d[9],C=d[2],M=d[6];return d=d[10],o=o||this._order,o==="XYZ"?(this._y=Math.asin(c(p,-1,1)),.99999>Math.abs(p)?(this._x=Math.atan2(-_,d),this._z=Math.atan2(-h,n)):(this._x=Math.atan2(M,b),this._z=0)):o==="YXZ"?(this._x=Math.asin(-c(_,-1,1)),.99999>Math.abs(_)?(this._y=Math.atan2(p,d),this._z=Math.atan2(y,b)):(this._y=Math.atan2(-C,n),this._z=0)):o==="ZXY"?(this._x=Math.asin(c(M,-1,1)),.99999>Math.abs(M)?(this._y=Math.atan2(-C,d),this._z=Math.atan2(-h,b)):(this._y=0,this._z=Math.atan2(y,n))):o==="ZYX"?(this._y=Math.asin(-c(C,-1,1)),.99999>Math.abs(C)?(this._x=Math.atan2(M,d),this._z=Math.atan2(y,n)):(this._x=0,this._z=Math.atan2(-h,b))):o==="YZX"?(this._z=Math.asin(c(y,-1,1)),.99999>Math.abs(y)?(this._x=Math.atan2(-_,b),this._y=Math.atan2(-C,n)):(this._x=0,this._y=Math.atan2(p,d))):o==="XZY"?(this._z=Math.asin(-c(h,-1,1)),.99999>Math.abs(h)?(this._x=Math.atan2(M,b),this._y=Math.atan2(p,n)):(this._x=Math.atan2(-_,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+o),this._order=o,a!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var n=new O;return function(o,a,c){return n.makeRotationFromQuaternion(o),this.setFromRotationMatrix(n,a,c)}}(),setFromVector3:function(n,o){return this.set(n.x,n.y,n.z,o||this._order)},reorder:function(){var n=new r;return function(o){return n.setFromEuler(this),this.setFromQuaternion(n,o)}}(),equals:function(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._order===this._order},fromArray:function(n){return this._x=n[0],this._y=n[1],this._z=n[2],n[3]!==void 0&&(this._order=n[3]),this.onChangeCallback(),this},toArray:function(n,o){return n===void 0&&(n=[]),o===void 0&&(o=0),n[o]=this._x,n[o+1]=this._y,n[o+2]=this._z,n[o+3]=this._order,n},toVector3:function(n){return n?n.set(this._x,this._y,this._z):new s(this._x,this._y,this._z)},onChange:function(n){return this.onChangeCallback=n,this},onChangeCallback:function(){}}),Object.assign(X.prototype,{set:function(n){this.mask=1<<n|0},enable:function(n){this.mask=this.mask|1<<n|0},toggle:function(n){this.mask^=1<<n|0},disable:function(n){this.mask&=~(1<<n|0)},test:function(n){return(this.mask&n.mask)!==0}});var SL=0;B.DefaultUp=new s(0,1,0),B.DefaultMatrixAutoUpdate=!0,B.prototype=Object.assign(Object.create(t.prototype),{constructor:B,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(n){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(n),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(n){return this.quaternion.premultiply(n),this},setRotationFromAxisAngle:function(n,o){this.quaternion.setFromAxisAngle(n,o)},setRotationFromEuler:function(n){this.quaternion.setFromEuler(n,!0)},setRotationFromMatrix:function(n){this.quaternion.setFromRotationMatrix(n)},setRotationFromQuaternion:function(n){this.quaternion.copy(n)},rotateOnAxis:function(){var n=new r;return function(o,a){return n.setFromAxisAngle(o,a),this.quaternion.multiply(n),this}}(),rotateOnWorldAxis:function(){var n=new r;return function(o,a){return n.setFromAxisAngle(o,a),this.quaternion.premultiply(n),this}}(),rotateX:function(){var n=new s(1,0,0);return function(o){return this.rotateOnAxis(n,o)}}(),rotateY:function(){var n=new s(0,1,0);return function(o){return this.rotateOnAxis(n,o)}}(),rotateZ:function(){var n=new s(0,0,1);return function(o){return this.rotateOnAxis(n,o)}}(),translateOnAxis:function(){var n=new s;return function(o,a){return n.copy(o).applyQuaternion(this.quaternion),this.position.add(n.multiplyScalar(a)),this}}(),translateX:function(){var n=new s(1,0,0);return function(o){return this.translateOnAxis(n,o)}}(),translateY:function(){var n=new s(0,1,0);return function(o){return this.translateOnAxis(n,o)}}(),translateZ:function(){var n=new s(0,0,1);return function(o){return this.translateOnAxis(n,o)}}(),localToWorld:function(n){return n.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var n=new O;return function(o){return o.applyMatrix4(n.getInverse(this.matrixWorld))}}(),lookAt:function(){var n=new r,o=new O,a=new s,c=new s;return function(d,h,p){d.isVector3?a.copy(d):a.set(d,h,p),d=this.parent,this.updateWorldMatrix(!0,!1),c.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?o.lookAt(c,a,this.up):o.lookAt(a,c,this.up),this.quaternion.setFromRotationMatrix(o),d&&(o.extractRotation(d.matrixWorld),n.setFromRotationMatrix(o),this.quaternion.premultiply(n.inverse()))}}(),add:function(n){if(1<arguments.length){for(var o=0;o<arguments.length;o++)this.add(arguments[o]);return this}return n===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",n),this):(n&&n.isObject3D?(n.parent!==null&&n.parent.remove(n),n.parent=this,n.dispatchEvent({type:"added"}),this.children.push(n)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",n),this)},remove:function(n){if(1<arguments.length){for(var o=0;o<arguments.length;o++)this.remove(arguments[o]);return this}return o=this.children.indexOf(n),o!==-1&&(n.parent=null,n.dispatchEvent({type:"removed"}),this.children.splice(o,1)),this},attach:function(){var n=new O;return function(o){return this.updateWorldMatrix(!0,!1),n.getInverse(this.matrixWorld),o.parent!==null&&(o.parent.updateWorldMatrix(!0,!1),n.multiply(o.parent.matrixWorld)),o.applyMatrix(n),o.updateWorldMatrix(!1,!1),this.add(o),this}}(),getObjectById:function(n){return this.getObjectByProperty("id",n)},getObjectByName:function(n){return this.getObjectByProperty("name",n)},getObjectByProperty:function(n,o){if(this[n]===o)return this;for(var a=0,c=this.children.length;a<c;a++){var d=this.children[a].getObjectByProperty(n,o);if(d!==void 0)return d}},getWorldPosition:function(n){return n===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),n=new s),this.updateMatrixWorld(!0),n.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var n=new s,o=new s;return function(a){return a===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),a=new r),this.updateMatrixWorld(!0),this.matrixWorld.decompose(n,a,o),a}}(),getWorldScale:function(){var n=new s,o=new r;return function(a){return a===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),a=new s),this.updateMatrixWorld(!0),this.matrixWorld.decompose(n,o,a),a}}(),getWorldDirection:function(n){n===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),n=new s),this.updateMatrixWorld(!0);var o=this.matrixWorld.elements;return n.set(o[8],o[9],o[10]).normalize()},raycast:function(){},traverse:function(n){n(this);for(var o=this.children,a=0,c=o.length;a<c;a++)o[a].traverse(n)},traverseVisible:function(n){if(this.visible!==!1){n(this);for(var o=this.children,a=0,c=o.length;a<c;a++)o[a].traverseVisible(n)}},traverseAncestors:function(n){var o=this.parent;o!==null&&(n(o),o.traverseAncestors(n))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(n){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||n)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,n=!0);for(var o=this.children,a=0,c=o.length;a<c;a++)o[a].updateMatrixWorld(n)},updateWorldMatrix:function(n,o){var a=this.parent;if(n===!0&&a!==null&&a.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),o===!0)for(n=this.children,o=0,a=n.length;o<a;o++)n[o].updateWorldMatrix(!1,!0)},toJSON:function(n){function o(C,M){return C[M.uuid]===void 0&&(C[M.uuid]=M.toJSON(n)),M.uuid}function a(C){var M=[],k;for(k in C){var F=C[k];delete F.metadata,M.push(F)}return M}var c=n===void 0||typeof n=="string",d={};c&&(n={geometries:{},materials:{},textures:{},images:{},shapes:{}},d.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var h={};if(h.uuid=this.uuid,h.type=this.type,this.name!==""&&(h.name=this.name),this.castShadow===!0&&(h.castShadow=!0),this.receiveShadow===!0&&(h.receiveShadow=!0),this.visible===!1&&(h.visible=!1),this.frustumCulled===!1&&(h.frustumCulled=!1),this.renderOrder!==0&&(h.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(h.userData=this.userData),h.layers=this.layers.mask,h.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(h.matrixAutoUpdate=!1),this.isMesh&&this.drawMode!==0&&(h.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){h.geometry=o(n.geometries,this.geometry);var p=this.geometry.parameters;if(p!==void 0&&p.shapes!==void 0)if(p=p.shapes,Array.isArray(p))for(var y=0,b=p.length;y<b;y++)o(n.shapes,p[y]);else o(n.shapes,p)}if(this.material!==void 0)if(Array.isArray(this.material)){for(p=[],y=0,b=this.material.length;y<b;y++)p.push(o(n.materials,this.material[y]));h.material=p}else h.material=o(n.materials,this.material);if(0<this.children.length)for(h.children=[],y=0;y<this.children.length;y++)h.children.push(this.children[y].toJSON(n).object);if(c){c=a(n.geometries),y=a(n.materials),b=a(n.textures);var _=a(n.images);p=a(n.shapes),0<c.length&&(d.geometries=c),0<y.length&&(d.materials=y),0<b.length&&(d.textures=b),0<_.length&&(d.images=_),0<p.length&&(d.shapes=p)}return d.object=h,d},clone:function(n){return new this.constructor().copy(this,n)},copy:function(n,o){if(o===void 0&&(o=!0),this.name=n.name,this.up.copy(n.up),this.position.copy(n.position),this.quaternion.copy(n.quaternion),this.scale.copy(n.scale),this.matrix.copy(n.matrix),this.matrixWorld.copy(n.matrixWorld),this.matrixAutoUpdate=n.matrixAutoUpdate,this.matrixWorldNeedsUpdate=n.matrixWorldNeedsUpdate,this.layers.mask=n.layers.mask,this.visible=n.visible,this.castShadow=n.castShadow,this.receiveShadow=n.receiveShadow,this.frustumCulled=n.frustumCulled,this.renderOrder=n.renderOrder,this.userData=JSON.parse(JSON.stringify(n.userData)),o===!0)for(o=0;o<n.children.length;o++)this.add(n.children[o].clone());return this}});var TL=0;G.prototype=Object.assign(Object.create(t.prototype),{constructor:G,isGeometry:!0,applyMatrix:function(n){for(var o=new l().getNormalMatrix(n),a=0,c=this.vertices.length;a<c;a++)this.vertices[a].applyMatrix4(n);for(a=0,c=this.faces.length;a<c;a++){n=this.faces[a],n.normal.applyMatrix3(o).normalize();for(var d=0,h=n.vertexNormals.length;d<h;d++)n.vertexNormals[d].applyMatrix3(o).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.normalsNeedUpdate=this.verticesNeedUpdate=!0,this},rotateX:function(){var n=new O;return function(o){return n.makeRotationX(o),this.applyMatrix(n),this}}(),rotateY:function(){var n=new O;return function(o){return n.makeRotationY(o),this.applyMatrix(n),this}}(),rotateZ:function(){var n=new O;return function(o){return n.makeRotationZ(o),this.applyMatrix(n),this}}(),translate:function(){var n=new O;return function(o,a,c){return n.makeTranslation(o,a,c),this.applyMatrix(n),this}}(),scale:function(){var n=new O;return function(o,a,c){return n.makeScale(o,a,c),this.applyMatrix(n),this}}(),lookAt:function(){var n=new B;return function(o){n.lookAt(o),n.updateMatrix(),this.applyMatrix(n.matrix)}}(),fromBufferGeometry:function(n){function o(F,z,j,Q){var he=y===void 0?[]:[a.colors[F].clone(),a.colors[z].clone(),a.colors[j].clone()],ue=p===void 0?[]:[new s().fromArray(p,3*F),new s().fromArray(p,3*z),new s().fromArray(p,3*j)];Q=new ee(F,z,j,ue,he,Q),a.faces.push(Q),b!==void 0&&a.faceVertexUvs[0].push([new i().fromArray(b,2*F),new i().fromArray(b,2*z),new i().fromArray(b,2*j)]),_!==void 0&&a.faceVertexUvs[1].push([new i().fromArray(_,2*F),new i().fromArray(_,2*z),new i().fromArray(_,2*j)])}var a=this,c=n.index!==null?n.index.array:void 0,d=n.attributes,h=d.position.array,p=d.normal!==void 0?d.normal.array:void 0,y=d.color!==void 0?d.color.array:void 0,b=d.uv!==void 0?d.uv.array:void 0,_=d.uv2!==void 0?d.uv2.array:void 0;for(_!==void 0&&(this.faceVertexUvs[1]=[]),d=0;d<h.length;d+=3)a.vertices.push(new s().fromArray(h,d)),y!==void 0&&a.colors.push(new U().fromArray(y,d));var C=n.groups;if(0<C.length)for(d=0;d<C.length;d++){h=C[d];var M=h.start,k=M;for(M+=h.count;k<M;k+=3)c!==void 0?o(c[k],c[k+1],c[k+2],h.materialIndex):o(k,k+1,k+2,h.materialIndex)}else if(c!==void 0)for(d=0;d<c.length;d+=3)o(c[d],c[d+1],c[d+2]);else for(d=0;d<h.length/3;d+=3)o(d,d+1,d+2);return this.computeFaceNormals(),n.boundingBox!==null&&(this.boundingBox=n.boundingBox.clone()),n.boundingSphere!==null&&(this.boundingSphere=n.boundingSphere.clone()),this},center:function(){var n=new s;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(n).negate(),this.translate(n.x,n.y,n.z),this}}(),normalize:function(){this.computeBoundingSphere();var n=this.boundingSphere.center,o=this.boundingSphere.radius;o=o===0?1:1/o;var a=new O;return a.set(o,0,0,-o*n.x,0,o,0,-o*n.y,0,0,o,-o*n.z,0,0,0,1),this.applyMatrix(a),this},computeFaceNormals:function(){for(var n=new s,o=new s,a=0,c=this.faces.length;a<c;a++){var d=this.faces[a],h=this.vertices[d.a],p=this.vertices[d.b];n.subVectors(this.vertices[d.c],p),o.subVectors(h,p),n.cross(o),n.normalize(),d.normal.copy(n)}},computeVertexNormals:function(n){n===void 0&&(n=!0);var o,a=Array(this.vertices.length),c=0;for(o=this.vertices.length;c<o;c++)a[c]=new s;if(n){var d=new s,h=new s;for(n=0,c=this.faces.length;n<c;n++){o=this.faces[n];var p=this.vertices[o.a],y=this.vertices[o.b],b=this.vertices[o.c];d.subVectors(b,y),h.subVectors(p,y),d.cross(h),a[o.a].add(d),a[o.b].add(d),a[o.c].add(d)}}else for(this.computeFaceNormals(),n=0,c=this.faces.length;n<c;n++)o=this.faces[n],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(c=0,o=this.vertices.length;c<o;c++)a[c].normalize();for(n=0,c=this.faces.length;n<c;n++)o=this.faces[n],p=o.vertexNormals,p.length===3?(p[0].copy(a[o.a]),p[1].copy(a[o.b]),p[2].copy(a[o.c])):(p[0]=a[o.a].clone(),p[1]=a[o.b].clone(),p[2]=a[o.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var n;this.computeFaceNormals();var o=0;for(n=this.faces.length;o<n;o++){var a=this.faces[o],c=a.vertexNormals;c.length===3?(c[0].copy(a.normal),c[1].copy(a.normal),c[2].copy(a.normal)):(c[0]=a.normal.clone(),c[1]=a.normal.clone(),c[2]=a.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var n,o,a=0;for(o=this.faces.length;a<o;a++){var c=this.faces[a];c.__originalFaceNormal?c.__originalFaceNormal.copy(c.normal):c.__originalFaceNormal=c.normal.clone(),c.__originalVertexNormals||(c.__originalVertexNormals=[]);var d=0;for(n=c.vertexNormals.length;d<n;d++)c.__originalVertexNormals[d]?c.__originalVertexNormals[d].copy(c.vertexNormals[d]):c.__originalVertexNormals[d]=c.vertexNormals[d].clone()}var h=new G;for(h.faces=this.faces,d=0,n=this.morphTargets.length;d<n;d++){if(!this.morphNormals[d]){this.morphNormals[d]={},this.morphNormals[d].faceNormals=[],this.morphNormals[d].vertexNormals=[],c=this.morphNormals[d].faceNormals;var p=this.morphNormals[d].vertexNormals;for(a=0,o=this.faces.length;a<o;a++){var y=new s,b={a:new s,b:new s,c:new s};c.push(y),p.push(b)}}for(p=this.morphNormals[d],h.vertices=this.morphTargets[d].vertices,h.computeFaceNormals(),h.computeVertexNormals(),a=0,o=this.faces.length;a<o;a++)c=this.faces[a],y=p.faceNormals[a],b=p.vertexNormals[a],y.copy(c.normal),b.a.copy(c.vertexNormals[0]),b.b.copy(c.vertexNormals[1]),b.c.copy(c.vertexNormals[2])}for(a=0,o=this.faces.length;a<o;a++)c=this.faces[a],c.normal=c.__originalFaceNormal,c.vertexNormals=c.__originalVertexNormals},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new E),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new A),this.boundingSphere.setFromPoints(this.vertices)},merge:function(n,o,a){if(n&&n.isGeometry){var c,d=this.vertices.length,h=this.vertices,p=n.vertices,y=this.faces,b=n.faces,_=this.faceVertexUvs[0],C=n.faceVertexUvs[0],M=this.colors,k=n.colors;a===void 0&&(a=0),o!==void 0&&(c=new l().getNormalMatrix(o)),n=0;for(var F=p.length;n<F;n++){var z=p[n].clone();o!==void 0&&z.applyMatrix4(o),h.push(z)}for(n=0,F=k.length;n<F;n++)M.push(k[n].clone());for(n=0,F=b.length;n<F;n++){p=b[n];var j=p.vertexNormals;for(k=p.vertexColors,M=new ee(p.a+d,p.b+d,p.c+d),M.normal.copy(p.normal),c!==void 0&&M.normal.applyMatrix3(c).normalize(),o=0,h=j.length;o<h;o++)z=j[o].clone(),c!==void 0&&z.applyMatrix3(c).normalize(),M.vertexNormals.push(z);for(M.color.copy(p.color),o=0,h=k.length;o<h;o++)z=k[o],M.vertexColors.push(z.clone());M.materialIndex=p.materialIndex+a,y.push(M)}for(n=0,F=C.length;n<F;n++)if(a=C[n],c=[],a!==void 0){for(o=0,h=a.length;o<h;o++)c.push(a[o].clone());_.push(c)}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",n)},mergeMesh:function(n){n&&n.isMesh?(n.matrixAutoUpdate&&n.updateMatrix(),this.merge(n.geometry,n.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",n)},mergeVertices:function(){var n={},o=[],a=[],c=Math.pow(10,4),d,h=0;for(d=this.vertices.length;h<d;h++){var p=this.vertices[h];p=Math.round(p.x*c)+"_"+Math.round(p.y*c)+"_"+Math.round(p.z*c),n[p]===void 0?(n[p]=h,o.push(this.vertices[h]),a[h]=o.length-1):a[h]=a[n[p]]}for(n=[],h=0,d=this.faces.length;h<d;h++)for(c=this.faces[h],c.a=a[c.a],c.b=a[c.b],c.c=a[c.c],c=[c.a,c.b,c.c],p=0;3>p;p++)if(c[p]===c[(p+1)%3]){n.push(h);break}for(h=n.length-1;0<=h;h--)for(c=n[h],this.faces.splice(c,1),a=0,d=this.faceVertexUvs.length;a<d;a++)this.faceVertexUvs[a].splice(c,1);return h=this.vertices.length-o.length,this.vertices=o,h},setFromPoints:function(n){this.vertices=[];for(var o=0,a=n.length;o<a;o++){var c=n[o];this.vertices.push(new s(c.x,c.y,c.z||0))}return this},sortFacesByMaterialIndex:function(){for(var n=this.faces,o=n.length,a=0;a<o;a++)n[a]._id=a;n.sort(function(b,_){return b.materialIndex-_.materialIndex});var c=this.faceVertexUvs[0],d=this.faceVertexUvs[1],h,p;for(c&&c.length===o&&(h=[]),d&&d.length===o&&(p=[]),a=0;a<o;a++){var y=n[a]._id;h&&h.push(c[y]),p&&p.push(d[y])}h&&(this.faceVertexUvs[0]=h),p&&(this.faceVertexUvs[1]=p)},toJSON:function(){function n(pe,_e,ke){return ke?pe|1<<_e:pe&~(1<<_e)}function o(pe){var _e=pe.x.toString()+pe.y.toString()+pe.z.toString();return _[_e]!==void 0||(_[_e]=b.length/3,b.push(pe.x,pe.y,pe.z)),_[_e]}function a(pe){var _e=pe.r.toString()+pe.g.toString()+pe.b.toString();return M[_e]!==void 0||(M[_e]=C.length,C.push(pe.getHex())),M[_e]}function c(pe){var _e=pe.x.toString()+pe.y.toString();return F[_e]!==void 0||(F[_e]=k.length/2,k.push(pe.x,pe.y)),F[_e]}var d={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(d.uuid=this.uuid,d.type=this.type,this.name!==""&&(d.name=this.name),this.parameters!==void 0){var h=this.parameters,p;for(p in h)h[p]!==void 0&&(d[p]=h[p]);return d}for(h=[],p=0;p<this.vertices.length;p++){var y=this.vertices[p];h.push(y.x,y.y,y.z)}y=[];var b=[],_={},C=[],M={},k=[],F={};for(p=0;p<this.faces.length;p++){var z=this.faces[p],j=this.faceVertexUvs[0][p]!==void 0,Q=0<z.normal.length(),he=0<z.vertexNormals.length,ue=z.color.r!==1||z.color.g!==1||z.color.b!==1,ae=0<z.vertexColors.length,be=0;be=n(be,0,0),be=n(be,1,!0),be=n(be,2,!1),be=n(be,3,j),be=n(be,4,Q),be=n(be,5,he),be=n(be,6,ue),be=n(be,7,ae),y.push(be),y.push(z.a,z.b,z.c),y.push(z.materialIndex),j&&(j=this.faceVertexUvs[0][p],y.push(c(j[0]),c(j[1]),c(j[2]))),Q&&y.push(o(z.normal)),he&&(Q=z.vertexNormals,y.push(o(Q[0]),o(Q[1]),o(Q[2]))),ue&&y.push(a(z.color)),ae&&(z=z.vertexColors,y.push(a(z[0]),a(z[1]),a(z[2])))}return d.data={},d.data.vertices=h,d.data.normals=b,0<C.length&&(d.data.colors=C),0<k.length&&(d.data.uvs=[k]),d.data.faces=y,d},clone:function(){return new G().copy(this)},copy:function(n){var o,a,c;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.name=n.name;var d=n.vertices,h=0;for(o=d.length;h<o;h++)this.vertices.push(d[h].clone());for(d=n.colors,h=0,o=d.length;h<o;h++)this.colors.push(d[h].clone());for(d=n.faces,h=0,o=d.length;h<o;h++)this.faces.push(d[h].clone());for(h=0,o=n.faceVertexUvs.length;h<o;h++){var p=n.faceVertexUvs[h];for(this.faceVertexUvs[h]===void 0&&(this.faceVertexUvs[h]=[]),d=0,a=p.length;d<a;d++){var y=p[d],b=[],_=0;for(c=y.length;_<c;_++)b.push(y[_].clone());this.faceVertexUvs[h].push(b)}}for(_=n.morphTargets,h=0,o=_.length;h<o;h++){if(c={},c.name=_[h].name,_[h].vertices!==void 0)for(c.vertices=[],d=0,a=_[h].vertices.length;d<a;d++)c.vertices.push(_[h].vertices[d].clone());if(_[h].normals!==void 0)for(c.normals=[],d=0,a=_[h].normals.length;d<a;d++)c.normals.push(_[h].normals[d].clone());this.morphTargets.push(c)}for(_=n.morphNormals,h=0,o=_.length;h<o;h++){if(c={},_[h].vertexNormals!==void 0)for(c.vertexNormals=[],d=0,a=_[h].vertexNormals.length;d<a;d++)p=_[h].vertexNormals[d],y={},y.a=p.a.clone(),y.b=p.b.clone(),y.c=p.c.clone(),c.vertexNormals.push(y);if(_[h].faceNormals!==void 0)for(c.faceNormals=[],d=0,a=_[h].faceNormals.length;d<a;d++)c.faceNormals.push(_[h].faceNormals[d].clone());this.morphNormals.push(c)}for(d=n.skinWeights,h=0,o=d.length;h<o;h++)this.skinWeights.push(d[h].clone());for(d=n.skinIndices,h=0,o=d.length;h<o;h++)this.skinIndices.push(d[h].clone());for(d=n.lineDistances,h=0,o=d.length;h<o;h++)this.lineDistances.push(d[h]);return h=n.boundingBox,h!==null&&(this.boundingBox=h.clone()),h=n.boundingSphere,h!==null&&(this.boundingSphere=h.clone()),this.elementsNeedUpdate=n.elementsNeedUpdate,this.verticesNeedUpdate=n.verticesNeedUpdate,this.uvsNeedUpdate=n.uvsNeedUpdate,this.normalsNeedUpdate=n.normalsNeedUpdate,this.colorsNeedUpdate=n.colorsNeedUpdate,this.lineDistancesNeedUpdate=n.lineDistancesNeedUpdate,this.groupsNeedUpdate=n.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(q.prototype,"needsUpdate",{set:function(n){n===!0&&this.version++}}),Object.assign(q.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(n){if(Array.isArray(n))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=n!==void 0?n.length/this.itemSize:0,this.array=n,this},setDynamic:function(n){return this.dynamic=n,this},copy:function(n){return this.name=n.name,this.array=new n.array.constructor(n.array),this.itemSize=n.itemSize,this.count=n.count,this.normalized=n.normalized,this.dynamic=n.dynamic,this},copyAt:function(n,o,a){n*=this.itemSize,a*=o.itemSize;for(var c=0,d=this.itemSize;c<d;c++)this.array[n+c]=o.array[a+c];return this},copyArray:function(n){return this.array.set(n),this},copyColorsArray:function(n){for(var o=this.array,a=0,c=0,d=n.length;c<d;c++){var h=n[c];h===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",c),h=new U),o[a++]=h.r,o[a++]=h.g,o[a++]=h.b}return this},copyVector2sArray:function(n){for(var o=this.array,a=0,c=0,d=n.length;c<d;c++){var h=n[c];h===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",c),h=new i),o[a++]=h.x,o[a++]=h.y}return this},copyVector3sArray:function(n){for(var o=this.array,a=0,c=0,d=n.length;c<d;c++){var h=n[c];h===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",c),h=new s),o[a++]=h.x,o[a++]=h.y,o[a++]=h.z}return this},copyVector4sArray:function(n){for(var o=this.array,a=0,c=0,d=n.length;c<d;c++){var h=n[c];h===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",c),h=new f),o[a++]=h.x,o[a++]=h.y,o[a++]=h.z,o[a++]=h.w}return this},set:function(n,o){return o===void 0&&(o=0),this.array.set(n,o),this},getX:function(n){return this.array[n*this.itemSize]},setX:function(n,o){return this.array[n*this.itemSize]=o,this},getY:function(n){return this.array[n*this.itemSize+1]},setY:function(n,o){return this.array[n*this.itemSize+1]=o,this},getZ:function(n){return this.array[n*this.itemSize+2]},setZ:function(n,o){return this.array[n*this.itemSize+2]=o,this},getW:function(n){return this.array[n*this.itemSize+3]},setW:function(n,o){return this.array[n*this.itemSize+3]=o,this},setXY:function(n,o,a){return n*=this.itemSize,this.array[n+0]=o,this.array[n+1]=a,this},setXYZ:function(n,o,a,c){return n*=this.itemSize,this.array[n+0]=o,this.array[n+1]=a,this.array[n+2]=c,this},setXYZW:function(n,o,a,c,d){return n*=this.itemSize,this.array[n+0]=o,this.array[n+1]=a,this.array[n+2]=c,this.array[n+3]=d,this},onUpload:function(n){return this.onUploadCallback=n,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Y.prototype=Object.create(q.prototype),Y.prototype.constructor=Y,fe.prototype=Object.create(q.prototype),fe.prototype.constructor=fe,de.prototype=Object.create(q.prototype),de.prototype.constructor=de,g.prototype=Object.create(q.prototype),g.prototype.constructor=g,T.prototype=Object.create(q.prototype),T.prototype.constructor=T,R.prototype=Object.create(q.prototype),R.prototype.constructor=R,S.prototype=Object.create(q.prototype),S.prototype.constructor=S,N.prototype=Object.create(q.prototype),N.prototype.constructor=N,$.prototype=Object.create(q.prototype),$.prototype.constructor=$,Object.assign(ce.prototype,{computeGroups:function(n){var o=[],a=void 0;n=n.faces;for(var c=0;c<n.length;c++){var d=n[c];if(d.materialIndex!==a){a=d.materialIndex,h!==void 0&&(h.count=3*c-h.start,o.push(h));var h={start:3*c,materialIndex:a}}}h!==void 0&&(h.count=3*c-h.start,o.push(h)),this.groups=o},fromGeometry:function(n){var o=n.faces,a=n.vertices,c=n.faceVertexUvs,d=c[0]&&0<c[0].length,h=c[1]&&0<c[1].length,p=n.morphTargets,y=p.length;if(0<y){for(var b=[],_=0;_<y;_++)b[_]={name:p[_].name,data:[]};this.morphTargets.position=b}var C=n.morphNormals,M=C.length;if(0<M){var k=[];for(_=0;_<M;_++)k[_]={name:C[_].name,data:[]};this.morphTargets.normal=k}var F=n.skinIndices,z=n.skinWeights,j=F.length===a.length,Q=z.length===a.length;for(0<a.length&&o.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported."),_=0;_<o.length;_++){var he=o[_];this.vertices.push(a[he.a],a[he.b],a[he.c]);var ue=he.vertexNormals;for(ue.length===3?this.normals.push(ue[0],ue[1],ue[2]):(ue=he.normal,this.normals.push(ue,ue,ue)),ue=he.vertexColors,ue.length===3?this.colors.push(ue[0],ue[1],ue[2]):(ue=he.color,this.colors.push(ue,ue,ue)),d===!0&&(ue=c[0][_],ue!==void 0?this.uvs.push(ue[0],ue[1],ue[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",_),this.uvs.push(new i,new i,new i))),h===!0&&(ue=c[1][_],ue!==void 0?this.uvs2.push(ue[0],ue[1],ue[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",_),this.uvs2.push(new i,new i,new i))),ue=0;ue<y;ue++){var ae=p[ue].vertices;b[ue].data.push(ae[he.a],ae[he.b],ae[he.c])}for(ue=0;ue<M;ue++)ae=C[ue].vertexNormals[_],k[ue].data.push(ae.a,ae.b,ae.c);j&&this.skinIndices.push(F[he.a],F[he.b],F[he.c]),Q&&this.skinWeights.push(z[he.a],z[he.b],z[he.c])}return this.computeGroups(n),this.verticesNeedUpdate=n.verticesNeedUpdate,this.normalsNeedUpdate=n.normalsNeedUpdate,this.colorsNeedUpdate=n.colorsNeedUpdate,this.uvsNeedUpdate=n.uvsNeedUpdate,this.groupsNeedUpdate=n.groupsNeedUpdate,this}});var AL=1;ie.prototype=Object.assign(Object.create(t.prototype),{constructor:ie,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(n){Array.isArray(n)?this.index=new(65535<le(n)?S:T)(n,1):this.index=n},addAttribute:function(n,o,a){return o&&o.isBufferAttribute||o&&o.isInterleavedBufferAttribute?n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(o),this):(this.attributes[n]=o,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(n,new q(o,a)))},getAttribute:function(n){return this.attributes[n]},removeAttribute:function(n){return delete this.attributes[n],this},addGroup:function(n,o,a){this.groups.push({start:n,count:o,materialIndex:a!==void 0?a:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(n,o){this.drawRange.start=n,this.drawRange.count=o},applyMatrix:function(n){var o=this.attributes.position;o!==void 0&&(n.applyToBufferAttribute(o),o.needsUpdate=!0);var a=this.attributes.normal;return a!==void 0&&(o=new l().getNormalMatrix(n),o.applyToBufferAttribute(a),a.needsUpdate=!0),a=this.attributes.tangent,a!==void 0&&(o=new l().getNormalMatrix(n),o.applyToBufferAttribute(a),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(){var n=new O;return function(o){return n.makeRotationX(o),this.applyMatrix(n),this}}(),rotateY:function(){var n=new O;return function(o){return n.makeRotationY(o),this.applyMatrix(n),this}}(),rotateZ:function(){var n=new O;return function(o){return n.makeRotationZ(o),this.applyMatrix(n),this}}(),translate:function(){var n=new O;return function(o,a,c){return n.makeTranslation(o,a,c),this.applyMatrix(n),this}}(),scale:function(){var n=new O;return function(o,a,c){return n.makeScale(o,a,c),this.applyMatrix(n),this}}(),lookAt:function(){var n=new B;return function(o){n.lookAt(o),n.updateMatrix(),this.applyMatrix(n.matrix)}}(),center:function(){var n=new s;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(n).negate(),this.translate(n.x,n.y,n.z),this}}(),setFromObject:function(n){var o=n.geometry;if(n.isPoints||n.isLine){n=new N(3*o.vertices.length,3);var a=new N(3*o.colors.length,3);this.addAttribute("position",n.copyVector3sArray(o.vertices)),this.addAttribute("color",a.copyColorsArray(o.colors)),o.lineDistances&&o.lineDistances.length===o.vertices.length&&(n=new N(o.lineDistances.length,1),this.addAttribute("lineDistance",n.copyArray(o.lineDistances))),o.boundingSphere!==null&&(this.boundingSphere=o.boundingSphere.clone()),o.boundingBox!==null&&(this.boundingBox=o.boundingBox.clone())}else n.isMesh&&o&&o.isGeometry&&this.fromGeometry(o);return this},setFromPoints:function(n){for(var o=[],a=0,c=n.length;a<c;a++){var d=n[a];o.push(d.x,d.y,d.z||0)}return this.addAttribute("position",new N(o,3)),this},updateFromObject:function(n){var o=n.geometry;if(n.isMesh){var a=o.__directGeometry;if(o.elementsNeedUpdate===!0&&(a=void 0,o.elementsNeedUpdate=!1),a===void 0)return this.fromGeometry(o);a.verticesNeedUpdate=o.verticesNeedUpdate,a.normalsNeedUpdate=o.normalsNeedUpdate,a.colorsNeedUpdate=o.colorsNeedUpdate,a.uvsNeedUpdate=o.uvsNeedUpdate,a.groupsNeedUpdate=o.groupsNeedUpdate,o.verticesNeedUpdate=!1,o.normalsNeedUpdate=!1,o.colorsNeedUpdate=!1,o.uvsNeedUpdate=!1,o.groupsNeedUpdate=!1,o=a}return o.verticesNeedUpdate===!0&&(a=this.attributes.position,a!==void 0&&(a.copyVector3sArray(o.vertices),a.needsUpdate=!0),o.verticesNeedUpdate=!1),o.normalsNeedUpdate===!0&&(a=this.attributes.normal,a!==void 0&&(a.copyVector3sArray(o.normals),a.needsUpdate=!0),o.normalsNeedUpdate=!1),o.colorsNeedUpdate===!0&&(a=this.attributes.color,a!==void 0&&(a.copyColorsArray(o.colors),a.needsUpdate=!0),o.colorsNeedUpdate=!1),o.uvsNeedUpdate&&(a=this.attributes.uv,a!==void 0&&(a.copyVector2sArray(o.uvs),a.needsUpdate=!0),o.uvsNeedUpdate=!1),o.lineDistancesNeedUpdate&&(a=this.attributes.lineDistance,a!==void 0&&(a.copyArray(o.lineDistances),a.needsUpdate=!0),o.lineDistancesNeedUpdate=!1),o.groupsNeedUpdate&&(o.computeGroups(n.geometry),this.groups=o.groups,o.groupsNeedUpdate=!1),this},fromGeometry:function(n){return n.__directGeometry=new ce().fromGeometry(n),this.fromDirectGeometry(n.__directGeometry)},fromDirectGeometry:function(n){var o=new Float32Array(3*n.vertices.length);this.addAttribute("position",new q(o,3).copyVector3sArray(n.vertices)),0<n.normals.length&&(o=new Float32Array(3*n.normals.length),this.addAttribute("normal",new q(o,3).copyVector3sArray(n.normals))),0<n.colors.length&&(o=new Float32Array(3*n.colors.length),this.addAttribute("color",new q(o,3).copyColorsArray(n.colors))),0<n.uvs.length&&(o=new Float32Array(2*n.uvs.length),this.addAttribute("uv",new q(o,2).copyVector2sArray(n.uvs))),0<n.uvs2.length&&(o=new Float32Array(2*n.uvs2.length),this.addAttribute("uv2",new q(o,2).copyVector2sArray(n.uvs2))),this.groups=n.groups;for(var a in n.morphTargets){o=[];for(var c=n.morphTargets[a],d=0,h=c.length;d<h;d++){var p=c[d],y=new N(3*p.data.length,3);y.name=p.name,o.push(y.copyVector3sArray(p.data))}this.morphAttributes[a]=o}return 0<n.skinIndices.length&&(a=new N(4*n.skinIndices.length,4),this.addAttribute("skinIndex",a.copyVector4sArray(n.skinIndices))),0<n.skinWeights.length&&(a=new N(4*n.skinWeights.length,4),this.addAttribute("skinWeight",a.copyVector4sArray(n.skinWeights))),n.boundingSphere!==null&&(this.boundingSphere=n.boundingSphere.clone()),n.boundingBox!==null&&(this.boundingBox=n.boundingBox.clone()),this},computeBoundingBox:function(){var n=new E;return function(){this.boundingBox===null&&(this.boundingBox=new E);var o=this.attributes.position,a=this.morphAttributes.position;if(o!==void 0){if(this.boundingBox.setFromBufferAttribute(o),a){o=0;for(var c=a.length;o<c;o++)n.setFromBufferAttribute(a[o]),this.boundingBox.expandByPoint(n.min),this.boundingBox.expandByPoint(n.max)}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}(),computeBoundingSphere:function(){var n=new E,o=new E,a=new s;return function(){this.boundingSphere===null&&(this.boundingSphere=new A);var c=this.attributes.position,d=this.morphAttributes.position;if(c){var h=this.boundingSphere.center;if(n.setFromBufferAttribute(c),d)for(var p=0,y=d.length;p<y;p++){var b=d[p];o.setFromBufferAttribute(b),n.expandByPoint(o.min),n.expandByPoint(o.max)}n.getCenter(h);var _=0;for(p=0,y=c.count;p<y;p++)a.fromBufferAttribute(c,p),_=Math.max(_,h.distanceToSquared(a));if(d)for(p=0,y=d.length;p<y;p++){b=d[p],c=0;for(var C=b.count;c<C;c++)a.fromBufferAttribute(b,c),_=Math.max(_,h.distanceToSquared(a))}this.boundingSphere.radius=Math.sqrt(_),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var n=this.index,o=this.attributes;if(o.position){var a=o.position.array;if(o.normal===void 0)this.addAttribute("normal",new q(new Float32Array(a.length),3));else for(var c=o.normal.array,d=0,h=c.length;d<h;d++)c[d]=0;c=o.normal.array;var p=new s,y=new s,b=new s,_=new s,C=new s;if(n){var M=n.array;for(d=0,h=n.count;d<h;d+=3){n=3*M[d+0];var k=3*M[d+1],F=3*M[d+2];p.fromArray(a,n),y.fromArray(a,k),b.fromArray(a,F),_.subVectors(b,y),C.subVectors(p,y),_.cross(C),c[n]+=_.x,c[n+1]+=_.y,c[n+2]+=_.z,c[k]+=_.x,c[k+1]+=_.y,c[k+2]+=_.z,c[F]+=_.x,c[F+1]+=_.y,c[F+2]+=_.z}}else for(d=0,h=a.length;d<h;d+=9)p.fromArray(a,d),y.fromArray(a,d+3),b.fromArray(a,d+6),_.subVectors(b,y),C.subVectors(p,y),_.cross(C),c[d]=_.x,c[d+1]=_.y,c[d+2]=_.z,c[d+3]=_.x,c[d+4]=_.y,c[d+5]=_.z,c[d+6]=_.x,c[d+7]=_.y,c[d+8]=_.z;this.normalizeNormals(),o.normal.needsUpdate=!0}},merge:function(n,o){if(n&&n.isBufferGeometry){o===void 0&&(o=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var a=this.attributes,c;for(c in a)if(n.attributes[c]!==void 0){var d=a[c].array,h=n.attributes[c],p=h.array,y=h.itemSize*o;h=Math.min(p.length,d.length-y);for(var b=0;b<h;b++,y++)d[y]=p[b]}return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",n)},normalizeNormals:function(){var n=new s;return function(){for(var o=this.attributes.normal,a=0,c=o.count;a<c;a++)n.x=o.getX(a),n.y=o.getY(a),n.z=o.getZ(a),n.normalize(),o.setXYZ(a,n.x,n.y,n.z)}}(),toNonIndexed:function(){function n(C,M){var k=C.array;C=C.itemSize;for(var F=new k.constructor(M.length*C),z,j=0,Q=0,he=M.length;Q<he;Q++){z=M[Q]*C;for(var ue=0;ue<C;ue++)F[j++]=k[z++]}return new q(F,C)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var o=new ie,a=this.index.array,c=this.attributes,d;for(d in c){var h=c[d];h=n(h,a),o.addAttribute(d,h)}var p=this.morphAttributes;for(d in p){var y=[],b=p[d];c=0;for(var _=b.length;c<_;c++)h=b[c],h=n(h,a),y.push(h);o.morphAttributes[d]=y}for(a=this.groups,c=0,d=a.length;c<d;c++)h=a[c],o.addGroup(h.start,h.count,h.materialIndex);return o},toJSON:function(){var n={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),0<Object.keys(this.userData).length&&(n.userData=this.userData),this.parameters!==void 0){var o=this.parameters;for(_ in o)o[_]!==void 0&&(n[_]=o[_]);return n}n.data={attributes:{}},o=this.index,o!==null&&(n.data.index={type:o.array.constructor.name,array:Array.prototype.slice.call(o.array)});var a=this.attributes;for(_ in a){o=a[_];var c=o.toJSON();o.name!==""&&(c.name=o.name),n.data.attributes[_]=c}a={};var d=!1;for(_ in this.morphAttributes){for(var h=this.morphAttributes[_],p=[],y=0,b=h.length;y<b;y++)o=h[y],c=o.toJSON(),o.name!==""&&(c.name=o.name),p.push(c);0<p.length&&(a[_]=p,d=!0)}d&&(n.data.morphAttributes=a);var _=this.groups;return 0<_.length&&(n.data.groups=JSON.parse(JSON.stringify(_))),_=this.boundingSphere,_!==null&&(n.data.boundingSphere={center:_.center.toArray(),radius:_.radius}),n},clone:function(){return new ie().copy(this)},copy:function(n){var o;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingSphere=this.boundingBox=null,this.name=n.name;var a=n.index;a!==null&&this.setIndex(a.clone()),a=n.attributes;for(p in a)this.addAttribute(p,a[p].clone());var c=n.morphAttributes;for(p in c){var d=[],h=c[p];for(a=0,o=h.length;a<o;a++)d.push(h[a].clone());this.morphAttributes[p]=d}var p=n.groups;for(a=0,o=p.length;a<o;a++)c=p[a],this.addGroup(c.start,c.count,c.materialIndex);return p=n.boundingBox,p!==null&&(this.boundingBox=p.clone()),p=n.boundingSphere,p!==null&&(this.boundingSphere=p.clone()),this.drawRange.start=n.drawRange.start,this.drawRange.count=n.drawRange.count,this.userData=n.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Le.prototype=Object.create(G.prototype),Le.prototype.constructor=Le,me.prototype=Object.create(ie.prototype),me.prototype.constructor=me,W.prototype=Object.create(G.prototype),W.prototype.constructor=W,se.prototype=Object.create(ie.prototype),se.prototype.constructor=se;var CL=0;we.prototype=Object.assign(Object.create(t.prototype),{constructor:we,isMaterial:!0,onBeforeCompile:function(){},setValues:function(n){if(n!==void 0)for(var o in n){var a=n[o];if(a===void 0)console.warn("THREE.Material: '"+o+"' parameter is undefined.");else if(o==="shading")console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=a===1;else{var c=this[o];c===void 0?console.warn("THREE."+this.type+": '"+o+"' is not a property of this material."):c&&c.isColor?c.set(a):c&&c.isVector3&&a&&a.isVector3?c.copy(a):this[o]=a}}},toJSON:function(n){function o(d){var h=[],p;for(p in d){var y=d[p];delete y.metadata,h.push(y)}return h}var a=n===void 0||typeof n=="string";a&&(n={textures:{},images:{}});var c={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};return c.uuid=this.uuid,c.type=this.type,this.name!==""&&(c.name=this.name),this.color&&this.color.isColor&&(c.color=this.color.getHex()),this.roughness!==void 0&&(c.roughness=this.roughness),this.metalness!==void 0&&(c.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(c.emissive=this.emissive.getHex()),this.emissiveIntensity!==1&&(c.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(c.specular=this.specular.getHex()),this.shininess!==void 0&&(c.shininess=this.shininess),this.clearCoat!==void 0&&(c.clearCoat=this.clearCoat),this.clearCoatRoughness!==void 0&&(c.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(c.map=this.map.toJSON(n).uuid),this.matcap&&this.matcap.isTexture&&(c.matcap=this.matcap.toJSON(n).uuid),this.alphaMap&&this.alphaMap.isTexture&&(c.alphaMap=this.alphaMap.toJSON(n).uuid),this.lightMap&&this.lightMap.isTexture&&(c.lightMap=this.lightMap.toJSON(n).uuid),this.aoMap&&this.aoMap.isTexture&&(c.aoMap=this.aoMap.toJSON(n).uuid,c.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(c.bumpMap=this.bumpMap.toJSON(n).uuid,c.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(c.normalMap=this.normalMap.toJSON(n).uuid,c.normalMapType=this.normalMapType,c.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(c.displacementMap=this.displacementMap.toJSON(n).uuid,c.displacementScale=this.displacementScale,c.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(c.roughnessMap=this.roughnessMap.toJSON(n).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(c.metalnessMap=this.metalnessMap.toJSON(n).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(c.emissiveMap=this.emissiveMap.toJSON(n).uuid),this.specularMap&&this.specularMap.isTexture&&(c.specularMap=this.specularMap.toJSON(n).uuid),this.envMap&&this.envMap.isTexture&&(c.envMap=this.envMap.toJSON(n).uuid,c.reflectivity=this.reflectivity,this.combine!==void 0&&(c.combine=this.combine),this.envMapIntensity!==void 0&&(c.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(c.gradientMap=this.gradientMap.toJSON(n).uuid),this.size!==void 0&&(c.size=this.size),this.sizeAttenuation!==void 0&&(c.sizeAttenuation=this.sizeAttenuation),this.blending!==1&&(c.blending=this.blending),this.flatShading===!0&&(c.flatShading=this.flatShading),this.side!==0&&(c.side=this.side),this.vertexColors!==0&&(c.vertexColors=this.vertexColors),1>this.opacity&&(c.opacity=this.opacity),this.transparent===!0&&(c.transparent=this.transparent),c.depthFunc=this.depthFunc,c.depthTest=this.depthTest,c.depthWrite=this.depthWrite,this.rotation!==0&&(c.rotation=this.rotation),this.polygonOffset===!0&&(c.polygonOffset=!0),this.polygonOffsetFactor!==0&&(c.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(c.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==1&&(c.linewidth=this.linewidth),this.dashSize!==void 0&&(c.dashSize=this.dashSize),this.gapSize!==void 0&&(c.gapSize=this.gapSize),this.scale!==void 0&&(c.scale=this.scale),this.dithering===!0&&(c.dithering=!0),0<this.alphaTest&&(c.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(c.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(c.wireframe=this.wireframe),1<this.wireframeLinewidth&&(c.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(c.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(c.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(c.morphTargets=!0),this.skinning===!0&&(c.skinning=!0),this.visible===!1&&(c.visible=!1),JSON.stringify(this.userData)!=="{}"&&(c.userData=this.userData),a&&(a=o(n.textures),n=o(n.images),0<a.length&&(c.textures=a),0<n.length&&(c.images=n)),c},clone:function(){return new this.constructor().copy(this)},copy:function(n){this.name=n.name,this.fog=n.fog,this.lights=n.lights,this.blending=n.blending,this.side=n.side,this.flatShading=n.flatShading,this.vertexColors=n.vertexColors,this.opacity=n.opacity,this.transparent=n.transparent,this.blendSrc=n.blendSrc,this.blendDst=n.blendDst,this.blendEquation=n.blendEquation,this.blendSrcAlpha=n.blendSrcAlpha,this.blendDstAlpha=n.blendDstAlpha,this.blendEquationAlpha=n.blendEquationAlpha,this.depthFunc=n.depthFunc,this.depthTest=n.depthTest,this.depthWrite=n.depthWrite,this.colorWrite=n.colorWrite,this.precision=n.precision,this.polygonOffset=n.polygonOffset,this.polygonOffsetFactor=n.polygonOffsetFactor,this.polygonOffsetUnits=n.polygonOffsetUnits,this.dithering=n.dithering,this.alphaTest=n.alphaTest,this.premultipliedAlpha=n.premultipliedAlpha,this.visible=n.visible,this.userData=JSON.parse(JSON.stringify(n.userData)),this.clipShadows=n.clipShadows,this.clipIntersection=n.clipIntersection;var o=n.clippingPlanes,a=null;if(o!==null){var c=o.length;a=Array(c);for(var d=0;d!==c;++d)a[d]=o[d].clone()}return this.clippingPlanes=a,this.shadowSide=n.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Ee.prototype=Object.create(we.prototype),Ee.prototype.constructor=Ee,Ee.prototype.isShaderMaterial=!0,Ee.prototype.copy=function(n){return we.prototype.copy.call(this,n),this.fragmentShader=n.fragmentShader,this.vertexShader=n.vertexShader,this.uniforms=H(n.uniforms),this.defines=Object.assign({},n.defines),this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.lights=n.lights,this.clipping=n.clipping,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this.extensions=n.extensions,this},Ee.prototype.toJSON=function(n){var o=we.prototype.toJSON.call(this,n);o.uniforms={};for(var a in this.uniforms){var c=this.uniforms[a].value;o.uniforms[a]=c&&c.isTexture?{type:"t",value:c.toJSON(n).uuid}:c&&c.isColor?{type:"c",value:c.getHex()}:c&&c.isVector2?{type:"v2",value:c.toArray()}:c&&c.isVector3?{type:"v3",value:c.toArray()}:c&&c.isVector4?{type:"v4",value:c.toArray()}:c&&c.isMatrix3?{type:"m3",value:c.toArray()}:c&&c.isMatrix4?{type:"m4",value:c.toArray()}:{value:c}}0<Object.keys(this.defines).length&&(o.defines=this.defines),o.vertexShader=this.vertexShader,o.fragmentShader=this.fragmentShader,n={};for(var d in this.extensions)this.extensions[d]===!0&&(n[d]=!0);return 0<Object.keys(n).length&&(o.extensions=n),o},Object.assign(Ie.prototype,{set:function(n,o){return this.origin.copy(n),this.direction.copy(o),this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.origin.copy(n.origin),this.direction.copy(n.direction),this},at:function(n,o){return o===void 0&&(console.warn("THREE.Ray: .at() target is now required"),o=new s),o.copy(this.direction).multiplyScalar(n).add(this.origin)},lookAt:function(n){return this.direction.copy(n).sub(this.origin).normalize(),this},recast:function(){var n=new s;return function(o){return this.origin.copy(this.at(o,n)),this}}(),closestPointToPoint:function(n,o){return o===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),o=new s),o.subVectors(n,this.origin),n=o.dot(this.direction),0>n?o.copy(this.origin):o.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(n){return Math.sqrt(this.distanceSqToPoint(n))},distanceSqToPoint:function(){var n=new s;return function(o){var a=n.subVectors(o,this.origin).dot(this.direction);return 0>a?this.origin.distanceToSquared(o):(n.copy(this.direction).multiplyScalar(a).add(this.origin),n.distanceToSquared(o))}}(),distanceSqToSegment:function(){var n=new s,o=new s,a=new s;return function(c,d,h,p){n.copy(c).add(d).multiplyScalar(.5),o.copy(d).sub(c).normalize(),a.copy(this.origin).sub(n);var y=.5*c.distanceTo(d),b=-this.direction.dot(o),_=a.dot(this.direction),C=-a.dot(o),M=a.lengthSq(),k=Math.abs(1-b*b);if(0<k){c=b*C-_,d=b*_-C;var F=y*k;0<=c?d>=-F?d<=F?(y=1/k,c*=y,d*=y,b=c*(c+b*d+2*_)+d*(b*c+d+2*C)+M):(d=y,c=Math.max(0,-(b*d+_)),b=-c*c+d*(d+2*C)+M):(d=-y,c=Math.max(0,-(b*d+_)),b=-c*c+d*(d+2*C)+M):d<=-F?(c=Math.max(0,-(-b*y+_)),d=0<c?-y:Math.min(Math.max(-y,-C),y),b=-c*c+d*(d+2*C)+M):d<=F?(c=0,d=Math.min(Math.max(-y,-C),y),b=d*(d+2*C)+M):(c=Math.max(0,-(b*y+_)),d=0<c?y:Math.min(Math.max(-y,-C),y),b=-c*c+d*(d+2*C)+M)}else d=0<b?-y:y,c=Math.max(0,-(b*d+_)),b=-c*c+d*(d+2*C)+M;return h&&h.copy(this.direction).multiplyScalar(c).add(this.origin),p&&p.copy(o).multiplyScalar(d).add(n),b}}(),intersectSphere:function(){var n=new s;return function(o,a){n.subVectors(o.center,this.origin);var c=n.dot(this.direction),d=n.dot(n)-c*c;return o=o.radius*o.radius,d>o?null:(o=Math.sqrt(o-d),d=c-o,c+=o,0>d&&0>c?null:0>d?this.at(c,a):this.at(d,a))}}(),intersectsSphere:function(n){return this.distanceSqToPoint(n.center)<=n.radius*n.radius},distanceToPlane:function(n){var o=n.normal.dot(this.direction);return o===0?n.distanceToPoint(this.origin)===0?0:null:(n=-(this.origin.dot(n.normal)+n.constant)/o,0<=n?n:null)},intersectPlane:function(n,o){return n=this.distanceToPlane(n),n===null?null:this.at(n,o)},intersectsPlane:function(n){var o=n.distanceToPoint(this.origin);return o===0||0>n.normal.dot(this.direction)*o},intersectBox:function(n,o){var a=1/this.direction.x,c=1/this.direction.y,d=1/this.direction.z,h=this.origin;if(0<=a){var p=(n.min.x-h.x)*a;a*=n.max.x-h.x}else p=(n.max.x-h.x)*a,a*=n.min.x-h.x;if(0<=c){var y=(n.min.y-h.y)*c;c*=n.max.y-h.y}else y=(n.max.y-h.y)*c,c*=n.min.y-h.y;return p>c||y>a||((y>p||p!==p)&&(p=y),(c<a||a!==a)&&(a=c),0<=d?(y=(n.min.z-h.z)*d,n=(n.max.z-h.z)*d):(y=(n.max.z-h.z)*d,n=(n.min.z-h.z)*d),p>n||y>a)?null:((y>p||p!==p)&&(p=y),(n<a||a!==a)&&(a=n),0>a?null:this.at(0<=p?p:a,o))},intersectsBox:function(){var n=new s;return function(o){return this.intersectBox(o,n)!==null}}(),intersectTriangle:function(){var n=new s,o=new s,a=new s,c=new s;return function(d,h,p,y,b){if(o.subVectors(h,d),a.subVectors(p,d),c.crossVectors(o,a),h=this.direction.dot(c),0<h){if(y)return null;y=1}else if(0>h)y=-1,h=-h;else return null;return n.subVectors(this.origin,d),d=y*this.direction.dot(a.crossVectors(n,a)),0>d||(p=y*this.direction.dot(o.cross(n)),0>p||d+p>h)?null:(d=-y*n.dot(c),0>d?null:this.at(d/h,b))}}(),applyMatrix4:function(n){return this.origin.applyMatrix4(n),this.direction.transformDirection(n),this},equals:function(n){return n.origin.equals(this.origin)&&n.direction.equals(this.direction)}}),Object.assign(je,{getNormal:function(){var n=new s;return function(o,a,c,d){return d===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),d=new s),d.subVectors(c,a),n.subVectors(o,a),d.cross(n),o=d.lengthSq(),0<o?d.multiplyScalar(1/Math.sqrt(o)):d.set(0,0,0)}}(),getBarycoord:function(){var n=new s,o=new s,a=new s;return function(c,d,h,p,y){n.subVectors(p,d),o.subVectors(h,d),a.subVectors(c,d),c=n.dot(n),d=n.dot(o),h=n.dot(a);var b=o.dot(o);p=o.dot(a);var _=c*b-d*d;return y===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),y=new s),_===0?y.set(-2,-1,-1):(_=1/_,b=(b*h-d*p)*_,c=(c*p-d*h)*_,y.set(1-b-c,c,b))}}(),containsPoint:function(){var n=new s;return function(o,a,c,d){return je.getBarycoord(o,a,c,d,n),0<=n.x&&0<=n.y&&1>=n.x+n.y}}(),getUV:function(){var n=new s;return function(o,a,c,d,h,p,y,b){return this.getBarycoord(o,a,c,d,n),b.set(0,0),b.addScaledVector(h,n.x),b.addScaledVector(p,n.y),b.addScaledVector(y,n.z),b}}(),isFrontFacing:function(){var n=new s,o=new s;return function(a,c,d,h){return n.subVectors(d,c),o.subVectors(a,c),0>n.cross(o).dot(h)}}()}),Object.assign(je.prototype,{set:function(n,o,a){return this.a.copy(n),this.b.copy(o),this.c.copy(a),this},setFromPointsAndIndices:function(n,o,a,c){return this.a.copy(n[o]),this.b.copy(n[a]),this.c.copy(n[c]),this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.a.copy(n.a),this.b.copy(n.b),this.c.copy(n.c),this},getArea:function(){var n=new s,o=new s;return function(){return n.subVectors(this.c,this.b),o.subVectors(this.a,this.b),.5*n.cross(o).length()}}(),getMidpoint:function(n){return n===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),n=new s),n.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(n){return je.getNormal(this.a,this.b,this.c,n)},getPlane:function(n){return n===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),n=new s),n.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(n,o){return je.getBarycoord(n,this.a,this.b,this.c,o)},getUV:function(n,o,a,c,d){return je.getUV(n,this.a,this.b,this.c,o,a,c,d)},containsPoint:function(n){return je.containsPoint(n,this.a,this.b,this.c)},isFrontFacing:function(n){return je.isFrontFacing(this.a,this.b,this.c,n)},intersectsBox:function(n){return n.intersectsTriangle(this)},closestPointToPoint:function(){var n=new s,o=new s,a=new s,c=new s,d=new s,h=new s;return function(p,y){y===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),y=new s);var b=this.a,_=this.b,C=this.c;n.subVectors(_,b),o.subVectors(C,b),c.subVectors(p,b);var M=n.dot(c),k=o.dot(c);if(0>=M&&0>=k)return y.copy(b);d.subVectors(p,_);var F=n.dot(d),z=o.dot(d);if(0<=F&&z<=F)return y.copy(_);var j=M*z-F*k;if(0>=j&&0<=M&&0>=F)return _=M/(M-F),y.copy(b).addScaledVector(n,_);h.subVectors(p,C),p=n.dot(h);var Q=o.dot(h);return 0<=Q&&p<=Q?y.copy(C):(M=p*k-M*Q,0>=M&&0<=k&&0>=Q?(j=k/(k-Q),y.copy(b).addScaledVector(o,j)):(k=F*Q-p*z,0>=k&&0<=z-F&&0<=p-Q?(a.subVectors(C,_),j=(z-F)/(z-F+(p-Q)),y.copy(_).addScaledVector(a,j)):(C=1/(k+M+j),_=M*C,j*=C,y.copy(b).addScaledVector(n,_).addScaledVector(o,j))))}}(),equals:function(n){return n.a.equals(this.a)&&n.b.equals(this.b)&&n.c.equals(this.c)}}),Ke.prototype=Object.create(we.prototype),Ke.prototype.constructor=Ke,Ke.prototype.isMeshBasicMaterial=!0,Ke.prototype.copy=function(n){return we.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this},it.prototype=Object.assign(Object.create(B.prototype),{constructor:it,isMesh:!0,setDrawMode:function(n){this.drawMode=n},copy:function(n){return B.prototype.copy.call(this,n),this.drawMode=n.drawMode,n.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=n.morphTargetInfluences.slice()),n.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},n.morphTargetDictionary)),this},updateMorphTargets:function(){var n=this.geometry;if(n.isBufferGeometry){n=n.morphAttributes;var o=Object.keys(n);if(0<o.length){var a=n[o[0]];if(a!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},n=0,o=a.length;n<o;n++){var c=a[n].name||String(n);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=n}}}else n=n.morphTargets,n!==void 0&&0<n.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},raycast:function(){function n(ae,be,pe,_e,ke,xe,Ae,De){return(be.side===1?_e.intersectTriangle(Ae,xe,ke,!0,De):_e.intersectTriangle(ke,xe,Ae,be.side!==2,De))===null?null:(ue.copy(De),ue.applyMatrix4(ae.matrixWorld),be=pe.ray.origin.distanceTo(ue),be<pe.near||be>pe.far?null:{distance:be,point:ue.clone(),object:ae})}function o(ae,be,pe,_e,ke,xe,Ae,De,Ge,Re){if(h.fromBufferAttribute(ke,De),p.fromBufferAttribute(ke,Ge),y.fromBufferAttribute(ke,Re),ke=ae.morphTargetInfluences,be.morphTargets&&xe&&ke){M.set(0,0,0),k.set(0,0,0),F.set(0,0,0);for(var $e=0,wt=xe.length;$e<wt;$e++){var J=ke[$e],oe=xe[$e];J!==0&&(b.fromBufferAttribute(oe,De),_.fromBufferAttribute(oe,Ge),C.fromBufferAttribute(oe,Re),M.addScaledVector(b.sub(h),J),k.addScaledVector(_.sub(p),J),F.addScaledVector(C.sub(y),J))}h.add(M),p.add(k),y.add(F)}return(ae=n(ae,be,pe,_e,h,p,y,he))&&(Ae&&(z.fromBufferAttribute(Ae,De),j.fromBufferAttribute(Ae,Ge),Q.fromBufferAttribute(Ae,Re),ae.uv=je.getUV(he,h,p,y,z,j,Q,new i)),Ae=new ee(De,Ge,Re),je.getNormal(h,p,y,Ae.normal),ae.face=Ae),ae}var a=new O,c=new Ie,d=new A,h=new s,p=new s,y=new s,b=new s,_=new s,C=new s,M=new s,k=new s,F=new s,z=new i,j=new i,Q=new i,he=new s,ue=new s;return function(ae,be){var pe=this.geometry,_e=this.material,ke=this.matrixWorld;if(_e!==void 0&&(pe.boundingSphere===null&&pe.computeBoundingSphere(),d.copy(pe.boundingSphere),d.applyMatrix4(ke),ae.ray.intersectsSphere(d)!==!1&&(a.getInverse(ke),c.copy(ae.ray).applyMatrix4(a),pe.boundingBox===null||c.intersectsBox(pe.boundingBox)!==!1))){if(pe.isBufferGeometry){var xe=pe.index;ke=pe.attributes.position;var Ae=pe.morphAttributes.position,De=pe.attributes.uv,Ge=pe.groups,Re=pe.drawRange,$e,wt;if(xe!==null)if(Array.isArray(_e)){var J=0;for($e=Ge.length;J<$e;J++){var oe=Ge[J],ye=_e[oe.materialIndex],Me=Math.max(oe.start,Re.start);for(wt=pe=Math.min(oe.start+oe.count,Re.start+Re.count);Me<wt;Me+=3){pe=xe.getX(Me);var Ve=xe.getX(Me+1),qe=xe.getX(Me+2);(pe=o(this,ye,ae,c,ke,Ae,De,pe,Ve,qe))&&(pe.faceIndex=Math.floor(Me/3),pe.face.materialIndex=oe.materialIndex,be.push(pe))}}}else for(Me=Math.max(0,Re.start),pe=Math.min(xe.count,Re.start+Re.count),J=Me,$e=pe;J<$e;J+=3)pe=xe.getX(J),Ve=xe.getX(J+1),qe=xe.getX(J+2),(pe=o(this,_e,ae,c,ke,Ae,De,pe,Ve,qe))&&(pe.faceIndex=Math.floor(J/3),be.push(pe));else if(ke!==void 0)if(Array.isArray(_e))for(J=0,$e=Ge.length;J<$e;J++)for(oe=Ge[J],ye=_e[oe.materialIndex],Me=Math.max(oe.start,Re.start),wt=pe=Math.min(oe.start+oe.count,Re.start+Re.count);Me<wt;Me+=3)pe=Me,Ve=Me+1,qe=Me+2,(pe=o(this,ye,ae,c,ke,Ae,De,pe,Ve,qe))&&(pe.faceIndex=Math.floor(Me/3),pe.face.materialIndex=oe.materialIndex,be.push(pe));else for(Me=Math.max(0,Re.start),pe=Math.min(ke.count,Re.start+Re.count),J=Me,$e=pe;J<$e;J+=3)pe=J,Ve=J+1,qe=J+2,(pe=o(this,_e,ae,c,ke,Ae,De,pe,Ve,qe))&&(pe.faceIndex=Math.floor(J/3),be.push(pe))}else if(pe.isGeometry)for(ke=Array.isArray(_e),Ae=pe.vertices,De=pe.faces,pe=pe.faceVertexUvs[0],0<pe.length&&(xe=pe),$e=0,oe=De.length;$e<oe;$e++)ye=De[$e],pe=ke?_e[ye.materialIndex]:_e,pe!==void 0&&(Ge=Ae[ye.a],Re=Ae[ye.b],J=Ae[ye.c],pe=n(this,pe,ae,c,Ge,Re,J,he))&&(xe&&xe[$e]&&(Me=xe[$e],z.copy(Me[0]),j.copy(Me[1]),Q.copy(Me[2]),pe.uv=je.getUV(he,Ge,Re,J,z,j,Q,new i)),pe.face=ye,pe.faceIndex=$e,be.push(pe))}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Yi.prototype=Object.create(u.prototype),Yi.prototype.constructor=Yi,Yi.prototype.isCubeTexture=!0,Object.defineProperty(Yi.prototype,"images",{get:function(){return this.image},set:function(n){this.image=n}}),ci.prototype=Object.create(u.prototype),ci.prototype.constructor=ci,ci.prototype.isDataTexture2DArray=!0,ui.prototype=Object.create(u.prototype),ui.prototype.constructor=ui,ui.prototype.isDataTexture3D=!0;var s_=new u,ML=new ci,IL=new ui,a_=new Yi,l_=[],c_=[],u_=new Float32Array(16),d_=new Float32Array(9),h_=new Float32Array(4);Sb.prototype.updateCache=function(n){var o=this.cache;n instanceof Float32Array&&o.length!==n.length&&(this.cache=new Float32Array(n.length)),Gn(o,n)},Tb.prototype.setValue=function(n,o,a){for(var c=this.seq,d=0,h=c.length;d!==h;++d){var p=c[d];p.setValue(n,o[p.id],a)}};var bv=/([\w\d_]+)(\])?(\[|\.)?/g;$o.prototype.setValue=function(n,o,a,c){o=this.map[o],o!==void 0&&o.setValue(n,a,c)},$o.prototype.setOptional=function(n,o,a){o=o[a],o!==void 0&&this.setValue(n,a,o)},$o.upload=function(n,o,a,c){for(var d=0,h=o.length;d!==h;++d){var p=o[d],y=a[p.id];y.needsUpdate!==!1&&p.setValue(n,y.value,c)}},$o.seqWithValue=function(n,o){for(var a=[],c=0,d=n.length;c!==d;++c){var h=n[c];h.id in o&&a.push(h)}return a};var RL=0,kL=0;qo.prototype=Object.create(we.prototype),qo.prototype.constructor=qo,qo.prototype.isMeshDepthMaterial=!0,qo.prototype.copy=function(n){return we.prototype.copy.call(this,n),this.depthPacking=n.depthPacking,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.map=n.map,this.alphaMap=n.alphaMap,this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this},Yo.prototype=Object.create(we.prototype),Yo.prototype.constructor=Yo,Yo.prototype.isMeshDistanceMaterial=!0,Yo.prototype.copy=function(n){return we.prototype.copy.call(this,n),this.referencePosition.copy(n.referencePosition),this.nearDistance=n.nearDistance,this.farDistance=n.farDistance,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.map=n.map,this.alphaMap=n.alphaMap,this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this},Ya.prototype=Object.assign(Object.create(B.prototype),{constructor:Ya,isGroup:!0}),Hr.prototype=Object.assign(Object.create(B.prototype),{constructor:Hr,isCamera:!0,copy:function(n,o){return B.prototype.copy.call(this,n,o),this.matrixWorldInverse.copy(n.matrixWorldInverse),this.projectionMatrix.copy(n.projectionMatrix),this.projectionMatrixInverse.copy(n.projectionMatrixInverse),this},getWorldDirection:function(n){n===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),n=new s),this.updateMatrixWorld(!0);var o=this.matrixWorld.elements;return n.set(-o[8],-o[9],-o[10]).normalize()},updateMatrixWorld:function(n){B.prototype.updateMatrixWorld.call(this,n),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}}),In.prototype=Object.assign(Object.create(Hr.prototype),{constructor:In,isPerspectiveCamera:!0,copy:function(n,o){return Hr.prototype.copy.call(this,n,o),this.fov=n.fov,this.zoom=n.zoom,this.near=n.near,this.far=n.far,this.focus=n.focus,this.aspect=n.aspect,this.view=n.view===null?null:Object.assign({},n.view),this.filmGauge=n.filmGauge,this.filmOffset=n.filmOffset,this},setFocalLength:function(n){n=.5*this.getFilmHeight()/n,this.fov=2*Tt.RAD2DEG*Math.atan(n),this.updateProjectionMatrix()},getFocalLength:function(){var n=Math.tan(.5*Tt.DEG2RAD*this.fov);return .5*this.getFilmHeight()/n},getEffectiveFOV:function(){return 2*Tt.RAD2DEG*Math.atan(Math.tan(.5*Tt.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(n,o,a,c,d,h){this.aspect=n/o,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=o,this.view.offsetX=a,this.view.offsetY=c,this.view.width=d,this.view.height=h,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var n=this.near,o=n*Math.tan(.5*Tt.DEG2RAD*this.fov)/this.zoom,a=2*o,c=this.aspect*a,d=-.5*c,h=this.view;if(this.view!==null&&this.view.enabled){var p=h.fullWidth,y=h.fullHeight;d+=h.offsetX*c/p,o-=h.offsetY*a/y,c*=h.width/p,a*=h.height/y}h=this.filmOffset,h!==0&&(d+=n*h/this.getFilmWidth()),this.projectionMatrix.makePerspective(d,d+c,o,o-a,n,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(n){return n=B.prototype.toJSON.call(this,n),n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}),jc.prototype=Object.assign(Object.create(In.prototype),{constructor:jc,isArrayCamera:!0});var f_=new s,p_=new s;Object.assign(Ah.prototype,{isFogExp2:!0,clone:function(){return new Ah(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(Ch.prototype,{isFog:!0,clone:function(){return new Ch(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Mh.prototype=Object.assign(Object.create(B.prototype),{constructor:Mh,isScene:!0,copy:function(n,o){return B.prototype.copy.call(this,n,o),n.background!==null&&(this.background=n.background.clone()),n.fog!==null&&(this.fog=n.fog.clone()),n.overrideMaterial!==null&&(this.overrideMaterial=n.overrideMaterial.clone()),this.autoUpdate=n.autoUpdate,this.matrixAutoUpdate=n.matrixAutoUpdate,this},toJSON:function(n){var o=B.prototype.toJSON.call(this,n);return this.background!==null&&(o.object.background=this.background.toJSON(n)),this.fog!==null&&(o.object.fog=this.fog.toJSON()),o},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Os.prototype,"needsUpdate",{set:function(n){n===!0&&this.version++}}),Object.assign(Os.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(n){if(Array.isArray(n))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=n!==void 0?n.length/this.stride:0,this.array=n,this},setDynamic:function(n){return this.dynamic=n,this},copy:function(n){return this.array=new n.array.constructor(n.array),this.count=n.count,this.stride=n.stride,this.dynamic=n.dynamic,this},copyAt:function(n,o,a){n*=this.stride,a*=o.stride;for(var c=0,d=this.stride;c<d;c++)this.array[n+c]=o.array[a+c];return this},set:function(n,o){return o===void 0&&(o=0),this.array.set(n,o),this},clone:function(){return new this.constructor().copy(this)},onUpload:function(n){return this.onUploadCallback=n,this}}),Object.defineProperties(Gc.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Gc.prototype,{isInterleavedBufferAttribute:!0,setX:function(n,o){return this.data.array[n*this.data.stride+this.offset]=o,this},setY:function(n,o){return this.data.array[n*this.data.stride+this.offset+1]=o,this},setZ:function(n,o){return this.data.array[n*this.data.stride+this.offset+2]=o,this},setW:function(n,o){return this.data.array[n*this.data.stride+this.offset+3]=o,this},getX:function(n){return this.data.array[n*this.data.stride+this.offset]},getY:function(n){return this.data.array[n*this.data.stride+this.offset+1]},getZ:function(n){return this.data.array[n*this.data.stride+this.offset+2]},getW:function(n){return this.data.array[n*this.data.stride+this.offset+3]},setXY:function(n,o,a){return n=n*this.data.stride+this.offset,this.data.array[n+0]=o,this.data.array[n+1]=a,this},setXYZ:function(n,o,a,c){return n=n*this.data.stride+this.offset,this.data.array[n+0]=o,this.data.array[n+1]=a,this.data.array[n+2]=c,this},setXYZW:function(n,o,a,c,d){return n=n*this.data.stride+this.offset,this.data.array[n+0]=o,this.data.array[n+1]=a,this.data.array[n+2]=c,this.data.array[n+3]=d,this}}),Xo.prototype=Object.create(we.prototype),Xo.prototype.constructor=Xo,Xo.prototype.isSpriteMaterial=!0,Xo.prototype.copy=function(n){return we.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.rotation=n.rotation,this.sizeAttenuation=n.sizeAttenuation,this};var El;Wc.prototype=Object.assign(Object.create(B.prototype),{constructor:Wc,isSprite:!0,raycast:function(){function n(F,z,j,Q,he,ue){d.subVectors(F,j).addScalar(.5).multiply(Q),he!==void 0?(h.x=ue*d.x-he*d.y,h.y=he*d.x+ue*d.y):h.copy(d),F.copy(z),F.x+=h.x,F.y+=h.y,F.applyMatrix4(p)}var o=new s,a=new s,c=new s,d=new i,h=new i,p=new O,y=new s,b=new s,_=new s,C=new i,M=new i,k=new i;return function(F,z){a.setFromMatrixScale(this.matrixWorld),p.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),c.setFromMatrixPosition(this.modelViewMatrix);var j=this.material.rotation;if(j!==0)var Q=Math.cos(j),he=Math.sin(j);j=this.center,n(y.set(-.5,-.5,0),c,j,a,he,Q),n(b.set(.5,-.5,0),c,j,a,he,Q),n(_.set(.5,.5,0),c,j,a,he,Q),C.set(0,0),M.set(1,0),k.set(1,1);var ue=F.ray.intersectTriangle(y,b,_,!1,o);ue===null&&(n(b.set(-.5,.5,0),c,j,a,he,Q),M.set(0,1),ue=F.ray.intersectTriangle(y,_,b,!1,o),ue===null)||(he=F.ray.origin.distanceTo(o),he<F.near||he>F.far||z.push({distance:he,point:o.clone(),uv:je.getUV(o,y,b,_,C,M,k,new i),face:null,object:this}))}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(n){return B.prototype.copy.call(this,n),n.center!==void 0&&this.center.copy(n.center),this}}),$c.prototype=Object.assign(Object.create(B.prototype),{constructor:$c,isLOD:!0,copy:function(n){B.prototype.copy.call(this,n,!1),n=n.levels;for(var o=0,a=n.length;o<a;o++){var c=n[o];this.addLevel(c.object.clone(),c.distance)}return this},addLevel:function(n,o){o===void 0&&(o=0),o=Math.abs(o);for(var a=this.levels,c=0;c<a.length&&!(o<a[c].distance);c++);return a.splice(c,0,{distance:o,object:n}),this.add(n),this},getObjectForDistance:function(n){for(var o=this.levels,a=1,c=o.length;a<c&&!(n<o[a].distance);a++);return o[a-1].object},raycast:function(){var n=new s;return function(o,a){n.setFromMatrixPosition(this.matrixWorld);var c=o.ray.origin.distanceTo(n);this.getObjectForDistance(c).raycast(o,a)}}(),update:function(){var n=new s,o=new s;return function(a){var c=this.levels;if(1<c.length){n.setFromMatrixPosition(a.matrixWorld),o.setFromMatrixPosition(this.matrixWorld),a=n.distanceTo(o),c[0].object.visible=!0;for(var d=1,h=c.length;d<h&&a>=c[d].distance;d++)c[d-1].object.visible=!1,c[d].object.visible=!0;for(;d<h;d++)c[d].object.visible=!1}}}(),toJSON:function(n){n=B.prototype.toJSON.call(this,n),n.object.levels=[];for(var o=this.levels,a=0,c=o.length;a<c;a++){var d=o[a];n.object.levels.push({object:d.object.uuid,distance:d.distance})}return n}}),qc.prototype=Object.assign(Object.create(it.prototype),{constructor:qc,isSkinnedMesh:!0,bind:function(n,o){this.skeleton=n,o===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),o=this.matrixWorld),this.bindMatrix.copy(o),this.bindMatrixInverse.getInverse(o)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var n=new f,o=this.geometry.attributes.skinWeight,a=0,c=o.count;a<c;a++){n.x=o.getX(a),n.y=o.getY(a),n.z=o.getZ(a),n.w=o.getW(a);var d=1/n.manhattanLength();d!==1/0?n.multiplyScalar(d):n.set(1,0,0,0),o.setXYZW(a,n.x,n.y,n.z,n.w)}},updateMatrixWorld:function(n){it.prototype.updateMatrixWorld.call(this,n),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Object.assign(Ih.prototype,{calculateInverses:function(){this.boneInverses=[];for(var n=0,o=this.bones.length;n<o;n++){var a=new O;this.bones[n]&&a.getInverse(this.bones[n].matrixWorld),this.boneInverses.push(a)}},pose:function(){var n,o,a=0;for(o=this.bones.length;a<o;a++)(n=this.bones[a])&&n.matrixWorld.getInverse(this.boneInverses[a]);for(a=0,o=this.bones.length;a<o;a++)(n=this.bones[a])&&(n.parent&&n.parent.isBone?(n.matrix.getInverse(n.parent.matrixWorld),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))},update:function(){var n=new O,o=new O;return function(){for(var a=this.bones,c=this.boneInverses,d=this.boneMatrices,h=this.boneTexture,p=0,y=a.length;p<y;p++)n.multiplyMatrices(a[p]?a[p].matrixWorld:o,c[p]),n.toArray(d,16*p);h!==void 0&&(h.needsUpdate=!0)}}(),clone:function(){return new Ih(this.bones,this.boneInverses)},getBoneByName:function(n){for(var o=0,a=this.bones.length;o<a;o++){var c=this.bones[o];if(c.name===n)return c}}}),qm.prototype=Object.assign(Object.create(B.prototype),{constructor:qm,isBone:!0}),tn.prototype=Object.create(we.prototype),tn.prototype.constructor=tn,tn.prototype.isLineBasicMaterial=!0,tn.prototype.copy=function(n){return we.prototype.copy.call(this,n),this.color.copy(n.color),this.linewidth=n.linewidth,this.linecap=n.linecap,this.linejoin=n.linejoin,this},ei.prototype=Object.assign(Object.create(B.prototype),{constructor:ei,isLine:!0,computeLineDistances:function(){var n=new s,o=new s;return function(){var a=this.geometry;if(a.isBufferGeometry)if(a.index===null){for(var c=a.attributes.position,d=[0],h=1,p=c.count;h<p;h++)n.fromBufferAttribute(c,h-1),o.fromBufferAttribute(c,h),d[h]=d[h-1],d[h]+=n.distanceTo(o);a.addAttribute("lineDistance",new N(d,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(a.isGeometry)for(c=a.vertices,d=a.lineDistances,d[0]=0,h=1,p=c.length;h<p;h++)d[h]=d[h-1],d[h]+=c[h-1].distanceTo(c[h]);return this}}(),raycast:function(){var n=new O,o=new Ie,a=new A;return function(c,d){var h=c.linePrecision,p=this.geometry,y=this.matrixWorld;if(p.boundingSphere===null&&p.computeBoundingSphere(),a.copy(p.boundingSphere),a.applyMatrix4(y),a.radius+=h,c.ray.intersectsSphere(a)!==!1){n.getInverse(y),o.copy(c.ray).applyMatrix4(n),h/=(this.scale.x+this.scale.y+this.scale.z)/3,h*=h;var b=new s,_=new s;y=new s;var C=new s,M=this&&this.isLineSegments?2:1;if(p.isBufferGeometry){var k=p.index,F=p.attributes.position.array;if(k!==null){k=k.array,p=0;for(var z=k.length-1;p<z;p+=M){var j=k[p+1];b.fromArray(F,3*k[p]),_.fromArray(F,3*j),j=o.distanceSqToSegment(b,_,C,y),j>h||(C.applyMatrix4(this.matrixWorld),j=c.ray.origin.distanceTo(C),j<c.near||j>c.far||d.push({distance:j,point:y.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this}))}}else for(p=0,z=F.length/3-1;p<z;p+=M)b.fromArray(F,3*p),_.fromArray(F,3*p+3),j=o.distanceSqToSegment(b,_,C,y),j>h||(C.applyMatrix4(this.matrixWorld),j=c.ray.origin.distanceTo(C),j<c.near||j>c.far||d.push({distance:j,point:y.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this}))}else if(p.isGeometry)for(b=p.vertices,_=b.length,p=0;p<_-1;p+=M)j=o.distanceSqToSegment(b[p],b[p+1],C,y),j>h||(C.applyMatrix4(this.matrixWorld),j=c.ray.origin.distanceTo(C),j<c.near||j>c.far||d.push({distance:j,point:y.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this}))}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),an.prototype=Object.assign(Object.create(ei.prototype),{constructor:an,isLineSegments:!0,computeLineDistances:function(){var n=new s,o=new s;return function(){var a=this.geometry;if(a.isBufferGeometry)if(a.index===null){for(var c=a.attributes.position,d=[],h=0,p=c.count;h<p;h+=2)n.fromBufferAttribute(c,h),o.fromBufferAttribute(c,h+1),d[h]=h===0?0:d[h-1],d[h+1]=d[h]+n.distanceTo(o);a.addAttribute("lineDistance",new N(d,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(a.isGeometry)for(c=a.vertices,d=a.lineDistances,h=0,p=c.length;h<p;h+=2)n.copy(c[h]),o.copy(c[h+1]),d[h]=h===0?0:d[h-1],d[h+1]=d[h]+n.distanceTo(o);return this}}()}),Rh.prototype=Object.assign(Object.create(ei.prototype),{constructor:Rh,isLineLoop:!0}),_r.prototype=Object.create(we.prototype),_r.prototype.constructor=_r,_r.prototype.isPointsMaterial=!0,_r.prototype.copy=function(n){return we.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.size=n.size,this.sizeAttenuation=n.sizeAttenuation,this.morphTargets=n.morphTargets,this},Xa.prototype=Object.assign(Object.create(B.prototype),{constructor:Xa,isPoints:!0,raycast:function(){var n=new O,o=new Ie,a=new A;return function(c,d){function h(Q,he){var ue=o.distanceSqToPoint(Q);ue<C&&(o.closestPointToPoint(Q,M),M.applyMatrix4(b),Q=c.ray.origin.distanceTo(M),Q<c.near||Q>c.far||d.push({distance:Q,distanceToRay:Math.sqrt(ue),point:M.clone(),index:he,face:null,object:p}))}var p=this,y=this.geometry,b=this.matrixWorld,_=c.params.Points.threshold;if(y.boundingSphere===null&&y.computeBoundingSphere(),a.copy(y.boundingSphere),a.applyMatrix4(b),a.radius+=_,c.ray.intersectsSphere(a)!==!1){n.getInverse(b),o.copy(c.ray).applyMatrix4(n),_/=(this.scale.x+this.scale.y+this.scale.z)/3;var C=_*_;_=new s;var M=new s;if(y.isBufferGeometry){var k=y.index;if(y=y.attributes.position.array,k!==null){var F=k.array;k=0;for(var z=F.length;k<z;k++){var j=F[k];_.fromArray(y,3*j),h(_,j)}}else for(k=0,F=y.length/3;k<F;k++)_.fromArray(y,3*k),h(_,k)}else for(_=y.vertices,k=0,F=_.length;k<F;k++)h(_[k],k)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ym.prototype=Object.assign(Object.create(u.prototype),{constructor:Ym,isVideoTexture:!0,update:function(){var n=this.image;n.readyState>=n.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Ka.prototype=Object.create(u.prototype),Ka.prototype.constructor=Ka,Ka.prototype.isCompressedTexture=!0,Yc.prototype=Object.create(u.prototype),Yc.prototype.constructor=Yc,Yc.prototype.isCanvasTexture=!0,Xc.prototype=Object.create(u.prototype),Xc.prototype.constructor=Xc,Xc.prototype.isDepthTexture=!0,Qa.prototype=Object.create(ie.prototype),Qa.prototype.constructor=Qa,Kc.prototype=Object.create(G.prototype),Kc.prototype.constructor=Kc,Ja.prototype=Object.create(ie.prototype),Ja.prototype.constructor=Ja,Qc.prototype=Object.create(G.prototype),Qc.prototype.constructor=Qc,Bi.prototype=Object.create(ie.prototype),Bi.prototype.constructor=Bi,Jc.prototype=Object.create(G.prototype),Jc.prototype.constructor=Jc,Za.prototype=Object.create(Bi.prototype),Za.prototype.constructor=Za,Zc.prototype=Object.create(G.prototype),Zc.prototype.constructor=Zc,Ds.prototype=Object.create(Bi.prototype),Ds.prototype.constructor=Ds,eu.prototype=Object.create(G.prototype),eu.prototype.constructor=eu,el.prototype=Object.create(Bi.prototype),el.prototype.constructor=el,tu.prototype=Object.create(G.prototype),tu.prototype.constructor=tu,tl.prototype=Object.create(Bi.prototype),tl.prototype.constructor=tl,nu.prototype=Object.create(G.prototype),nu.prototype.constructor=nu,Ns.prototype=Object.create(ie.prototype),Ns.prototype.constructor=Ns,Ns.prototype.toJSON=function(){var n=ie.prototype.toJSON.call(this);return n.path=this.parameters.path.toJSON(),n},iu.prototype=Object.create(G.prototype),iu.prototype.constructor=iu,nl.prototype=Object.create(ie.prototype),nl.prototype.constructor=nl,ru.prototype=Object.create(G.prototype),ru.prototype.constructor=ru,il.prototype=Object.create(ie.prototype),il.prototype.constructor=il;var LL={triangulate:function(n,o,a){a=a||2;var c=o&&o.length,d=c?o[0]*a:n.length,h=Vb(n,0,d,a,!0),p=[];if(!h)return p;var y;if(c){var b=a;c=[];var _,C=0;for(_=o.length;C<_;C++){var M=o[C]*b,k=C<_-1?o[C+1]*b:n.length;M=Vb(n,M,k,b,!1),M===M.next&&(M.steiner=!0),c.push(yL(M))}for(c.sort(vL),C=0;C<c.length;C++)o=c[C],b=h,(b=gL(o,b))&&(o=Fb(b,o),ou(o,o.next)),h=ou(h,h.next)}if(n.length>80*a){var F=y=n[0],z=c=n[1];for(b=a;b<d;b+=a)C=n[b],o=n[b+1],C<F&&(F=C),o<z&&(z=o),C>y&&(y=C),o>c&&(c=o);y=Math.max(y-F,c-z),y=y!==0?1/y:0}return su(h,p,a,F,z,y),p}},bo={area:function(n){for(var o=n.length,a=0,c=o-1,d=0;d<o;c=d++)a+=n[c].x*n[d].y-n[d].x*n[c].y;return .5*a},isClockWise:function(n){return 0>bo.area(n)},triangulateShape:function(n,o){var a=[],c=[],d=[];zb(n),Hb(a,n);var h=n.length;for(o.forEach(zb),n=0;n<o.length;n++)c.push(h),h+=o[n].length,Hb(a,o[n]);for(o=LL.triangulate(a,c),n=0;n<o.length;n+=3)d.push(o.slice(n,n+3));return d}};Bs.prototype=Object.create(G.prototype),Bs.prototype.constructor=Bs,Bs.prototype.toJSON=function(){var n=G.prototype.toJSON.call(this);return jb(this.parameters.shapes,this.parameters.options,n)},jr.prototype=Object.create(ie.prototype),jr.prototype.constructor=jr,jr.prototype.toJSON=function(){var n=ie.prototype.toJSON.call(this);return jb(this.parameters.shapes,this.parameters.options,n)};var PL={generateTopUV:function(n,o,a,c,d){n=o[3*c],c=o[3*c+1];var h=o[3*d];return d=o[3*d+1],[new i(o[3*a],o[3*a+1]),new i(n,c),new i(h,d)]},generateSideWallUV:function(n,o,a,c,d,h){n=o[3*a];var p=o[3*a+1];a=o[3*a+2];var y=o[3*c],b=o[3*c+1];c=o[3*c+2];var _=o[3*d],C=o[3*d+1];d=o[3*d+2];var M=o[3*h],k=o[3*h+1];return o=o[3*h+2],.01>Math.abs(p-b)?[new i(n,1-a),new i(y,1-c),new i(_,1-d),new i(M,1-o)]:[new i(p,1-a),new i(b,1-c),new i(C,1-d),new i(k,1-o)]}};cu.prototype=Object.create(G.prototype),cu.prototype.constructor=cu,rl.prototype=Object.create(jr.prototype),rl.prototype.constructor=rl,uu.prototype=Object.create(G.prototype),uu.prototype.constructor=uu,Ko.prototype=Object.create(ie.prototype),Ko.prototype.constructor=Ko,du.prototype=Object.create(G.prototype),du.prototype.constructor=du,ol.prototype=Object.create(ie.prototype),ol.prototype.constructor=ol,hu.prototype=Object.create(G.prototype),hu.prototype.constructor=hu,sl.prototype=Object.create(ie.prototype),sl.prototype.constructor=sl,Fs.prototype=Object.create(G.prototype),Fs.prototype.constructor=Fs,Fs.prototype.toJSON=function(){var n=G.prototype.toJSON.call(this);return Gb(this.parameters.shapes,n)},Us.prototype=Object.create(ie.prototype),Us.prototype.constructor=Us,Us.prototype.toJSON=function(){var n=ie.prototype.toJSON.call(this);return Gb(this.parameters.shapes,n)},al.prototype=Object.create(ie.prototype),al.prototype.constructor=al,zs.prototype=Object.create(G.prototype),zs.prototype.constructor=zs,vo.prototype=Object.create(ie.prototype),vo.prototype.constructor=vo,fu.prototype=Object.create(zs.prototype),fu.prototype.constructor=fu,pu.prototype=Object.create(vo.prototype),pu.prototype.constructor=pu,mu.prototype=Object.create(G.prototype),mu.prototype.constructor=mu,ll.prototype=Object.create(ie.prototype),ll.prototype.constructor=ll;var ki=Object.freeze({WireframeGeometry:Qa,ParametricGeometry:Kc,ParametricBufferGeometry:Ja,TetrahedronGeometry:Jc,TetrahedronBufferGeometry:Za,OctahedronGeometry:Zc,OctahedronBufferGeometry:Ds,IcosahedronGeometry:eu,IcosahedronBufferGeometry:el,DodecahedronGeometry:tu,DodecahedronBufferGeometry:tl,PolyhedronGeometry:Qc,PolyhedronBufferGeometry:Bi,TubeGeometry:nu,TubeBufferGeometry:Ns,TorusKnotGeometry:iu,TorusKnotBufferGeometry:nl,TorusGeometry:ru,TorusBufferGeometry:il,TextGeometry:cu,TextBufferGeometry:rl,SphereGeometry:uu,SphereBufferGeometry:Ko,RingGeometry:du,RingBufferGeometry:ol,PlaneGeometry:W,PlaneBufferGeometry:se,LatheGeometry:hu,LatheBufferGeometry:sl,ShapeGeometry:Fs,ShapeBufferGeometry:Us,ExtrudeGeometry:Bs,ExtrudeBufferGeometry:jr,EdgesGeometry:al,ConeGeometry:fu,ConeBufferGeometry:pu,CylinderGeometry:zs,CylinderBufferGeometry:vo,CircleGeometry:mu,CircleBufferGeometry:ll,BoxGeometry:Le,BoxBufferGeometry:me});Hs.prototype=Object.create(we.prototype),Hs.prototype.constructor=Hs,Hs.prototype.isShadowMaterial=!0,Hs.prototype.copy=function(n){return we.prototype.copy.call(this,n),this.color.copy(n.color),this},cl.prototype=Object.create(Ee.prototype),cl.prototype.constructor=cl,cl.prototype.isRawShaderMaterial=!0,Gr.prototype=Object.create(we.prototype),Gr.prototype.constructor=Gr,Gr.prototype.isMeshStandardMaterial=!0,Gr.prototype.copy=function(n){return we.prototype.copy.call(this,n),this.defines={STANDARD:""},this.color.copy(n.color),this.roughness=n.roughness,this.metalness=n.metalness,this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.roughnessMap=n.roughnessMap,this.metalnessMap=n.metalnessMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.envMapIntensity=n.envMapIntensity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},js.prototype=Object.create(Gr.prototype),js.prototype.constructor=js,js.prototype.isMeshPhysicalMaterial=!0,js.prototype.copy=function(n){return Gr.prototype.copy.call(this,n),this.defines={PHYSICAL:""},this.reflectivity=n.reflectivity,this.clearCoat=n.clearCoat,this.clearCoatRoughness=n.clearCoatRoughness,this},xr.prototype=Object.create(we.prototype),xr.prototype.constructor=xr,xr.prototype.isMeshPhongMaterial=!0,xr.prototype.copy=function(n){return we.prototype.copy.call(this,n),this.color.copy(n.color),this.specular.copy(n.specular),this.shininess=n.shininess,this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},Gs.prototype=Object.create(xr.prototype),Gs.prototype.constructor=Gs,Gs.prototype.isMeshToonMaterial=!0,Gs.prototype.copy=function(n){return xr.prototype.copy.call(this,n),this.gradientMap=n.gradientMap,this},Ws.prototype=Object.create(we.prototype),Ws.prototype.constructor=Ws,Ws.prototype.isMeshNormalMaterial=!0,Ws.prototype.copy=function(n){return we.prototype.copy.call(this,n),this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},$s.prototype=Object.create(we.prototype),$s.prototype.constructor=$s,$s.prototype.isMeshLambertMaterial=!0,$s.prototype.copy=function(n){return we.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},qs.prototype=Object.create(we.prototype),qs.prototype.constructor=qs,qs.prototype.isMeshMatcapMaterial=!0,qs.prototype.copy=function(n){return we.prototype.copy.call(this,n),this.defines={MATCAP:""},this.color.copy(n.color),this.matcap=n.matcap,this.map=n.map,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.alphaMap=n.alphaMap,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},Ys.prototype=Object.create(tn.prototype),Ys.prototype.constructor=Ys,Ys.prototype.isLineDashedMaterial=!0,Ys.prototype.copy=function(n){return tn.prototype.copy.call(this,n),this.scale=n.scale,this.dashSize=n.dashSize,this.gapSize=n.gapSize,this};var OL=Object.freeze({ShadowMaterial:Hs,SpriteMaterial:Xo,RawShaderMaterial:cl,ShaderMaterial:Ee,PointsMaterial:_r,MeshPhysicalMaterial:js,MeshStandardMaterial:Gr,MeshPhongMaterial:xr,MeshToonMaterial:Gs,MeshNormalMaterial:Ws,MeshLambertMaterial:$s,MeshDepthMaterial:qo,MeshDistanceMaterial:Yo,MeshBasicMaterial:Ke,MeshMatcapMaterial:qs,LineDashedMaterial:Ys,LineBasicMaterial:tn,Material:we}),Wn={arraySlice:function(n,o,a){return Wn.isTypedArray(n)?new n.constructor(n.subarray(o,a!==void 0?a:n.length)):n.slice(o,a)},convertArray:function(n,o,a){return!n||!a&&n.constructor===o?n:typeof o.BYTES_PER_ELEMENT=="number"?new o(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){for(var o=n.length,a=Array(o),c=0;c!==o;++c)a[c]=c;return a.sort(function(d,h){return n[d]-n[h]}),a},sortedArray:function(n,o,a){for(var c=n.length,d=new n.constructor(c),h=0,p=0;p!==c;++h)for(var y=a[h]*o,b=0;b!==o;++b)d[p++]=n[y+b];return d},flattenJSON:function(n,o,a,c){for(var d=1,h=n[0];h!==void 0&&h[c]===void 0;)h=n[d++];if(h!==void 0){var p=h[c];if(p!==void 0)if(Array.isArray(p))do p=h[c],p!==void 0&&(o.push(h.time),a.push.apply(a,p)),h=n[d++];while(h!==void 0);else if(p.toArray!==void 0)do p=h[c],p!==void 0&&(o.push(h.time),p.toArray(a,a.length)),h=n[d++];while(h!==void 0);else do p=h[c],p!==void 0&&(o.push(h.time),a.push(p)),h=n[d++];while(h!==void 0)}}};Object.assign(Xi.prototype,{evaluate:function(n){var o=this.parameterPositions,a=this._cachedIndex,c=o[a],d=o[a-1];e:{t:{n:{i:if(!(n<c)){for(var h=a+2;;){if(c===void 0){if(n<d)break i;return this._cachedIndex=a=o.length,this.afterEnd_(a-1,n,d)}if(a===h)break;if(d=c,c=o[++a],n<c)break t}c=o.length;break n}if(n>=d)break e;for(h=o[1],n<h&&(a=2,d=h),h=a-2;;){if(d===void 0)return this._cachedIndex=0,this.beforeStart_(0,n,c);if(a===h)break;if(c=d,d=o[--a-1],n>=d)break t}c=a,a=0}for(;a<c;)d=a+c>>>1,n<o[d]?c=d:a=d+1;if(c=o[a],d=o[a-1],d===void 0)return this._cachedIndex=0,this.beforeStart_(0,n,c);if(c===void 0)return this._cachedIndex=a=o.length,this.afterEnd_(a-1,d,n)}this._cachedIndex=a,this.intervalChanged_(a,d,c)}return this.interpolate_(a,d,n,c)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(n){var o=this.resultBuffer,a=this.sampleValues,c=this.valueSize;n*=c;for(var d=0;d!==c;++d)o[d]=a[n+d];return o},interpolate_:function(){throw Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Xi.prototype,{beforeStart_:Xi.prototype.copySampleValue_,afterEnd_:Xi.prototype.copySampleValue_}),Lh.prototype=Object.assign(Object.create(Xi.prototype),{constructor:Lh,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(n,o,a){var c=this.parameterPositions,d=n-2,h=n+1,p=c[d],y=c[h];if(p===void 0)switch(this.getSettings_().endingStart){case 2401:d=n,p=2*o-a;break;case 2402:d=c.length-2,p=o+c[d]-c[d+1];break;default:d=n,p=a}if(y===void 0)switch(this.getSettings_().endingEnd){case 2401:h=n,y=2*a-o;break;case 2402:h=1,y=a+c[1]-c[0];break;default:h=n-1,y=o}n=.5*(a-o),c=this.valueSize,this._weightPrev=n/(o-p),this._weightNext=n/(y-a),this._offsetPrev=d*c,this._offsetNext=h*c},interpolate_:function(n,o,a,c){var d=this.resultBuffer,h=this.sampleValues,p=this.valueSize;n*=p;var y=n-p,b=this._offsetPrev,_=this._offsetNext,C=this._weightPrev,M=this._weightNext,k=(a-o)/(c-o);for(a=k*k,c=a*k,o=-C*c+2*C*a-C*k,C=(1+C)*c+(-1.5-2*C)*a+(-.5+C)*k+1,k=(-1-M)*c+(1.5+M)*a+.5*k,M=M*c-M*a,a=0;a!==p;++a)d[a]=o*h[b+a]+C*h[y+a]+k*h[n+a]+M*h[_+a];return d}}),vu.prototype=Object.assign(Object.create(Xi.prototype),{constructor:vu,interpolate_:function(n,o,a,c){var d=this.resultBuffer,h=this.sampleValues,p=this.valueSize;n*=p;var y=n-p;for(o=(a-o)/(c-o),a=1-o,c=0;c!==p;++c)d[c]=h[y+c]*a+h[n+c]*o;return d}}),Ph.prototype=Object.assign(Object.create(Xi.prototype),{constructor:Ph,interpolate_:function(n){return this.copySampleValue_(n-1)}}),Object.assign(ti,{toJSON:function(n){var o=n.constructor;if(o.toJSON!==void 0)o=o.toJSON(n);else{o={name:n.name,times:Wn.convertArray(n.times,Array),values:Wn.convertArray(n.values,Array)};var a=n.getInterpolation();a!==n.DefaultInterpolation&&(o.interpolation=a)}return o.type=n.ValueTypeName,o}}),Object.assign(ti.prototype,{constructor:ti,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(n){return new Ph(this.times,this.values,this.getValueSize(),n)},InterpolantFactoryMethodLinear:function(n){return new vu(this.times,this.values,this.getValueSize(),n)},InterpolantFactoryMethodSmooth:function(n){return new Lh(this.times,this.values,this.getValueSize(),n)},setInterpolation:function(n){switch(n){case 2300:var o=this.InterpolantFactoryMethodDiscrete;break;case 2301:o=this.InterpolantFactoryMethodLinear;break;case 2302:o=this.InterpolantFactoryMethodSmooth}if(o===void 0){if(o="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name,this.createInterpolant===void 0)if(n!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(o);return console.warn("THREE.KeyframeTrack:",o),this}return this.createInterpolant=o,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(n){if(n!==0)for(var o=this.times,a=0,c=o.length;a!==c;++a)o[a]+=n;return this},scale:function(n){if(n!==1)for(var o=this.times,a=0,c=o.length;a!==c;++a)o[a]*=n;return this},trim:function(n,o){for(var a=this.times,c=a.length,d=0,h=c-1;d!==c&&a[d]<n;)++d;for(;h!==-1&&a[h]>o;)--h;return++h,(d!==0||h!==c)&&(d>=h&&(h=Math.max(h,1),d=h-1),n=this.getValueSize(),this.times=Wn.arraySlice(a,d,h),this.values=Wn.arraySlice(this.values,d*n,h*n)),this},validate:function(){var n=!0,o=this.getValueSize();o-Math.floor(o)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),n=!1);var a=this.times;o=this.values;var c=a.length;c===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),n=!1);for(var d=null,h=0;h!==c;h++){var p=a[h];if(typeof p=="number"&&isNaN(p)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,h,p),n=!1;break}if(d!==null&&d>p){console.error("THREE.KeyframeTrack: Out of order keys.",this,h,p,d),n=!1;break}d=p}if(o!==void 0&&Wn.isTypedArray(o)){for(h=0,a=o.length;h!==a;++h)if(c=o[h],isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,h,c),n=!1;break}}return n},optimize:function(){for(var n=this.times,o=this.values,a=this.getValueSize(),c=this.getInterpolation()===2302,d=1,h=n.length-1,p=1;p<h;++p){var y=!1,b=n[p];if(b!==n[p+1]&&(p!==1||b!==b[0]))if(c)y=!0;else{var _=p*a,C=_-a,M=_+a;for(b=0;b!==a;++b){var k=o[_+b];if(k!==o[C+b]||k!==o[M+b]){y=!0;break}}}if(y){if(p!==d)for(n[d]=n[p],y=p*a,_=d*a,b=0;b!==a;++b)o[_+b]=o[y+b];++d}}if(0<h){for(n[d]=n[h],y=h*a,_=d*a,b=0;b!==a;++b)o[_+b]=o[y+b];++d}return d!==n.length&&(this.times=Wn.arraySlice(n,0,d),this.values=Wn.arraySlice(o,0,d*a)),this},clone:function(){var n=Wn.arraySlice(this.times,0),o=Wn.arraySlice(this.values,0);return n=new this.constructor(this.name,n,o),n.createInterpolant=this.createInterpolant,n}}),Oh.prototype=Object.assign(Object.create(ti.prototype),{constructor:Oh,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Dh.prototype=Object.assign(Object.create(ti.prototype),{constructor:Dh,ValueTypeName:"color"}),ul.prototype=Object.assign(Object.create(ti.prototype),{constructor:ul,ValueTypeName:"number"}),Nh.prototype=Object.assign(Object.create(Xi.prototype),{constructor:Nh,interpolate_:function(n,o,a,c){var d=this.resultBuffer,h=this.sampleValues,p=this.valueSize;for(n*=p,o=(a-o)/(c-o),a=n+p;n!==a;n+=4)r.slerpFlat(d,0,h,n-p,h,n,o);return d}}),gu.prototype=Object.assign(Object.create(ti.prototype),{constructor:gu,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(n){return new Nh(this.times,this.values,this.getValueSize(),n)},InterpolantFactoryMethodSmooth:void 0}),Vh.prototype=Object.assign(Object.create(ti.prototype),{constructor:Vh,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),dl.prototype=Object.assign(Object.create(ti.prototype),{constructor:dl,ValueTypeName:"vector"}),Object.assign(ar,{parse:function(n){for(var o=[],a=n.tracks,c=1/(n.fps||1),d=0,h=a.length;d!==h;++d)o.push(bL(a[d]).scale(c));return new ar(n.name,n.duration,o)},toJSON:function(n){var o=[],a=n.tracks;n={name:n.name,duration:n.duration,tracks:o,uuid:n.uuid};for(var c=0,d=a.length;c!==d;++c)o.push(ti.toJSON(a[c]));return n},CreateFromMorphTargetSequence:function(n,o,a,c){for(var d=o.length,h=[],p=0;p<d;p++){var y=[],b=[];y.push((p+d-1)%d,p,(p+1)%d),b.push(0,1,0);var _=Wn.getKeyframeOrder(y);y=Wn.sortedArray(y,1,_),b=Wn.sortedArray(b,1,_),c||y[0]!==0||(y.push(d),b.push(b[0])),h.push(new ul(".morphTargetInfluences["+o[p].name+"]",y,b).scale(1/a))}return new ar(n,-1,h)},findByName:function(n,o){var a=n;for(Array.isArray(n)||(a=n.geometry&&n.geometry.animations||n.animations),n=0;n<a.length;n++)if(a[n].name===o)return a[n];return null},CreateClipsFromMorphTargetSequences:function(n,o,a){for(var c={},d=/^([\w-]*?)([\d]+)$/,h=0,p=n.length;h<p;h++){var y=n[h],b=y.name.match(d);if(b&&1<b.length){var _=b[1];(b=c[_])||(c[_]=b=[]),b.push(y)}}n=[];for(_ in c)n.push(ar.CreateFromMorphTargetSequence(_,c[_],o,a));return n},parseAnimation:function(n,o){if(!n)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;var a=function(j,Q,he,ue,ae){if(he.length!==0){var be=[],pe=[];Wn.flattenJSON(he,be,pe,ue),be.length!==0&&ae.push(new j(Q,be,pe))}},c=[],d=n.name||"default",h=n.length||-1,p=n.fps||30;n=n.hierarchy||[];for(var y=0;y<n.length;y++){var b=n[y].keys;if(b&&b.length!==0)if(b[0].morphTargets){h={};for(var _=0;_<b.length;_++)if(b[_].morphTargets)for(var C=0;C<b[_].morphTargets.length;C++)h[b[_].morphTargets[C]]=-1;for(var M in h){var k=[],F=[];for(C=0;C!==b[_].morphTargets.length;++C){var z=b[_];k.push(z.time),F.push(z.morphTarget===M?1:0)}c.push(new ul(".morphTargetInfluence["+M+"]",k,F))}h=h.length*(p||1)}else _=".bones["+o[y].name+"]",a(dl,_+".position",b,"pos",c),a(gu,_+".quaternion",b,"rot",c),a(dl,_+".scale",b,"scl",c)}return c.length===0?null:new ar(d,h,c)}}),Object.assign(ar.prototype,{resetDuration:function(){for(var n=0,o=0,a=this.tracks.length;o!==a;++o){var c=this.tracks[o];n=Math.max(n,c.times[c.times.length-1])}return this.duration=n,this},trim:function(){for(var n=0;n<this.tracks.length;n++)this.tracks[n].trim(0,this.duration);return this},validate:function(){for(var n=!0,o=0;o<this.tracks.length;o++)n=n&&this.tracks[o].validate();return n},optimize:function(){for(var n=0;n<this.tracks.length;n++)this.tracks[n].optimize();return this},clone:function(){for(var n=[],o=0;o<this.tracks.length;o++)n.push(this.tracks[o].clone());return new ar(this.name,this.duration,n)}});var Ks={enabled:!1,files:{},add:function(n,o){this.enabled!==!1&&(this.files[n]=o)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}},Ui=new Qm,Rr={};Object.assign(Er.prototype,{load:function(n,o,a,c){n===void 0&&(n=""),this.path!==void 0&&(n=this.path+n),n=this.manager.resolveURL(n);var d=this,h=Ks.get(n);if(h!==void 0)return d.manager.itemStart(n),setTimeout(function(){o&&o(h),d.manager.itemEnd(n)},0),h;if(Rr[n]!==void 0)Rr[n].push({onLoad:o,onProgress:a,onError:c});else{var p=n.match(/^data:(.*?)(;base64)?,(.*)$/);if(p){a=p[1];var y=!!p[2];p=p[3],p=decodeURIComponent(p),y&&(p=atob(p));try{var b=(this.responseType||"").toLowerCase();switch(b){case"arraybuffer":case"blob":var _=new Uint8Array(p.length);for(y=0;y<p.length;y++)_[y]=p.charCodeAt(y);var C=b==="blob"?new Blob([_.buffer],{type:a}):_.buffer;break;case"document":C=new DOMParser().parseFromString(p,a);break;case"json":C=JSON.parse(p);break;default:C=p}setTimeout(function(){o&&o(C),d.manager.itemEnd(n)},0)}catch(k){setTimeout(function(){c&&c(k),d.manager.itemError(n),d.manager.itemEnd(n)},0)}}else{Rr[n]=[],Rr[n].push({onLoad:o,onProgress:a,onError:c});var M=new XMLHttpRequest;M.open("GET",n,!0),M.addEventListener("load",function(k){var F=this.response;Ks.add(n,F);var z=Rr[n];if(delete Rr[n],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var j=0,Q=z.length;j<Q;j++){var he=z[j];he.onLoad&&he.onLoad(F)}}else{for(j=0,Q=z.length;j<Q;j++)he=z[j],he.onError&&he.onError(k);d.manager.itemError(n)}d.manager.itemEnd(n)},!1),M.addEventListener("progress",function(k){for(var F=Rr[n],z=0,j=F.length;z<j;z++){var Q=F[z];Q.onProgress&&Q.onProgress(k)}},!1),M.addEventListener("error",function(k){var F=Rr[n];delete Rr[n];for(var z=0,j=F.length;z<j;z++){var Q=F[z];Q.onError&&Q.onError(k)}d.manager.itemError(n),d.manager.itemEnd(n)},!1),M.addEventListener("abort",function(k){var F=Rr[n];delete Rr[n];for(var z=0,j=F.length;z<j;z++){var Q=F[z];Q.onError&&Q.onError(k)}d.manager.itemError(n),d.manager.itemEnd(n)},!1),this.responseType!==void 0&&(M.responseType=this.responseType),this.withCredentials!==void 0&&(M.withCredentials=this.withCredentials),M.overrideMimeType&&M.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(y in this.requestHeader)M.setRequestHeader(y,this.requestHeader[y]);M.send(null)}return d.manager.itemStart(n),M}},setPath:function(n){return this.path=n,this},setResponseType:function(n){return this.responseType=n,this},setWithCredentials:function(n){return this.withCredentials=n,this},setMimeType:function(n){return this.mimeType=n,this},setRequestHeader:function(n){return this.requestHeader=n,this}}),Object.assign(Wb.prototype,{load:function(n,o,a,c){var d=this,h=new Er(d.manager);h.setPath(d.path),h.load(n,function(p){o(d.parse(JSON.parse(p)))},a,c)},parse:function(n){for(var o=[],a=0;a<n.length;a++){var c=ar.parse(n[a]);o.push(c)}return o},setPath:function(n){return this.path=n,this}}),Object.assign($b.prototype,{load:function(n,o,a,c){function d(k){b.load(n[k],function(F){F=h._parser(F,!0),p[k]={width:F.width,height:F.height,format:F.format,mipmaps:F.mipmaps},_+=1,_===6&&(F.mipmapCount===1&&(y.minFilter=1006),y.format=F.format,y.needsUpdate=!0,o&&o(y))},a,c)}var h=this,p=[],y=new Ka;y.image=p;var b=new Er(this.manager);if(b.setPath(this.path),b.setResponseType("arraybuffer"),Array.isArray(n))for(var _=0,C=0,M=n.length;C<M;++C)d(C);else b.load(n,function(k){if(k=h._parser(k,!0),k.isCubemap)for(var F=k.mipmaps.length/k.mipmapCount,z=0;z<F;z++){p[z]={mipmaps:[]};for(var j=0;j<k.mipmapCount;j++)p[z].mipmaps.push(k.mipmaps[z*k.mipmapCount+j]),p[z].format=k.format,p[z].width=k.width,p[z].height=k.height}else y.image.width=k.width,y.image.height=k.height,y.mipmaps=k.mipmaps;k.mipmapCount===1&&(y.minFilter=1006),y.format=k.format,y.needsUpdate=!0,o&&o(y)},a,c);return y},setPath:function(n){return this.path=n,this}}),Object.assign(Jm.prototype,{load:function(n,o,a,c){var d=this,h=new x,p=new Er(this.manager);return p.setResponseType("arraybuffer"),p.setPath(this.path),p.load(n,function(y){(y=d._parser(y))&&(y.image!==void 0?h.image=y.image:y.data!==void 0&&(h.image.width=y.width,h.image.height=y.height,h.image.data=y.data),h.wrapS=y.wrapS!==void 0?y.wrapS:1001,h.wrapT=y.wrapT!==void 0?y.wrapT:1001,h.magFilter=y.magFilter!==void 0?y.magFilter:1006,h.minFilter=y.minFilter!==void 0?y.minFilter:1008,h.anisotropy=y.anisotropy!==void 0?y.anisotropy:1,y.format!==void 0&&(h.format=y.format),y.type!==void 0&&(h.type=y.type),y.mipmaps!==void 0&&(h.mipmaps=y.mipmaps),y.mipmapCount===1&&(h.minFilter=1006),h.needsUpdate=!0,o&&o(h,y))},a,c),h},setPath:function(n){return this.path=n,this}}),Object.assign(yu.prototype,{crossOrigin:"anonymous",load:function(n,o,a,c){function d(){b.removeEventListener("load",d,!1),b.removeEventListener("error",h,!1),Ks.add(n,this),o&&o(this),p.manager.itemEnd(n)}function h(_){b.removeEventListener("load",d,!1),b.removeEventListener("error",h,!1),c&&c(_),p.manager.itemError(n),p.manager.itemEnd(n)}n===void 0&&(n=""),this.path!==void 0&&(n=this.path+n),n=this.manager.resolveURL(n);var p=this,y=Ks.get(n);if(y!==void 0)return p.manager.itemStart(n),setTimeout(function(){o&&o(y),p.manager.itemEnd(n)},0),y;var b=document.createElementNS("http://www.w3.org/1999/xhtml","img");return b.addEventListener("load",d,!1),b.addEventListener("error",h,!1),n.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(b.crossOrigin=this.crossOrigin),p.manager.itemStart(n),b.src=n,b},setCrossOrigin:function(n){return this.crossOrigin=n,this},setPath:function(n){return this.path=n,this}}),Object.assign(Zm.prototype,{crossOrigin:"anonymous",load:function(n,o,a,c){function d(b){p.load(n[b],function(_){h.images[b]=_,y++,y===6&&(h.needsUpdate=!0,o&&o(h))},void 0,c)}var h=new Yi,p=new yu(this.manager);p.setCrossOrigin(this.crossOrigin),p.setPath(this.path);var y=0;for(a=0;a<n.length;++a)d(a);return h},setCrossOrigin:function(n){return this.crossOrigin=n,this},setPath:function(n){return this.path=n,this}}),Object.assign(Bh.prototype,{crossOrigin:"anonymous",load:function(n,o,a,c){var d=new u,h=new yu(this.manager);return h.setCrossOrigin(this.crossOrigin),h.setPath(this.path),h.load(n,function(p){d.image=p,p=0<n.search(/\.jpe?g($|\?)/i)||n.search(/^data:image\/jpeg/)===0,d.format=p?1022:1023,d.needsUpdate=!0,o!==void 0&&o(d)},a,c),d},setCrossOrigin:function(n){return this.crossOrigin=n,this},setPath:function(n){return this.path=n,this}}),Object.assign(pt.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(n,o){return n=this.getUtoTmapping(n),this.getPoint(n,o)},getPoints:function(n){n===void 0&&(n=5);for(var o=[],a=0;a<=n;a++)o.push(this.getPoint(a/n));return o},getSpacedPoints:function(n){n===void 0&&(n=5);for(var o=[],a=0;a<=n;a++)o.push(this.getPointAt(a/n));return o},getLength:function(){var n=this.getLengths();return n[n.length-1]},getLengths:function(n){if(n===void 0&&(n=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===n+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var o=[],a=this.getPoint(0),c,d=0;for(o.push(0),c=1;c<=n;c++){var h=this.getPoint(c/n);d+=h.distanceTo(a),o.push(d),a=h}return this.cacheArcLengths=o},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(n,o){var a=this.getLengths(),c=a.length;o=o||n*a[c-1];for(var d=0,h=c-1,p;d<=h;)if(n=Math.floor(d+(h-d)/2),p=a[n]-o,0>p)d=n+1;else if(0<p)h=n-1;else{h=n;break}return n=h,a[n]===o?n/(c-1):(d=a[n],(n+(o-d)/(a[n+1]-d))/(c-1))},getTangent:function(n){var o=n-1e-4;return n+=1e-4,0>o&&(o=0),1<n&&(n=1),o=this.getPoint(o),this.getPoint(n).clone().sub(o).normalize()},getTangentAt:function(n){return n=this.getUtoTmapping(n),this.getTangent(n)},computeFrenetFrames:function(n,o){var a=new s,c=[],d=[],h=[],p=new s,y=new O,b;for(b=0;b<=n;b++){var _=b/n;c[b]=this.getTangentAt(_),c[b].normalize()}d[0]=new s,h[0]=new s,b=Number.MAX_VALUE,_=Math.abs(c[0].x);var C=Math.abs(c[0].y),M=Math.abs(c[0].z);for(_<=b&&(b=_,a.set(1,0,0)),C<=b&&(b=C,a.set(0,1,0)),M<=b&&a.set(0,0,1),p.crossVectors(c[0],a).normalize(),d[0].crossVectors(c[0],p),h[0].crossVectors(c[0],d[0]),b=1;b<=n;b++)d[b]=d[b-1].clone(),h[b]=h[b-1].clone(),p.crossVectors(c[b-1],c[b]),p.length()>Number.EPSILON&&(p.normalize(),a=Math.acos(Tt.clamp(c[b-1].dot(c[b]),-1,1)),d[b].applyMatrix4(y.makeRotationAxis(p,a))),h[b].crossVectors(c[b],d[b]);if(o===!0)for(a=Math.acos(Tt.clamp(d[0].dot(d[n]),-1,1)),a/=n,0<c[0].dot(p.crossVectors(d[0],d[n]))&&(a=-a),b=1;b<=n;b++)d[b].applyMatrix4(y.makeRotationAxis(c[b],a*b)),h[b].crossVectors(c[b],d[b]);return{tangents:c,normals:d,binormals:h}},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.arcLengthDivisions=n.arcLengthDivisions,this},toJSON:function(){var n={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return n.arcLengthDivisions=this.arcLengthDivisions,n.type=this.type,n},fromJSON:function(n){return this.arcLengthDivisions=n.arcLengthDivisions,this}}),Ki.prototype=Object.create(pt.prototype),Ki.prototype.constructor=Ki,Ki.prototype.isEllipseCurve=!0,Ki.prototype.getPoint=function(n,o){o=o||new i;for(var a=2*Math.PI,c=this.aEndAngle-this.aStartAngle,d=Math.abs(c)<Number.EPSILON;0>c;)c+=a;for(;c>a;)c-=a;c<Number.EPSILON&&(c=d?0:a),this.aClockwise!==!0||d||(c=c===a?-a:c-a),a=this.aStartAngle+n*c,n=this.aX+this.xRadius*Math.cos(a);var h=this.aY+this.yRadius*Math.sin(a);return this.aRotation!==0&&(a=Math.cos(this.aRotation),c=Math.sin(this.aRotation),d=n-this.aX,h-=this.aY,n=d*a-h*c+this.aX,h=d*c+h*a+this.aY),o.set(n,h)},Ki.prototype.copy=function(n){return pt.prototype.copy.call(this,n),this.aX=n.aX,this.aY=n.aY,this.xRadius=n.xRadius,this.yRadius=n.yRadius,this.aStartAngle=n.aStartAngle,this.aEndAngle=n.aEndAngle,this.aClockwise=n.aClockwise,this.aRotation=n.aRotation,this},Ki.prototype.toJSON=function(){var n=pt.prototype.toJSON.call(this);return n.aX=this.aX,n.aY=this.aY,n.xRadius=this.xRadius,n.yRadius=this.yRadius,n.aStartAngle=this.aStartAngle,n.aEndAngle=this.aEndAngle,n.aClockwise=this.aClockwise,n.aRotation=this.aRotation,n},Ki.prototype.fromJSON=function(n){return pt.prototype.fromJSON.call(this,n),this.aX=n.aX,this.aY=n.aY,this.xRadius=n.xRadius,this.yRadius=n.yRadius,this.aStartAngle=n.aStartAngle,this.aEndAngle=n.aEndAngle,this.aClockwise=n.aClockwise,this.aRotation=n.aRotation,this},hl.prototype=Object.create(Ki.prototype),hl.prototype.constructor=hl,hl.prototype.isArcCurve=!0;var ef=new s,_v=new ev,xv=new ev,Ev=new ev;di.prototype=Object.create(pt.prototype),di.prototype.constructor=di,di.prototype.isCatmullRomCurve3=!0,di.prototype.getPoint=function(n,o){o=o||new s;var a=this.points,c=a.length;n*=c-(this.closed?0:1);var d=Math.floor(n);if(n-=d,this.closed?d+=0<d?0:(Math.floor(Math.abs(d)/c)+1)*c:n===0&&d===c-1&&(d=c-2,n=1),this.closed||0<d)var h=a[(d-1)%c];else ef.subVectors(a[0],a[1]).add(a[0]),h=ef;var p=a[d%c],y=a[(d+1)%c];if(this.closed||d+2<c?a=a[(d+2)%c]:(ef.subVectors(a[c-1],a[c-2]).add(a[c-1]),a=ef),this.curveType==="centripetal"||this.curveType==="chordal"){var b=this.curveType==="chordal"?.5:.25;c=Math.pow(h.distanceToSquared(p),b),d=Math.pow(p.distanceToSquared(y),b),b=Math.pow(y.distanceToSquared(a),b),1e-4>d&&(d=1),1e-4>c&&(c=d),1e-4>b&&(b=d),_v.initNonuniformCatmullRom(h.x,p.x,y.x,a.x,c,d,b),xv.initNonuniformCatmullRom(h.y,p.y,y.y,a.y,c,d,b),Ev.initNonuniformCatmullRom(h.z,p.z,y.z,a.z,c,d,b)}else this.curveType==="catmullrom"&&(_v.initCatmullRom(h.x,p.x,y.x,a.x,this.tension),xv.initCatmullRom(h.y,p.y,y.y,a.y,this.tension),Ev.initCatmullRom(h.z,p.z,y.z,a.z,this.tension));return o.set(_v.calc(n),xv.calc(n),Ev.calc(n)),o},di.prototype.copy=function(n){pt.prototype.copy.call(this,n),this.points=[];for(var o=0,a=n.points.length;o<a;o++)this.points.push(n.points[o].clone());return this.closed=n.closed,this.curveType=n.curveType,this.tension=n.tension,this},di.prototype.toJSON=function(){var n=pt.prototype.toJSON.call(this);n.points=[];for(var o=0,a=this.points.length;o<a;o++)n.points.push(this.points[o].toArray());return n.closed=this.closed,n.curveType=this.curveType,n.tension=this.tension,n},di.prototype.fromJSON=function(n){pt.prototype.fromJSON.call(this,n),this.points=[];for(var o=0,a=n.points.length;o<a;o++){var c=n.points[o];this.points.push(new s().fromArray(c))}return this.closed=n.closed,this.curveType=n.curveType,this.tension=n.tension,this},Sr.prototype=Object.create(pt.prototype),Sr.prototype.constructor=Sr,Sr.prototype.isCubicBezierCurve=!0,Sr.prototype.getPoint=function(n,o){o=o||new i;var a=this.v0,c=this.v1,d=this.v2,h=this.v3;return o.set(bu(n,a.x,c.x,d.x,h.x),bu(n,a.y,c.y,d.y,h.y)),o},Sr.prototype.copy=function(n){return pt.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this.v3.copy(n.v3),this},Sr.prototype.toJSON=function(){var n=pt.prototype.toJSON.call(this);return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n.v3=this.v3.toArray(),n},Sr.prototype.fromJSON=function(n){return pt.prototype.fromJSON.call(this,n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this.v3.fromArray(n.v3),this},Wr.prototype=Object.create(pt.prototype),Wr.prototype.constructor=Wr,Wr.prototype.isCubicBezierCurve3=!0,Wr.prototype.getPoint=function(n,o){o=o||new s;var a=this.v0,c=this.v1,d=this.v2,h=this.v3;return o.set(bu(n,a.x,c.x,d.x,h.x),bu(n,a.y,c.y,d.y,h.y),bu(n,a.z,c.z,d.z,h.z)),o},Wr.prototype.copy=function(n){return pt.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this.v3.copy(n.v3),this},Wr.prototype.toJSON=function(){var n=pt.prototype.toJSON.call(this);return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n.v3=this.v3.toArray(),n},Wr.prototype.fromJSON=function(n){return pt.prototype.fromJSON.call(this,n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this.v3.fromArray(n.v3),this},Fi.prototype=Object.create(pt.prototype),Fi.prototype.constructor=Fi,Fi.prototype.isLineCurve=!0,Fi.prototype.getPoint=function(n,o){return o=o||new i,n===1?o.copy(this.v2):(o.copy(this.v2).sub(this.v1),o.multiplyScalar(n).add(this.v1)),o},Fi.prototype.getPointAt=function(n,o){return this.getPoint(n,o)},Fi.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Fi.prototype.copy=function(n){return pt.prototype.copy.call(this,n),this.v1.copy(n.v1),this.v2.copy(n.v2),this},Fi.prototype.toJSON=function(){var n=pt.prototype.toJSON.call(this);return n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n},Fi.prototype.fromJSON=function(n){return pt.prototype.fromJSON.call(this,n),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this},Tr.prototype=Object.create(pt.prototype),Tr.prototype.constructor=Tr,Tr.prototype.isLineCurve3=!0,Tr.prototype.getPoint=function(n,o){return o=o||new s,n===1?o.copy(this.v2):(o.copy(this.v2).sub(this.v1),o.multiplyScalar(n).add(this.v1)),o},Tr.prototype.getPointAt=function(n,o){return this.getPoint(n,o)},Tr.prototype.copy=function(n){return pt.prototype.copy.call(this,n),this.v1.copy(n.v1),this.v2.copy(n.v2),this},Tr.prototype.toJSON=function(){var n=pt.prototype.toJSON.call(this);return n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n},Tr.prototype.fromJSON=function(n){return pt.prototype.fromJSON.call(this,n),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this},Ar.prototype=Object.create(pt.prototype),Ar.prototype.constructor=Ar,Ar.prototype.isQuadraticBezierCurve=!0,Ar.prototype.getPoint=function(n,o){o=o||new i;var a=this.v0,c=this.v1,d=this.v2;return o.set(wu(n,a.x,c.x,d.x),wu(n,a.y,c.y,d.y)),o},Ar.prototype.copy=function(n){return pt.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this},Ar.prototype.toJSON=function(){var n=pt.prototype.toJSON.call(this);return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n},Ar.prototype.fromJSON=function(n){return pt.prototype.fromJSON.call(this,n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this},$r.prototype=Object.create(pt.prototype),$r.prototype.constructor=$r,$r.prototype.isQuadraticBezierCurve3=!0,$r.prototype.getPoint=function(n,o){o=o||new s;var a=this.v0,c=this.v1,d=this.v2;return o.set(wu(n,a.x,c.x,d.x),wu(n,a.y,c.y,d.y),wu(n,a.z,c.z,d.z)),o},$r.prototype.copy=function(n){return pt.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this},$r.prototype.toJSON=function(){var n=pt.prototype.toJSON.call(this);return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n},$r.prototype.fromJSON=function(n){return pt.prototype.fromJSON.call(this,n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this},Cr.prototype=Object.create(pt.prototype),Cr.prototype.constructor=Cr,Cr.prototype.isSplineCurve=!0,Cr.prototype.getPoint=function(n,o){o=o||new i;var a=this.points,c=(a.length-1)*n;n=Math.floor(c),c-=n;var d=a[n===0?n:n-1],h=a[n],p=a[n>a.length-2?a.length-1:n+1];return a=a[n>a.length-3?a.length-1:n+2],o.set(qb(c,d.x,h.x,p.x,a.x),qb(c,d.y,h.y,p.y,a.y)),o},Cr.prototype.copy=function(n){pt.prototype.copy.call(this,n),this.points=[];for(var o=0,a=n.points.length;o<a;o++)this.points.push(n.points[o].clone());return this},Cr.prototype.toJSON=function(){var n=pt.prototype.toJSON.call(this);n.points=[];for(var o=0,a=this.points.length;o<a;o++)n.points.push(this.points[o].toArray());return n},Cr.prototype.fromJSON=function(n){pt.prototype.fromJSON.call(this,n),this.points=[];for(var o=0,a=n.points.length;o<a;o++){var c=n.points[o];this.points.push(new i().fromArray(c))}return this};var Sv=Object.freeze({ArcCurve:hl,CatmullRomCurve3:di,CubicBezierCurve:Sr,CubicBezierCurve3:Wr,EllipseCurve:Ki,LineCurve:Fi,LineCurve3:Tr,QuadraticBezierCurve:Ar,QuadraticBezierCurve3:$r,SplineCurve:Cr});go.prototype=Object.assign(Object.create(pt.prototype),{constructor:go,add:function(n){this.curves.push(n)},closePath:function(){var n=this.curves[0].getPoint(0),o=this.curves[this.curves.length-1].getPoint(1);n.equals(o)||this.curves.push(new Fi(o,n))},getPoint:function(n){var o=n*this.getLength(),a=this.getCurveLengths();for(n=0;n<a.length;){if(a[n]>=o)return o=a[n]-o,n=this.curves[n],a=n.getLength(),n.getPointAt(a===0?0:1-o/a);n++}return null},getLength:function(){var n=this.getCurveLengths();return n[n.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var n=[],o=0,a=0,c=this.curves.length;a<c;a++)o+=this.curves[a].getLength(),n.push(o);return this.cacheLengths=n},getSpacedPoints:function(n){n===void 0&&(n=40);for(var o=[],a=0;a<=n;a++)o.push(this.getPoint(a/n));return this.autoClose&&o.push(o[0]),o},getPoints:function(n){n=n||12;for(var o=[],a,c=0,d=this.curves;c<d.length;c++){var h=d[c];h=h.getPoints(h&&h.isEllipseCurve?2*n:h&&(h.isLineCurve||h.isLineCurve3)?1:h&&h.isSplineCurve?n*h.points.length:n);for(var p=0;p<h.length;p++){var y=h[p];a&&a.equals(y)||(o.push(y),a=y)}}return this.autoClose&&1<o.length&&!o[o.length-1].equals(o[0])&&o.push(o[0]),o},copy:function(n){pt.prototype.copy.call(this,n),this.curves=[];for(var o=0,a=n.curves.length;o<a;o++)this.curves.push(n.curves[o].clone());return this.autoClose=n.autoClose,this},toJSON:function(){var n=pt.prototype.toJSON.call(this);n.autoClose=this.autoClose,n.curves=[];for(var o=0,a=this.curves.length;o<a;o++)n.curves.push(this.curves[o].toJSON());return n},fromJSON:function(n){pt.prototype.fromJSON.call(this,n),this.autoClose=n.autoClose,this.curves=[];for(var o=0,a=n.curves.length;o<a;o++){var c=n.curves[o];this.curves.push(new Sv[c.type]().fromJSON(c))}return this}}),Mr.prototype=Object.assign(Object.create(go.prototype),{constructor:Mr,setFromPoints:function(n){this.moveTo(n[0].x,n[0].y);for(var o=1,a=n.length;o<a;o++)this.lineTo(n[o].x,n[o].y)},moveTo:function(n,o){this.currentPoint.set(n,o)},lineTo:function(n,o){var a=new Fi(this.currentPoint.clone(),new i(n,o));this.curves.push(a),this.currentPoint.set(n,o)},quadraticCurveTo:function(n,o,a,c){n=new Ar(this.currentPoint.clone(),new i(n,o),new i(a,c)),this.curves.push(n),this.currentPoint.set(a,c)},bezierCurveTo:function(n,o,a,c,d,h){n=new Sr(this.currentPoint.clone(),new i(n,o),new i(a,c),new i(d,h)),this.curves.push(n),this.currentPoint.set(d,h)},splineThru:function(n){var o=[this.currentPoint.clone()].concat(n);o=new Cr(o),this.curves.push(o),this.currentPoint.copy(n[n.length-1])},arc:function(n,o,a,c,d,h){this.absarc(n+this.currentPoint.x,o+this.currentPoint.y,a,c,d,h)},absarc:function(n,o,a,c,d,h){this.absellipse(n,o,a,a,c,d,h)},ellipse:function(n,o,a,c,d,h,p,y){this.absellipse(n+this.currentPoint.x,o+this.currentPoint.y,a,c,d,h,p,y)},absellipse:function(n,o,a,c,d,h,p,y){n=new Ki(n,o,a,c,d,h,p,y),0<this.curves.length&&(o=n.getPoint(0),o.equals(this.currentPoint)||this.lineTo(o.x,o.y)),this.curves.push(n),n=n.getPoint(1),this.currentPoint.copy(n)},copy:function(n){return go.prototype.copy.call(this,n),this.currentPoint.copy(n.currentPoint),this},toJSON:function(){var n=go.prototype.toJSON.call(this);return n.currentPoint=this.currentPoint.toArray(),n},fromJSON:function(n){return go.prototype.fromJSON.call(this,n),this.currentPoint.fromArray(n.currentPoint),this}}),Qo.prototype=Object.assign(Object.create(Mr.prototype),{constructor:Qo,getPointsHoles:function(n){for(var o=[],a=0,c=this.holes.length;a<c;a++)o[a]=this.holes[a].getPoints(n);return o},extractPoints:function(n){return{shape:this.getPoints(n),holes:this.getPointsHoles(n)}},copy:function(n){Mr.prototype.copy.call(this,n),this.holes=[];for(var o=0,a=n.holes.length;o<a;o++)this.holes.push(n.holes[o].clone());return this},toJSON:function(){var n=Mr.prototype.toJSON.call(this);n.uuid=this.uuid,n.holes=[];for(var o=0,a=this.holes.length;o<a;o++)n.holes.push(this.holes[o].toJSON());return n},fromJSON:function(n){Mr.prototype.fromJSON.call(this,n),this.uuid=n.uuid,this.holes=[];for(var o=0,a=n.holes.length;o<a;o++){var c=n.holes[o];this.holes.push(new Mr().fromJSON(c))}return this}}),cn.prototype=Object.assign(Object.create(B.prototype),{constructor:cn,isLight:!0,copy:function(n){return B.prototype.copy.call(this,n),this.color.copy(n.color),this.intensity=n.intensity,this},toJSON:function(n){return n=B.prototype.toJSON.call(this,n),n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}),Fh.prototype=Object.assign(Object.create(cn.prototype),{constructor:Fh,isHemisphereLight:!0,copy:function(n){return cn.prototype.copy.call(this,n),this.groundColor.copy(n.groundColor),this}}),Object.assign(Xs.prototype,{copy:function(n){return this.camera=n.camera.clone(),this.bias=n.bias,this.radius=n.radius,this.mapSize.copy(n.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var n={};return this.bias!==0&&(n.bias=this.bias),this.radius!==1&&(n.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(n.mapSize=this.mapSize.toArray()),n.camera=this.camera.toJSON(!1).object,delete n.camera.matrix,n}}),Uh.prototype=Object.assign(Object.create(Xs.prototype),{constructor:Uh,isSpotLightShadow:!0,update:function(n){var o=this.camera,a=2*Tt.RAD2DEG*n.angle,c=this.mapSize.width/this.mapSize.height;n=n.distance||o.far,(a!==o.fov||c!==o.aspect||n!==o.far)&&(o.fov=a,o.aspect=c,o.far=n,o.updateProjectionMatrix())}}),zh.prototype=Object.assign(Object.create(cn.prototype),{constructor:zh,isSpotLight:!0,copy:function(n){return cn.prototype.copy.call(this,n),this.distance=n.distance,this.angle=n.angle,this.penumbra=n.penumbra,this.decay=n.decay,this.target=n.target.clone(),this.shadow=n.shadow.clone(),this}}),Hh.prototype=Object.assign(Object.create(cn.prototype),{constructor:Hh,isPointLight:!0,copy:function(n){return cn.prototype.copy.call(this,n),this.distance=n.distance,this.decay=n.decay,this.shadow=n.shadow.clone(),this}}),_u.prototype=Object.assign(Object.create(Hr.prototype),{constructor:_u,isOrthographicCamera:!0,copy:function(n,o){return Hr.prototype.copy.call(this,n,o),this.left=n.left,this.right=n.right,this.top=n.top,this.bottom=n.bottom,this.near=n.near,this.far=n.far,this.zoom=n.zoom,this.view=n.view===null?null:Object.assign({},n.view),this},setViewOffset:function(n,o,a,c,d,h){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=o,this.view.offsetX=a,this.view.offsetY=c,this.view.width=d,this.view.height=h,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var n=(this.right-this.left)/(2*this.zoom),o=(this.top-this.bottom)/(2*this.zoom),a=(this.right+this.left)/2,c=(this.top+this.bottom)/2,d=a-n;if(a+=n,n=c+o,o=c-o,this.view!==null&&this.view.enabled){a=this.zoom/(this.view.width/this.view.fullWidth),o=this.zoom/(this.view.height/this.view.fullHeight);var h=(this.right-this.left)/this.view.width;c=(this.top-this.bottom)/this.view.height,d+=this.view.offsetX/a*h,a=d+this.view.width/a*h,n-=this.view.offsetY/o*c,o=n-this.view.height/o*c}this.projectionMatrix.makeOrthographic(d,a,n,o,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(n){return n=B.prototype.toJSON.call(this,n),n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}),jh.prototype=Object.assign(Object.create(Xs.prototype),{constructor:jh}),Gh.prototype=Object.assign(Object.create(cn.prototype),{constructor:Gh,isDirectionalLight:!0,copy:function(n){return cn.prototype.copy.call(this,n),this.target=n.target.clone(),this.shadow=n.shadow.clone(),this}}),Wh.prototype=Object.assign(Object.create(cn.prototype),{constructor:Wh,isAmbientLight:!0}),$h.prototype=Object.assign(Object.create(cn.prototype),{constructor:$h,isRectAreaLight:!0,copy:function(n){return cn.prototype.copy.call(this,n),this.width=n.width,this.height=n.height,this},toJSON:function(n){return n=cn.prototype.toJSON.call(this,n),n.object.width=this.width,n.object.height=this.height,n}}),Object.assign(qh.prototype,{load:function(n,o,a,c){var d=this,h=new Er(d.manager);h.setPath(d.path),h.load(n,function(p){o(d.parse(JSON.parse(p)))},a,c)},parse:function(n){function o(y){return a[y]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",y),a[y]}var a=this.textures,c=new OL[n.type];if(n.uuid!==void 0&&(c.uuid=n.uuid),n.name!==void 0&&(c.name=n.name),n.color!==void 0&&c.color.setHex(n.color),n.roughness!==void 0&&(c.roughness=n.roughness),n.metalness!==void 0&&(c.metalness=n.metalness),n.emissive!==void 0&&c.emissive.setHex(n.emissive),n.specular!==void 0&&c.specular.setHex(n.specular),n.shininess!==void 0&&(c.shininess=n.shininess),n.clearCoat!==void 0&&(c.clearCoat=n.clearCoat),n.clearCoatRoughness!==void 0&&(c.clearCoatRoughness=n.clearCoatRoughness),n.vertexColors!==void 0&&(c.vertexColors=n.vertexColors),n.fog!==void 0&&(c.fog=n.fog),n.flatShading!==void 0&&(c.flatShading=n.flatShading),n.blending!==void 0&&(c.blending=n.blending),n.combine!==void 0&&(c.combine=n.combine),n.side!==void 0&&(c.side=n.side),n.opacity!==void 0&&(c.opacity=n.opacity),n.transparent!==void 0&&(c.transparent=n.transparent),n.alphaTest!==void 0&&(c.alphaTest=n.alphaTest),n.depthTest!==void 0&&(c.depthTest=n.depthTest),n.depthWrite!==void 0&&(c.depthWrite=n.depthWrite),n.colorWrite!==void 0&&(c.colorWrite=n.colorWrite),n.wireframe!==void 0&&(c.wireframe=n.wireframe),n.wireframeLinewidth!==void 0&&(c.wireframeLinewidth=n.wireframeLinewidth),n.wireframeLinecap!==void 0&&(c.wireframeLinecap=n.wireframeLinecap),n.wireframeLinejoin!==void 0&&(c.wireframeLinejoin=n.wireframeLinejoin),n.rotation!==void 0&&(c.rotation=n.rotation),n.linewidth!==1&&(c.linewidth=n.linewidth),n.dashSize!==void 0&&(c.dashSize=n.dashSize),n.gapSize!==void 0&&(c.gapSize=n.gapSize),n.scale!==void 0&&(c.scale=n.scale),n.polygonOffset!==void 0&&(c.polygonOffset=n.polygonOffset),n.polygonOffsetFactor!==void 0&&(c.polygonOffsetFactor=n.polygonOffsetFactor),n.polygonOffsetUnits!==void 0&&(c.polygonOffsetUnits=n.polygonOffsetUnits),n.skinning!==void 0&&(c.skinning=n.skinning),n.morphTargets!==void 0&&(c.morphTargets=n.morphTargets),n.dithering!==void 0&&(c.dithering=n.dithering),n.visible!==void 0&&(c.visible=n.visible),n.userData!==void 0&&(c.userData=n.userData),n.uniforms!==void 0)for(var d in n.uniforms){var h=n.uniforms[d];switch(c.uniforms[d]={},h.type){case"t":c.uniforms[d].value=o(h.value);break;case"c":c.uniforms[d].value=new U().setHex(h.value);break;case"v2":c.uniforms[d].value=new i().fromArray(h.value);break;case"v3":c.uniforms[d].value=new s().fromArray(h.value);break;case"v4":c.uniforms[d].value=new f().fromArray(h.value);break;case"m3":c.uniforms[d].value=new l().fromArray(h.value);case"m4":c.uniforms[d].value=new O().fromArray(h.value);break;default:c.uniforms[d].value=h.value}}if(n.defines!==void 0&&(c.defines=n.defines),n.vertexShader!==void 0&&(c.vertexShader=n.vertexShader),n.fragmentShader!==void 0&&(c.fragmentShader=n.fragmentShader),n.extensions!==void 0)for(var p in n.extensions)c.extensions[p]=n.extensions[p];return n.shading!==void 0&&(c.flatShading=n.shading===1),n.size!==void 0&&(c.size=n.size),n.sizeAttenuation!==void 0&&(c.sizeAttenuation=n.sizeAttenuation),n.map!==void 0&&(c.map=o(n.map)),n.matcap!==void 0&&(c.matcap=o(n.matcap)),n.alphaMap!==void 0&&(c.alphaMap=o(n.alphaMap),c.transparent=!0),n.bumpMap!==void 0&&(c.bumpMap=o(n.bumpMap)),n.bumpScale!==void 0&&(c.bumpScale=n.bumpScale),n.normalMap!==void 0&&(c.normalMap=o(n.normalMap)),n.normalMapType!==void 0&&(c.normalMapType=n.normalMapType),n.normalScale!==void 0&&(d=n.normalScale,Array.isArray(d)===!1&&(d=[d,d]),c.normalScale=new i().fromArray(d)),n.displacementMap!==void 0&&(c.displacementMap=o(n.displacementMap)),n.displacementScale!==void 0&&(c.displacementScale=n.displacementScale),n.displacementBias!==void 0&&(c.displacementBias=n.displacementBias),n.roughnessMap!==void 0&&(c.roughnessMap=o(n.roughnessMap)),n.metalnessMap!==void 0&&(c.metalnessMap=o(n.metalnessMap)),n.emissiveMap!==void 0&&(c.emissiveMap=o(n.emissiveMap)),n.emissiveIntensity!==void 0&&(c.emissiveIntensity=n.emissiveIntensity),n.specularMap!==void 0&&(c.specularMap=o(n.specularMap)),n.envMap!==void 0&&(c.envMap=o(n.envMap)),n.envMapIntensity!==void 0&&(c.envMapIntensity=n.envMapIntensity),n.reflectivity!==void 0&&(c.reflectivity=n.reflectivity),n.lightMap!==void 0&&(c.lightMap=o(n.lightMap)),n.lightMapIntensity!==void 0&&(c.lightMapIntensity=n.lightMapIntensity),n.aoMap!==void 0&&(c.aoMap=o(n.aoMap)),n.aoMapIntensity!==void 0&&(c.aoMapIntensity=n.aoMapIntensity),n.gradientMap!==void 0&&(c.gradientMap=o(n.gradientMap)),c},setPath:function(n){return this.path=n,this},setTextures:function(n){return this.textures=n,this}});var Tv={decodeText:function(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);for(var o="",a=0,c=n.length;a<c;a++)o+=String.fromCharCode(n[a]);try{return decodeURIComponent(escape(o))}catch{return o}},extractUrlBase:function(n){var o=n.lastIndexOf("/");return o===-1?"./":n.substr(0,o+1)}};Yh.prototype=Object.assign(Object.create(ie.prototype),{constructor:Yh,isInstancedBufferGeometry:!0,copy:function(n){return ie.prototype.copy.call(this,n),this.maxInstancedCount=n.maxInstancedCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var n=ie.prototype.toJSON.call(this);return n.maxInstancedCount=this.maxInstancedCount,n.isInstancedBufferGeometry=!0,n}}),Xh.prototype=Object.assign(Object.create(q.prototype),{constructor:Xh,isInstancedBufferAttribute:!0,copy:function(n){return q.prototype.copy.call(this,n),this.meshPerAttribute=n.meshPerAttribute,this},toJSON:function(){var n=q.prototype.toJSON.call(this);return n.meshPerAttribute=this.meshPerAttribute,n.isInstancedBufferAttribute=!0,n}}),Object.assign(tv.prototype,{load:function(n,o,a,c){var d=this,h=new Er(d.manager);h.setPath(d.path),h.load(n,function(p){o(d.parse(JSON.parse(p)))},a,c)},parse:function(n){var o=n.isInstancedBufferGeometry?new Yh:new ie,a=n.data.index;if(a!==void 0){var c=new Av[a.type](a.array);o.setIndex(new q(c,1))}a=n.data.attributes;for(var d in a){var h=a[d];c=new Av[h.type](h.array),c=new(h.isInstancedBufferAttribute?Xh:q)(c,h.itemSize,h.normalized),h.name!==void 0&&(c.name=h.name),o.addAttribute(d,c)}var p=n.data.morphAttributes;if(p)for(d in p){var y=p[d],b=[];a=0;for(var _=y.length;a<_;a++)h=y[a],c=new Av[h.type](h.array),c=new q(c,h.itemSize,h.normalized),h.name!==void 0&&(c.name=h.name),b.push(c);o.morphAttributes[d]=b}if(d=n.data.groups||n.data.drawcalls||n.data.offsets,d!==void 0)for(a=0,h=d.length;a!==h;++a)c=d[a],o.addGroup(c.start,c.count,c.materialIndex);return a=n.data.boundingSphere,a!==void 0&&(d=new s,a.center!==void 0&&d.fromArray(a.center),o.boundingSphere=new A(d,a.radius)),n.name&&(o.name=n.name),n.userData&&(o.userData=n.userData),o},setPath:function(n){return this.path=n,this}});var Av={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};Object.assign(nv.prototype,{crossOrigin:"anonymous",load:function(n,o,a,c){var d=this,h=this.path===void 0?Tv.extractUrlBase(n):this.path;this.resourcePath=this.resourcePath||h,h=new Er(d.manager),h.setPath(this.path),h.load(n,function(p){var y=null;try{y=JSON.parse(p)}catch(b){c!==void 0&&c(b),console.error("THREE:ObjectLoader: Can't parse "+n+".",b.message);return}p=y.metadata,p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"?console.error("THREE.ObjectLoader: Can't load "+n):d.parse(y,o)},a,c)},setPath:function(n){return this.path=n,this},setResourcePath:function(n){return this.resourcePath=n,this},setCrossOrigin:function(n){return this.crossOrigin=n,this},parse:function(n,o){var a=this.parseShape(n.shapes);a=this.parseGeometries(n.geometries,a);var c=this.parseImages(n.images,function(){o!==void 0&&o(d)});c=this.parseTextures(n.textures,c),c=this.parseMaterials(n.materials,c);var d=this.parseObject(n.object,a,c);return n.animations&&(d.animations=this.parseAnimations(n.animations)),n.images!==void 0&&n.images.length!==0||o===void 0||o(d),d},parseShape:function(n){var o={};if(n!==void 0)for(var a=0,c=n.length;a<c;a++){var d=new Qo().fromJSON(n[a]);o[d.uuid]=d}return o},parseGeometries:function(n,o){var a={};if(n!==void 0)for(var c=new tv,d=0,h=n.length;d<h;d++){var p=n[d];switch(p.type){case"PlaneGeometry":case"PlaneBufferGeometry":var y=new ki[p.type](p.width,p.height,p.widthSegments,p.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":y=new ki[p.type](p.width,p.height,p.depth,p.widthSegments,p.heightSegments,p.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":y=new ki[p.type](p.radius,p.segments,p.thetaStart,p.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":y=new ki[p.type](p.radiusTop,p.radiusBottom,p.height,p.radialSegments,p.heightSegments,p.openEnded,p.thetaStart,p.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":y=new ki[p.type](p.radius,p.height,p.radialSegments,p.heightSegments,p.openEnded,p.thetaStart,p.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":y=new ki[p.type](p.radius,p.widthSegments,p.heightSegments,p.phiStart,p.phiLength,p.thetaStart,p.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":y=new ki[p.type](p.radius,p.detail);break;case"RingGeometry":case"RingBufferGeometry":y=new ki[p.type](p.innerRadius,p.outerRadius,p.thetaSegments,p.phiSegments,p.thetaStart,p.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":y=new ki[p.type](p.radius,p.tube,p.radialSegments,p.tubularSegments,p.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":y=new ki[p.type](p.radius,p.tube,p.tubularSegments,p.radialSegments,p.p,p.q);break;case"TubeGeometry":case"TubeBufferGeometry":y=new ki[p.type](new Sv[p.path.type]().fromJSON(p.path),p.tubularSegments,p.radius,p.radialSegments,p.closed);break;case"LatheGeometry":case"LatheBufferGeometry":y=new ki[p.type](p.points,p.segments,p.phiStart,p.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":y=new ki[p.type](p.vertices,p.indices,p.radius,p.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":y=[];for(var b=0,_=p.shapes.length;b<_;b++){var C=o[p.shapes[b]];y.push(C)}y=new ki[p.type](y,p.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(y=[],b=0,_=p.shapes.length;b<_;b++)C=o[p.shapes[b]],y.push(C);b=p.options.extrudePath,b!==void 0&&(p.options.extrudePath=new Sv[b.type]().fromJSON(b)),y=new ki[p.type](y,p.options);break;case"BufferGeometry":case"InstancedBufferGeometry":y=c.parse(p);break;case"Geometry":"THREE"in window&&"LegacyJSONLoader"in THREE?y=new THREE.LegacyJSONLoader().parse(p,this.resourcePath).geometry:console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+p.type+'"');continue}y.uuid=p.uuid,p.name!==void 0&&(y.name=p.name),y.isBufferGeometry===!0&&p.userData!==void 0&&(y.userData=p.userData),a[p.uuid]=y}return a},parseMaterials:function(n,o){var a={},c={};if(n!==void 0){var d=new qh;d.setTextures(o),o=0;for(var h=n.length;o<h;o++){var p=n[o];if(p.type==="MultiMaterial"){for(var y=[],b=0;b<p.materials.length;b++){var _=p.materials[b];a[_.uuid]===void 0&&(a[_.uuid]=d.parse(_)),y.push(a[_.uuid])}c[p.uuid]=y}else a[p.uuid]===void 0&&(a[p.uuid]=d.parse(p)),c[p.uuid]=a[p.uuid]}}return c},parseAnimations:function(n){for(var o=[],a=0;a<n.length;a++){var c=n[a],d=ar.parse(c);c.uuid!==void 0&&(d.uuid=c.uuid),o.push(d)}return o},parseImages:function(n,o){function a(k){return c.manager.itemStart(k),h.load(k,function(){c.manager.itemEnd(k)},void 0,function(){c.manager.itemError(k),c.manager.itemEnd(k)})}var c=this,d={};if(n!==void 0&&0<n.length){o=new Qm(o);var h=new yu(o);h.setCrossOrigin(this.crossOrigin),o=0;for(var p=n.length;o<p;o++){var y=n[o],b=y.url;if(Array.isArray(b)){d[y.uuid]=[];for(var _=0,C=b.length;_<C;_++){var M=b[_];M=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(M)?M:c.resourcePath+M,d[y.uuid].push(a(M))}}else M=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(y.url)?y.url:c.resourcePath+y.url,d[y.uuid]=a(M)}}return d},parseTextures:function(n,o){function a(b,_){return typeof b=="number"?b:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",b),_[b])}var c={};if(n!==void 0)for(var d=0,h=n.length;d<h;d++){var p=n[d];p.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',p.uuid),o[p.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",p.image);var y=Array.isArray(o[p.image])?new Yi(o[p.image]):new u(o[p.image]);y.needsUpdate=!0,y.uuid=p.uuid,p.name!==void 0&&(y.name=p.name),p.mapping!==void 0&&(y.mapping=a(p.mapping,DL)),p.offset!==void 0&&y.offset.fromArray(p.offset),p.repeat!==void 0&&y.repeat.fromArray(p.repeat),p.center!==void 0&&y.center.fromArray(p.center),p.rotation!==void 0&&(y.rotation=p.rotation),p.wrap!==void 0&&(y.wrapS=a(p.wrap[0],m_),y.wrapT=a(p.wrap[1],m_)),p.format!==void 0&&(y.format=p.format),p.type!==void 0&&(y.type=p.type),p.encoding!==void 0&&(y.encoding=p.encoding),p.minFilter!==void 0&&(y.minFilter=a(p.minFilter,v_)),p.magFilter!==void 0&&(y.magFilter=a(p.magFilter,v_)),p.anisotropy!==void 0&&(y.anisotropy=p.anisotropy),p.flipY!==void 0&&(y.flipY=p.flipY),p.premultiplyAlpha!==void 0&&(y.premultiplyAlpha=p.premultiplyAlpha),p.unpackAlignment!==void 0&&(y.unpackAlignment=p.unpackAlignment),c[p.uuid]=y}return c},parseObject:function(n,o,a){function c(_){return o[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",_),o[_]}function d(_){if(_!==void 0){if(Array.isArray(_)){for(var C=[],M=0,k=_.length;M<k;M++){var F=_[M];a[F]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",F),C.push(a[F])}return C}return a[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),a[_]}}switch(n.type){case"Scene":var h=new Mh;n.background!==void 0&&Number.isInteger(n.background)&&(h.background=new U(n.background)),n.fog!==void 0&&(n.fog.type==="Fog"?h.fog=new Ch(n.fog.color,n.fog.near,n.fog.far):n.fog.type==="FogExp2"&&(h.fog=new Ah(n.fog.color,n.fog.density)));break;case"PerspectiveCamera":h=new In(n.fov,n.aspect,n.near,n.far),n.focus!==void 0&&(h.focus=n.focus),n.zoom!==void 0&&(h.zoom=n.zoom),n.filmGauge!==void 0&&(h.filmGauge=n.filmGauge),n.filmOffset!==void 0&&(h.filmOffset=n.filmOffset),n.view!==void 0&&(h.view=Object.assign({},n.view));break;case"OrthographicCamera":h=new _u(n.left,n.right,n.top,n.bottom,n.near,n.far),n.zoom!==void 0&&(h.zoom=n.zoom),n.view!==void 0&&(h.view=Object.assign({},n.view));break;case"AmbientLight":h=new Wh(n.color,n.intensity);break;case"DirectionalLight":h=new Gh(n.color,n.intensity);break;case"PointLight":h=new Hh(n.color,n.intensity,n.distance,n.decay);break;case"RectAreaLight":h=new $h(n.color,n.intensity,n.width,n.height);break;case"SpotLight":h=new zh(n.color,n.intensity,n.distance,n.angle,n.penumbra,n.decay);break;case"HemisphereLight":h=new Fh(n.color,n.groundColor,n.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":h=c(n.geometry);var p=d(n.material);h=h.bones&&0<h.bones.length?new qc(h,p):new it(h,p),n.drawMode!==void 0&&h.setDrawMode(n.drawMode);break;case"LOD":h=new $c;break;case"Line":h=new ei(c(n.geometry),d(n.material),n.mode);break;case"LineLoop":h=new Rh(c(n.geometry),d(n.material));break;case"LineSegments":h=new an(c(n.geometry),d(n.material));break;case"PointCloud":case"Points":h=new Xa(c(n.geometry),d(n.material));break;case"Sprite":h=new Wc(d(n.material));break;case"Group":h=new Ya;break;default:h=new B}if(h.uuid=n.uuid,n.name!==void 0&&(h.name=n.name),n.matrix!==void 0?(h.matrix.fromArray(n.matrix),n.matrixAutoUpdate!==void 0&&(h.matrixAutoUpdate=n.matrixAutoUpdate),h.matrixAutoUpdate&&h.matrix.decompose(h.position,h.quaternion,h.scale)):(n.position!==void 0&&h.position.fromArray(n.position),n.rotation!==void 0&&h.rotation.fromArray(n.rotation),n.quaternion!==void 0&&h.quaternion.fromArray(n.quaternion),n.scale!==void 0&&h.scale.fromArray(n.scale)),n.castShadow!==void 0&&(h.castShadow=n.castShadow),n.receiveShadow!==void 0&&(h.receiveShadow=n.receiveShadow),n.shadow&&(n.shadow.bias!==void 0&&(h.shadow.bias=n.shadow.bias),n.shadow.radius!==void 0&&(h.shadow.radius=n.shadow.radius),n.shadow.mapSize!==void 0&&h.shadow.mapSize.fromArray(n.shadow.mapSize),n.shadow.camera!==void 0&&(h.shadow.camera=this.parseObject(n.shadow.camera))),n.visible!==void 0&&(h.visible=n.visible),n.frustumCulled!==void 0&&(h.frustumCulled=n.frustumCulled),n.renderOrder!==void 0&&(h.renderOrder=n.renderOrder),n.userData!==void 0&&(h.userData=n.userData),n.layers!==void 0&&(h.layers.mask=n.layers),n.children!==void 0){p=n.children;for(var y=0;y<p.length;y++)h.add(this.parseObject(p[y],o,a))}if(n.type==="LOD")for(n=n.levels,p=0;p<n.length;p++){y=n[p];var b=h.getObjectByProperty("uuid",y.object);b!==void 0&&h.addLevel(b,y.distance)}return h}});var DL={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},m_={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},v_={NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008};iv.prototype={constructor:iv,setOptions:function(n){return this.options=n,this},load:function(n,o,a,c){n===void 0&&(n=""),this.path!==void 0&&(n=this.path+n),n=this.manager.resolveURL(n);var d=this,h=Ks.get(n);if(h!==void 0)return d.manager.itemStart(n),setTimeout(function(){o&&o(h),d.manager.itemEnd(n)},0),h;fetch(n).then(function(p){return p.blob()}).then(function(p){return d.options===void 0?createImageBitmap(p):createImageBitmap(p,d.options)}).then(function(p){Ks.add(n,p),o&&o(p),d.manager.itemEnd(n)}).catch(function(p){c&&c(p),d.manager.itemError(n),d.manager.itemEnd(n)}),d.manager.itemStart(n)},setCrossOrigin:function(){return this},setPath:function(n){return this.path=n,this}},Object.assign(rv.prototype,{moveTo:function(n,o){this.currentPath=new Mr,this.subPaths.push(this.currentPath),this.currentPath.moveTo(n,o)},lineTo:function(n,o){this.currentPath.lineTo(n,o)},quadraticCurveTo:function(n,o,a,c){this.currentPath.quadraticCurveTo(n,o,a,c)},bezierCurveTo:function(n,o,a,c,d,h){this.currentPath.bezierCurveTo(n,o,a,c,d,h)},splineThru:function(n){this.currentPath.splineThru(n)},toShapes:function(n,o){function a(Q){for(var he=[],ue=0,ae=Q.length;ue<ae;ue++){var be=Q[ue],pe=new Qo;pe.curves=be.curves,he.push(pe)}return he}function c(Q,he){for(var ue=he.length,ae=!1,be=ue-1,pe=0;pe<ue;be=pe++){var _e=he[be],ke=he[pe],xe=ke.x-_e.x,Ae=ke.y-_e.y;if(Math.abs(Ae)>Number.EPSILON){if(0>Ae&&(_e=he[pe],xe=-xe,ke=he[be],Ae=-Ae),!(Q.y<_e.y||Q.y>ke.y))if(Q.y===_e.y){if(Q.x===_e.x)return!0}else{if(be=Ae*(Q.x-_e.x)-xe*(Q.y-_e.y),be===0)return!0;0>be||(ae=!ae)}}else if(Q.y===_e.y&&(ke.x<=Q.x&&Q.x<=_e.x||_e.x<=Q.x&&Q.x<=ke.x))return!0}return ae}var d=bo.isClockWise,h=this.subPaths;if(h.length===0)return[];if(o===!0)return a(h);if(o=[],h.length===1){var p=h[0],y=new Qo;return y.curves=p.curves,o.push(y),o}var b=!d(h[0].getPoints());b=n?!b:b,y=[];var _=[],C=[],M=0;_[M]=void 0,C[M]=[];for(var k=0,F=h.length;k<F;k++){p=h[k];var z=p.getPoints(),j=d(z);(j=n?!j:j)?(!b&&_[M]&&M++,_[M]={s:new Qo,p:z},_[M].s.curves=p.curves,b&&M++,C[M]=[]):C[M].push({h:p,p:z[0]})}if(!_[0])return a(h);if(1<_.length){for(k=!1,n=[],d=0,h=_.length;d<h;d++)y[d]=[];for(d=0,h=_.length;d<h;d++)for(p=C[d],j=0;j<p.length;j++){for(b=p[j],M=!0,z=0;z<_.length;z++)c(b.p,_[z].p)&&(d!==z&&n.push({froms:d,tos:z,hole:j}),M?(M=!1,y[z].push(b)):k=!0);M&&y[d].push(b)}0<n.length&&(k||(C=y))}for(k=0,d=_.length;k<d;k++)for(y=_[k].s,o.push(y),n=C[k],h=0,p=n.length;h<p;h++)y.holes.push(n[h].h);return o}}),Object.assign(ov.prototype,{isFont:!0,generateShapes:function(n,o){o===void 0&&(o=100);var a=[],c=o;o=this.data;var d=Array.from?Array.from(n):String(n).split("");c/=o.resolution;var h=(o.boundingBox.yMax-o.boundingBox.yMin+o.underlineThickness)*c;n=[];for(var p=0,y=0,b=0;b<d.length;b++){var _=d[b];if(_===`
`)p=0,y-=h;else{var C=c,M=p,k=y;if(_=o.glyphs[_]||o.glyphs["?"]){var F=new rv;if(_.o)for(var z=_._cachedOutline||(_._cachedOutline=_.o.split(" ")),j=0,Q=z.length;j<Q;)switch(z[j++]){case"m":var he=z[j++]*C+M,ue=z[j++]*C+k;F.moveTo(he,ue);break;case"l":he=z[j++]*C+M,ue=z[j++]*C+k,F.lineTo(he,ue);break;case"q":var ae=z[j++]*C+M,be=z[j++]*C+k,pe=z[j++]*C+M,_e=z[j++]*C+k;F.quadraticCurveTo(pe,_e,ae,be);break;case"b":ae=z[j++]*C+M,be=z[j++]*C+k,pe=z[j++]*C+M,_e=z[j++]*C+k,he=z[j++]*C+M,ue=z[j++]*C+k,F.bezierCurveTo(pe,_e,he,ue,ae,be)}C={offsetX:_.ha*C,path:F}}else C=void 0;p+=C.offsetX,n.push(C.path)}}for(o=0,d=n.length;o<d;o++)Array.prototype.push.apply(a,n[o].toShapes());return a}}),Object.assign(Yb.prototype,{load:function(n,o,a,c){var d=this,h=new Er(this.manager);h.setPath(this.path),h.load(n,function(p){try{var y=JSON.parse(p)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),y=JSON.parse(p.substring(65,p.length-2))}p=d.parse(y),o&&o(p)},a,c)},parse:function(n){return new ov(n)},setPath:function(n){return this.path=n,this}}),xu.Handlers={handlers:[],add:function(n,o){this.handlers.push(n,o)},get:function(n){for(var o=this.handlers,a=0,c=o.length;a<c;a+=2){var d=o[a+1];if(o[a].test(n))return d}return null}},Object.assign(xu.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(n,o,a){for(var c=[],d=0;d<n.length;++d)c[d]=this.createMaterial(n[d],o,a);return c},createMaterial:function(){var n={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},o=new U,a=new Bh,c=new qh;return function(d,h,p){function y(k,F,z,j,Q){k=h+k;var he=xu.Handlers.get(k);return he!==null?k=he.load(k):(a.setCrossOrigin(p),k=a.load(k)),F!==void 0&&(k.repeat.fromArray(F),F[0]!==1&&(k.wrapS=1e3),F[1]!==1&&(k.wrapT=1e3)),z!==void 0&&k.offset.fromArray(z),j!==void 0&&(j[0]==="repeat"&&(k.wrapS=1e3),j[0]==="mirror"&&(k.wrapS=1002),j[1]==="repeat"&&(k.wrapT=1e3),j[1]==="mirror"&&(k.wrapT=1002)),Q!==void 0&&(k.anisotropy=Q),F=Tt.generateUUID(),b[F]=k,F}var b={},_={uuid:Tt.generateUUID(),type:"MeshLambertMaterial"},C;for(C in d){var M=d[C];switch(C){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":_.name=M;break;case"blending":_.blending=n[M];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",C,"is no longer supported.");break;case"colorDiffuse":_.color=o.fromArray(M).getHex();break;case"colorSpecular":_.specular=o.fromArray(M).getHex();break;case"colorEmissive":_.emissive=o.fromArray(M).getHex();break;case"specularCoef":_.shininess=M;break;case"shading":M.toLowerCase()==="basic"&&(_.type="MeshBasicMaterial"),M.toLowerCase()==="phong"&&(_.type="MeshPhongMaterial"),M.toLowerCase()==="standard"&&(_.type="MeshStandardMaterial");break;case"mapDiffuse":_.map=y(M,d.mapDiffuseRepeat,d.mapDiffuseOffset,d.mapDiffuseWrap,d.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":_.emissiveMap=y(M,d.mapEmissiveRepeat,d.mapEmissiveOffset,d.mapEmissiveWrap,d.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":_.lightMap=y(M,d.mapLightRepeat,d.mapLightOffset,d.mapLightWrap,d.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":_.aoMap=y(M,d.mapAORepeat,d.mapAOOffset,d.mapAOWrap,d.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":_.bumpMap=y(M,d.mapBumpRepeat,d.mapBumpOffset,d.mapBumpWrap,d.mapBumpAnisotropy);break;case"mapBumpScale":_.bumpScale=M;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":_.normalMap=y(M,d.mapNormalRepeat,d.mapNormalOffset,d.mapNormalWrap,d.mapNormalAnisotropy);break;case"mapNormalFactor":_.normalScale=M;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":_.specularMap=y(M,d.mapSpecularRepeat,d.mapSpecularOffset,d.mapSpecularWrap,d.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":_.metalnessMap=y(M,d.mapMetalnessRepeat,d.mapMetalnessOffset,d.mapMetalnessWrap,d.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":_.roughnessMap=y(M,d.mapRoughnessRepeat,d.mapRoughnessOffset,d.mapRoughnessWrap,d.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":_.alphaMap=y(M,d.mapAlphaRepeat,d.mapAlphaOffset,d.mapAlphaWrap,d.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":_.side=1;break;case"doubleSided":_.side=2;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),_.opacity=M;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":_[C]=M;break;case"vertexColors":M===!0&&(_.vertexColors=2),M==="face"&&(_.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",C,M)}}return _.type==="MeshBasicMaterial"&&delete _.emissive,_.type!=="MeshPhongMaterial"&&delete _.specular,1>_.opacity&&(_.transparent=!0),c.setTextures(b),c.parse(_)}}()});var tf,Cv={getContext:function(){return tf===void 0&&(tf=new(window.AudioContext||window.webkitAudioContext)),tf},setContext:function(n){tf=n}};Object.assign(sv.prototype,{load:function(n,o,a,c){var d=new Er(this.manager);d.setResponseType("arraybuffer"),d.setPath(this.path),d.load(n,function(h){h=h.slice(0),Cv.getContext().decodeAudioData(h,function(p){o(p)})},a,c)},setPath:function(n){return this.path=n,this}}),Object.assign(Kh.prototype,{isSphericalHarmonics3:!0,set:function(n){for(var o=0;9>o;o++)this.coefficients[o].copy(n[o]);return this},zero:function(){for(var n=0;9>n;n++)this.coefficients[n].set(0,0,0);return this},getAt:function(n,o){var a=n.x,c=n.y;n=n.z;var d=this.coefficients;return o=.282095*d[0],o+=.488603*d[1]*c,o+=.488603*d[2]*n,o+=.488603*d[3]*a,o+=1.092548*d[4]*a*c,o+=1.092548*d[5]*c*n,o+=.315392*d[6]*(3*n*n-1),o+=1.092548*d[7]*a*n,o+=.546274*d[8]*(a*a-c*c)},getIrradianceAt:function(n,o){var a=n.x,c=n.y;n=n.z;var d=this.coefficients;return o=.886227*d[0],o+=1.023328*d[1]*c,o+=1.023328*d[2]*n,o+=1.023328*d[3]*a,o+=.858086*d[4]*a*c,o+=.858086*d[5]*c*n,o+=d[6]*(.743125*n*n-.247708),o+=.858086*d[7]*a*n,o+=.429043*d[8]*(a*a-c*c)},add:function(n){for(var o=0;9>o;o++)this.coefficients[o].add(n.coefficients[o]);return this},scale:function(n){for(var o=0;9>o;o++)this.coefficients[o].multiplyScalar(n);return this},lerp:function(n,o){for(var a=0;9>a;a++)this.coefficients[a].lerp(n.coefficients[a],o);return this},equals:function(n){for(var o=0;9>o;o++)if(!this.coefficients[o].equals(n.coefficients[o]))return!1;return!0},copy:function(n){return this.set(n.coefficients)},clone:function(){return new this.constructor().copy(this)},fromArray:function(n){for(var o=this.coefficients,a=0;9>a;a++)o[a].fromArray(n,3*a);return this},toArray:function(){for(var n=[],o=this.coefficients,a=0;9>a;a++)o[a].toArray(n,3*a);return n}}),Object.assign(Kh,{getBasisAt:function(n,o){var a=n.x,c=n.y;n=n.z,o[0]=.282095,o[1]=.488603*c,o[2]=.488603*n,o[3]=.488603*a,o[4]=1.092548*a*c,o[5]=1.092548*c*n,o[6]=.315392*(3*n*n-1),o[7]=1.092548*a*n,o[8]=.546274*(a*a-c*c)}}),Ir.prototype=Object.assign(Object.create(cn.prototype),{constructor:Ir,isLightProbe:!0,copy:function(n){return cn.prototype.copy.call(this,n),this.sh.copy(n.sh),this.intensity=n.intensity,this},toJSON:function(n){return cn.prototype.toJSON.call(this,n)}}),av.prototype=Object.assign(Object.create(Ir.prototype),{constructor:av,isHemisphereLightProbe:!0,copy:function(n){return Ir.prototype.copy.call(this,n),this},toJSON:function(n){return Ir.prototype.toJSON.call(this,n)}}),lv.prototype=Object.assign(Object.create(Ir.prototype),{constructor:lv,isAmbientLightProbe:!0,copy:function(n){return Ir.prototype.copy.call(this,n),this},toJSON:function(n){return Ir.prototype.toJSON.call(this,n)}}),Object.assign(Xb.prototype,{update:function(){var n,o,a,c,d,h,p,y,b=new O,_=new O;return function(C){if(n!==this||o!==C.focus||a!==C.fov||c!==C.aspect*this.aspect||d!==C.near||h!==C.far||p!==C.zoom||y!==this.eyeSep){n=this,o=C.focus,a=C.fov,c=C.aspect*this.aspect,d=C.near,h=C.far,p=C.zoom;var M=C.projectionMatrix.clone();y=this.eyeSep/2;var k=y*d/o,F=d*Math.tan(Tt.DEG2RAD*a*.5)/p;_.elements[12]=-y,b.elements[12]=y;var z=-F*c+k,j=F*c+k;M.elements[0]=2*d/(j-z),M.elements[8]=(j+z)/(j-z),this.cameraL.projectionMatrix.copy(M),z=-F*c-k,j=F*c-k,M.elements[0]=2*d/(j-z),M.elements[8]=(j+z)/(j-z),this.cameraR.projectionMatrix.copy(M)}this.cameraL.matrixWorld.copy(C.matrixWorld).multiply(_),this.cameraR.matrixWorld.copy(C.matrixWorld).multiply(b)}}()}),Eu.prototype=Object.create(B.prototype),Eu.prototype.constructor=Eu,Object.assign(cv.prototype,{start:function(){this.oldTime=this.startTime=(typeof performance>"u"?Date:performance).now(),this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.autoStart=this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var n=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var o=(typeof performance>"u"?Date:performance).now();n=(o-this.oldTime)/1e3,this.oldTime=o,this.elapsedTime+=n}return n}}),uv.prototype=Object.assign(Object.create(B.prototype),{constructor:uv,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(n){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=n,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(n){return this.gain.gain.setTargetAtTime(n,this.context.currentTime,.01),this},updateMatrixWorld:function(){var n=new s,o=new r,a=new s,c=new s,d=new cv;return function(h){B.prototype.updateMatrixWorld.call(this,h),h=this.context.listener;var p=this.up;if(this.timeDelta=d.getDelta(),this.matrixWorld.decompose(n,o,a),c.set(0,0,-1).applyQuaternion(o),h.positionX){var y=this.context.currentTime+this.timeDelta;h.positionX.linearRampToValueAtTime(n.x,y),h.positionY.linearRampToValueAtTime(n.y,y),h.positionZ.linearRampToValueAtTime(n.z,y),h.forwardX.linearRampToValueAtTime(c.x,y),h.forwardY.linearRampToValueAtTime(c.y,y),h.forwardZ.linearRampToValueAtTime(c.z,y),h.upX.linearRampToValueAtTime(p.x,y),h.upY.linearRampToValueAtTime(p.y,y),h.upZ.linearRampToValueAtTime(p.z,y)}else h.setPosition(n.x,n.y,n.z),h.setOrientation(c.x,c.y,c.z,p.x,p.y,p.z)}}()}),fl.prototype=Object.assign(Object.create(B.prototype),{constructor:fl,getOutput:function(){return this.gain},setNodeSource:function(n){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=n,this.connect(),this},setMediaElementSource:function(n){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(n),this.connect(),this},setBuffer:function(n){return this.buffer=n,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(this.isPlaying===!0)console.warn("THREE.Audio: Audio is already playing.");else if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else{var n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,n.start(this.startTime,this.offset),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}},pause:function(){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this.isPlaying===!0&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this},stop:function(){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var n=1,o=this.filters.length;n<o;n++)this.filters[n-1].connect(this.filters[n]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var n=1,o=this.filters.length;n<o;n++)this.filters[n-1].disconnect(this.filters[n]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(n){return n||(n=[]),this.isPlaying===!0?(this.disconnect(),this.filters=n,this.connect()):this.filters=n,this},setDetune:function(n){if(this.detune=n,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(n){return this.setFilters(n?[n]:[])},setPlaybackRate:function(n){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this.playbackRate=n,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(n){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this.loop=n,this.isPlaying===!0&&(this.source.loop=this.loop),this},getVolume:function(){return this.gain.gain.value},setVolume:function(n){return this.gain.gain.setTargetAtTime(n,this.context.currentTime,.01),this}}),dv.prototype=Object.assign(Object.create(fl.prototype),{constructor:dv,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(n){return this.panner.refDistance=n,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(n){return this.panner.rolloffFactor=n,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(n){return this.panner.distanceModel=n,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(n){return this.panner.maxDistance=n,this},setDirectionalCone:function(n,o,a){return this.panner.coneInnerAngle=n,this.panner.coneOuterAngle=o,this.panner.coneOuterGain=a,this},updateMatrixWorld:function(){var n=new s,o=new r,a=new s,c=new s;return function(d){if(B.prototype.updateMatrixWorld.call(this,d),this.hasPlaybackControl!==!0||this.isPlaying!==!1)if(this.matrixWorld.decompose(n,o,a),c.set(0,0,1).applyQuaternion(o),d=this.panner,d.positionX){var h=this.context.currentTime+this.listener.timeDelta;d.positionX.linearRampToValueAtTime(n.x,h),d.positionY.linearRampToValueAtTime(n.y,h),d.positionZ.linearRampToValueAtTime(n.z,h),d.orientationX.linearRampToValueAtTime(c.x,h),d.orientationY.linearRampToValueAtTime(c.y,h),d.orientationZ.linearRampToValueAtTime(c.z,h)}else d.setPosition(n.x,n.y,n.z),d.setOrientation(c.x,c.y,c.z)}}()}),Object.assign(hv.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var n=0,o=this.getFrequencyData(),a=0;a<o.length;a++)n+=o[a];return n/o.length}}),Object.assign(fv.prototype,{accumulate:function(n,o){var a=this.buffer,c=this.valueSize;n=n*c+c;var d=this.cumulativeWeight;if(d===0){for(d=0;d!==c;++d)a[n+d]=a[d];d=o}else d+=o,this._mixBufferRegion(a,n,0,o/d,c);this.cumulativeWeight=d},apply:function(n){var o=this.valueSize,a=this.buffer;n=n*o+o;var c=this.cumulativeWeight,d=this.binding;this.cumulativeWeight=0,1>c&&this._mixBufferRegion(a,n,3*o,1-c,o),c=o;for(var h=o+o;c!==h;++c)if(a[c]!==a[c+o]){d.setValue(a,n);break}},saveOriginalState:function(){var n=this.buffer,o=this.valueSize,a=3*o;this.binding.getValue(n,a);for(var c=o;c!==a;++c)n[c]=n[a+c%o];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(n,o,a,c,d){if(.5<=c)for(c=0;c!==d;++c)n[o+c]=n[a+c]},_slerp:function(n,o,a,c){r.slerpFlat(n,o,n,o,n,a,c)},_lerp:function(n,o,a,c,d){for(var h=1-c,p=0;p!==d;++p){var y=o+p;n[y]=n[y]*h+n[a+p]*c}}}),Object.assign(Kb.prototype,{getValue:function(n,o){this.bind();var a=this._bindings[this._targetGroup.nCachedObjects_];a!==void 0&&a.getValue(n,o)},setValue:function(n,o){for(var a=this._bindings,c=this._targetGroup.nCachedObjects_,d=a.length;c!==d;++c)a[c].setValue(n,o)},bind:function(){for(var n=this._bindings,o=this._targetGroup.nCachedObjects_,a=n.length;o!==a;++o)n[o].bind()},unbind:function(){for(var n=this._bindings,o=this._targetGroup.nCachedObjects_,a=n.length;o!==a;++o)n[o].unbind()}}),Object.assign(hi,{Composite:Kb,create:function(n,o,a){return n&&n.isAnimationObjectGroup?new hi.Composite(n,o,a):new hi(n,o,a)},sanitizeNodeName:function(){var n=/[\[\]\.:\/]/g;return function(o){return o.replace(/\s/g,"_").replace(n,"")}}(),parseTrackName:function(){var n="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",o=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]");n=/(WCOD+)?/.source.replace("WCOD",n);var a=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),c=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),d=new RegExp("^"+o+n+a+c+"$"),h=["material","materials","bones"];return function(p){var y=d.exec(p);if(!y)throw Error("PropertyBinding: Cannot parse trackName: "+p);y={nodeName:y[2],objectName:y[3],objectIndex:y[4],propertyName:y[5],propertyIndex:y[6]};var b=y.nodeName&&y.nodeName.lastIndexOf(".");if(b!==void 0&&b!==-1){var _=y.nodeName.substring(b+1);h.indexOf(_)!==-1&&(y.nodeName=y.nodeName.substring(0,b),y.objectName=_)}if(y.propertyName===null||y.propertyName.length===0)throw Error("PropertyBinding: can not parse propertyName from trackName: "+p);return y}}(),findNode:function(n,o){if(!o||o===""||o==="root"||o==="."||o===-1||o===n.name||o===n.uuid)return n;if(n.skeleton){var a=n.skeleton.getBoneByName(o);if(a!==void 0)return a}if(n.children){var c=function(d){for(var h=0;h<d.length;h++){var p=d[h];if(p.name===o||p.uuid===o||(p=c(p.children)))return p}return null};if(n=c(n.children))return n}return null}}),Object.assign(hi.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(n,o){n[o]=this.node[this.propertyName]},function(n,o){for(var a=this.resolvedProperty,c=0,d=a.length;c!==d;++c)n[o++]=a[c]},function(n,o){n[o]=this.resolvedProperty[this.propertyIndex]},function(n,o){this.resolvedProperty.toArray(n,o)}],SetterByBindingTypeAndVersioning:[[function(n,o){this.targetObject[this.propertyName]=n[o]},function(n,o){this.targetObject[this.propertyName]=n[o],this.targetObject.needsUpdate=!0},function(n,o){this.targetObject[this.propertyName]=n[o],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(n,o){for(var a=this.resolvedProperty,c=0,d=a.length;c!==d;++c)a[c]=n[o++]},function(n,o){for(var a=this.resolvedProperty,c=0,d=a.length;c!==d;++c)a[c]=n[o++];this.targetObject.needsUpdate=!0},function(n,o){for(var a=this.resolvedProperty,c=0,d=a.length;c!==d;++c)a[c]=n[o++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(n,o){this.resolvedProperty[this.propertyIndex]=n[o]},function(n,o){this.resolvedProperty[this.propertyIndex]=n[o],this.targetObject.needsUpdate=!0},function(n,o){this.resolvedProperty[this.propertyIndex]=n[o],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(n,o){this.resolvedProperty.fromArray(n,o)},function(n,o){this.resolvedProperty.fromArray(n,o),this.targetObject.needsUpdate=!0},function(n,o){this.resolvedProperty.fromArray(n,o),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(n,o){this.bind(),this.getValue(n,o)},setValue:function(n,o){this.bind(),this.setValue(n,o)},bind:function(){var n=this.node,o=this.parsedPath,a=o.objectName,c=o.propertyName,d=o.propertyIndex;if(n||(this.node=n=hi.findNode(this.rootNode,o.nodeName)||this.rootNode),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,n){if(a){var h=o.objectIndex;switch(a){case"materials":if(!n.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!n.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}n=n.material.materials;break;case"bones":if(!n.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}for(n=n.skeleton.bones,a=0;a<n.length;a++)if(n[a].name===h){h=a;break}break;default:if(n[a]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}n=n[a]}if(h!==void 0){if(n[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,n);return}n=n[h]}}if(h=n[c],h===void 0)console.error("THREE.PropertyBinding: Trying to update property for track: "+o.nodeName+"."+c+" but it wasn't found.",n);else{if(o=this.Versioning.None,this.targetObject=n,n.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:n.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate),a=this.BindingType.Direct,d!==void 0){if(c==="morphTargetInfluences"){if(!n.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(n.geometry.isBufferGeometry){if(!n.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}for(a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(n.geometry.morphAttributes.position[a].name===d){d=a;break}}else{if(!n.geometry.morphTargets){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);return}for(a=0;a<this.node.geometry.morphTargets.length;a++)if(n.geometry.morphTargets[a].name===d){d=a;break}}}a=this.BindingType.ArrayElement,this.resolvedProperty=h,this.propertyIndex=d}else h.fromArray!==void 0&&h.toArray!==void 0?(a=this.BindingType.HasFromToArray,this.resolvedProperty=h):Array.isArray(h)?(a=this.BindingType.EntireArray,this.resolvedProperty=h):this.propertyName=c;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][o]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(hi.prototype,{_getValue_unbound:hi.prototype.getValue,_setValue_unbound:hi.prototype.setValue}),Object.assign(Qb.prototype,{isAnimationObjectGroup:!0,add:function(){for(var n=this._objects,o=n.length,a=this.nCachedObjects_,c=this._indicesByUUID,d=this._paths,h=this._parsedPaths,p=this._bindings,y=p.length,b=void 0,_=0,C=arguments.length;_!==C;++_){var M=arguments[_],k=M.uuid,F=c[k];if(F===void 0){F=o++,c[k]=F,n.push(M),k=0;for(var z=y;k!==z;++k)p[k].push(new hi(M,d[k],h[k]))}else if(F<a){b=n[F];var j=--a;for(z=n[j],c[z.uuid]=F,n[F]=z,c[k]=j,n[j]=M,k=0,z=y;k!==z;++k){var Q=p[k],he=Q[F];Q[F]=Q[j],he===void 0&&(he=new hi(M,d[k],h[k])),Q[j]=he}}else n[F]!==b&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=a},remove:function(){for(var n=this._objects,o=this.nCachedObjects_,a=this._indicesByUUID,c=this._bindings,d=c.length,h=0,p=arguments.length;h!==p;++h){var y=arguments[h],b=y.uuid,_=a[b];if(_!==void 0&&_>=o){var C=o++,M=n[C];for(a[M.uuid]=_,n[_]=M,a[b]=C,n[C]=y,y=0,b=d;y!==b;++y){M=c[y];var k=M[_];M[_]=M[C],M[C]=k}}}this.nCachedObjects_=o},uncache:function(){for(var n=this._objects,o=n.length,a=this.nCachedObjects_,c=this._indicesByUUID,d=this._bindings,h=d.length,p=0,y=arguments.length;p!==y;++p){var b=arguments[p].uuid,_=c[b];if(_!==void 0)if(delete c[b],_<a){b=--a;var C=n[b],M=--o,k=n[M];for(c[C.uuid]=_,n[_]=C,c[k.uuid]=b,n[b]=k,n.pop(),C=0,k=h;C!==k;++C){var F=d[C],z=F[M];F[_]=F[b],F[b]=z,F.pop()}}else for(M=--o,k=n[M],c[k.uuid]=_,n[_]=k,n.pop(),C=0,k=h;C!==k;++C)F=d[C],F[_]=F[M],F.pop()}this.nCachedObjects_=a},subscribe_:function(n,o){var a=this._bindingsIndicesByPath,c=a[n],d=this._bindings;if(c!==void 0)return d[c];var h=this._paths,p=this._parsedPaths,y=this._objects,b=this.nCachedObjects_,_=Array(y.length);for(c=d.length,a[n]=c,h.push(n),p.push(o),d.push(_),a=b,c=y.length;a!==c;++a)_[a]=new hi(y[a],n,o);return _},unsubscribe_:function(n){var o=this._bindingsIndicesByPath,a=o[n];if(a!==void 0){var c=this._paths,d=this._parsedPaths,h=this._bindings,p=h.length-1,y=h[p];o[n[p]]=a,h[a]=y,h.pop(),d[a]=d[p],d.pop(),c[a]=c[p],c.pop()}}}),Object.assign(Jb.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(n){return this._startTime=n,this},setLoop:function(n,o){return this.loop=n,this.repetitions=o,this},setEffectiveWeight:function(n){return this.weight=n,this._effectiveWeight=this.enabled?n:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(n){return this._scheduleFading(n,0,1)},fadeOut:function(n){return this._scheduleFading(n,1,0)},crossFadeFrom:function(n,o,a){if(n.fadeOut(o),this.fadeIn(o),a){a=this._clip.duration;var c=n._clip.duration,d=a/c;n.warp(1,c/a,o),this.warp(d,1,o)}return this},crossFadeTo:function(n,o,a){return n.crossFadeFrom(this,o,a)},stopFading:function(){var n=this._weightInterpolant;return n!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this},setEffectiveTimeScale:function(n){return this.timeScale=n,this._effectiveTimeScale=this.paused?0:n,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(n){return this.timeScale=this._clip.duration/n,this.stopWarping()},syncWith:function(n){return this.time=n.time,this.timeScale=n.timeScale,this.stopWarping()},halt:function(n){return this.warp(this._effectiveTimeScale,0,n)},warp:function(n,o,a){var c=this._mixer,d=c.time,h=this._timeScaleInterpolant,p=this.timeScale;return h===null&&(this._timeScaleInterpolant=h=c._lendControlInterpolant()),c=h.parameterPositions,h=h.sampleValues,c[0]=d,c[1]=d+a,h[0]=n/p,h[1]=o/p,this},stopWarping:function(){var n=this._timeScaleInterpolant;return n!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(n,o,a,c){if(this.enabled){var d=this._startTime;if(d!==null){if(o=(n-d)*a,0>o||a===0)return;this._startTime=null,o*=a}if(o*=this._updateTimeScale(n),a=this._updateTime(o),n=this._updateWeight(n),0<n){o=this._interpolants,d=this._propertyBindings;for(var h=0,p=o.length;h!==p;++h)o[h].evaluate(a),d[h].accumulate(c,n)}}else this._updateWeight(n)},_updateWeight:function(n){var o=0;if(this.enabled){o=this.weight;var a=this._weightInterpolant;if(a!==null){var c=a.evaluate(n)[0];o*=c,n>a.parameterPositions[1]&&(this.stopFading(),c===0&&(this.enabled=!1))}}return this._effectiveWeight=o},_updateTimeScale:function(n){var o=0;if(!this.paused){o=this.timeScale;var a=this._timeScaleInterpolant;if(a!==null){var c=a.evaluate(n)[0];o*=c,n>a.parameterPositions[1]&&(this.stopWarping(),o===0?this.paused=!0:this.timeScale=o)}}return this._effectiveTimeScale=o},_updateTime:function(n){var o=this.time+n,a=this._clip.duration,c=this.loop,d=this._loopCount,h=c===2202;if(n===0)return d===-1?o:h&&(d&1)===1?a-o:o;if(c===2200)e:{if(d===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1)),o>=a)o=a;else if(0>o)o=0;else{this.time=o;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=o,this._mixer.dispatchEvent({type:"finished",action:this,direction:0>n?-1:1})}else{if(d===-1&&(0<=n?(d=0,this._setEndings(!0,this.repetitions===0,h)):this._setEndings(this.repetitions===0,!0,h)),o>=a||0>o){c=Math.floor(o/a),o-=a*c,d+=Math.abs(c);var p=this.repetitions-d;0>=p?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=o=0<n?a:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<n?1:-1})):(p===1?(n=0>n,this._setEndings(n,!n,h)):this._setEndings(!1,!1,h),this._loopCount=d,this.time=o,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c}))}else this.time=o;if(h&&(d&1)===1)return a-o}return o},_setEndings:function(n,o,a){var c=this._interpolantSettings;a?(c.endingStart=2401,c.endingEnd=2401):(c.endingStart=n?this.zeroSlopeAtStart?2401:2400:2402,c.endingEnd=o?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(n,o,a){var c=this._mixer,d=c.time,h=this._weightInterpolant;return h===null&&(this._weightInterpolant=h=c._lendControlInterpolant()),c=h.parameterPositions,h=h.sampleValues,c[0]=d,h[0]=o,c[1]=d+n,h[1]=a,this}}),pv.prototype=Object.assign(Object.create(t.prototype),{constructor:pv,_bindAction:function(n,o){var a=n._localRoot||this._root,c=n._clip.tracks,d=c.length,h=n._propertyBindings;n=n._interpolants;var p=a.uuid,y=this._bindingsByRootAndName,b=y[p];for(b===void 0&&(b={},y[p]=b),y=0;y!==d;++y){var _=c[y],C=_.name,M=b[C];if(M===void 0){if(M=h[y],M!==void 0){M._cacheIndex===null&&(++M.referenceCount,this._addInactiveBinding(M,p,C));continue}M=new fv(hi.create(a,C,o&&o._propertyBindings[y].binding.parsedPath),_.ValueTypeName,_.getValueSize()),++M.referenceCount,this._addInactiveBinding(M,p,C)}h[y]=M,n[y].resultBuffer=M.buffer}},_activateAction:function(n){if(!this._isActiveAction(n)){if(n._cacheIndex===null){var o=(n._localRoot||this._root).uuid,a=n._clip.uuid,c=this._actionsByClip[a];this._bindAction(n,c&&c.knownActions[0]),this._addInactiveAction(n,a,o)}for(o=n._propertyBindings,a=0,c=o.length;a!==c;++a){var d=o[a];d.useCount++===0&&(this._lendBinding(d),d.saveOriginalState())}this._lendAction(n)}},_deactivateAction:function(n){if(this._isActiveAction(n)){for(var o=n._propertyBindings,a=0,c=o.length;a!==c;++a){var d=o[a];--d.useCount===0&&(d.restoreOriginalState(),this._takeBackBinding(d))}this._takeBackAction(n)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var n=this;this.stats={actions:{get total(){return n._actions.length},get inUse(){return n._nActiveActions}},bindings:{get total(){return n._bindings.length},get inUse(){return n._nActiveBindings}},controlInterpolants:{get total(){return n._controlInterpolants.length},get inUse(){return n._nActiveControlInterpolants}}}},_isActiveAction:function(n){return n=n._cacheIndex,n!==null&&n<this._nActiveActions},_addInactiveAction:function(n,o,a){var c=this._actions,d=this._actionsByClip,h=d[o];h===void 0?(h={knownActions:[n],actionByRoot:{}},n._byClipCacheIndex=0,d[o]=h):(o=h.knownActions,n._byClipCacheIndex=o.length,o.push(n)),n._cacheIndex=c.length,c.push(n),h.actionByRoot[a]=n},_removeInactiveAction:function(n){var o=this._actions,a=o[o.length-1],c=n._cacheIndex;a._cacheIndex=c,o[c]=a,o.pop(),n._cacheIndex=null,o=n._clip.uuid,a=this._actionsByClip,c=a[o];var d=c.knownActions,h=d[d.length-1],p=n._byClipCacheIndex;h._byClipCacheIndex=p,d[p]=h,d.pop(),n._byClipCacheIndex=null,delete c.actionByRoot[(n._localRoot||this._root).uuid],d.length===0&&delete a[o],this._removeInactiveBindingsForAction(n)},_removeInactiveBindingsForAction:function(n){n=n._propertyBindings;for(var o=0,a=n.length;o!==a;++o){var c=n[o];--c.referenceCount===0&&this._removeInactiveBinding(c)}},_lendAction:function(n){var o=this._actions,a=n._cacheIndex,c=this._nActiveActions++,d=o[c];n._cacheIndex=c,o[c]=n,d._cacheIndex=a,o[a]=d},_takeBackAction:function(n){var o=this._actions,a=n._cacheIndex,c=--this._nActiveActions,d=o[c];n._cacheIndex=c,o[c]=n,d._cacheIndex=a,o[a]=d},_addInactiveBinding:function(n,o,a){var c=this._bindingsByRootAndName,d=c[o],h=this._bindings;d===void 0&&(d={},c[o]=d),d[a]=n,n._cacheIndex=h.length,h.push(n)},_removeInactiveBinding:function(n){var o=this._bindings,a=n.binding,c=a.rootNode.uuid;a=a.path;var d=this._bindingsByRootAndName,h=d[c],p=o[o.length-1];n=n._cacheIndex,p._cacheIndex=n,o[n]=p,o.pop(),delete h[a];e:{for(var y in h)break e;delete d[c]}},_lendBinding:function(n){var o=this._bindings,a=n._cacheIndex,c=this._nActiveBindings++,d=o[c];n._cacheIndex=c,o[c]=n,d._cacheIndex=a,o[a]=d},_takeBackBinding:function(n){var o=this._bindings,a=n._cacheIndex,c=--this._nActiveBindings,d=o[c];n._cacheIndex=c,o[c]=n,d._cacheIndex=a,o[a]=d},_lendControlInterpolant:function(){var n=this._controlInterpolants,o=this._nActiveControlInterpolants++,a=n[o];return a===void 0&&(a=new vu(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),a.__cacheIndex=o,n[o]=a),a},_takeBackControlInterpolant:function(n){var o=this._controlInterpolants,a=n.__cacheIndex,c=--this._nActiveControlInterpolants,d=o[c];n.__cacheIndex=c,o[c]=n,d.__cacheIndex=a,o[a]=d},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(n,o){var a=o||this._root,c=a.uuid;a=typeof n=="string"?ar.findByName(a,n):n,n=a!==null?a.uuid:n;var d=this._actionsByClip[n],h=null;if(d!==void 0){if(h=d.actionByRoot[c],h!==void 0)return h;h=d.knownActions[0],a===null&&(a=h._clip)}return a===null?null:(o=new Jb(this,a,o),this._bindAction(o,h),this._addInactiveAction(o,n,c),o)},existingAction:function(n,o){var a=o||this._root;return o=a.uuid,a=typeof n=="string"?ar.findByName(a,n):n,n=this._actionsByClip[a?a.uuid:n],n!==void 0&&n.actionByRoot[o]||null},stopAllAction:function(){for(var n=this._actions,o=this._nActiveActions,a=this._bindings,c=this._nActiveBindings,d=this._nActiveBindings=this._nActiveActions=0;d!==o;++d)n[d].reset();for(d=0;d!==c;++d)a[d].useCount=0;return this},update:function(n){n*=this.timeScale;for(var o=this._actions,a=this._nActiveActions,c=this.time+=n,d=Math.sign(n),h=this._accuIndex^=1,p=0;p!==a;++p)o[p]._update(c,n,d,h);for(n=this._bindings,o=this._nActiveBindings,p=0;p!==o;++p)n[p].apply(h);return this},getRoot:function(){return this._root},uncacheClip:function(n){var o=this._actions;n=n.uuid;var a=this._actionsByClip,c=a[n];if(c!==void 0){c=c.knownActions;for(var d=0,h=c.length;d!==h;++d){var p=c[d];this._deactivateAction(p);var y=p._cacheIndex,b=o[o.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,b._cacheIndex=y,o[y]=b,o.pop(),this._removeInactiveBindingsForAction(p)}delete a[n]}},uncacheRoot:function(n){n=n.uuid;var o=this._actionsByClip;for(c in o){var a=o[c].actionByRoot[n];a!==void 0&&(this._deactivateAction(a),this._removeInactiveAction(a))}var c=this._bindingsByRootAndName[n];if(c!==void 0)for(var d in c)n=c[d],n.restoreOriginalState(),this._removeInactiveBinding(n)},uncacheAction:function(n,o){n=this.existingAction(n,o),n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Qh.prototype.clone=function(){return new Qh(this.value.clone===void 0?this.value:this.value.clone())},mv.prototype=Object.assign(Object.create(Os.prototype),{constructor:mv,isInstancedInterleavedBuffer:!0,copy:function(n){return Os.prototype.copy.call(this,n),this.meshPerAttribute=n.meshPerAttribute,this}}),Object.assign(Zb.prototype,{linePrecision:1,set:function(n,o){this.ray.set(n,o)},setFromCamera:function(n,o){o&&o.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(o.matrixWorld),this.ray.direction.set(n.x,n.y,.5).unproject(o).sub(this.ray.origin).normalize()):o&&o.isOrthographicCamera?(this.ray.origin.set(n.x,n.y,(o.near+o.far)/(o.near-o.far)).unproject(o),this.ray.direction.set(0,0,-1).transformDirection(o.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(n,o,a){return a=a||[],vv(n,this,a,o),a.sort(e_),a},intersectObjects:function(n,o,a){if(a=a||[],Array.isArray(n)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),a;for(var c=0,d=n.length;c<d;c++)vv(n[c],this,a,o);return a.sort(e_),a}}),Object.assign(t_.prototype,{set:function(n,o,a){return this.radius=n,this.phi=o,this.theta=a,this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.radius=n.radius,this.phi=n.phi,this.theta=n.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(n){return this.setFromCartesianCoords(n.x,n.y,n.z)},setFromCartesianCoords:function(n,o,a){return this.radius=Math.sqrt(n*n+o*o+a*a),this.radius===0?this.phi=this.theta=0:(this.theta=Math.atan2(n,a),this.phi=Math.acos(Tt.clamp(o/this.radius,-1,1))),this}}),Object.assign(n_.prototype,{set:function(n,o,a){return this.radius=n,this.theta=o,this.y=a,this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.radius=n.radius,this.theta=n.theta,this.y=n.y,this},setFromVector3:function(n){return this.setFromCartesianCoords(n.x,n.y,n.z)},setFromCartesianCoords:function(n,o,a){return this.radius=Math.sqrt(n*n+a*a),this.theta=Math.atan2(n,a),this.y=o,this}}),Object.assign(gv.prototype,{set:function(n,o){return this.min.copy(n),this.max.copy(o),this},setFromPoints:function(n){this.makeEmpty();for(var o=0,a=n.length;o<a;o++)this.expandByPoint(n[o]);return this},setFromCenterAndSize:function(){var n=new i;return function(o,a){return a=n.copy(a).multiplyScalar(.5),this.min.copy(o).sub(a),this.max.copy(o).add(a),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.min.copy(n.min),this.max.copy(n.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(n){return n===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),n=new i),this.isEmpty()?n.set(0,0):n.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(n){return n===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),n=new i),this.isEmpty()?n.set(0,0):n.subVectors(this.max,this.min)},expandByPoint:function(n){return this.min.min(n),this.max.max(n),this},expandByVector:function(n){return this.min.sub(n),this.max.add(n),this},expandByScalar:function(n){return this.min.addScalar(-n),this.max.addScalar(n),this},containsPoint:function(n){return!(n.x<this.min.x||n.x>this.max.x||n.y<this.min.y||n.y>this.max.y)},containsBox:function(n){return this.min.x<=n.min.x&&n.max.x<=this.max.x&&this.min.y<=n.min.y&&n.max.y<=this.max.y},getParameter:function(n,o){return o===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),o=new i),o.set((n.x-this.min.x)/(this.max.x-this.min.x),(n.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(n){return!(n.max.x<this.min.x||n.min.x>this.max.x||n.max.y<this.min.y||n.min.y>this.max.y)},clampPoint:function(n,o){return o===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),o=new i),o.copy(n).clamp(this.min,this.max)},distanceToPoint:function(){var n=new i;return function(o){return n.copy(o).clamp(this.min,this.max).sub(o).length()}}(),intersect:function(n){return this.min.max(n.min),this.max.min(n.max),this},union:function(n){return this.min.min(n.min),this.max.max(n.max),this},translate:function(n){return this.min.add(n),this.max.add(n),this},equals:function(n){return n.min.equals(this.min)&&n.max.equals(this.max)}}),Object.assign(yv.prototype,{set:function(n,o){return this.start.copy(n),this.end.copy(o),this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.start.copy(n.start),this.end.copy(n.end),this},getCenter:function(n){return n===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),n=new s),n.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(n){return n===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),n=new s),n.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(n,o){return o===void 0&&(console.warn("THREE.Line3: .at() target is now required"),o=new s),this.delta(o).multiplyScalar(n).add(this.start)},closestPointToPointParameter:function(){var n=new s,o=new s;return function(a,c){return n.subVectors(a,this.start),o.subVectors(this.end,this.start),a=o.dot(o),a=o.dot(n)/a,c&&(a=Tt.clamp(a,0,1)),a}}(),closestPointToPoint:function(n,o,a){return n=this.closestPointToPointParameter(n,o),a===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),a=new s),this.delta(a).multiplyScalar(n).add(this.start)},applyMatrix4:function(n){return this.start.applyMatrix4(n),this.end.applyMatrix4(n),this},equals:function(n){return n.start.equals(this.start)&&n.end.equals(this.end)}}),Su.prototype=Object.create(B.prototype),Su.prototype.constructor=Su,Su.prototype.isImmediateRenderObject=!0,Tu.prototype=Object.create(an.prototype),Tu.prototype.constructor=Tu,Tu.prototype.update=function(){var n=new s,o=new s,a=new l;return function(){var c=["a","b","c"];this.object.updateMatrixWorld(!0),a.getNormalMatrix(this.object.matrixWorld);var d=this.object.matrixWorld,h=this.geometry.attributes.position,p=this.object.geometry;if(p&&p.isGeometry)for(var y=p.vertices,b=p.faces,_=p=0,C=b.length;_<C;_++)for(var M=b[_],k=0,F=M.vertexNormals.length;k<F;k++){var z=M.vertexNormals[k];n.copy(y[M[c[k]]]).applyMatrix4(d),o.copy(z).applyMatrix3(a).normalize().multiplyScalar(this.size).add(n),h.setXYZ(p,n.x,n.y,n.z),p+=1,h.setXYZ(p,o.x,o.y,o.z),p+=1}else if(p&&p.isBufferGeometry)for(c=p.attributes.position,y=p.attributes.normal,k=p=0,F=c.count;k<F;k++)n.set(c.getX(k),c.getY(k),c.getZ(k)).applyMatrix4(d),o.set(y.getX(k),y.getY(k),y.getZ(k)),o.applyMatrix3(a).normalize().multiplyScalar(this.size).add(n),h.setXYZ(p,n.x,n.y,n.z),p+=1,h.setXYZ(p,o.x,o.y,o.z),p+=1;h.needsUpdate=!0}}(),pl.prototype=Object.create(B.prototype),pl.prototype.constructor=pl,pl.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},pl.prototype.update=function(){var n=new s;return function(){this.light.updateMatrixWorld();var o=this.light.distance?this.light.distance:1e3,a=o*Math.tan(this.light.angle);this.cone.scale.set(a,a,o),n.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(n),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),ml.prototype=Object.create(an.prototype),ml.prototype.constructor=ml,ml.prototype.updateMatrixWorld=function(){var n=new s,o=new O,a=new O;return function(c){var d=this.bones,h=this.geometry,p=h.getAttribute("position");a.getInverse(this.root.matrixWorld);for(var y=0,b=0;y<d.length;y++){var _=d[y];_.parent&&_.parent.isBone&&(o.multiplyMatrices(a,_.matrixWorld),n.setFromMatrixPosition(o),p.setXYZ(b,n.x,n.y,n.z),o.multiplyMatrices(a,_.parent.matrixWorld),n.setFromMatrixPosition(o),p.setXYZ(b+1,n.x,n.y,n.z),b+=2)}h.getAttribute("position").needsUpdate=!0,B.prototype.updateMatrixWorld.call(this,c)}}(),vl.prototype=Object.create(it.prototype),vl.prototype.constructor=vl,vl.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},vl.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)},gl.prototype=Object.create(ei.prototype),gl.prototype.constructor=gl,gl.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),this.color!==void 0)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var n=this.material.color,o=Math.max(n.r,n.g,n.b);1<o&&n.multiplyScalar(1/o),this.children[0].material.color.copy(this.material.color)}},gl.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},yl.prototype=Object.create(B.prototype),yl.prototype.constructor=yl,yl.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},yl.prototype.update=function(){var n=new s,o=new U,a=new U;return function(){var c=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{var d=c.geometry.getAttribute("color");o.copy(this.light.color),a.copy(this.light.groundColor);for(var h=0,p=d.count;h<p;h++){var y=h<p/2?o:a;d.setXYZ(h,y.r,y.g,y.b)}d.needsUpdate=!0}c.lookAt(n.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),wl.prototype=Object.create(it.prototype),wl.prototype.constructor=wl,wl.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},wl.prototype.onBeforeRender=function(){return function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity}}(),Jh.prototype=Object.assign(Object.create(an.prototype),{constructor:Jh,copy:function(n){return an.prototype.copy.call(this,n),this.geometry.copy(n.geometry),this.material.copy(n.material),this},clone:function(){return new this.constructor().copy(this)}}),Zh.prototype=Object.create(an.prototype),Zh.prototype.constructor=Zh,bl.prototype=Object.create(ei.prototype),bl.prototype.constructor=bl,bl.prototype.update=function(){function n(z,j,Q,he){for(Q=(j-z)/Q,F.setXYZ(b,0,0,0),_++,C=z;C<j;C+=Q)M=b+_,F.setXYZ(M,Math.sin(C)*a,0,Math.cos(C)*a),F.setXYZ(M+1,Math.sin(Math.min(C+Q,j))*a,0,Math.cos(Math.min(C+Q,j))*a),F.setXYZ(M+2,0,0,0),_+=3;k.addGroup(b,_,he),b+=_,_=0}var o=this.audio,a=this.range,c=this.divisionsInnerAngle,d=this.divisionsOuterAngle,h=Tt.degToRad(o.panner.coneInnerAngle);o=Tt.degToRad(o.panner.coneOuterAngle);var p=h/2,y=o/2,b=0,_=0,C,M,k=this.geometry,F=k.attributes.position;k.clearGroups(),n(-y,-p,d,0),n(-p,p,c,1),n(p,y,d,0),F.needsUpdate=!0,h===o&&(this.material[0].visible=!1)},bl.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()},Au.prototype=Object.create(an.prototype),Au.prototype.constructor=Au,Au.prototype.update=function(){var n=new s,o=new s,a=new l;return function(){this.object.updateMatrixWorld(!0),a.getNormalMatrix(this.object.matrixWorld);var c=this.object.matrixWorld,d=this.geometry.attributes.position,h=this.object.geometry,p=h.vertices;h=h.faces;for(var y=0,b=0,_=h.length;b<_;b++){var C=h[b],M=C.normal;n.copy(p[C.a]).add(p[C.b]).add(p[C.c]).divideScalar(3).applyMatrix4(c),o.copy(M).applyMatrix3(a).normalize().multiplyScalar(this.size).add(n),d.setXYZ(y,n.x,n.y,n.z),y+=1,d.setXYZ(y,o.x,o.y,o.z),y+=1}d.needsUpdate=!0}}(),_l.prototype=Object.create(B.prototype),_l.prototype.constructor=_l,_l.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},_l.prototype.update=function(){var n=new s,o=new s,a=new s;return function(){n.setFromMatrixPosition(this.light.matrixWorld),o.setFromMatrixPosition(this.light.target.matrixWorld),a.subVectors(o,n),this.lightPlane.lookAt(o),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(o),this.targetLine.scale.z=a.length()}}(),Cu.prototype=Object.create(an.prototype),Cu.prototype.constructor=Cu,Cu.prototype.update=function(){function n(h,p,y,b){if(c.set(p,y,b).unproject(d),h=a[h],h!==void 0)for(p=o.getAttribute("position"),y=0,b=h.length;y<b;y++)p.setXYZ(h[y],c.x,c.y,c.z)}var o,a,c=new s,d=new Hr;return function(){o=this.geometry,a=this.pointMap,d.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),n("c",0,0,-1),n("t",0,0,1),n("n1",-1,-1,-1),n("n2",1,-1,-1),n("n3",-1,1,-1),n("n4",1,1,-1),n("f1",-1,-1,1),n("f2",1,-1,1),n("f3",-1,1,1),n("f4",1,1,1),n("u1",.7,1.1,-1),n("u2",-.7,1.1,-1),n("u3",0,2,-1),n("cf1",-1,0,1),n("cf2",1,0,1),n("cf3",0,-1,1),n("cf4",0,1,1),n("cn1",-1,0,-1),n("cn2",1,0,-1),n("cn3",0,-1,-1),n("cn4",0,1,-1),o.getAttribute("position").needsUpdate=!0}}(),yo.prototype=Object.create(an.prototype),yo.prototype.constructor=yo,yo.prototype.update=function(){var n=new E;return function(o){if(o!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&n.setFromObject(this.object),!n.isEmpty()){o=n.min;var a=n.max,c=this.geometry.attributes.position,d=c.array;d[0]=a.x,d[1]=a.y,d[2]=a.z,d[3]=o.x,d[4]=a.y,d[5]=a.z,d[6]=o.x,d[7]=o.y,d[8]=a.z,d[9]=a.x,d[10]=o.y,d[11]=a.z,d[12]=a.x,d[13]=a.y,d[14]=o.z,d[15]=o.x,d[16]=a.y,d[17]=o.z,d[18]=o.x,d[19]=o.y,d[20]=o.z,d[21]=a.x,d[22]=o.y,d[23]=o.z,c.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),yo.prototype.setFromObject=function(n){return this.object=n,this.update(),this},yo.prototype.copy=function(n){return an.prototype.copy.call(this,n),this.object=n.object,this},yo.prototype.clone=function(){return new this.constructor().copy(this)},Mu.prototype=Object.create(an.prototype),Mu.prototype.constructor=Mu,Mu.prototype.updateMatrixWorld=function(n){var o=this.box;o.isEmpty()||(o.getCenter(this.position),o.getSize(this.scale),this.scale.multiplyScalar(.5),B.prototype.updateMatrixWorld.call(this,n))},Iu.prototype=Object.create(ei.prototype),Iu.prototype.constructor=Iu,Iu.prototype.updateMatrixWorld=function(n){var o=-this.plane.constant;1e-8>Math.abs(o)&&(o=1e-8),this.scale.set(.5*this.size,.5*this.size,o),this.children[0].material.side=0>o?1:0,this.lookAt(this.plane.normal),B.prototype.updateMatrixWorld.call(this,n)};var nf,Mv;wo.prototype=Object.create(B.prototype),wo.prototype.constructor=wo,wo.prototype.setDirection=function(){var n=new s,o;return function(a){.99999<a.y?this.quaternion.set(0,0,0,1):-.99999>a.y?this.quaternion.set(1,0,0,0):(n.set(a.z,0,-a.x).normalize(),o=Math.acos(a.y),this.quaternion.setFromAxisAngle(n,o))}}(),wo.prototype.setLength=function(n,o,a){o===void 0&&(o=.2*n),a===void 0&&(a=.2*o),this.line.scale.set(1,Math.max(0,n-o),1),this.line.updateMatrix(),this.cone.scale.set(a,o,a),this.cone.position.y=n,this.cone.updateMatrix()},wo.prototype.setColor=function(n){this.line.material.color.copy(n),this.cone.material.color.copy(n)},wo.prototype.copy=function(n){return B.prototype.copy.call(this,n,!1),this.line.copy(n.line),this.cone.copy(n.cone),this},wo.prototype.clone=function(){return new this.constructor().copy(this)},Ru.prototype=Object.create(an.prototype),Ru.prototype.constructor=Ru,pt.create=function(n,o){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(pt.prototype),n.prototype.constructor=n,n.prototype.getPoint=o,n},Object.assign(go.prototype,{createPointsGeometry:function(n){return console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),n=this.getPoints(n),this.createGeometry(n)},createSpacedPointsGeometry:function(n){return console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),n=this.getSpacedPoints(n),this.createGeometry(n)},createGeometry:function(n){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var o=new G,a=0,c=n.length;a<c;a++){var d=n[a];o.vertices.push(new s(d.x,d.y,d.z||0))}return o}}),Object.assign(Mr.prototype,{fromPoints:function(n){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)}}),r_.prototype=Object.create(di.prototype),o_.prototype=Object.create(di.prototype),wv.prototype=Object.create(di.prototype),Object.assign(wv.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Jh.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},ml.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(xu.prototype,{extractUrlBase:function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Tv.extractUrlBase(n)}}),Object.assign(nv.prototype,{setTexturePath:function(n){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(n)}}),Object.assign(gv.prototype,{center:function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},size:function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)}}),Object.assign(E.prototype,{center:function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},isIntersectionSphere:function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)},size:function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)}}),yv.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)},Object.assign(Tt,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(n){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Tt.floorPowerOfTwo(n)},nextPowerOfTwo:function(n){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Tt.ceilPowerOfTwo(n)}}),Object.assign(l.prototype,{flattenToArrayOffset:function(n,o){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,o)},multiplyVector3:function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(n){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(n)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(O.prototype,{extractPosition:function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)},flattenToArrayOffset:function(n,o){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,o)},getPosition:function(){var n;return function(){return n===void 0&&(n=new s),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),n.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},multiplyVector4:function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)},crossVector:function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(n){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(n)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(n,o,a,c,d,h){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,o,c,a,d,h)}}),I.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)},r.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)},Object.assign(Ie.prototype,{isIntersectionBox:function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},isIntersectionPlane:function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)},isIntersectionSphere:function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)}}),Object.assign(je.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(n,o){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,o)},midpoint:function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)},normal:function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)},plane:function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)}}),Object.assign(je,{barycoordFromPoint:function(n,o,a,c,d){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),je.getBarycoord(n,o,a,c,d)},normal:function(n,o,a,c){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),je.getNormal(n,o,a,c)}}),Object.assign(Qo.prototype,{extractAllPoints:function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)},extrude:function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Bs(this,n)},makeGeometry:function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Fs(this,n)}}),Object.assign(i.prototype,{fromAttribute:function(n,o,a){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,o,a)},distanceToManhattan:function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(s.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)},getScaleFromMatrix:function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)},getColumnFromMatrix:function(n,o){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(o,n)},applyProjection:function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)},fromAttribute:function(n,o,a){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,o,a)},distanceToManhattan:function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(f.prototype,{fromAttribute:function(n,o,a){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,o,a)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(G.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(B.prototype,{getChildByName:function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(n,o){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(o,n)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(B.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties($c.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Ih.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),qc.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(pt.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(n){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=n}}),In.prototype.setLens=function(n,o){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),o!==void 0&&(this.filmGauge=o),this.setFocalLength(n)},Object.defineProperties(cn.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}}),Object.defineProperties(q.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(ie.prototype,{addIndex:function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)},addDrawCall:function(n,o,a){a!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,o)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(ie.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(jr.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Qh.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(we.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new U}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===1}}}),Object.defineProperties(xr.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Ee.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}}),Object.assign($m.prototype,{clearTarget:function(n,o,a,c){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(o,a,c)},animate:function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")}}),Object.defineProperties($m.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Pb.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(w.prototype,{activeCubeFace:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().")}},activeMipMapLevel:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().")}}}),Object.defineProperties(m.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}}),Object.defineProperties(Nb.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),fl.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var o=this;return new sv().load(n,function(a){o.setBuffer(a)}),this},hv.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Eu.prototype.updateCubeMap=function(n,o){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,o)},Jo.crossOrigin=void 0,Jo.loadTexture=function(n,o,a,c){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var d=new Bh;return d.setCrossOrigin(this.crossOrigin),n=d.load(n,a,void 0,c),o&&(n.mapping=o),n},Jo.loadTextureCube=function(n,o,a,c){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var d=new Zm;return d.setCrossOrigin(this.crossOrigin),n=d.load(n,a,void 0,c),o&&(n.mapping=o),n},Jo.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Jo.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},e.ACESFilmicToneMapping=5,e.AddEquation=100,e.AddOperation=2,e.AdditiveBlending=2,e.AlphaFormat=1021,e.AlwaysDepth=1,e.AmbientLight=Wh,e.AmbientLightProbe=lv,e.AnimationClip=ar,e.AnimationLoader=Wb,e.AnimationMixer=pv,e.AnimationObjectGroup=Qb,e.AnimationUtils=Wn,e.ArcCurve=hl,e.ArrayCamera=jc,e.ArrowHelper=wo,e.Audio=fl,e.AudioAnalyser=hv,e.AudioContext=Cv,e.AudioListener=uv,e.AudioLoader=sv,e.AxesHelper=Ru,e.AxisHelper=function(n){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Ru(n)},e.BackSide=1,e.BasicDepthPacking=3200,e.BasicShadowMap=0,e.BinaryTextureLoader=function(n){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Jm(n)},e.Bone=qm,e.BooleanKeyframeTrack=Oh,e.BoundingBoxHelper=function(n,o){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new yo(n,o)},e.Box2=gv,e.Box3=E,e.Box3Helper=Mu,e.BoxBufferGeometry=me,e.BoxGeometry=Le,e.BoxHelper=yo,e.BufferAttribute=q,e.BufferGeometry=ie,e.BufferGeometryLoader=tv,e.ByteType=1010,e.Cache=Ks,e.Camera=Hr,e.CameraHelper=Cu,e.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},e.CanvasTexture=Yc,e.CatmullRomCurve3=di,e.CineonToneMapping=4,e.CircleBufferGeometry=ll,e.CircleGeometry=mu,e.ClampToEdgeWrapping=1001,e.Clock=cv,e.ClosedSplineCurve3=r_,e.Color=U,e.ColorKeyframeTrack=Dh,e.CompressedTexture=Ka,e.CompressedTextureLoader=$b,e.ConeBufferGeometry=pu,e.ConeGeometry=fu,e.CubeCamera=Eu,e.CubeGeometry=Le,e.CubeReflectionMapping=301,e.CubeRefractionMapping=302,e.CubeTexture=Yi,e.CubeTextureLoader=Zm,e.CubeUVReflectionMapping=306,e.CubeUVRefractionMapping=307,e.CubicBezierCurve=Sr,e.CubicBezierCurve3=Wr,e.CubicInterpolant=Lh,e.CullFaceBack=1,e.CullFaceFront=2,e.CullFaceFrontBack=3,e.CullFaceNone=0,e.Curve=pt,e.CurvePath=go,e.CustomBlending=5,e.CylinderBufferGeometry=vo,e.CylinderGeometry=zs,e.Cylindrical=n_,e.DataTexture=x,e.DataTexture2DArray=ci,e.DataTexture3D=ui,e.DataTextureLoader=Jm,e.DefaultLoadingManager=Ui,e.DepthFormat=1026,e.DepthStencilFormat=1027,e.DepthTexture=Xc,e.DirectionalLight=Gh,e.DirectionalLightHelper=_l,e.DirectionalLightShadow=jh,e.DiscreteInterpolant=Ph,e.DodecahedronBufferGeometry=tl,e.DodecahedronGeometry=tu,e.DoubleSide=2,e.DstAlphaFactor=206,e.DstColorFactor=208,e.DynamicBufferAttribute=function(n,o){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new q(n,o).setDynamic(!0)},e.EdgesGeometry=al,e.EdgesHelper=function(n,o){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new an(new al(n.geometry),new tn({color:o!==void 0?o:16777215}))},e.EllipseCurve=Ki,e.EqualDepth=4,e.EquirectangularReflectionMapping=303,e.EquirectangularRefractionMapping=304,e.Euler=Z,e.EventDispatcher=t,e.ExtrudeBufferGeometry=jr,e.ExtrudeGeometry=Bs,e.Face3=ee,e.Face4=function(n,o,a,c,d,h,p){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new ee(n,o,a,d,h,p)},e.FaceColors=1,e.FaceNormalsHelper=Au,e.FileLoader=Er,e.FlatShading=1,e.Float32Attribute=function(n,o){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new N(n,o)},e.Float32BufferAttribute=N,e.Float64Attribute=function(n,o){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new $(n,o)},e.Float64BufferAttribute=$,e.FloatType=1015,e.Fog=Ch,e.FogExp2=Ah,e.Font=ov,e.FontLoader=Yb,e.FrontFaceDirectionCCW=1,e.FrontFaceDirectionCW=0,e.FrontSide=0,e.Frustum=D,e.GammaEncoding=3007,e.Geometry=G,e.GeometryUtils={merge:function(n,o,a){if(console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),o.isMesh){o.matrixAutoUpdate&&o.updateMatrix();var c=o.matrix;o=o.geometry}n.merge(o,c,a)},center:function(n){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),n.center()}},e.GreaterDepth=6,e.GreaterEqualDepth=5,e.GridHelper=Jh,e.Group=Ya,e.HalfFloatType=1016,e.HemisphereLight=Fh,e.HemisphereLightHelper=yl,e.HemisphereLightProbe=av,e.IcosahedronBufferGeometry=el,e.IcosahedronGeometry=eu,e.ImageBitmapLoader=iv,e.ImageLoader=yu,e.ImageUtils=Jo,e.ImmediateRenderObject=Su,e.InstancedBufferAttribute=Xh,e.InstancedBufferGeometry=Yh,e.InstancedInterleavedBuffer=mv,e.Int16Attribute=function(n,o){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new g(n,o)},e.Int16BufferAttribute=g,e.Int32Attribute=function(n,o){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new R(n,o)},e.Int32BufferAttribute=R,e.Int8Attribute=function(n,o){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Y(n,o)},e.Int8BufferAttribute=Y,e.IntType=1013,e.InterleavedBuffer=Os,e.InterleavedBufferAttribute=Gc,e.Interpolant=Xi,e.InterpolateDiscrete=2300,e.InterpolateLinear=2301,e.InterpolateSmooth=2302,e.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")},e.KeyframeTrack=ti,e.LOD=$c,e.LatheBufferGeometry=sl,e.LatheGeometry=hu,e.Layers=X,e.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")},e.LessDepth=2,e.LessEqualDepth=3,e.Light=cn,e.LightProbe=Ir,e.LightProbeHelper=wl,e.LightShadow=Xs,e.Line=ei,e.Line3=yv,e.LineBasicMaterial=tn,e.LineCurve=Fi,e.LineCurve3=Tr,e.LineDashedMaterial=Ys,e.LineLoop=Rh,e.LinePieces=1,e.LineSegments=an,e.LineStrip=0,e.LinearEncoding=3e3,e.LinearFilter=1006,e.LinearInterpolant=vu,e.LinearMipMapLinearFilter=1008,e.LinearMipMapNearestFilter=1007,e.LinearToneMapping=1,e.Loader=xu,e.LoaderUtils=Tv,e.LoadingManager=Qm,e.LogLuvEncoding=3003,e.LoopOnce=2200,e.LoopPingPong=2202,e.LoopRepeat=2201,e.LuminanceAlphaFormat=1025,e.LuminanceFormat=1024,e.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},e.Material=we,e.MaterialLoader=qh,e.Math=Tt,e.Matrix3=l,e.Matrix4=O,e.MaxEquation=104,e.Mesh=it,e.MeshBasicMaterial=Ke,e.MeshDepthMaterial=qo,e.MeshDistanceMaterial=Yo,e.MeshFaceMaterial=function(n){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),n},e.MeshLambertMaterial=$s,e.MeshMatcapMaterial=qs,e.MeshNormalMaterial=Ws,e.MeshPhongMaterial=xr,e.MeshPhysicalMaterial=js,e.MeshStandardMaterial=Gr,e.MeshToonMaterial=Gs,e.MinEquation=103,e.MirroredRepeatWrapping=1002,e.MixOperation=1,e.MultiMaterial=function(n){return n===void 0&&(n=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),n.isMultiMaterial=!0,n.materials=n,n.clone=function(){return n.slice()},n},e.MultiplyBlending=4,e.MultiplyOperation=0,e.NearestFilter=1003,e.NearestMipMapLinearFilter=1005,e.NearestMipMapNearestFilter=1004,e.NeverDepth=0,e.NoBlending=0,e.NoColors=0,e.NoToneMapping=0,e.NormalBlending=1,e.NotEqualDepth=7,e.NumberKeyframeTrack=ul,e.Object3D=B,e.ObjectLoader=nv,e.ObjectSpaceNormalMap=1,e.OctahedronBufferGeometry=Ds,e.OctahedronGeometry=Zc,e.OneFactor=201,e.OneMinusDstAlphaFactor=207,e.OneMinusDstColorFactor=209,e.OneMinusSrcAlphaFactor=205,e.OneMinusSrcColorFactor=203,e.OrthographicCamera=_u,e.PCFShadowMap=1,e.PCFSoftShadowMap=2,e.ParametricBufferGeometry=Ja,e.ParametricGeometry=Kc,e.Particle=function(n){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Wc(n)},e.ParticleBasicMaterial=function(n){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new _r(n)},e.ParticleSystem=function(n,o){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Xa(n,o)},e.ParticleSystemMaterial=function(n){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new _r(n)},e.Path=Mr,e.PerspectiveCamera=In,e.Plane=I,e.PlaneBufferGeometry=se,e.PlaneGeometry=W,e.PlaneHelper=Iu,e.PointCloud=function(n,o){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Xa(n,o)},e.PointCloudMaterial=function(n){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new _r(n)},e.PointLight=Hh,e.PointLightHelper=vl,e.Points=Xa,e.PointsMaterial=_r,e.PolarGridHelper=Zh,e.PolyhedronBufferGeometry=Bi,e.PolyhedronGeometry=Qc,e.PositionalAudio=dv,e.PositionalAudioHelper=bl,e.PropertyBinding=hi,e.PropertyMixer=fv,e.QuadraticBezierCurve=Ar,e.QuadraticBezierCurve3=$r,e.Quaternion=r,e.QuaternionKeyframeTrack=gu,e.QuaternionLinearInterpolant=Nh,e.REVISION="105",e.RGBADepthPacking=3201,e.RGBAFormat=1023,e.RGBA_ASTC_10x10_Format=37819,e.RGBA_ASTC_10x5_Format=37816,e.RGBA_ASTC_10x6_Format=37817,e.RGBA_ASTC_10x8_Format=37818,e.RGBA_ASTC_12x10_Format=37820,e.RGBA_ASTC_12x12_Format=37821,e.RGBA_ASTC_4x4_Format=37808,e.RGBA_ASTC_5x4_Format=37809,e.RGBA_ASTC_5x5_Format=37810,e.RGBA_ASTC_6x5_Format=37811,e.RGBA_ASTC_6x6_Format=37812,e.RGBA_ASTC_8x5_Format=37813,e.RGBA_ASTC_8x6_Format=37814,e.RGBA_ASTC_8x8_Format=37815,e.RGBA_PVRTC_2BPPV1_Format=35843,e.RGBA_PVRTC_4BPPV1_Format=35842,e.RGBA_S3TC_DXT1_Format=33777,e.RGBA_S3TC_DXT3_Format=33778,e.RGBA_S3TC_DXT5_Format=33779,e.RGBDEncoding=3006,e.RGBEEncoding=3002,e.RGBEFormat=1023,e.RGBFormat=1022,e.RGBM16Encoding=3005,e.RGBM7Encoding=3004,e.RGB_ETC1_Format=36196,e.RGB_PVRTC_2BPPV1_Format=35841,e.RGB_PVRTC_4BPPV1_Format=35840,e.RGB_S3TC_DXT1_Format=33776,e.RawShaderMaterial=cl,e.Ray=Ie,e.Raycaster=Zb,e.RectAreaLight=$h,e.RectAreaLightHelper=gl,e.RedFormat=1028,e.ReinhardToneMapping=2,e.RepeatWrapping=1e3,e.ReverseSubtractEquation=102,e.RingBufferGeometry=ol,e.RingGeometry=du,e.Scene=Mh,e.SceneUtils={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}},e.ShaderChunk=Ft,e.ShaderLib=qr,e.ShaderMaterial=Ee,e.ShadowMaterial=Hs,e.Shape=Qo,e.ShapeBufferGeometry=Us,e.ShapeGeometry=Fs,e.ShapePath=rv,e.ShapeUtils=bo,e.ShortType=1011,e.Skeleton=Ih,e.SkeletonHelper=ml,e.SkinnedMesh=qc,e.SmoothShading=2,e.Sphere=A,e.SphereBufferGeometry=Ko,e.SphereGeometry=uu,e.Spherical=t_,e.SphericalHarmonics3=Kh,e.SphericalReflectionMapping=305,e.Spline=wv,e.SplineCurve=Cr,e.SplineCurve3=o_,e.SpotLight=zh,e.SpotLightHelper=pl,e.SpotLightShadow=Uh,e.Sprite=Wc,e.SpriteMaterial=Xo,e.SrcAlphaFactor=204,e.SrcAlphaSaturateFactor=210,e.SrcColorFactor=202,e.StereoCamera=Xb,e.StringKeyframeTrack=Vh,e.SubtractEquation=101,e.SubtractiveBlending=3,e.TangentSpaceNormalMap=0,e.TetrahedronBufferGeometry=Za,e.TetrahedronGeometry=Jc,e.TextBufferGeometry=rl,e.TextGeometry=cu,e.Texture=u,e.TextureLoader=Bh,e.TorusBufferGeometry=il,e.TorusGeometry=ru,e.TorusKnotBufferGeometry=nl,e.TorusKnotGeometry=iu,e.Triangle=je,e.TriangleFanDrawMode=2,e.TriangleStripDrawMode=1,e.TrianglesDrawMode=0,e.TubeBufferGeometry=Ns,e.TubeGeometry=nu,e.UVMapping=300,e.Uint16Attribute=function(n,o){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new T(n,o)},e.Uint16BufferAttribute=T,e.Uint32Attribute=function(n,o){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new S(n,o)},e.Uint32BufferAttribute=S,e.Uint8Attribute=function(n,o){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new fe(n,o)},e.Uint8BufferAttribute=fe,e.Uint8ClampedAttribute=function(n,o){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new de(n,o)},e.Uint8ClampedBufferAttribute=de,e.Uncharted2ToneMapping=3,e.Uniform=Qh,e.UniformsLib=ut,e.UniformsUtils=xL,e.UnsignedByteType=1009,e.UnsignedInt248Type=1020,e.UnsignedIntType=1014,e.UnsignedShort4444Type=1017,e.UnsignedShort5551Type=1018,e.UnsignedShort565Type=1019,e.UnsignedShortType=1012,e.Vector2=i,e.Vector3=s,e.Vector4=f,e.VectorKeyframeTrack=dl,e.Vertex=function(n,o,a){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new s(n,o,a)},e.VertexColors=2,e.VertexNormalsHelper=Tu,e.VideoTexture=Ym,e.WebGLMultisampleRenderTarget=v,e.WebGLRenderTarget=m,e.WebGLRenderTargetCube=w,e.WebGLRenderer=$m,e.WebGLUtils=Ob,e.WireframeGeometry=Qa,e.WireframeHelper=function(n,o){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new an(new Qa(n.geometry),new tn({color:o!==void 0?o:16777215}))},e.WrapAroundEnding=2402,e.XHRLoader=function(n){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Er(n)},e.ZeroCurvatureEnding=2400,e.ZeroFactor=200,e.ZeroSlopeEnding=2401,e.sRGBEncoding=3001,Object.defineProperty(e,"__esModule",{value:!0})});(function(e,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("three")):typeof define=="function"&&define.amd?define(["exports","three"],t):(e=e||self,t(e.PANOLENS={},e.THREE))})(globalThis,function(e,t){function i(g){this.constraints=Object.assign({video:{width:{ideal:1920},height:{ideal:1080},facingMode:{exact:"environment"}},audio:!1},g),this.element=this.scene=this.container=null,this.devices=[],this.stream=null,this.ratioScalar=1,this.videoDeviceIndex=0}function r(g,T,R){g=g===void 0?16777215:g,T=T===void 0?!0:T,R=R===void 0?1500:R,this.dpr=window.devicePixelRatio;var S=this.createCanvas(),N=S.canvas;S=S.context;var $=new t.SpriteMaterial({color:g,map:this.createCanvasTexture(N)});t.Sprite.call(this,$),this.canvasWidth=N.width,this.canvasHeight=N.height,this.context=S,this.color=g instanceof t.Color?g:new t.Color(g),this.autoSelect=T,this.dwellTime=R,this.rippleDuration=500,this.position.z=-10,this.center.set(.5,.5),this.scale.set(.5,.5,1),this.callback=this.timerId=this.startTimestamp=null,this.frustumCulled=!1,this.updateCanvasArcByProgress(0)}function s(g,T,R){g=g===void 0?300:g,T=T||X.Info,t.Sprite.call(this),this.type="infospot",this.animated=R!==void 0?R:!0,this.frustumCulled=this.isHovering=!1,this.cursorStyle=this.toPanorama=this.element=null,this.mode=Z.NORMAL,this.scale.set(g,g,1),this.rotation.y=Math.PI,this.container=null,this.originalRaycast=this.raycast,this.HANDLER_FOCUS=null,this.material.side=t.DoubleSide,this.material.depthTest=!1,this.material.transparent=!0,this.material.opacity=0,this.scaleUpAnimation=new Y.Tween,this.scaleDownAnimation=new Y.Tween,R=function(S){if(this.material){var N=S.image.width/S.image.height,$=new t.Vector3;S.image.width=S.image.naturalWidth||64,S.image.height=S.image.naturalHeight||64,this.scale.set(N*g,g,1),$.copy(this.scale),this.scaleUpAnimation=new Y.Tween(this.scale).to({x:1.3*$.x,y:1.3*$.y},500).easing(Y.Easing.Elastic.Out),this.scaleDownAnimation=new Y.Tween(this.scale).to({x:$.x,y:$.y},500).easing(Y.Easing.Elastic.Out),this.material.map=S,this.material.needsUpdate=!0}}.bind(this),this.showAnimation=new Y.Tween(this.material).to({opacity:1},500).onStart(this.enableRaycast.bind(this,!0)).easing(Y.Easing.Quartic.Out),this.hideAnimation=new Y.Tween(this.material).to({opacity:0},500).onStart(this.enableRaycast.bind(this,!1)).easing(Y.Easing.Quartic.Out),this.addEventListener("click",this.onClick),this.addEventListener("hover",this.onHover),this.addEventListener("hoverenter",this.onHoverStart),this.addEventListener("hoverleave",this.onHoverEnd),this.addEventListener("panolens-dual-eye-effect",this.onDualEyeEffect),this.addEventListener("panolens-container",this.setContainer.bind(this)),this.addEventListener("dismiss",this.onDismiss),this.addEventListener("panolens-infospot-focus",this.setFocusMethod),G.load(T,R)}function l(g){g||console.warn("PANOLENS.Widget: No container specified"),t.EventDispatcher.call(this),this.DEFAULT_TRANSITION="all 0.27s ease",this.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),this.PREVENT_EVENT_HANDLER=function(T){T.preventDefault(),T.stopPropagation()},this.container=g,this.mask=this.activeSubMenu=this.activeMainItem=this.mainMenu=this.settingElement=this.videoElement=this.fullscreenElement=this.barElement=null}function u(g,T){t.Mesh.call(this,g,T),this.type="panorama",this.ImageQualityLow=1,this.ImageQualityFair=2,this.ImageQualityMedium=3,this.ImageQualityHigh=4,this.ImageQualitySuperHigh=5,this.animationDuration=1e3,this.defaultInfospotSize=350,this.container=void 0,this.loaded=!1,this.linkedSpots=[],this.isInfospotVisible=!1,this.linkingImageScale=this.linkingImageURL=void 0,this.material.side=t.BackSide,this.material.opacity=0,this.scale.x*=-1,this.renderOrder=-1,this.active=!1,this.infospotAnimation=new Y.Tween(this).to({},this.animationDuration/2),this.addEventListener("load",this.fadeIn.bind(this)),this.addEventListener("panolens-container",this.setContainer.bind(this)),this.addEventListener("click",this.onClick.bind(this)),this.setupTransitions()}function f(g,T,R){T=T||new t.SphereBufferGeometry(5e3,60,40),R=R||new t.MeshBasicMaterial({opacity:0,transparent:!0}),u.call(this,T,R),this.src=g,this.radius=5e3}function m(){var g=new t.BufferGeometry,T=new t.MeshBasicMaterial({color:0,opacity:0,transparent:!0});g.addAttribute("position",new t.BufferAttribute(new Float32Array,1)),u.call(this,g,T)}function v(g){g=g===void 0?[]:g;var T=Object.assign({},t.ShaderLib.cube),R=new t.BoxBufferGeometry(1e4,1e4,1e4);T=new t.ShaderMaterial({fragmentShader:T.fragmentShader,vertexShader:T.vertexShader,uniforms:T.uniforms,side:t.BackSide,transparent:!0}),u.call(this,R,T),this.images=g,this.edgeLength=1e4,this.material.uniforms.opacity.value=0}function w(){for(var g=[],T=0;6>T;T++)g.push(X.WhiteTile);v.call(this,g)}function x(g,T){T=T===void 0?{}:T;var R=new t.SphereBufferGeometry(5e3,60,40),S=new t.MeshBasicMaterial({opacity:0,transparent:!0});u.call(this,R,S),this.src=g,this.options={videoElement:document.createElement("video"),loop:!0,muted:!0,autoplay:!1,playsinline:!0,crossOrigin:"anonymous"},Object.assign(this.options,T),this.videoElement=this.options.videoElement,this.videoProgress=0,this.radius=5e3,this.addEventListener("leave",this.pauseVideo.bind(this)),this.addEventListener("enter-fade-start",this.resumeVideoProgress.bind(this)),this.addEventListener("video-toggle",this.toggleVideo.bind(this)),this.addEventListener("video-time",this.setVideoCurrentTime.bind(this))}function E(g){this._parameters=g=g===void 0?{}:g,this._panoId=this._zoom=null,this._panoClient=new google.maps.StreetViewService,this._total=this._count=0,this._canvas=[],this._ctx=[],this._hc=this._wc=0,this.result=null,this.rotation=0,this.copyright="",this.onPanoramaLoad=this.onSizeChange=null,this.levelsW=[1,2,4,7,13,26],this.levelsH=[1,1,2,4,7,13],this.widths=[416,832,1664,3328,6656,13312],this.heights=[416,416,832,1664,3328,6656],this.maxH=this.maxW=6656;var T;try{var R=document.createElement("canvas");(T=R.getContext("experimental-webgl"))||(T=R.getContext("webgl"))}catch{}this.maxW=Math.max(T.getParameter(T.MAX_TEXTURE_SIZE),this.maxW),this.maxH=Math.max(T.getParameter(T.MAX_TEXTURE_SIZE),this.maxH)}function A(g,T){f.call(this),this.panoId=g,this.gsvLoader=null,this.loadRequested=!1,this.setupGoogleMapAPI(T)}function I(g,T,R,S){R=R===void 0?1e4:R,S=S===void 0?.5:S,(g===void 0?"image":g)==="image"&&f.call(this,T,this.createGeometry(R,S),this.createMaterial(R)),this.size=R,this.ratio=S,this.EPS=1e-6,this.frameId=null,this.dragging=!1,this.userMouse=new t.Vector2,this.quatA=new t.Quaternion,this.quatB=new t.Quaternion,this.quatCur=new t.Quaternion,this.quatSlerp=new t.Quaternion,this.vectorX=new t.Vector3(1,0,0),this.vectorY=new t.Vector3(0,1,0),this.addEventListener("window-resize",this.onWindowResize)}function D(g,T,R){I.call(this,"image",g,T,R)}function O(g){var T=new t.SphereBufferGeometry(5e3,60,40),R=new t.MeshBasicMaterial({visible:!1});u.call(this,T,R),this.media=new i(g),this.radius=5e3,this.addEventListener("enter",this.start.bind(this)),this.addEventListener("leave",this.stop.bind(this)),this.addEventListener("panolens-container",this.onPanolensContainer.bind(this)),this.addEventListener("panolens-scene",this.onPanolensScene.bind(this))}function H(g,T){function R(ze){if(On=!1,ci=ui=0,W.enabled!==!1){if(ze.preventDefault(),ze.button===W.mouseButtons.ORBIT){if(W.noRotate===!0)return;mn=dn.ROTATE,se.set(ze.clientX,ze.clientY)}else if(ze.button===W.mouseButtons.ZOOM){if(W.noZoom===!0)return;mn=dn.DOLLY,Pt.set(ze.clientX,ze.clientY)}else if(ze.button===W.mouseButtons.PAN){if(W.noPan===!0)return;mn=dn.PAN,Ie.set(ze.clientX,ze.clientY)}mn!==dn.NONE&&(document.addEventListener("mousemove",S,!1),document.addEventListener("mouseup",N,!1),W.dispatchEvent(Fc)),W.update()}}function S(ze){if(W.enabled!==!1){ze.preventDefault();var Xt=W.domElement===document?W.domElement.body:W.domElement;if(mn===dn.ROTATE){if(W.noRotate===!0)return;we.set(ze.clientX,ze.clientY),Ee.subVectors(we,se),W.rotateLeft(2*Math.PI*Ee.x/Xt.clientWidth*W.rotateSpeed),W.rotateUp(2*Math.PI*Ee.y/Xt.clientHeight*W.rotateSpeed),se.copy(we),Zn&&(ci=ze.clientX-Zn.clientX,ui=ze.clientY-Zn.clientY),Zn=ze}else if(mn===dn.DOLLY){if(W.noZoom===!0)return;gn.set(ze.clientX,ze.clientY),Wt.subVectors(gn,Pt),0<Wt.y?W.dollyIn():0>Wt.y&&W.dollyOut(),Pt.copy(gn)}else if(mn===dn.PAN){if(W.noPan===!0)return;je.set(ze.clientX,ze.clientY),Ke.subVectors(je,Ie),W.pan(Ke.x,Ke.y),Ie.copy(je)}mn!==dn.NONE&&W.update()}}function N(){On=!0,Zn=void 0,W.enabled!==!1&&(document.removeEventListener("mousemove",S,!1),document.removeEventListener("mouseup",N,!1),W.dispatchEvent(Uc),mn=dn.NONE)}function $(ze){if(W.enabled!==!1&&W.noZoom!==!0&&mn===dn.NONE){ze.preventDefault(),ze.stopPropagation();var Xt=0;ze.wheelDelta!==void 0?Xt=ze.wheelDelta:ze.detail!==void 0&&(Xt=-ze.detail),0<Xt?(W.object.fov=W.object.fov<W.maxFov?W.object.fov+1:W.maxFov,W.object.updateProjectionMatrix()):0>Xt&&(W.object.fov=W.object.fov>W.minFov?W.object.fov-1:W.minFov,W.object.updateProjectionMatrix()),W.update(),W.dispatchEvent(Wo),W.dispatchEvent(Fc),W.dispatchEvent(Uc)}}function ce(ze){switch(ze.keyCode){case W.keys.UP:Gn=!1;break;case W.keys.BOTTOM:Ps=!1;break;case W.keys.LEFT:$a=!1;break;case W.keys.RIGHT:qa=!1}}function le(ze){if(W.enabled!==!1&&W.noKeys!==!0&&W.noRotate!==!0){switch(ze.keyCode){case W.keys.UP:Gn=!0;break;case W.keys.BOTTOM:Ps=!0;break;case W.keys.LEFT:$a=!0;break;case W.keys.RIGHT:qa=!0}(Gn||Ps||$a||qa)&&(On=!0,Gn&&(ui=-W.rotateSpeed*W.momentumKeydownFactor),Ps&&(ui=W.rotateSpeed*W.momentumKeydownFactor),$a&&(ci=-W.rotateSpeed*W.momentumKeydownFactor),qa&&(ci=W.rotateSpeed*W.momentumKeydownFactor))}}function ie(ze){if(On=!1,ci=ui=0,W.enabled!==!1){switch(ze.touches.length){case 1:if(W.noRotate===!0)return;mn=dn.TOUCH_ROTATE,se.set(ze.touches[0].pageX,ze.touches[0].pageY);break;case 2:if(W.noZoom===!0)return;mn=dn.TOUCH_DOLLY;var Xt=ze.touches[0].pageX-ze.touches[1].pageX;ze=ze.touches[0].pageY-ze.touches[1].pageY,Pt.set(0,Math.sqrt(Xt*Xt+ze*ze));break;case 3:if(W.noPan===!0)return;mn=dn.TOUCH_PAN,Ie.set(ze.touches[0].pageX,ze.touches[0].pageY);break;default:mn=dn.NONE}mn!==dn.NONE&&W.dispatchEvent(Fc)}}function Le(ze){if(W.enabled!==!1){ze.preventDefault(),ze.stopPropagation();var Xt=W.domElement===document?W.domElement.body:W.domElement;switch(ze.touches.length){case 1:if(W.noRotate===!0||mn!==dn.TOUCH_ROTATE)break;we.set(ze.touches[0].pageX,ze.touches[0].pageY),Ee.subVectors(we,se),W.rotateLeft(2*Math.PI*Ee.x/Xt.clientWidth*W.rotateSpeed),W.rotateUp(2*Math.PI*Ee.y/Xt.clientHeight*W.rotateSpeed),se.copy(we),Zn&&(ci=ze.touches[0].pageX-Zn.pageX,ui=ze.touches[0].pageY-Zn.pageY),Zn={pageX:ze.touches[0].pageX,pageY:ze.touches[0].pageY},W.update();break;case 2:if(W.noZoom===!0||mn!==dn.TOUCH_DOLLY)break;Xt=ze.touches[0].pageX-ze.touches[1].pageX,ze=ze.touches[0].pageY-ze.touches[1].pageY,gn.set(0,Math.sqrt(Xt*Xt+ze*ze)),Wt.subVectors(gn,Pt),0>Wt.y?(W.object.fov=W.object.fov<W.maxFov?W.object.fov+1:W.maxFov,W.object.updateProjectionMatrix()):0<Wt.y&&(W.object.fov=W.object.fov>W.minFov?W.object.fov-1:W.minFov,W.object.updateProjectionMatrix()),Pt.copy(gn),W.update(),W.dispatchEvent(Wo);break;case 3:if(W.noPan===!0||mn!==dn.TOUCH_PAN)break;je.set(ze.touches[0].pageX,ze.touches[0].pageY),Ke.subVectors(je,Ie),W.pan(Ke.x,Ke.y),Ie.copy(je),W.update();break;default:mn=dn.NONE}}}function me(){On=!0,Zn=void 0,W.enabled!==!1&&(W.dispatchEvent(Uc),mn=dn.NONE)}this.object=g,this.domElement=T!==void 0?T:document,this.frameId=null,this.enabled=!0,this.center=this.target=new t.Vector3,this.noZoom=!1,this.zoomSpeed=1,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.noRotate=!1,this.rotateSpeed=-.15,this.noPan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.momentumDampingFactor=.9,this.momentumScalingFactor=-.005,this.momentumKeydownFactor=20,this.minFov=30,this.maxFov=120,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.noKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:t.MOUSE.LEFT,ZOOM:t.MOUSE.MIDDLE,PAN:t.MOUSE.RIGHT};var W=this,se=new t.Vector2,we=new t.Vector2,Ee=new t.Vector2,Ie=new t.Vector2,je=new t.Vector2,Ke=new t.Vector2,it=new t.Vector3,Qe=new t.Vector3,Pt=new t.Vector2,gn=new t.Vector2,Wt=new t.Vector2,br=0,Pn=0,Ha=0,ja=0,Ga=1,Wa=new t.Vector3,Bc=new t.Vector3,Yi=new t.Quaternion,ci=0,ui=0,Zn,On=!1,Gn,Ps,$a,qa,dn={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},mn=dn.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom;var Sh=new t.Quaternion().setFromUnitVectors(g.up,new t.Vector3(0,1,0)),Gm=Sh.clone().inverse(),Wo={type:"change"},Fc={type:"start"},Uc={type:"end"};this.setLastQuaternion=function(ze){Yi.copy(ze),W.object.quaternion.copy(ze)},this.getLastPosition=function(){return Bc},this.rotateLeft=function(ze){ze===void 0&&(ze=2*Math.PI/60/60*W.autoRotateSpeed),ja-=ze},this.rotateUp=function(ze){ze===void 0&&(ze=2*Math.PI/60/60*W.autoRotateSpeed),Ha-=ze},this.panLeft=function(ze){var Xt=this.object.matrix.elements;it.set(Xt[0],Xt[1],Xt[2]),it.multiplyScalar(-ze),Wa.add(it)},this.panUp=function(ze){var Xt=this.object.matrix.elements;it.set(Xt[4],Xt[5],Xt[6]),it.multiplyScalar(ze),Wa.add(it)},this.pan=function(ze,Xt){var sr=W.domElement===document?W.domElement.body:W.domElement;if(W.object instanceof t.PerspectiveCamera){var zc=W.object.position.clone().sub(W.target).length();zc*=Math.tan(W.object.fov/2*Math.PI/180),W.panLeft(2*ze*zc/sr.clientHeight),W.panUp(2*Xt*zc/sr.clientHeight)}else W.object instanceof t.OrthographicCamera?(W.panLeft(ze*(W.object.right-W.object.left)/sr.clientWidth),W.panUp(Xt*(W.object.top-W.object.bottom)/sr.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.momentum=function(){On&&(1e-4>Math.abs(ci)&&1e-4>Math.abs(ui)?On=!1:(ui*=this.momentumDampingFactor,ci*=this.momentumDampingFactor,ja-=this.momentumScalingFactor*ci,Ha-=this.momentumScalingFactor*ui))},this.dollyIn=function(ze){ze===void 0&&(ze=Math.pow(.95,W.zoomSpeed)),W.object instanceof t.PerspectiveCamera?Ga/=ze:W.object instanceof t.OrthographicCamera?(W.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*ze)),W.object.updateProjectionMatrix(),W.dispatchEvent(Wo)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.dollyOut=function(ze){ze===void 0&&(ze=Math.pow(.95,W.zoomSpeed)),W.object instanceof t.PerspectiveCamera?Ga*=ze:W.object instanceof t.OrthographicCamera?(W.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/ze)),W.object.updateProjectionMatrix(),W.dispatchEvent(Wo)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.update=function(ze){var Xt=this.object.position;Qe.copy(Xt).sub(this.target),Qe.applyQuaternion(Sh),br=Math.atan2(Qe.x,Qe.z),Pn=Math.atan2(Math.sqrt(Qe.x*Qe.x+Qe.z*Qe.z),Qe.y),this.autoRotate&&mn===dn.NONE&&this.rotateLeft(2*Math.PI/60/60*W.autoRotateSpeed),this.momentum(),br+=ja,Pn+=Ha,br=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,br)),Pn=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,Pn)),Pn=Math.max(1e-7,Math.min(Math.PI-1e-7,Pn));var sr=Qe.length()*Ga;sr=Math.max(this.minDistance,Math.min(this.maxDistance,sr)),this.target.add(Wa),Qe.x=sr*Math.sin(Pn)*Math.sin(br),Qe.y=sr*Math.cos(Pn),Qe.z=sr*Math.sin(Pn)*Math.cos(br),Qe.applyQuaternion(Gm),Xt.copy(this.target).add(Qe),this.object.lookAt(this.target),Ha=ja=0,Ga=1,Wa.set(0,0,0),(1e-7<Bc.distanceToSquared(this.object.position)||1e-7<8*(1-Yi.dot(this.object.quaternion)))&&(ze!==!0&&this.dispatchEvent(Wo),Bc.copy(this.object.position),Yi.copy(this.object.quaternion))},this.reset=function(){mn=dn.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(Wo),this.update()},this.getPolarAngle=function(){return Pn},this.getAzimuthalAngle=function(){return br},this.dispose=function(){this.domElement.removeEventListener("mousedown",R),this.domElement.removeEventListener("mousewheel",$),this.domElement.removeEventListener("DOMMouseScroll",$),this.domElement.removeEventListener("touchstart",ie),this.domElement.removeEventListener("touchend",me),this.domElement.removeEventListener("touchmove",Le),window.removeEventListener("keyup",ce),window.removeEventListener("keydown",le)},this.domElement.addEventListener("mousedown",R,{passive:!1}),this.domElement.addEventListener("mousewheel",$,{passive:!1}),this.domElement.addEventListener("DOMMouseScroll",$,{passive:!1}),this.domElement.addEventListener("touchstart",ie,{passive:!1}),this.domElement.addEventListener("touchend",me,{passive:!1}),this.domElement.addEventListener("touchmove",Le,{passive:!1}),window.addEventListener("keyup",ce,{passive:!1}),window.addEventListener("keydown",le,{passive:!1}),this.update()}function V(g,T){var R=this,S={type:"change"},N=0,$=0,ce=0,le=0;this.camera=g,this.camera.rotation.reorder("YXZ"),this.domElement=T!==void 0?T:document,this.enabled=!0,this.deviceOrientation={},this.alphaOffsetAngle=this.alpha=this.screenOrientation=0;var ie=function(se){R.deviceOrientation=se},Le=function(){R.screenOrientation=window.orientation||0},me=function(se){se.preventDefault(),se.stopPropagation(),ce=se.touches[0].pageX,le=se.touches[0].pageY},W=function(se){se.preventDefault(),se.stopPropagation(),N+=t.Math.degToRad((se.touches[0].pageX-ce)/4),$+=t.Math.degToRad((le-se.touches[0].pageY)/4),R.updateAlphaOffsetAngle(N),ce=se.touches[0].pageX,le=se.touches[0].pageY};this.connect=function(){Le(),window.addEventListener("orientationchange",Le,{passive:!0}),window.addEventListener("deviceorientation",ie,{passive:!0}),window.addEventListener("deviceorientation",this.update.bind(this),{passive:!0}),R.domElement.addEventListener("touchstart",me,{passive:!1}),R.domElement.addEventListener("touchmove",W,{passive:!1}),R.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",Le,!1),window.removeEventListener("deviceorientation",ie,!1),window.removeEventListener("deviceorientation",this.update.bind(this),!1),R.domElement.removeEventListener("touchstart",me,!1),R.domElement.removeEventListener("touchmove",W,!1),R.enabled=!1},this.update=function(se){if(R.enabled!==!1){var we=R.deviceOrientation.alpha?t.Math.degToRad(R.deviceOrientation.alpha)+R.alphaOffsetAngle:0,Ee=R.deviceOrientation.beta?t.Math.degToRad(R.deviceOrientation.beta):0,Ie=R.deviceOrientation.gamma?t.Math.degToRad(R.deviceOrientation.gamma):0,je=R.screenOrientation?t.Math.degToRad(R.screenOrientation):0,Ke=R.camera.quaternion,it=new t.Vector3(0,0,1),Qe=new t.Euler,Pt=new t.Quaternion,gn=new t.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5)),Wt=new t.Quaternion,br=new t.Quaternion;if(R.screenOrientation==0){var Pn=new t.Vector3(1,0,0);Wt.setFromAxisAngle(Pn,-$)}else R.screenOrientation==180?(Pn=new t.Vector3(1,0,0),Wt.setFromAxisAngle(Pn,$)):R.screenOrientation==90?(Pn=new t.Vector3(0,1,0),Wt.setFromAxisAngle(Pn,$)):R.screenOrientation==-90&&(Pn=new t.Vector3(0,1,0),Wt.setFromAxisAngle(Pn,-$));gn.multiply(Wt),gn.multiply(br),Qe.set(Ee,we,-Ie,"YXZ"),Ke.setFromEuler(Qe),Ke.multiply(gn),Ke.multiply(Pt.setFromAxisAngle(it,-je)),R.alpha=we,se!==!0&&R.dispatchEvent(S)}},this.updateAlphaOffsetAngle=function(se){this.alphaOffsetAngle=se,this.update()},this.dispose=function(){this.disconnect()},this.connect()}function U(g){var T=new t.OrthographicCamera(-1,1,1,-1,0,1),R=new t.Scene,S=new t.StereoCamera;S.aspect=.5;var N=new t.WebGLRenderTarget(512,512,{minFilter:t.LinearFilter,magFilter:t.NearestFilter,format:t.RGBAFormat});N.scissorTest=!0,N.texture.generateMipmaps=!1;var $=new t.Vector2(.441,.156),ce=new t.PlaneBufferGeometry(1,1,10,20).removeAttribute("normal").toNonIndexed(),le=ce.attributes.position.array,ie=ce.attributes.uv.array;ce.attributes.position.count*=2,ce.attributes.uv.count*=2;var Le=new Float32Array(2*le.length);Le.set(le),Le.set(le,le.length);var me=new Float32Array(2*ie.length);me.set(ie),me.set(ie,ie.length),ie=new t.Vector2,le=le.length/3;for(var W=0,se=Le.length/3;W<se;W++){ie.x=Le[3*W],ie.y=Le[3*W+1];var we=ie.dot(ie);we=1.5+($.x+$.y*we)*we;var Ee=W<le?0:1;Le[3*W]=ie.x/we*1.5-.5+Ee,Le[3*W+1]=ie.y/we*3,me[2*W]=.5*(me[2*W]+Ee)}ce.attributes.position.array=Le,ce.attributes.uv.array=me,$=new t.MeshBasicMaterial({map:N.texture}),ce=new t.Mesh(ce,$),R.add(ce),this.setSize=function(Ie,je){g.setSize(Ie,je);var Ke=g.getPixelRatio();N.setSize(Ie*Ke,je*Ke)},this.render=function(Ie,je){Ie.updateMatrixWorld(),je.parent===null&&je.updateMatrixWorld(),S.update(je),je=N.width/2;var Ke=N.height;g.autoClear&&g.clear(),N.scissor.set(0,0,je,Ke),N.viewport.set(0,0,je,Ke),g.setRenderTarget(N),g.render(Ie,S.cameraL),g.clearDepth(),N.scissor.set(je,0,je,Ke),N.viewport.set(je,0,je,Ke),g.setRenderTarget(N),g.render(Ie,S.cameraR),g.clearDepth(),g.setRenderTarget(null),g.render(R,T)}}function ne(g){if(g=g||{},g.controlBar=g.controlBar!==void 0?g.controlBar:!0,g.controlButtons=g.controlButtons||["fullscreen","setting","video"],g.autoHideControlBar=g.autoHideControlBar!==void 0?g.autoHideControlBar:!1,g.autoHideInfospot=g.autoHideInfospot!==void 0?g.autoHideInfospot:!0,g.horizontalView=g.horizontalView!==void 0?g.horizontalView:!1,g.clickTolerance=g.clickTolerance||10,g.cameraFov=g.cameraFov||60,g.reverseDragging=g.reverseDragging||!1,g.enableReticle=g.enableReticle||!1,g.dwellTime=g.dwellTime||1500,g.autoReticleSelect=g.autoReticleSelect!==void 0?g.autoReticleSelect:!0,g.viewIndicator=g.viewIndicator!==void 0?g.viewIndicator:!1,g.indicatorSize=g.indicatorSize||30,g.output=g.output?g.output:"none",g.autoRotate=g.autoRotate||!1,g.autoRotateSpeed=g.autoRotateSpeed||2,g.autoRotateActivationDuration=g.autoRotateActivationDuration||5e3,this.options=g,g.container){var T=g.container;T._width=T.clientWidth,T._height=T.clientHeight}else T=document.createElement("div"),T.classList.add("panolens-container"),T.style.width="100%",T.style.height="100%",T._width=window.innerWidth,T._height=window.innerHeight,document.body.appendChild(T);this.container=T,this.camera=g.camera||new t.PerspectiveCamera(this.options.cameraFov,this.container.clientWidth/this.container.clientHeight,1,1e4),this.scene=g.scene||new t.Scene,this.renderer=g.renderer||new t.WebGLRenderer({alpha:!0,antialias:!1}),this.sceneReticle=new t.Scene,this.viewIndicatorSize=this.options.indicatorSize,this.reticle={},this.tempEnableReticle=this.options.enableReticle,this.mode=Z.NORMAL,this.pressObject=this.pressEntityObject=this.infospot=this.hoverObject=this.widget=this.panorama=null,this.raycaster=new t.Raycaster,this.raycasterPoint=new t.Vector2,this.userMouse=new t.Vector2,this.updateCallbacks=[],this.requestAnimationId=null,this.cameraFrustum=new t.Frustum,this.cameraViewProjectionMatrix=new t.Matrix4,this.outputDivElement=this.autoRotateRequestId=null,this.touchSupported="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,this.HANDLER_MOUSE_DOWN=this.onMouseDown.bind(this),this.HANDLER_MOUSE_UP=this.onMouseUp.bind(this),this.HANDLER_MOUSE_MOVE=this.onMouseMove.bind(this),this.HANDLER_WINDOW_RESIZE=this.onWindowResize.bind(this),this.HANDLER_KEY_DOWN=this.onKeyDown.bind(this),this.HANDLER_KEY_UP=this.onKeyUp.bind(this),this.HANDLER_TAP=this.onTap.bind(this,{clientX:this.container.clientWidth/2,clientY:this.container.clientHeight/2}),this.OUTPUT_INFOSPOT=!1,this.tweenLeftAnimation=new Y.Tween,this.tweenUpAnimation=new Y.Tween,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.renderer.setClearColor(0,0),this.renderer.autoClear=!1,this.renderer.domElement.classList.add("panolens-canvas"),this.renderer.domElement.style.display="block",this.container.style.backgroundColor="#000",this.container.appendChild(this.renderer.domElement),this.OrbitControls=new H(this.camera,this.container),this.OrbitControls.id="orbit",this.OrbitControls.minDistance=1,this.OrbitControls.noPan=!0,this.OrbitControls.autoRotate=this.options.autoRotate,this.OrbitControls.autoRotateSpeed=this.options.autoRotateSpeed,this.DeviceOrientationControls=new V(this.camera,this.container),this.DeviceOrientationControls.id="device-orientation",this.DeviceOrientationControls.enabled=!1,this.camera.position.z=1,this.options.passiveRendering&&console.warn("passiveRendering is now deprecated"),this.controls=[this.OrbitControls,this.DeviceOrientationControls],this.control=this.OrbitControls,this.CardboardEffect=new U(this.renderer),this.CardboardEffect.setSize(this.container.clientWidth,this.container.clientHeight),this.StereoEffect=new de(this.renderer),this.StereoEffect.setSize(this.container.clientWidth,this.container.clientHeight),this.effect=this.CardboardEffect,this.addReticle(),this.options.horizontalView&&(this.OrbitControls.minPolarAngle=Math.PI/2,this.OrbitControls.maxPolarAngle=Math.PI/2),this.options.controlBar!==!1&&this.addDefaultControlBar(this.options.controlButtons),this.options.viewIndicator&&this.addViewIndicator(),this.options.reverseDragging&&this.reverseDraggingDirection(),this.options.enableReticle?this.enableReticleControl():this.registerMouseAndTouchEvents(),this.options.output==="overlay"&&this.addOutputElement(),this.registerEventListeners(),this.animate.call(this)}var re="^0.105.2".replace(/[^0-9.]/g,""),ee={ORBIT:0,DEVICEORIENTATION:1},Z={UNKNOWN:0,NORMAL:1,CARDBOARD:2,STEREO:3},X={Info:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAABAAAAAQADq8/hgAAADBklEQVR42u2bP08UQRiHnzFaSYCI/xoksdBIqGwIiYWRUBISExpCQ0ej38FWOmlIKKhoMPEbaCxsrrHiYrQgOSlQEaICrT+LHSPZzNzt3s3c3Hn7lHvLzvv82L2dm30XKioqKgYY062BJF0HpoA7wARwBbhsPz4DjoEG8AnYNcZ8Sx1Op8IXJM1KWpdUV3nq9m9nJV1I7VNGfEzSM0mNNqR9NOwxx1L7NRMflbQm6SSgeJ4TO8Zoat+8/LKkg4jieQ4kLaf2RtKwpJ0uiufZkTScSn5S0l5C+b/sSZrstvyMpKPU5uc4kjTTjkvpeYCkaeA1/+7hvcIZMGuMqUULQNIU8Aa4ltrWwyHwyBizGzwASSPAe+B2assW7AH3jTE/i+xcZoa12Qfy2Bo3i+5cKABl99zF1GYlWFTBeULLS0DZrOsDcDNggTXgc27bLWA64BhfgHvGmB8dHUXZ1DM0S45xliKMs9bKr+klIOkqsBrwv9JtVq1DewEAT4Ch1BYdMGQdygeg7Df4SmqDAKyoyXpCszPgITCeuvoAjFuX0gE8jljUdv7bCtiOOJ7XpdUZ8L/gdXHOA5QtYH5NXXVgbrgWWn1nwFTqaiPgdPIFcDd1tRFwOl307DwRuZgXwLvctgfA04hjOp18AcReZ6sZY16e3yDpUuQxnU6+S2AkcjEpcDr1zxOXSPgCKLSa0mc4nXwB/EpdbQScTr4AGqmrjYDTyRfAx9TVRsDp5Aug8LJyH+F0cgZg58z11BUHpO5ruGh2G3ybuuqAeF2aBfAqddUB8bq0OgP2U1cegH3aOQOMMb+BrdTVB2DLupQLwLIOnKY26IBT6+ClaQDGmO/ARmqLDtiwDn7HVkcY+EdjNoTlCI+tYhO2iUppm6HKslPUq2qQKHpUe8AFsjaUXuUQWCgqXyoAG8IuME/WkNRrnAHzZfqDSgdgQ6gBc2Td3b3CMTBXtkOsIzTIjZLnQhjcVtlcEIPZLJ0LoVvt8s/Va+3yuSAG84UJRxB98cpM9dJURUVFxSDzBxKde4Lk3/h2AAAAAElFTkSuQmCC",Arrow:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAABAAAAAQADq8/hgAAADPklEQVR42u2bMUscQRiG30/SRaJEI1ZKUiRErNIELRUbQYSAnX8hpVUgkDYp0wgWVjYW+QcJaQzYpLojJIXhtDDEKBpj65ti58ixmdmb2ZvZ7+T2AUHudmfmeXf2bnb3O6CmpqZmgJGqOiI5AWAWwEMA0wDuArht3r4CcAagBeAbgIaI/NQOp1fhIZKLJN+SbDKcptl3keSQtk+I+BjJVyRbJaRdtEybY9p+ReKjJN+QvIwonufS9DGq7ZuXXyd5nFA8zzHJdW1vkLxDcrdC8Ty7JO9oyc+QPFCUb3NAcqZq+TmSp9rmHZySnCvjErwOIPkUwHv8+w7vF64ALIrIfrIASM4C+ADgnratgxMACyLSiB4AyREAnwE80LbswgGAJyJy4bNxyApr6wbIw4xxy3djrwCYfeeuaZsFsEbPdULXU4DZqusLgMkEA21P05EEbf8A8FhEzos28pkBLxLKL5s/r/M1kEkz9vKQHGeatf05yfmOfubNa7G5JDle5NhtBjwHMBz5yFwAWBaRT+0XzP8pZsKwcQiH2fX8Ycojb+kzxUw4ZJn7CSQXqpRPHMKCq7+iZJ71Mvdy/DftXSQ6HcJdSDaqPPKW/mPOBO+lcbvzCU35RCFM2PpwnQKzZQfdgfe0dxH5dLA6uQJ4pC2fIASrkyuA6X6QjxyC1ckVQNn7bNHlI4ZgdXIFUObiJJl8pBCsTjGfuIwA2Cv4FN7xbYjkjqsRAHuIePXoCiDF1Zk2VidXAL+1R5sAq5MrgJb2aBNgdXIF8FV7tAmwOrkCCFs73wysTtYATHFCU3vEEWm6Ci6KvgY/ao86Ik6XogDeaY86Ik6XbjPgSHvkEThCwQy45XpDRK5JbgN4GWkgUyR9H65MRQxgW0SunZ5FezK7pfwd8e8MV8UfAPdF5Jdrg8JrAbPjprZFD2wWyQP6j8ZSEufRmGlgQ9umBBvd5IOgbjFUKLu+XnWBhG+rpsFVZGUo/coJgFVf+aAATAgNACvICpL6jSsAKyH1QcEBmBD2ASwhq+7uF84ALIVWiPUEB7lQsiOEwS2VzQUxmMXSuRCqKpd/zX4rl88FMZg/mLAEcSN+MlP/aKqmpqZmkPkL0hSjwOpNKxwAAAAASUVORK5CYII=",FullscreenEnter:"data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz4KICAgIDxwYXRoIGQ9Ik03IDE0SDV2NWg1di0ySDd2LTN6bS0yLTRoMlY3aDNWNUg1djV6bTEyIDdoLTN2Mmg1di01aC0ydjN6TTE0IDV2MmgzdjNoMlY1aC01eiIvPgo8L3N2Zz4=",FullscreenLeave:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggc3R5bGU9ImZpbGw6I2ZmZiIgZD0iTTE0LDE0SDE5VjE2SDE2VjE5SDE0VjE0TTUsMTRIMTBWMTlIOFYxNkg1VjE0TTgsNUgxMFYxMEg1VjhIOFY1TTE5LDhWMTBIMTRWNUgxNlY4SDE5WiIgLz48L3N2Zz4=",VideoPlay:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggc3R5bGU9ImZpbGw6I2ZmZiIgZD0iTTgsNS4xNFYxOS4xNEwxOSwxMi4xNEw4LDUuMTRaIiAvPjwvc3ZnPg==",VideoPause:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggc3R5bGU9ImZpbGw6I2ZmZiIgZD0iTTE0LDE5LjE0SDE4VjUuMTRIMTRNNiwxOS4xNEgxMFY1LjE0SDZWMTkuMTRaIiAvPjwvc3ZnPg==",WhiteTile:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIABAMAAAAGVsnJAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB1WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOkNvbXByZXNzaW9uPjE8L3RpZmY6Q29tcHJlc3Npb24+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KAtiABQAAACRQTFRFAAAAAAAABgYGBwcHHh4eKysrx8fHy8vLzMzM7OzsAAAABgYG+q7SZgAAAAp0Uk5TAP7+/v7+/v7+/iJx/a8AAAOwSURBVHja7d0hbsNAEAVQo6SFI6XEcALDcgNLvUBvEBQVhpkWVYWlhSsVFS7t5QIshRt695lEASZP+8c7a1kzDL1fz+/zyuvzp6FbvoddrL6uDd1yGZ5eXldeb18N3fIx7A+58prmhm65DfvDcd0952lu6JabFbD/zVprZj1lzcys+fj9z8xTZtbT8rv8yWlu6BYAIgAAAAAAAAAAAABAM6QXEAEAAAAAAAAAgJ2gnaAIiIA3Q2qAGgAAAAAAAAAAAAAAAAAAAAAAAAAAQJsADkVFAAAAAAA8Bj0GRUAEREAEREAEREAEREAEAAAAAAAAAAB2gnaCIiACPplRA9QANUAERAAAAEVQERQBERCBVlfAcZ3aeZobusUKMGBhV6KUElHGKBERJR6/fxExRkQZl9/lT8S1oVsuhqyYMmPKjCkzvfcCpsxohrwY0Q06EAEAAAAAAAAAAACgGdILiAAAAAAAAAAAwE7QTlAERMCbITVADQAAAAAAAAAAAAAAAAAAAAAAAAAAwKmwQ1ERAAAAAACPQY9BERABERABERABERABERABAAAAAAAAAICdoJ2gCIiAT2bUADVADRABEQAAQBFUBEVABERgEyvAlJm+V4ApM6bMmDJjyowpM6bMdN0LmDKjGfJiRDfoQAQAAAAAAAAAAACAZkgvIAIAAAAAAAAAADtBO0EREAFvhtQANQAAAAAAAAAAAAAAAAAAAAAAAAAAAKfCDkVFAAAAAAA8Bj0GRUAEREAEREAEREAEREAEAAAAAAAAAAB2gnaCIiACPplRA9QANUAERAAAAEVQERQBERCBTawAU2b6XgGmzJgyY8qMKTOmzJgy03UvYMqMZsiLEd2gAxEAAAAAAAAAAAAAmiG9gAgAAAAAAAAAAOwE7QRFQAS8GVID1AAAAAAAAAAAAAAAAAAAAAAAAAAAAJwKOxQVAQAAAADwGPQYFAEREAEREAEREAEREAERAAAAAAAAAADYCdoJioAI+GRGDVAD1AAREAEAABRBRVAEREAENrECTJnpewWYMmPKjCkzpsyYMmPKTNe9gCkzmiEvRnSDDkQAAAAAAAAAAAAAaIb0AiIAAAAAAAAAALATtBMUARHwZkgNUAMAAAAAAAAAAAAAAAAAAAAAAAAAAHAq7FBUBAAAAADAY9BjUAREQAREQAREQAREQAREAAAAAAAAAABgJ2gnKAIi4JMZNUANUANEQAQAAFAEFUEREAER2MQKMGWm7xVgyowpM50PWen9ugNGXz1XaocAFgAAAABJRU5ErkJggg==",Setting:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAABAAAAAQADq8/hgAAADn0lEQVR42u2bzUsVURjGnyO6CPzAMnTjppAo3LTwH1CqTfaxbeOiRS37A0wXtROFVi1aRBs3LWohSIGbQAQXViBGRhG0UIRKUCpK7q/FnOB2uc6cOXNmRnGe3eW+H8/7zLln3vNxpQoVKlQ4wjBFJAFOSRqX1O7osivpvjHmU1nChBZglvSYLYJbS0EanCvIJzWK+gnsyH34/8OuMaYjb265jwCgz6N4SWq3vodbAEmnS/KtBDgoAgyU5BteAOAkMAPcBroc7PskDWfgN+wyDwBdltMMcDI3tYBnde/pHeARMNTErgd4APzweP834oeN1dMkz5DlsFNn/yyv4kdiSK4At4AO4CqwGaDwRmza2B0210qM7YhrXU59ANAq6bWkwQTTn5KO5fIE0uVYlXTeGLOXFMx1DrjlULwKKN41x6DlnIjEEQCckPRe0okCiguJr5LOGGO+xhm5jICJQ1i8LOeJJKPYEQAMKvrtt5ZdjSf2FM0Fq/sZJI2A6UNcvCz36TiDfUcAcE1SPu/U6Mm8k/TFfu6XdFb5iX3dGPM8lQfwNod3+TowBnQ3yddtv1vPIe+b1JIBiwEJ1IAJ208k5W21trWA+V/5CHAcmAtU/A2P/DcCiTAHHE8tgCVhgLvAXgYCk17Jo/yTGfLuWe7Zd72AC8CWB4n3OAz7mLytNkZabAEXMhfeQKYfWEpJZCxA3rGUOZeA/qDF15FpAz47EvlNk9neI2e3jeWCz0BbmvipNkSMMX8kuSZYM8Z8zyqAjbHmaN5mOeYjgIXrU93MWrxHrNQjrqiDkQMLHwG+OdqF3NN3jeXKzU8AoF1SzdH8XKhJUO7HZDXLMbwAwICkJUULFxe0SbqSVQAbw3Xi7Ze0ZLmGAzAKbHs0JGU1QtvAaIjCW4B7ZOvJy2qFa5a730RPtBiaz0CgnkiZi6F5fBZDVMvho7EhcuS3xJJ2hV9IupgTqaLw0hhzab8vq23xOG/r+LDsKjLgYVzxUnU0ltwK2wDezUyJmEwqXgp/PL4rvxthaeCSI+zxuA10J8ZkWdJNSb2SLkvayKHwDRu71+ZajrG941J8agALDQ3GU/a/IvMkYCPzmCbtLNEVmacNtgs5iP9fYVNEV1Q6Hez7yNZSL+J2SarTcpqiyV2iUkG0IvPFvbz5FbEn+KEk3wMjwMeSfCsBXFBdly9CAPk9ydyffpECuB5tZfVJjaKWueOSfinln6YK4lahQoUKRxd/AcRPGTcQCAUQAAAAAElFTkSuQmCC",ChevronRight:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTguNTksMTYuNThMMTMuMTcsMTJMOC41OSw3LjQxTDEwLDZMMTYsMTJMMTAsMThMOC41OSwxNi41OFoiIC8+PC9zdmc+",Check:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTIxLDdMOSwxOUwzLjUsMTMuNUw0LjkxLDEyLjA5TDksMTYuMTdMMTkuNTksNS41OUwyMSw3WiIgLz48L3N2Zz4=",ViewIndicator:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBpZD0idmlldy1pbmRpY2F0b3IiIGhlaWdodD0iMzAiIHdpZHRoPSIzMCIgdmlld0JveD0iLTIuNSAtMSAzMCAzMCI+Cgk8c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLW1pdGVybGltaXQ6MTA7ZmlsbDpub25lO30uc3Qxe3N0cm9rZS13aWR0aDo2O3N0cm9rZS1taXRlcmxpbWl0OjEwO30KCTwvc3R5bGU+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNIDEyLjUgMCBBIDEyLjUgMTIuNSAwIDAgMCAtMTIuNSAwIEEgMTIuNSAxMi41IDAgMCAwIDEyLjUgMCIgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsMSwxMywxNS41KSI+PC9wYXRoPgoJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0gMTMgMCBMIDEwIDIgTCAxNiAyIFoiPjwvcGF0aD4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNIDIgMCBBIDIgMiAwIDAgMCAtMiAwIEEgMiAyIDAgMCAwIDIgMCIgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsMSwxMywxNS41KSI+PC9wYXRoPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGlkPSJpbmRpY2F0b3IiIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLDEsMTMsMTUuNSkiPjwvcGF0aD4KCTwvZz4KPC9zdmc+"},B={load:function(g,T,R,S){T=T===void 0?function(){}:T,R=R===void 0?function(){}:R,S=S===void 0?function(){}:S,t.Cache.enabled=!0;var N,$,ce,le;for(le in X)X.hasOwnProperty(le)&&g===X[le]&&(N=le);var ie=t.Cache.get(N||g);if(ie!==void 0)return T&&setTimeout(function(){R({loaded:1,total:1}),T(ie)},0),ie;var Le=window.URL||window.webkitURL,me=document.createElementNS("http://www.w3.org/1999/xhtml","img");t.Cache.add(N||g,me);var W=function(){Le.revokeObjectURL(me.src),T(me)};if(g.indexOf("data:")===0)return me.addEventListener("load",W,!1),me.src=g,me;me.crossOrigin=this.crossOrigin!==void 0?this.crossOrigin:"",N=new window.XMLHttpRequest,N.open("GET",g,!0),N.responseType="arraybuffer",N.addEventListener("error",S),N.addEventListener("progress",function(se){if(se){var we=se.loaded,Ee=se.total;se.lengthComputable&&R({loaded:we,total:Ee})}}),N.addEventListener("loadend",function(se){se&&($=new Uint8Array(se.currentTarget.response),ce=new window.Blob([$]),me.addEventListener("load",W,!1),me.src=Le.createObjectURL(ce))}),N.send(null)}},G={load:function(g,T,R,S){T=T===void 0?function(){}:T;var N=new t.Texture;return B.load(g,function($){N.image=$,$=0<g.search(/\.(jpg|jpeg)$/)||g.search(/^data:image\/jpeg/)===0,N.format=$?t.RGBFormat:t.RGBAFormat,N.needsUpdate=!0,T(N)},R,S),N}},q={load:function(g,T,R,S){T=T===void 0?function(){}:T,R=R===void 0?function(){}:R;var N,$=new t.CubeTexture([]),ce=0,le={},ie={};return g.map(function(Le,me){B.load(Le,function(W){$.images[me]=W,ce++,ce===6&&($.needsUpdate=!0,T($))},function(W){le[me]={loaded:W.loaded,total:W.total},ie.loaded=0,N=ie.total=0;for(var se in le)N++,ie.loaded+=le[se].loaded,ie.total+=le[se].total;6>N&&(ie.total=ie.total/N*6),R(ie)},S)}),$}};i.prototype=Object.assign(Object.create(t.EventDispatcher.prototype),{setContainer:function(g){this.container=g},setScene:function(g){this.scene=g},enumerateDevices:function(){var g=this.devices,T=new Promise(function(R){R(g)});return 0<g.length?T:window.navigator.mediaDevices.enumerateDevices()},switchNextVideoDevice:function(){var g=this.stop.bind(this),T=this.start.bind(this),R=this.setVideDeviceIndex.bind(this),S=this.videoDeviceIndex;this.getDevices("video").then(function(N){g(),S++,S>=N.length?(R(0),S--):R(S),T(N[S])})},getDevices:function(g){g=g===void 0?"video":g;var T=this.devices;return this.enumerateDevices().then(function(R){return R.map(function(S){return T.includes(S)||T.push(S),S})}).then(function(R){var S=new RegExp(g,"i");return R.filter(function(N){return S.test(N.kind)})})},getUserMedia:function(g){var T=this.setMediaStream.bind(this),R=this.playVideo.bind(this);return window.navigator.mediaDevices.getUserMedia(g).then(T).then(R).catch(function(S){console.warn("PANOLENS.Media: "+S)})},setVideDeviceIndex:function(g){this.videoDeviceIndex=g},start:function(g){var T=this.constraints,R=this.getUserMedia.bind(this);return this.element=this.createVideoElement(),this.getDevices().then(function(S){if(!S||S.length===0)throw Error("no video device found");return T.video.deviceId=(g||S[0]).deviceId,R(T)})},stop:function(){var g=this.stream;g&&g.active&&(g.getTracks()[0].stop(),window.removeEventListener("resize",this.onWindowResize.bind(this)),this.stream=this.element=null)},setMediaStream:function(g){this.stream=g,this.element.srcObject=g,this.scene&&(this.scene.background=this.createVideoTexture()),window.addEventListener("resize",this.onWindowResize.bind(this))},playVideo:function(){var g=this.element;g&&(g.play(),this.dispatchEvent({type:"play"}))},pauseVideo:function(){var g=this.element;g&&(g.pause(),this.dispatchEvent({type:"pause"}))},createVideoTexture:function(){var g=this.element,T=new t.VideoTexture(g);return T.generateMipmaps=!1,T.minFilter=t.LinearFilter,T.magFilter=t.LinearFilter,T.format=t.RGBFormat,T.center.set(.5,.5),g.addEventListener("canplay",this.onWindowResize.bind(this)),T},createVideoElement:function(){var g=this.dispatchEvent.bind(this),T=document.createElement("video");return T.setAttribute("autoplay",""),T.setAttribute("muted",""),T.setAttribute("playsinline",""),T.style.position="absolute",T.style.top="0",T.style.left="0",T.style.width="100%",T.style.height="100%",T.style.objectPosition="center",T.style.objectFit="cover",T.style.display=this.scene?"none":"",T.addEventListener("canplay",function(){return g({type:"canplay"})}),T},onWindowResize:function(){if(this.element&&this.element.videoWidth&&this.element.videoHeight&&this.scene){var g=this.container,T=g.clientWidth;g=g.clientHeight;var R=this.scene.background,S=this.element;S=S.videoHeight/S.videoWidth*(this.container?T/g:1)*this.ratioScalar,T>g?R.repeat.set(S,1):R.repeat.set(1,1/S)}}}),r.prototype=Object.assign(Object.create(t.Sprite.prototype),{constructor:r,setColor:function(g){this.material.color.copy(g instanceof t.Color?g:new t.Color(g))},createCanvasTexture:function(g){return g=new t.CanvasTexture(g),g.minFilter=t.LinearFilter,g.magFilter=t.LinearFilter,g.generateMipmaps=!1,g},createCanvas:function(){var g=document.createElement("canvas"),T=g.getContext("2d"),R=this.dpr;return g.width=32*R,g.height=32*R,T.scale(R,R),T.shadowBlur=5,T.shadowColor="rgba(200,200,200,0.9)",{canvas:g,context:T}},updateCanvasArcByProgress:function(g){var T=this.context,R=this.canvasWidth,S=this.canvasHeight,N=this.material,$=this.dpr,ce=g*Math.PI*2,le=this.color.getStyle(),ie=.5*R/$;$=.5*S/$,T.clearRect(0,0,R,S),T.beginPath(),g===0?(T.arc(ie,$,R/16,0,2*Math.PI),T.fillStyle=le,T.fill()):(T.arc(ie,$,R/4-3,-Math.PI/2,-Math.PI/2+ce),T.strokeStyle=le,T.lineWidth=3,T.stroke()),T.closePath(),N.map.needsUpdate=!0},ripple:function(){var g=this,T=this.context,R=this.canvasWidth,S=this.canvasHeight,N=this.material,$=this.rippleDuration,ce=performance.now(),le=this.color,ie=this.dpr,Le=.5*R/ie,me=.5*S/ie,W=function(){var se=window.requestAnimationFrame(W),we=(performance.now()-ce)/$,Ee=0<1-we?1-we:0,Ie=we*R*.5/ie;T.clearRect(0,0,R,S),T.beginPath(),T.arc(Le,me,Ie,0,2*Math.PI),T.fillStyle="rgba("+255*le.r+", "+255*le.g+", "+255*le.b+", "+Ee+")",T.fill(),T.closePath(),1<=we&&(window.cancelAnimationFrame(se),g.updateCanvasArcByProgress(0),g.dispatchEvent({type:"reticle-ripple-end"})),N.map.needsUpdate=!0};this.dispatchEvent({type:"reticle-ripple-start"}),W()},show:function(){this.visible=!0},hide:function(){this.visible=!1},start:function(g){this.autoSelect&&(this.dispatchEvent({type:"reticle-start"}),this.startTimestamp=performance.now(),this.callback=g,this.update())},end:function(){this.startTimestamp&&(window.cancelAnimationFrame(this.timerId),this.updateCanvasArcByProgress(0),this.startTimestamp=this.timerId=this.callback=null,this.dispatchEvent({type:"reticle-end"}))},update:function(){this.timerId=window.requestAnimationFrame(this.update.bind(this));var g=(performance.now()-this.startTimestamp)/this.dwellTime;this.updateCanvasArcByProgress(g),this.dispatchEvent({type:"reticle-update",progress:g}),1<=g&&(window.cancelAnimationFrame(this.timerId),this.callback&&this.callback(),this.end(),this.ripple())}});var Y=function(g,T){return T={exports:{}},g(T,T.exports),T.exports}(function(g,T){T=function(){this._tweens={},this._tweensAddedDuringUpdate={}},T.prototype={getAll:function(){return Object.keys(this._tweens).map(function(S){return this._tweens[S]}.bind(this))},removeAll:function(){this._tweens={}},add:function(S){this._tweens[S.getId()]=S,this._tweensAddedDuringUpdate[S.getId()]=S},remove:function(S){delete this._tweens[S.getId()],delete this._tweensAddedDuringUpdate[S.getId()]},update:function(S,N){var $=Object.keys(this._tweens);if($.length===0)return!1;for(S=S!==void 0?S:R.now();0<$.length;){this._tweensAddedDuringUpdate={};for(var ce=0;ce<$.length;ce++){var le=this._tweens[$[ce]];le&&le.update(S)===!1&&(le._isPlaying=!1,N||delete this._tweens[$[ce]])}$=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var R=new T;R.Group=T,R._nextId=0,R.nextId=function(){return R._nextId++},R.now=typeof self>"u"&&typeof process<"u"&&process.hrtime?function(){var S=process.hrtime();return 1e3*S[0]+S[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?self.performance.now.bind(self.performance):Date.now!==void 0?Date.now:function(){return new Date().getTime()},R.Tween=function(S,N){this._object=S,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._reversed=this._isPlaying=this._yoyo=!1,this._delayTime=0,this._startTime=null,this._easingFunction=R.Easing.Linear.None,this._interpolationFunction=R.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onStopCallback=this._onCompleteCallback=this._onRepeatCallback=this._onUpdateCallback=null,this._group=N||R,this._id=R.nextId()},R.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(S,N){return this._valuesEnd=Object.create(S),N!==void 0&&(this._duration=N),this},duration:function(S){return this._duration=S,this},start:function(S){this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=S!==void 0?typeof S=="string"?R.now()+parseFloat(S):S:R.now(),this._startTime+=this._delayTime;for(var N in this._valuesEnd){if(this._valuesEnd[N]instanceof Array){if(this._valuesEnd[N].length===0)continue;this._valuesEnd[N]=[this._object[N]].concat(this._valuesEnd[N])}this._object[N]!==void 0&&(this._valuesStart[N]=this._object[N],!(this._valuesStart[N]instanceof Array)&&(this._valuesStart[N]*=1),this._valuesStartRepeat[N]=this._valuesStart[N]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,this._onStopCallback!==null&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},stopChainedTweens:function(){for(var S=0,N=this._chainedTweens.length;S<N;S++)this._chainedTweens[S].stop()},group:function(S){return this._group=S,this},delay:function(S){return this._delayTime=S,this},repeat:function(S){return this._repeat=S,this},repeatDelay:function(S){return this._repeatDelayTime=S,this},yoyo:function(S){return this._yoyo=S,this},easing:function(S){return this._easingFunction=S,this},interpolation:function(S){return this._interpolationFunction=S,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(S){return this._onStartCallback=S,this},onUpdate:function(S){return this._onUpdateCallback=S,this},onRepeat:function(S){return this._onRepeatCallback=S,this},onComplete:function(S){return this._onCompleteCallback=S,this},onStop:function(S){return this._onStopCallback=S,this},update:function(S){var N;if(S<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback!==null&&this._onStartCallback(this._object),this._onStartCallbackFired=!0);var $=(S-this._startTime)/this._duration;$=this._duration===0||1<$?1:$;var ce=this._easingFunction($);for(N in this._valuesEnd)if(this._valuesStart[N]!==void 0){var le=this._valuesStart[N]||0,ie=this._valuesEnd[N];ie instanceof Array?this._object[N]=this._interpolationFunction(ie,ce):(typeof ie=="string"&&(ie=ie.charAt(0)==="+"||ie.charAt(0)==="-"?le+parseFloat(ie):parseFloat(ie)),typeof ie=="number"&&(this._object[N]=le+(ie-le)*ce))}if(this._onUpdateCallback!==null&&this._onUpdateCallback(this._object,$),$===1)if(0<this._repeat){isFinite(this._repeat)&&this._repeat--;for(N in this._valuesStartRepeat)typeof this._valuesEnd[N]=="string"&&(this._valuesStartRepeat[N]+=parseFloat(this._valuesEnd[N])),this._yoyo&&($=this._valuesStartRepeat[N],this._valuesStartRepeat[N]=this._valuesEnd[N],this._valuesEnd[N]=$),this._valuesStart[N]=this._valuesStartRepeat[N];this._yoyo&&(this._reversed=!this._reversed),this._startTime=this._repeatDelayTime!==void 0?S+this._repeatDelayTime:S+this._delayTime,this._onRepeatCallback!==null&&this._onRepeatCallback(this._object)}else{for(this._onCompleteCallback!==null&&this._onCompleteCallback(this._object),S=0,N=this._chainedTweens.length;S<N;S++)this._chainedTweens[S].start(this._startTime+this._duration);return!1}return!0}},R.Easing={Linear:{None:function(S){return S}},Quadratic:{In:function(S){return S*S},Out:function(S){return S*(2-S)},InOut:function(S){return 1>(S*=2)?.5*S*S:-.5*(--S*(S-2)-1)}},Cubic:{In:function(S){return S*S*S},Out:function(S){return--S*S*S+1},InOut:function(S){return 1>(S*=2)?.5*S*S*S:.5*((S-=2)*S*S+2)}},Quartic:{In:function(S){return S*S*S*S},Out:function(S){return 1- --S*S*S*S},InOut:function(S){return 1>(S*=2)?.5*S*S*S*S:-.5*((S-=2)*S*S*S-2)}},Quintic:{In:function(S){return S*S*S*S*S},Out:function(S){return--S*S*S*S*S+1},InOut:function(S){return 1>(S*=2)?.5*S*S*S*S*S:.5*((S-=2)*S*S*S*S+2)}},Sinusoidal:{In:function(S){return 1-Math.cos(S*Math.PI/2)},Out:function(S){return Math.sin(S*Math.PI/2)},InOut:function(S){return .5*(1-Math.cos(Math.PI*S))}},Exponential:{In:function(S){return S===0?0:Math.pow(1024,S-1)},Out:function(S){return S===1?1:1-Math.pow(2,-10*S)},InOut:function(S){return S===0?0:S===1?1:1>(S*=2)?.5*Math.pow(1024,S-1):.5*(-Math.pow(2,-10*(S-1))+2)}},Circular:{In:function(S){return 1-Math.sqrt(1-S*S)},Out:function(S){return Math.sqrt(1- --S*S)},InOut:function(S){return 1>(S*=2)?-.5*(Math.sqrt(1-S*S)-1):.5*(Math.sqrt(1-(S-=2)*S)+1)}},Elastic:{In:function(S){return S===0?0:S===1?1:-Math.pow(2,10*(S-1))*Math.sin(5*(S-1.1)*Math.PI)},Out:function(S){return S===0?0:S===1?1:Math.pow(2,-10*S)*Math.sin(5*(S-.1)*Math.PI)+1},InOut:function(S){return S===0?0:S===1?1:(S*=2,1>S?-.5*Math.pow(2,10*(S-1))*Math.sin(5*(S-1.1)*Math.PI):.5*Math.pow(2,-10*(S-1))*Math.sin(5*(S-1.1)*Math.PI)+1)}},Back:{In:function(S){return S*S*(2.70158*S-1.70158)},Out:function(S){return--S*S*(2.70158*S+1.70158)+1},InOut:function(S){return 1>(S*=2)?.5*S*S*(3.5949095*S-2.5949095):.5*((S-=2)*S*(3.5949095*S+2.5949095)+2)}},Bounce:{In:function(S){return 1-R.Easing.Bounce.Out(1-S)},Out:function(S){return S<1/2.75?7.5625*S*S:S<2/2.75?7.5625*(S-=1.5/2.75)*S+.75:S<2.5/2.75?7.5625*(S-=2.25/2.75)*S+.9375:7.5625*(S-=2.625/2.75)*S+.984375},InOut:function(S){return .5>S?.5*R.Easing.Bounce.In(2*S):.5*R.Easing.Bounce.Out(2*S-1)+.5}}},R.Interpolation={Linear:function(S,N){var $=S.length-1,ce=$*N,le=Math.floor(ce),ie=R.Interpolation.Utils.Linear;return 0>N?ie(S[0],S[1],ce):1<N?ie(S[$],S[$-1],$-ce):ie(S[le],S[le+1>$?$:le+1],ce-le)},Bezier:function(S,N){for(var $=0,ce=S.length-1,le=Math.pow,ie=R.Interpolation.Utils.Bernstein,Le=0;Le<=ce;Le++)$+=le(1-N,ce-Le)*le(N,Le)*S[Le]*ie(ce,Le);return $},CatmullRom:function(S,N){var $=S.length-1,ce=$*N,le=Math.floor(ce),ie=R.Interpolation.Utils.CatmullRom;return S[0]===S[$]?(0>N&&(le=Math.floor(ce=$*(1+N))),ie(S[(le-1+$)%$],S[le],S[(le+1)%$],S[(le+2)%$],ce-le)):0>N?S[0]-(ie(S[0],S[0],S[1],S[1],-ce)-S[0]):1<N?S[$]-(ie(S[$],S[$],S[$-1],S[$-1],ce-$)-S[$]):ie(S[le?le-1:0],S[le],S[$<le+1?$:le+1],S[$<le+2?$:le+2],ce-le)},Utils:{Linear:function(S,N,$){return(N-S)*$+S},Bernstein:function(S,N){var $=R.Interpolation.Utils.Factorial;return $(S)/$(N)/$(S-N)},Factorial:function(){var S=[1];return function(N){var $=1;if(S[N])return S[N];for(var ce=N;1<ce;ce--)$*=ce;return S[N]=$}}(),CatmullRom:function(S,N,$,ce,le){S=.5*($-S),ce=.5*(ce-N);var ie=le*le;return(2*N-2*$+S+ce)*le*ie+(-3*N+3*$-2*S-ce)*ie+S*le+N}}},g.exports=R});s.prototype=Object.assign(Object.create(t.Sprite.prototype),{constructor:s,setContainer:function(g){if(g instanceof HTMLElement)var T=g;else g&&g.container&&(T=g.container);T&&this.element&&T.appendChild(this.element),this.container=T},getContainer:function(){return this.container},onClick:function(g){this.element&&this.getContainer()&&(this.onHoverStart(g),this.lockHoverElement())},onDismiss:function(){this.element&&(this.unlockHoverElement(),this.onHoverEnd())},onHover:function(){},onHoverStart:function(g){if(this.getContainer()){var T=this.cursorStyle||(this.mode===Z.NORMAL?"pointer":"default"),R=this.scaleDownAnimation,S=this.scaleUpAnimation,N=this.element;this.isHovering=!0,this.container.style.cursor=T,this.animated&&(R.stop(),S.start()),N&&0<=g.mouseEvent.clientX&&0<=g.mouseEvent.clientY&&(g=N.left,T=N.right,R=N.style,this.mode===Z.CARDBOARD||this.mode===Z.STEREO?(R.display="none",g.style.display="block",T.style.display="block",N._width=g.clientWidth,N._height=g.clientHeight):(R.display="block",g&&(g.style.display="none"),T&&(T.style.display="none"),N._width=N.clientWidth,N._height=N.clientHeight))}},onHoverEnd:function(){if(this.getContainer()){var g=this.scaleDownAnimation,T=this.scaleUpAnimation,R=this.element;this.isHovering=!1,this.container.style.cursor="default",this.animated&&(T.stop(),g.start()),R&&!this.element.locked&&(g=R.left,T=R.right,R.style.display="none",g&&(g.style.display="none"),T&&(T.style.display="none"),this.unlockHoverElement())}},onDualEyeEffect:function(g){if(this.getContainer()){this.mode=g.mode,g=this.element;var T=this.container.clientWidth/2,R=this.container.clientHeight/2;g&&(g.left||g.right||(g.left=g.cloneNode(!0),g.right=g.cloneNode(!0)),this.mode===Z.CARDBOARD||this.mode===Z.STEREO?(g.left.style.display=g.style.display,g.right.style.display=g.style.display,g.style.display="none"):(g.style.display=g.left.style.display,g.left.style.display="none",g.right.style.display="none"),this.translateElement(T,R),this.container.appendChild(g.left),this.container.appendChild(g.right))}},translateElement:function(g,T){if(this.element._width&&this.element._height&&this.getContainer()){var R=this.container,S=this.element,N=S._width/2,$=S._height/2,ce=S.verticalDelta!==void 0?S.verticalDelta:40,le=g-N,ie=T-$-ce;this.mode!==Z.CARDBOARD&&this.mode!==Z.STEREO||!S.left||!S.right||g===R.clientWidth/2&&T===R.clientHeight/2?this.setElementStyle("transform",S,"translate("+le+"px, "+ie+"px)"):(le=R.clientWidth/4-N+(g-R.clientWidth/2),ie=R.clientHeight/2-$-ce+(T-R.clientHeight/2),this.setElementStyle("transform",S.left,"translate("+le+"px, "+ie+"px)"),le+=R.clientWidth/2,this.setElementStyle("transform",S.right,"translate("+le+"px, "+ie+"px)"))}},setElementStyle:function(g,T,R){T=T.style,g==="transform"&&(T.webkitTransform=T.msTransform=T.transform=R)},setText:function(g){this.element&&(this.element.textContent=g)},setCursorHoverStyle:function(g){this.cursorStyle=g},addHoverText:function(g,T){T=T===void 0?40:T,this.element||(this.element=document.createElement("div"),this.element.style.display="none",this.element.style.color="#fff",this.element.style.top=0,this.element.style.maxWidth="50%",this.element.style.maxHeight="50%",this.element.style.textShadow="0 0 3px #000000",this.element.style.fontFamily='"Trebuchet MS", Helvetica, sans-serif',this.element.style.position="absolute",this.element.classList.add("panolens-infospot"),this.element.verticalDelta=T),this.setText(g)},addHoverElement:function(g,T){T=T===void 0?40:T,this.element||(this.element=g.cloneNode(!0),this.element.style.display="none",this.element.style.top=0,this.element.style.position="absolute",this.element.classList.add("panolens-infospot"),this.element.verticalDelta=T)},removeHoverElement:function(){this.element&&(this.element.left&&(this.container.removeChild(this.element.left),this.element.left=null),this.element.right&&(this.container.removeChild(this.element.right),this.element.right=null),this.container.removeChild(this.element),this.element=null)},lockHoverElement:function(){this.element&&(this.element.locked=!0)},unlockHoverElement:function(){this.element&&(this.element.locked=!1)},enableRaycast:function(g){this.raycast=g===void 0||g?this.originalRaycast:function(){}},show:function(g){g=g===void 0?0:g;var T=this.hideAnimation,R=this.showAnimation,S=this.material;this.animated?(T.stop(),R.delay(g).start()):(this.enableRaycast(!0),S.opacity=1)},hide:function(g){g=g===void 0?0:g;var T=this.hideAnimation,R=this.showAnimation,S=this.material;this.animated?(R.stop(),T.delay(g).start()):(this.enableRaycast(!1),S.opacity=0)},setFocusMethod:function(g){g&&(this.HANDLER_FOCUS=g.method)},focus:function(g,T){this.HANDLER_FOCUS&&(this.HANDLER_FOCUS(this.position,g,T),this.onDismiss())},dispose:function(){var g=this.geometry,T=this.material,R=T.map;this.removeHoverElement(),this.parent&&this.parent.remove(this),R&&(R.dispose(),T.map=null),g&&(g.dispose(),this.geometry=null),T&&(T.dispose(),this.material=null)}}),l.prototype=Object.assign(Object.create(t.EventDispatcher.prototype),{constructor:l,addControlBar:function(){if(this.container){var g=this,T,R,S=document.createElement("div");S.style.width="100%",S.style.height="44px",S.style.float="left",S.style.transform=S.style.webkitTransform=S.style.msTransform="translateY(-100%)",S.style.background="-webkit-linear-gradient(bottom, rgba(0,0,0,0.2), rgba(0,0,0,0))",S.style.background="-moz-linear-gradient(bottom, rgba(0,0,0,0.2), rgba(0,0,0,0))",S.style.background="-o-linear-gradient(bottom, rgba(0,0,0,0.2), rgba(0,0,0,0))",S.style.background="-ms-linear-gradient(bottom, rgba(0,0,0,0.2), rgba(0,0,0,0))",S.style.background="linear-gradient(bottom, rgba(0,0,0,0.2), rgba(0,0,0,0))",S.style.transition=this.DEFAULT_TRANSITION,S.style.pointerEvents="none",S.isHidden=!1,S.toggle=function(){S.isHidden=!S.isHidden,T=S.isHidden?"translateY(0)":"translateY(-100%)",R=S.isHidden?0:1,S.style.transform=S.style.webkitTransform=S.style.msTransform=T,S.style.opacity=R};var N=this.createDefaultMenu();this.mainMenu=this.createMainMenu(N),S.appendChild(this.mainMenu),this.mask=N=this.createMask(),this.container.appendChild(N),S.dispose=function(){g.fullscreenElement&&(S.removeChild(g.fullscreenElement),g.fullscreenElement.dispose(),g.fullscreenElement=null),g.settingElement&&(S.removeChild(g.settingElement),g.settingElement.dispose(),g.settingElement=null),g.videoElement&&(S.removeChild(g.videoElement),g.videoElement.dispose(),g.videoElement=null)},this.container.appendChild(S),this.mask.addEventListener("mousemove",this.PREVENT_EVENT_HANDLER,!0),this.mask.addEventListener("mouseup",this.PREVENT_EVENT_HANDLER,!0),this.mask.addEventListener("mousedown",this.PREVENT_EVENT_HANDLER,!0),this.mask.addEventListener(g.TOUCH_ENABLED?"touchend":"click",function($){$.preventDefault(),$.stopPropagation(),g.mask.hide(),g.settingElement.deactivate()},!1),this.addEventListener("control-bar-toggle",S.toggle),this.barElement=S}else console.warn("Widget container not set")},createDefaultMenu:function(){var g=this,T=function(R,S){return function(){g.dispatchEvent({type:"panolens-viewer-handler",method:R,data:S})}};return[{title:"Control",subMenu:[{title:this.TOUCH_ENABLED?"Touch":"Mouse",handler:T("enableControl",ee.ORBIT)},{title:"Sensor",handler:T("enableControl",ee.DEVICEORIENTATION)}]},{title:"Mode",subMenu:[{title:"Normal",handler:T("disableEffect")},{title:"Cardboard",handler:T("enableEffect",Z.CARDBOARD)},{title:"Stereoscopic",handler:T("enableEffect",Z.STEREO)}]}]},addControlButton:function(g){switch(g){case"fullscreen":this.fullscreenElement=g=this.createFullscreenButton();break;case"setting":this.settingElement=g=this.createSettingButton();break;case"video":this.videoElement=g=this.createVideoControl();break;default:return}g&&this.barElement.appendChild(g)},createMask:function(){var g=document.createElement("div");return g.style.position="absolute",g.style.top=0,g.style.left=0,g.style.width="100%",g.style.height="100%",g.style.background="transparent",g.style.display="none",g.show=function(){this.style.display="block"},g.hide=function(){this.style.display="none"},g},createSettingButton:function(){var g=this,T=this.createCustomItem({style:{backgroundImage:'url("'+X.Setting+'")',webkitTransition:this.DEFAULT_TRANSITION,transition:this.DEFAULT_TRANSITION},onTap:function(R){R.preventDefault(),R.stopPropagation(),g.mainMenu.toggle(),this.activated?this.deactivate():this.activate()}});return T.activate=function(){this.style.transform="rotate3d(0,0,1,90deg)",this.activated=!0,g.mask.show()},T.deactivate=function(){this.style.transform="rotate3d(0,0,0,0)",this.activated=!1,g.mask.hide(),g.mainMenu&&g.mainMenu.visible&&g.mainMenu.hide(),g.activeSubMenu&&g.activeSubMenu.visible&&g.activeSubMenu.hide(),g.mainMenu&&g.mainMenu._width&&(g.mainMenu.changeSize(g.mainMenu._width),g.mainMenu.unslideAll())},T.activated=!1,T},createFullscreenButton:function(){function g(){S&&(R=!R,$.style.backgroundImage=R?'url("'+X.FullscreenLeave+'")':'url("'+X.FullscreenEnter+'")'),T.dispatchEvent({type:"panolens-viewer-handler",method:"onWindowResize"}),S=!0}var T=this,R=!1,S=!0,N=this.container;if(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled){document.addEventListener("fullscreenchange",g,!1),document.addEventListener("webkitfullscreenchange",g,!1),document.addEventListener("mozfullscreenchange",g,!1),document.addEventListener("MSFullscreenChange",g,!1);var $=this.createCustomItem({style:{backgroundImage:'url("'+X.FullscreenEnter+'")'},onTap:function(le){le.preventDefault(),le.stopPropagation(),S=!1,R?(document.exitFullscreen&&document.exitFullscreen(),document.msExitFullscreen&&document.msExitFullscreen(),document.mozCancelFullScreen&&document.mozCancelFullScreen(),document.webkitExitFullscreen&&document.webkitExitFullscreen(),R=!1):(N.requestFullscreen&&N.requestFullscreen(),N.msRequestFullscreen&&N.msRequestFullscreen(),N.mozRequestFullScreen&&N.mozRequestFullScreen(),N.webkitRequestFullscreen&&N.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT),R=!0),this.style.backgroundImage=R?'url("'+X.FullscreenLeave+'")':'url("'+X.FullscreenEnter+'")'}});if(!document.querySelector("panolens-style-addon")){var ce=document.createElement("style");ce.id="panolens-style-addon",ce.innerHTML=":-webkit-full-screen { width: 100% !important; height: 100% !important }",document.body.appendChild(ce)}return $}},createVideoControl:function(){var g=document.createElement("span");return g.style.display="none",g.show=function(){g.style.display=""},g.hide=function(){g.style.display="none",g.controlButton.paused=!0,g.controlButton.update()},g.controlButton=this.createVideoControlButton(),g.seekBar=this.createVideoControlSeekbar(),g.appendChild(g.controlButton),g.appendChild(g.seekBar),g.dispose=function(){g.removeChild(g.controlButton),g.removeChild(g.seekBar),g.controlButton.dispose(),g.controlButton=null,g.seekBar.dispose(),g.seekBar=null},this.addEventListener("video-control-show",g.show),this.addEventListener("video-control-hide",g.hide),g},createVideoControlButton:function(){var g=this,T=this.createCustomItem({style:{float:"left",backgroundImage:'url("'+X.VideoPlay+'")'},onTap:function(R){R.preventDefault(),R.stopPropagation(),g.dispatchEvent({type:"panolens-viewer-handler",method:"toggleVideoPlay",data:!this.paused}),this.paused=!this.paused,T.update()}});return T.paused=!0,T.update=function(R){this.paused=R!==void 0?R:this.paused,this.style.backgroundImage='url("'+(this.paused?X.VideoPlay:X.VideoPause)+'")'},T},createVideoControlSeekbar:function(){function g(se){se.stopPropagation(),$=!0,ce=se.clientX||se.changedTouches&&se.changedTouches[0].clientX,le=parseInt(Le.style.width)/100,N.container.addEventListener("mousemove",T,{passive:!0}),N.container.addEventListener("mouseup",R,{passive:!0}),N.container.addEventListener("touchmove",T,{passive:!0}),N.container.addEventListener("touchend",R,{passive:!0})}function T(se){$&&(ie=((se.clientX||se.changedTouches&&se.changedTouches[0].clientX)-ce)/W.clientWidth,ie=le+ie,ie=1<ie?1:0>ie?0:ie,W.setProgress(ie),N.dispatchEvent({type:"panolens-viewer-handler",method:"setVideoCurrentTime",data:ie}))}function R(se){se.stopPropagation(),$=!1,S()}function S(){N.container.removeEventListener("mousemove",T,!1),N.container.removeEventListener("mouseup",R,!1),N.container.removeEventListener("touchmove",T,!1),N.container.removeEventListener("touchend",R,!1)}var N=this,$=!1,ce,le,ie,Le=document.createElement("div");Le.style.width="0%",Le.style.height="100%",Le.style.backgroundColor="#fff";var me=document.createElement("div");me.style.float="right",me.style.width="14px",me.style.height="14px",me.style.transform="translate(7px, -5px)",me.style.borderRadius="50%",me.style.backgroundColor="#ddd",me.addEventListener("mousedown",g,{passive:!0}),me.addEventListener("touchstart",g,{passive:!0}),Le.appendChild(me);var W=this.createCustomItem({style:{float:"left",width:"30%",height:"4px",marginTop:"20px",backgroundColor:"rgba(188,188,188,0.8)"},onTap:function(se){if(se.preventDefault(),se.stopPropagation(),se.target!==me){var we=se.changedTouches&&0<se.changedTouches.length?(se.changedTouches[0].pageX-se.target.getBoundingClientRect().left)/this.clientWidth:se.offsetX/this.clientWidth;N.dispatchEvent({type:"panolens-viewer-handler",method:"setVideoCurrentTime",data:we}),W.setProgress(se.offsetX/this.clientWidth)}},onDispose:function(){S(),me=Le=null}});return W.appendChild(Le),W.setProgress=function(se){Le.style.width=100*se+"%"},this.addEventListener("video-update",function(se){W.setProgress(se.percentage)}),W.progressElement=Le,W.progressElementControl=me,W},createMenuItem:function(g){var T=this,R=document.createElement("a");return R.textContent=g,R.style.display="block",R.style.padding="10px",R.style.textDecoration="none",R.style.cursor="pointer",R.style.pointerEvents="auto",R.style.transition=this.DEFAULT_TRANSITION,R.slide=function(S){this.style.transform="translateX("+(S?"":"-")+"100%)"},R.unslide=function(){this.style.transform="translateX(0)"},R.setIcon=function(S){this.icon&&(this.icon.style.backgroundImage="url("+S+")")},R.setSelectionTitle=function(S){this.selection&&(this.selection.textContent=S)},R.addSelection=function(S){var N=document.createElement("span");return N.style.fontSize="13px",N.style.fontWeight="300",N.style.float="right",this.selection=N,this.setSelectionTitle(S),this.appendChild(N),this},R.addIcon=function(S,N,$){S=S===void 0?X.ChevronRight:S,N=N===void 0?!1:N,$=$===void 0?!1:$;var ce=document.createElement("span");return ce.style.float=N?"left":"right",ce.style.width="17px",ce.style.height="17px",ce.style["margin"+(N?"Right":"Left")]="12px",ce.style.backgroundSize="cover",$&&(ce.style.transform="rotateZ(180deg)"),this.icon=ce,this.setIcon(S),this.appendChild(ce),this},R.addSubMenu=function(S,N){return this.subMenu=T.createSubMenu(S,N),this},R.addEventListener("mouseenter",function(){this.style.backgroundColor="#e0e0e0"},!1),R.addEventListener("mouseleave",function(){this.style.backgroundColor="#fafafa"},!1),R},createMenuItemHeader:function(g){return g=this.createMenuItem(g),g.style.borderBottom="1px solid #333",g.style.paddingBottom="15px",g},createMainMenu:function(g){function T(ce){ce.preventDefault(),ce.stopPropagation();var le=R.mainMenu,ie=this.subMenu;le.hide(),le.slideAll(),le.parentElement.appendChild(ie),R.activeMainItem=this,R.activeSubMenu=ie,window.requestAnimationFrame(function(){le.changeSize(ie.clientWidth),ie.show(),ie.unslideAll()})}var R=this,S=this.createMenu();S._width=200,S.changeSize(S._width);for(var N=0;N<g.length;N++){var $=S.addItem(g[N].title);$.style.paddingLeft="20px",$.addIcon().addEventListener(R.TOUCH_ENABLED?"touchend":"click",T,!1),g[N].subMenu&&0<g[N].subMenu.length&&$.addSelection(g[N].subMenu[0].title).addSubMenu(g[N].title,g[N].subMenu)}return S},createSubMenu:function(g,T){function R(le){le.preventDefault(),le.stopPropagation(),N=S.mainMenu,N.changeSize(N._width),N.unslideAll(),N.show(),$.slideAll(!0),$.hide(),this.type!=="header"&&($.setActiveItem(this),S.activeMainItem.setSelectionTitle(this.textContent),this.handler&&this.handler())}var S=this,N,$=this.createMenu();for($.items=T,$.activeItem=null,$.addHeader(g).addIcon(void 0,!0,!0).addEventListener(S.TOUCH_ENABLED?"touchend":"click",R,!1),g=0;g<T.length;g++){var ce=$.addItem(T[g].title);ce.style.fontWeight=300,ce.handler=T[g].handler,ce.addIcon(" ",!0),ce.addEventListener(S.TOUCH_ENABLED?"touchend":"click",R,!1),$.activeItem||$.setActiveItem(ce)}return $.slideAll(!0),$},createMenu:function(){var g=this,T=document.createElement("span"),R=T.style;return R.padding="5px 0",R.position="fixed",R.bottom="100%",R.right="14px",R.backgroundColor="#fafafa",R.fontFamily="Helvetica Neue",R.fontSize="14px",R.visibility="hidden",R.opacity=0,R.boxShadow="0 0 12pt rgba(0,0,0,0.25)",R.borderRadius="2px",R.overflow="hidden",R.willChange="width, height, opacity",R.pointerEvents="auto",R.transition=this.DEFAULT_TRANSITION,T.visible=!1,T.changeSize=function(S,N){S&&(this.style.width=S+"px"),N&&(this.style.height=N+"px")},T.show=function(){this.style.opacity=1,this.style.visibility="visible",this.visible=!0},T.hide=function(){this.style.opacity=0,this.style.visibility="hidden",this.visible=!1},T.toggle=function(){this.visible?this.hide():this.show()},T.slideAll=function(S){for(var N=0;N<T.children.length;N++)T.children[N].slide&&T.children[N].slide(S)},T.unslideAll=function(){for(var S=0;S<T.children.length;S++)T.children[S].unslide&&T.children[S].unslide()},T.addHeader=function(S){return S=g.createMenuItemHeader(S),S.type="header",this.appendChild(S),S},T.addItem=function(S){return S=g.createMenuItem(S),S.type="item",this.appendChild(S),S},T.setActiveItem=function(S){this.activeItem&&this.activeItem.setIcon(" "),S.setIcon(X.Check),this.activeItem=S},T.addEventListener("mousemove",this.PREVENT_EVENT_HANDLER,!0),T.addEventListener("mouseup",this.PREVENT_EVENT_HANDLER,!0),T.addEventListener("mousedown",this.PREVENT_EVENT_HANDLER,!0),T},createCustomItem:function(g){g=g===void 0?{}:g;var T=this,R=g.element||document.createElement("span"),S=g.onDispose;return R.style.cursor="pointer",R.style.float="right",R.style.width="44px",R.style.height="100%",R.style.backgroundSize="60%",R.style.backgroundRepeat="no-repeat",R.style.backgroundPosition="center",R.style.webkitUserSelect=R.style.MozUserSelect=R.style.userSelect="none",R.style.position="relative",R.style.pointerEvents="auto",R.addEventListener(T.TOUCH_ENABLED?"touchstart":"mouseenter",function(){R.style.filter=R.style.webkitFilter="drop-shadow(0 0 5px rgba(255,255,255,1))"},{passive:!0}),R.addEventListener(T.TOUCH_ENABLED?"touchend":"mouseleave",function(){R.style.filter=R.style.webkitFilter=""},{passive:!0}),this.mergeStyleOptions(R,g.style),g.onTap&&R.addEventListener(T.TOUCH_ENABLED?"touchend":"click",g.onTap,!1),R.dispose=function(){R.removeEventListener(T.TOUCH_ENABLED?"touchend":"click",g.onTap,!1),S&&g.onDispose()},R},mergeStyleOptions:function(g,T){T=T===void 0?{}:T;for(var R in T)T.hasOwnProperty(R)&&(g.style[R]=T[R]);return g},dispose:function(){this.barElement&&(this.container.removeChild(this.barElement),this.barElement.dispose(),this.barElement=null)}}),u.prototype=Object.assign(Object.create(t.Mesh.prototype),{constructor:u,add:function(g){var T;if(1<arguments.length){for(T=0;T<arguments.length;T++)this.add(arguments[T]);return this}if(g instanceof s){if(T=g,g.dispatchEvent){var R=this.container;R&&g.dispatchEvent({type:"panolens-container",container:R}),g.dispatchEvent({type:"panolens-infospot-focus",method:function(S,N,$){this.dispatchEvent({type:"panolens-viewer-handler",method:"tweenControlCenter",data:[S,N,$]})}.bind(this)})}}else T=new t.Object3D,T.scale.x=-1,T.scalePlaceHolder=!0,T.add(g);t.Object3D.prototype.add.call(this,T)},load:function(){this.onLoad()},onClick:function(g){g.intersects&&g.intersects.length===0&&this.traverse(function(T){T.dispatchEvent({type:"dismiss"})})},setContainer:function(g){if(g instanceof HTMLElement)var T=g;else g&&g.container&&(T=g.container);T&&(this.children.forEach(function(R){R instanceof s&&R.dispatchEvent&&R.dispatchEvent({type:"panolens-container",container:T})}),this.container=T)},onLoad:function(){this.loaded=!0,this.dispatchEvent({type:"load"})},onProgress:function(g){this.dispatchEvent({type:"progress",progress:g})},onError:function(){this.dispatchEvent({type:"error"})},getZoomLevel:function(){return 800>=window.innerWidth?this.ImageQualityFair:800<window.innerWidth&&1280>=window.innerWidth?this.ImageQualityMedium:1280<window.innerWidth&&1920>=window.innerWidth?this.ImageQualityHigh:1920<window.innerWidth?this.ImageQualitySuperHigh:this.ImageQualityLow},updateTexture:function(g){this.material.map=g,this.material.needsUpdate=!0},toggleInfospotVisibility:function(g,T){T=T!==void 0?T:0;var R=g!==void 0?g:!this.isInfospotVisible;this.traverse(function(S){S instanceof s&&(R?S.show(T):S.hide(T))}),this.isInfospotVisible=R,this.infospotAnimation.onComplete(function(){this.dispatchEvent({type:"infospot-animation-complete",visible:R})}.bind(this)).delay(T).start()},setLinkingImage:function(g,T){this.linkingImageURL=g,this.linkingImageScale=T},link:function(g,T,R,S){this.visible=!0,T?(R=R!==void 0?R:g.linkingImageScale!==void 0?g.linkingImageScale:300,S=S||(g.linkingImageURL?g.linkingImageURL:X.Arrow),S=new s(R,S),S.position.copy(T),S.toPanorama=g,S.addEventListener("click",function(){this.dispatchEvent({type:"panolens-viewer-handler",method:"setPanorama",data:g})}.bind(this)),this.linkedSpots.push(S),this.add(S),this.visible=!1):console.warn("Please specify infospot position for linking")},reset:function(){this.children.length=0},setupTransitions:function(){this.fadeInAnimation=new Y.Tween(this.material).easing(Y.Easing.Quartic.Out).onStart(function(){this.visible=!0,this.dispatchEvent({type:"enter-fade-start"})}.bind(this)),this.fadeOutAnimation=new Y.Tween(this.material).easing(Y.Easing.Quartic.Out).onComplete(function(){this.visible=!1,this.dispatchEvent({type:"leave-complete"})}.bind(this)),this.enterTransition=new Y.Tween(this).easing(Y.Easing.Quartic.Out).onComplete(function(){this.dispatchEvent({type:"enter-complete"})}.bind(this)).start(),this.leaveTransition=new Y.Tween(this).easing(Y.Easing.Quartic.Out)},onFadeAnimationUpdate:function(){var g=this.material.opacity,T=this.material.uniforms;T&&T.opacity&&(T.opacity.value=g)},fadeIn:function(g){g=0<=g?g:this.animationDuration,this.fadeOutAnimation.stop(),this.fadeInAnimation.to({opacity:1},g).onUpdate(this.onFadeAnimationUpdate.bind(this)).onComplete(function(){this.toggleInfospotVisibility(!0,g/2),this.dispatchEvent({type:"enter-fade-complete"})}.bind(this)).start()},fadeOut:function(g){g=0<=g?g:this.animationDuration,this.fadeInAnimation.stop(),this.fadeOutAnimation.to({opacity:0},g).onUpdate(this.onFadeAnimationUpdate.bind(this)).start()},onEnter:function(){var g=this.animationDuration;this.leaveTransition.stop(),this.enterTransition.to({},g).onStart(function(){this.dispatchEvent({type:"enter-start"}),this.loaded?this.fadeIn(g):this.load()}.bind(this)).start(),this.dispatchEvent({type:"enter"}),this.children.forEach(function(T){T.dispatchEvent({type:"panorama-enter"})}),this.active=!0},onLeave:function(){var g=this.animationDuration;this.enterTransition.stop(),this.leaveTransition.to({},g).onStart(function(){this.dispatchEvent({type:"leave-start"}),this.fadeOut(g),this.toggleInfospotVisibility(!1)}.bind(this)).start(),this.dispatchEvent({type:"leave"}),this.children.forEach(function(T){T.dispatchEvent({type:"panorama-leave"})}),this.active=!1},dispose:function(){function g(T){for(var R=T.geometry,S=T.material,N=T.children.length-1;0<=N;N--)g(T.children[N]),T.remove(T.children[N]);T instanceof s&&T.dispose(),R&&(R.dispose(),T.geometry=null),S&&(S.dispose(),T.material=null)}this.infospotAnimation.stop(),this.fadeInAnimation.stop(),this.fadeOutAnimation.stop(),this.enterTransition.stop(),this.leaveTransition.stop(),this.dispatchEvent({type:"panolens-viewer-handler",method:"onPanoramaDispose",data:this}),g(this),this.parent&&this.parent.remove(this)}}),f.prototype=Object.assign(Object.create(u.prototype),{constructor:f,load:function(g){g=g||this.src,g?typeof g=="string"?G.load(g,this.onLoad.bind(this),this.onProgress.bind(this),this.onError.bind(this)):g instanceof HTMLImageElement&&this.onLoad(new t.Texture(g)):console.warn("Image source undefined")},onLoad:function(g){g.minFilter=g.magFilter=t.LinearFilter,g.needsUpdate=!0,this.updateTexture(g),window.requestAnimationFrame(u.prototype.onLoad.bind(this))},reset:function(){u.prototype.reset.call(this)},dispose:function(){var g=this.material.map;t.Cache.remove(this.src),g&&g.dispose(),u.prototype.dispose.call(this)}}),m.prototype=Object.assign(Object.create(u.prototype),{constructor:m}),v.prototype=Object.assign(Object.create(u.prototype),{constructor:v,load:function(){q.load(this.images,this.onLoad.bind(this),this.onProgress.bind(this),this.onError.bind(this))},onLoad:function(g){this.material.uniforms.tCube.value=g,u.prototype.onLoad.call(this)},dispose:function(){var g=this.material.uniforms.tCube.value;this.images.forEach(function(T){t.Cache.remove(T)}),g instanceof t.CubeTexture&&g.dispose(),u.prototype.dispose.call(this)}}),w.prototype=Object.assign(Object.create(v.prototype),{constructor:w}),x.prototype=Object.assign(Object.create(u.prototype),{constructor:x,isMobile:function(){var g=!1,T=window.navigator.userAgent||window.navigator.vendor||window.opera;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(T)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(T.substr(0,4)))&&(g=!0),g},load:function(){var g=this.options,T=g.muted,R=g.loop,S=g.autoplay,N=g.playsinline;g=g.crossOrigin;var $=this.videoElement,ce=this.material,le=this.onProgress.bind(this),ie=this.onLoad.bind(this);$.loop=R,$.autoplay=S,$.playsinline=N,$.crossOrigin=g,$.muted=T,N&&($.setAttribute("playsinline",""),$.setAttribute("webkit-playsinline","")),N=function(){this.setVideoTexture($),S&&this.dispatchEvent({type:"panolens-viewer-handler",method:"updateVideoPlayButton",data:!1}),this.isMobile()&&($.pause(),S&&T?this.dispatchEvent({type:"panolens-viewer-handler",method:"updateVideoPlayButton",data:!1}):this.dispatchEvent({type:"panolens-viewer-handler",method:"updateVideoPlayButton",data:!0})),window.requestAnimationFrame(function(){ce.map.needsUpdate=!0,le({loaded:1,total:1}),ie()})},2<$.readyState?N.call(this):($.querySelectorAll("source").length===0&&(g=document.createElement("source"),g.src=this.src,$.appendChild(g)),$.load()),$.addEventListener("loadeddata",N.bind(this)),$.addEventListener("timeupdate",function(){this.videoProgress=0<=$.duration?$.currentTime/$.duration:0,this.dispatchEvent({type:"panolens-viewer-handler",method:"onVideoUpdate",data:this.videoProgress})}.bind(this)),$.addEventListener("ended",function(){R||(this.resetVideo(),this.dispatchEvent({type:"panolens-viewer-handler",method:"updateVideoPlayButton",data:!0}))}.bind(this),!1)},setVideoTexture:function(g){g&&(g=new t.VideoTexture(g),g.minFilter=t.LinearFilter,g.magFilter=t.LinearFilter,g.format=t.RGBFormat,this.updateTexture(g))},reset:function(){this.videoElement=void 0,u.prototype.reset.call(this)},isVideoPaused:function(){return this.videoElement.paused},toggleVideo:function(){var g=this.videoElement;g&&g[g.paused?"play":"pause"]()},setVideoCurrentTime:function(g){g=g.percentage;var T=this.videoElement;T&&!Number.isNaN(g)&&g!==1&&(T.currentTime=T.duration*g,this.dispatchEvent({type:"panolens-viewer-handler",method:"onVideoUpdate",data:g}))},playVideo:function(){var g=this.videoElement,T=this.playVideo.bind(this),R=this.dispatchEvent.bind(this),S=function(){R({type:"play"})},N=function($){window.requestAnimationFrame(T),R({type:"play-error",error:$})};g&&g.paused&&g.play().then(S).catch(N)},pauseVideo:function(){var g=this.videoElement;g&&!g.paused&&g.pause(),this.dispatchEvent({type:"pause"})},resumeVideoProgress:function(){var g=this.videoElement;4<=g.readyState&&g.autoplay&&!this.isMobile()?(this.playVideo(),this.dispatchEvent({type:"panolens-viewer-handler",method:"updateVideoPlayButton",data:!1})):(this.pauseVideo(),this.dispatchEvent({type:"panolens-viewer-handler",method:"updateVideoPlayButton",data:!0})),this.setVideoCurrentTime({percentage:this.videoProgress})},resetVideo:function(){this.videoElement&&this.setVideoCurrentTime({percentage:0})},isVideoMuted:function(){return this.videoElement.muted},muteVideo:function(){var g=this.videoElement;g&&!g.muted&&(g.muted=!0),this.dispatchEvent({type:"volumechange"})},unmuteVideo:function(){var g=this.videoElement;g&&this.isVideoMuted()&&(g.muted=!1),this.dispatchEvent({type:"volumechange"})},getVideoElement:function(){return this.videoElement},dispose:function(){var g=this.material.map;this.pauseVideo(),this.removeEventListener("leave",this.pauseVideo.bind(this)),this.removeEventListener("enter-fade-start",this.resumeVideoProgress.bind(this)),this.removeEventListener("video-toggle",this.toggleVideo.bind(this)),this.removeEventListener("video-time",this.setVideoCurrentTime.bind(this)),g&&g.dispose(),u.prototype.dispose.call(this)}}),Object.assign(E.prototype,{constructor:E,setProgress:function(g,T){this.onProgress&&this.onProgress({loaded:g,total:T})},adaptTextureToZoom:function(){var g=this.widths[this._zoom],T=this.heights[this._zoom],R=this.maxW,S=this.maxH;this._wc=Math.ceil(g/R),this._hc=Math.ceil(T/S);for(var N=0;N<this._hc;N++)for(var $=0;$<this._wc;$++){var ce=document.createElement("canvas");ce.width=$<this._wc-1?R:g-R*$,ce.height=N<this._hc-1?S:T-S*N,this._canvas.push(ce),this._ctx.push(ce.getContext("2d"))}},composeFromTile:function(g,T,R){var S=this.maxW,N=this.maxH;g*=512,T*=512;var $=Math.floor(g/S),ce=Math.floor(T/N);this._ctx[ce*this._wc+$].drawImage(R,0,0,R.width,R.height,g-$*S,T-ce*N,512,512),this.progress()},progress:function(){this._count++,this.setProgress(this._count,this._total),this._count===this._total&&(this.canvas=this._canvas,this.panoId=this._panoId,this.zoom=this._zoom,this.onPanoramaLoad)&&this.onPanoramaLoad(this._canvas[0])},composePanorama:function(){this.setProgress(0,1);var g=this.levelsW[this._zoom],T=this.levelsH[this._zoom],R=this;this._count=0,this._total=g*T;for(var S=this._parameters.useWebGL,N=0;N<T;N++)for(var $={},ce=0;ce<g;$={$jscomp$loop$prop$url$1:$.$jscomp$loop$prop$url$1},ce++)$.$jscomp$loop$prop$url$1="https://geo0.ggpht.com/cbk?cb_client=maps_sv.tactile&authuser=0&hl=en&output=tile&zoom="+this._zoom+"&x="+ce+"&y="+N+"&panoid="+this._panoId+"&nbt&fover=2",function(le){return function(ie,Le){if(S)var me=G.load(le.$jscomp$loop$prop$url$1,null,function(){R.composeFromTile(ie,Le,me)});else{var W=new Image;W.addEventListener("load",function(){R.composeFromTile(ie,Le,this)}),W.crossOrigin="",W.src=le.$jscomp$loop$prop$url$1}}}($)(ce,N)},load:function(g){this.loadPano(g)},loadPano:function(g){var T=this;this._panoClient.getPanoramaById(g,function(R,S){S===google.maps.StreetViewStatus.OK&&(T.result=R,T.copyright=R.copyright,T._panoId=R.location.pano,T.composePanorama())})},setZoom:function(g){this._zoom=g,this.adaptTextureToZoom()}}),A.prototype=Object.assign(Object.create(f.prototype),{constructor:A,load:function(g){this.loadRequested=!0,g=g||this.panoId||{},this.gsvLoader&&this.loadGSVLoader(g)},setupGoogleMapAPI:function(g){var T=document.createElement("script");T.src="https://maps.googleapis.com/maps/api/js?",T.src+=g?"key="+g:"",T.onreadystatechange=this.setGSVLoader.bind(this),T.onload=this.setGSVLoader.bind(this),document.querySelector("head").appendChild(T)},setGSVLoader:function(){this.gsvLoader=new E,this.loadRequested&&this.load()},getGSVLoader:function(){return this.gsvLoader},loadGSVLoader:function(g){this.loadRequested=!1,this.gsvLoader.onProgress=this.onProgress.bind(this),this.gsvLoader.onPanoramaLoad=this.onLoad.bind(this),this.gsvLoader.setZoom(this.getZoomLevel()),this.gsvLoader.load(g),this.gsvLoader.loaded=!0},onLoad:function(g){f.prototype.onLoad.call(this,new t.Texture(g))},reset:function(){this.gsvLoader=void 0,f.prototype.reset.call(this)}});var fe={uniforms:{tDiffuse:{value:new t.Texture},resolution:{value:1},transform:{value:new t.Matrix4},zoom:{value:1},opacity:{value:1}},vertexShader:`varying vec2 vUv;
void main() {
vUv = uv;
gl_Position = vec4( position, 1.0 );
}`,fragmentShader:`uniform sampler2D tDiffuse;
uniform float resolution;
uniform mat4 transform;
uniform float zoom;
uniform float opacity;
varying vec2 vUv;
const float PI = 3.141592653589793;
void main(){
vec2 position = -1.0 +  2.0 * vUv;
position *= vec2( zoom * resolution, zoom * 0.5 );
float x2y2 = position.x * position.x + position.y * position.y;
vec3 sphere_pnt = vec3( 2. * position, x2y2 - 1. ) / ( x2y2 + 1. );
sphere_pnt = vec3( transform * vec4( sphere_pnt, 1.0 ) );
vec2 sampleUV = vec2(
(atan(sphere_pnt.y, sphere_pnt.x) / PI + 1.0) * 0.5,
(asin(sphere_pnt.z) / PI + 0.5)
);
gl_FragColor = texture2D( tDiffuse, sampleUV );
gl_FragColor.a *= opacity;
}`};I.prototype=Object.assign(Object.create(f.prototype),{constructor:I,add:function(g){if(1<arguments.length){for(var T=0;T<arguments.length;T++)this.add(arguments[T]);return this}g instanceof s&&(g.material.depthTest=!1),f.prototype.add.call(this,g)},createGeometry:function(g,T){return new t.PlaneBufferGeometry(g,g*T)},createMaterial:function(g){var T=Object.assign({},fe),R=T.uniforms;return R.zoom.value=g,R.opacity.value=0,new t.ShaderMaterial({uniforms:R,vertexShader:T.vertexShader,fragmentShader:T.fragmentShader,side:t.BackSide,transparent:!0})},registerMouseEvents:function(){this.container.addEventListener("mousedown",this.onMouseDown.bind(this),{passive:!0}),this.container.addEventListener("mousemove",this.onMouseMove.bind(this),{passive:!0}),this.container.addEventListener("mouseup",this.onMouseUp.bind(this),{passive:!0}),this.container.addEventListener("touchstart",this.onMouseDown.bind(this),{passive:!0}),this.container.addEventListener("touchmove",this.onMouseMove.bind(this),{passive:!0}),this.container.addEventListener("touchend",this.onMouseUp.bind(this),{passive:!0}),this.container.addEventListener("mousewheel",this.onMouseWheel.bind(this),{passive:!1}),this.container.addEventListener("DOMMouseScroll",this.onMouseWheel.bind(this),{passive:!1}),this.container.addEventListener("contextmenu",this.onContextMenu.bind(this),{passive:!0})},unregisterMouseEvents:function(){this.container.removeEventListener("mousedown",this.onMouseDown.bind(this),!1),this.container.removeEventListener("mousemove",this.onMouseMove.bind(this),!1),this.container.removeEventListener("mouseup",this.onMouseUp.bind(this),!1),this.container.removeEventListener("touchstart",this.onMouseDown.bind(this),!1),this.container.removeEventListener("touchmove",this.onMouseMove.bind(this),!1),this.container.removeEventListener("touchend",this.onMouseUp.bind(this),!1),this.container.removeEventListener("mousewheel",this.onMouseWheel.bind(this),!1),this.container.removeEventListener("DOMMouseScroll",this.onMouseWheel.bind(this),!1),this.container.removeEventListener("contextmenu",this.onContextMenu.bind(this),!1)},onMouseDown:function(g){switch(g.touches&&g.touches.length||1){case 1:var T=0<=g.clientX?g.clientX:g.touches[0].clientX;g=0<=g.clientY?g.clientY:g.touches[0].clientY,this.dragging=!0,this.userMouse.set(T,g);break;case 2:T=g.touches[0].pageX-g.touches[1].pageX,g=g.touches[0].pageY-g.touches[1].pageY,this.userMouse.pinchDistance=Math.sqrt(T*T+g*g)}this.onUpdateCallback()},onMouseMove:function(g){switch(g.touches&&g.touches.length||1){case 1:var T=0<=g.clientX?g.clientX:g.touches[0].clientX;g=0<=g.clientY?g.clientY:g.touches[0].clientY;var R=.4*t.Math.degToRad(T-this.userMouse.x),S=.4*t.Math.degToRad(g-this.userMouse.y);this.dragging&&(this.quatA.setFromAxisAngle(this.vectorY,R),this.quatB.setFromAxisAngle(this.vectorX,S),this.quatCur.multiply(this.quatA).multiply(this.quatB),this.userMouse.set(T,g));break;case 2:T=g.touches[0].pageX-g.touches[1].pageX,g=g.touches[0].pageY-g.touches[1].pageY,this.addZoomDelta(this.userMouse.pinchDistance-Math.sqrt(T*T+g*g))}},onMouseUp:function(){this.dragging=!1},onMouseWheel:function(g){g.preventDefault(),g.stopPropagation();var T=0;g.wheelDelta!==void 0?T=g.wheelDelta:g.detail!==void 0&&(T=-g.detail),this.addZoomDelta(T),this.onUpdateCallback()},addZoomDelta:function(g){var T=this.material.uniforms,R=.1*this.size,S=10*this.size;T.zoom.value+=g,T.zoom.value<=R?T.zoom.value=R:T.zoom.value>=S&&(T.zoom.value=S)},onUpdateCallback:function(){this.frameId=window.requestAnimationFrame(this.onUpdateCallback.bind(this)),this.quatSlerp.slerp(this.quatCur,.1),this.material&&this.material.uniforms.transform.value.makeRotationFromQuaternion(this.quatSlerp),!this.dragging&&1-this.quatSlerp.clone().dot(this.quatCur)<this.EPS&&window.cancelAnimationFrame(this.frameId)},reset:function(){this.quatCur.set(0,0,0,1),this.quatSlerp.set(0,0,0,1),this.onUpdateCallback()},onLoad:function(g){this.material.uniforms.resolution.value=this.container.clientWidth/this.container.clientHeight,this.registerMouseEvents(),this.onUpdateCallback(),this.dispatchEvent({type:"panolens-viewer-handler",method:"disableControl"}),f.prototype.onLoad.call(this,g)},onLeave:function(){this.unregisterMouseEvents(),this.dispatchEvent({type:"panolens-viewer-handler",method:"enableControl",data:ee.ORBIT}),window.cancelAnimationFrame(this.frameId),f.prototype.onLeave.call(this)},onWindowResize:function(){this.material.uniforms.resolution.value=this.container.clientWidth/this.container.clientHeight},onContextMenu:function(){this.dragging=!1},dispose:function(){this.unregisterMouseEvents(),f.prototype.dispose.call(this)}}),D.prototype=Object.assign(Object.create(I.prototype),{constructor:D,onLoad:function(g){this.updateTexture(g),I.prototype.onLoad.call(this,g)},updateTexture:function(g){g.minFilter=g.magFilter=t.LinearFilter,this.material.uniforms.tDiffuse.value=g},dispose:function(){var g=this.material.uniforms.tDiffuse;g&&g.value&&g.value.dispose(),I.prototype.dispose.call(this)}}),O.prototype=Object.assign(Object.create(u.prototype),{constructor:O,onPanolensContainer:function(g){this.media.setContainer(g.container)},onPanolensScene:function(g){this.media.setScene(g.scene)},start:function(){return this.media.start()},stop:function(){this.media.stop()}}),H.prototype=Object.assign(Object.create(t.EventDispatcher.prototype),{constructor:H}),V.prototype=Object.assign(Object.create(t.EventDispatcher.prototype),{constructor:V});var de=function(g){var T=new t.StereoCamera;T.aspect=.5;var R=new t.Vector2;this.setEyeSeparation=function(S){T.eyeSep=S},this.setSize=function(S,N){g.setSize(S,N)},this.render=function(S,N){S.updateMatrixWorld(),N.parent===null&&N.updateMatrixWorld(),T.update(N),g.getSize(R),g.autoClear&&g.clear(),g.setScissorTest(!0),g.setScissor(0,0,R.width/2,R.height),g.setViewport(0,0,R.width/2,R.height),g.render(S,T.cameraL),g.setScissor(R.width/2,0,R.width/2,R.height),g.setViewport(R.width/2,0,R.width/2,R.height),g.render(S,T.cameraR),g.setScissorTest(!1)}};ne.prototype=Object.assign(Object.create(t.EventDispatcher.prototype),{constructor:ne,add:function(g){if(1<arguments.length){for(var T=0;T<arguments.length;T++)this.add(arguments[T]);return this}this.scene.add(g),g.addEventListener&&g.addEventListener("panolens-viewer-handler",this.eventHandler.bind(this)),g instanceof u&&g.dispatchEvent&&g.dispatchEvent({type:"panolens-container",container:this.container}),g instanceof O&&g.dispatchEvent({type:"panolens-scene",scene:this.scene}),g.type==="panorama"&&(this.addPanoramaEventListener(g),this.panorama||this.setPanorama(g))},remove:function(g){g.removeEventListener&&g.removeEventListener("panolens-viewer-handler",this.eventHandler.bind(this)),this.scene.remove(g)},addDefaultControlBar:function(g){if(this.widget)console.warn("Default control bar exists");else{var T=new l(this.container);T.addEventListener("panolens-viewer-handler",this.eventHandler.bind(this)),T.addControlBar(),g.forEach(function(R){T.addControlButton(R)}),this.widget=T}},setPanorama:function(g){var T=this.panorama;if(g.type==="panorama"&&T!==g){this.hideInfospot();var R=function(){T&&T.onLeave(),g.removeEventListener("enter-fade-start",R)};g.addEventListener("enter-fade-start",R),(this.panorama=g).onEnter()}},eventHandler:function(g){g.method&&this[g.method]&&this[g.method](g.data)},dispatchEventToChildren:function(g){this.scene.traverse(function(T){T.dispatchEvent&&T.dispatchEvent(g)})},activateWidgetItem:function(g,T){var R=this.widget.mainMenu,S=R.children[0];if(R=R.children[1],g!==void 0){switch(g){case 0:g=S.subMenu.children[1];break;case 1:g=S.subMenu.children[2];break;default:g=S.subMenu.children[1]}S.subMenu.setActiveItem(g),S.setSelectionTitle(g.textContent)}if(T!==void 0){switch(T){case Z.CARDBOARD:g=R.subMenu.children[2];break;case Z.STEREO:g=R.subMenu.children[3];break;default:g=R.subMenu.children[1]}R.subMenu.setActiveItem(g),R.setSelectionTitle(g.textContent)}},enableEffect:function(g){if(this.mode!==g)if(g===Z.NORMAL)this.disableEffect();else{this.mode=g;var T=this.camera.fov;switch(g){case Z.CARDBOARD:this.effect=this.CardboardEffect,this.enableReticleControl();break;case Z.STEREO:this.effect=this.StereoEffect,this.enableReticleControl();break;default:this.effect=null,this.disableReticleControl()}this.activateWidgetItem(void 0,this.mode),this.dispatchEventToChildren({type:"panolens-dual-eye-effect",mode:this.mode}),this.camera.fov=T+.01,this.effect.setSize(this.container.clientWidth,this.container.clientHeight),this.render(),this.camera.fov=T,this.dispatchEvent({type:"mode-change",mode:this.mode})}},disableEffect:function(){this.mode!==Z.NORMAL&&(this.mode=Z.NORMAL,this.disableReticleControl(),this.activateWidgetItem(void 0,this.mode),this.dispatchEventToChildren({type:"panolens-dual-eye-effect",mode:this.mode}),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.render(),this.dispatchEvent({type:"mode-change",mode:this.mode}))},enableReticleControl:function(){this.reticle.visible||(this.tempEnableReticle=!0,this.unregisterMouseAndTouchEvents(),this.reticle.show(),this.registerReticleEvent(),this.updateReticleEvent())},disableReticleControl:function(){this.tempEnableReticle=!1,this.options.enableReticle?this.updateReticleEvent():(this.reticle.hide(),this.unregisterReticleEvent(),this.registerMouseAndTouchEvents())},enableAutoRate:function(){this.options.autoRotate=!0,this.OrbitControls.autoRotate=!0},disableAutoRate:function(){clearTimeout(this.autoRotateRequestId),this.options.autoRotate=!1,this.OrbitControls.autoRotate=!1},toggleVideoPlay:function(g){this.panorama instanceof x&&this.panorama.dispatchEvent({type:"video-toggle",pause:g})},setVideoCurrentTime:function(g){this.panorama instanceof x&&this.panorama.dispatchEvent({type:"video-time",percentage:g})},onVideoUpdate:function(g){var T=this.widget;T&&T.dispatchEvent({type:"video-update",percentage:g})},addUpdateCallback:function(g){g&&this.updateCallbacks.push(g)},removeUpdateCallback:function(g){var T=this.updateCallbacks.indexOf(g);g&&0<=T&&this.updateCallbacks.splice(T,1)},showVideoWidget:function(){var g=this.widget;g&&g.dispatchEvent({type:"video-control-show"})},hideVideoWidget:function(){var g=this.widget;g&&g.dispatchEvent({type:"video-control-hide"})},updateVideoPlayButton:function(g){var T=this.widget;T&&T.videoElement&&T.videoElement.controlButton&&T.videoElement.controlButton.update(g)},addPanoramaEventListener:function(g){g.addEventListener("enter-fade-start",this.setCameraControl.bind(this)),g instanceof x&&(g.addEventListener("enter-fade-start",this.showVideoWidget.bind(this)),g.addEventListener("leave",function(){this.panorama instanceof x||this.hideVideoWidget.call(this)}.bind(this)))},setCameraControl:function(){this.OrbitControls.target.copy(this.panorama.position)},getControl:function(){return this.control},getScene:function(){return this.scene},getCamera:function(){return this.camera},getRenderer:function(){return this.renderer},getContainer:function(){return this.container},getControlId:function(){return this.control.id},getNextControlId:function(){return this.controls[this.getNextControlIndex()].id},getNextControlIndex:function(){var g=this.controls,T=g.indexOf(this.control)+1;return T>=g.length?0:T},setCameraFov:function(g){this.camera.fov=g,this.camera.updateProjectionMatrix()},enableControl:function(g){switch(g=0<=g&&g<this.controls.length?g:0,this.control.enabled=!1,this.control=this.controls[g],this.control.enabled=!0,g){case ee.ORBIT:this.camera.position.copy(this.panorama.position),this.camera.position.z+=1;break;case ee.DEVICEORIENTATION:this.camera.position.copy(this.panorama.position)}this.control.update(),this.activateWidgetItem(g,void 0)},disableControl:function(){this.control.enabled=!1},toggleNextControl:function(){this.enableControl(this.getNextControlIndex())},getScreenVector:function(g){g=g.clone();var T=this.container.clientWidth/2,R=this.container.clientHeight/2;return g.project(this.camera),g.x=g.x*T+T,g.y=-(g.y*R)+R,g.z=0,g},checkSpriteInViewport:function(g){return this.camera.matrixWorldInverse.getInverse(this.camera.matrixWorld),this.cameraViewProjectionMatrix.multiplyMatrices(this.camera.projectionMatrix,this.camera.matrixWorldInverse),this.cameraFrustum.setFromMatrix(this.cameraViewProjectionMatrix),g.visible&&this.cameraFrustum.intersectsSprite(g)},reverseDraggingDirection:function(){this.OrbitControls.rotateSpeed*=-1,this.OrbitControls.momentumScalingFactor*=-1},addReticle:function(){this.reticle=new r(16777215,!0,this.options.dwellTime),this.reticle.hide(),this.camera.add(this.reticle),this.sceneReticle.add(this.camera)},tweenControlCenter:function(g,T,R){var S;if(this.control===this.OrbitControls){g instanceof Array&&(T=g[1],R=g[2],g=g[0]),T=T!==void 0?T:1e3,R=R||Y.Easing.Exponential.Out;var N=this,$=this.camera.getWorldDirection(new t.Vector3),ce=$.clone(),le=this.panorama.getWorldPosition(new t.Vector3).sub(this.camera.getWorldPosition(new t.Vector3));g=g.clone(),g.x*=-1,g.add(le).normalize();var ie=g.clone();$.y=0,g.y=0,le=Math.atan2(g.z,g.x)-Math.atan2($.z,$.x),le=le>Math.PI?le-2*Math.PI:le,le=le<-Math.PI?le+2*Math.PI:le,$=Math.abs(ce.angleTo($)+(0>=ce.y*ie.y?ie.angleTo(g):-ie.angleTo(g))),$*=ie.y<ce.y?1:-1,ce={left:0,up:0};var Le=S=0;this.tweenLeftAnimation.stop(),this.tweenUpAnimation.stop(),this.tweenLeftAnimation=new Y.Tween(ce).to({left:le},T).easing(R).onUpdate(function(me){N.control.rotateLeft(me.left-S),S=me.left}).start(),this.tweenUpAnimation=new Y.Tween(ce).to({up:$},T).easing(R).onUpdate(function(me){N.control.rotateUp(me.up-Le),Le=me.up}).start()}},tweenControlCenterByObject:function(g,T,R){var S=!1;if(g.traverseAncestors(function($){$.scalePlaceHolder&&(S=!0)}),S){var N=new t.Vector3(-1,1,1);this.tweenControlCenter(g.getWorldPosition(new t.Vector3).multiply(N),T,R)}else this.tweenControlCenter(g.getWorldPosition(new t.Vector3),T,R)},onWindowResize:function(g,T){var R=this.container.classList.contains("panolens-container")||this.container.isFullscreen;if(g!==void 0&&T!==void 0){var S=g,N=T;this.container._width=g,this.container._height=T}else g=(T=/(android)/i.test(window.navigator.userAgent))?Math.min(document.documentElement.clientWidth,window.innerWidth||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0),T=T?Math.min(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientHeight,window.innerHeight||0),S=R?g:this.container.clientWidth,N=R?T:this.container.clientHeight,this.container._width=S,this.container._height=N;this.camera.aspect=S/N,this.camera.updateProjectionMatrix(),this.renderer.setSize(S,N),(this.options.enableReticle||this.tempEnableReticle)&&this.updateReticleEvent(),this.dispatchEvent({type:"window-resize",width:S,height:N}),this.scene.traverse(function($){$.dispatchEvent&&$.dispatchEvent({type:"window-resize",width:S,height:N})})},addOutputElement:function(){var g=document.createElement("div");g.style.position="absolute",g.style.right="10px",g.style.top="10px",g.style.color="#fff",this.container.appendChild(g),this.outputDivElement=g},outputPosition:function(){var g=this.raycaster.intersectObject(this.panorama,!0);if(0<g.length){g=g[0].point.clone();var T=new t.Vector3(-1,1,1),R=this.panorama.getWorldPosition(new t.Vector3);if(g.sub(R).multiply(T),T=g.x.toFixed(2)+", "+g.y.toFixed(2)+", "+g.z.toFixed(2),g.length()!==0)switch(this.options.output){case"console":console.info(T);break;case"overlay":this.outputDivElement.textContent=T}}},onMouseDown:function(g){g.preventDefault(),this.userMouse.x=0<=g.clientX?g.clientX:g.touches[0].clientX,this.userMouse.y=0<=g.clientY?g.clientY:g.touches[0].clientY,this.userMouse.type="mousedown",this.onTap(g)},onMouseMove:function(g){g.preventDefault(),this.userMouse.type="mousemove",this.onTap(g)},onMouseUp:function(g){this.userMouse.type="mouseup";var T=this.userMouse.x>=g.clientX-this.options.clickTolerance&&this.userMouse.x<=g.clientX+this.options.clickTolerance&&this.userMouse.y>=g.clientY-this.options.clickTolerance&&this.userMouse.y<=g.clientY+this.options.clickTolerance||g.changedTouches&&this.userMouse.x>=g.changedTouches[0].clientX-this.options.clickTolerance&&this.userMouse.x<=g.changedTouches[0].clientX+this.options.clickTolerance&&this.userMouse.y>=g.changedTouches[0].clientY-this.options.clickTolerance&&this.userMouse.y<=g.changedTouches[0].clientY+this.options.clickTolerance?"click":void 0;if((!g||!g.target||g.target.classList.contains("panolens-canvas"))&&(g.preventDefault(),g=g.changedTouches&&g.changedTouches.length===1?this.onTap({clientX:g.changedTouches[0].clientX,clientY:g.changedTouches[0].clientY},T):this.onTap(g,T),this.userMouse.type="none",!g&&T==="click")){T=this.options,g=T.autoHideControlBar;var R=this.panorama,S=this.toggleControlBar;T.autoHideInfospot&&R&&R.toggleInfospotVisibility(),g&&S()}},onTap:function(g,T){var R=this.container.getBoundingClientRect(),S=R.top,N=this.container,$=N.clientHeight;if(this.raycasterPoint.x=(g.clientX-R.left)/N.clientWidth*2-1,this.raycasterPoint.y=2*-((g.clientY-S)/$)+1,this.raycaster.setFromCamera(this.raycasterPoint,this.camera),this.panorama){if((g.type!=="mousedown"&&this.touchSupported||this.OUTPUT_INFOSPOT)&&this.outputPosition(),R=this.raycaster.intersectObjects(this.panorama.children,!0),S=this.getConvertedIntersect(R),N=0<R.length?R[0].object:void 0,this.userMouse.type==="mouseup"&&(S&&this.pressEntityObject===S&&this.pressEntityObject.dispatchEvent&&this.pressEntityObject.dispatchEvent({type:"pressstop-entity",mouseEvent:g}),this.pressEntityObject=void 0),this.userMouse.type==="mouseup"&&(N&&this.pressObject===N&&this.pressObject.dispatchEvent&&this.pressObject.dispatchEvent({type:"pressstop",mouseEvent:g}),this.pressObject=void 0),T==="click"?(this.panorama.dispatchEvent({type:"click",intersects:R,mouseEvent:g}),S&&S.dispatchEvent&&S.dispatchEvent({type:"click-entity",mouseEvent:g}),N&&N.dispatchEvent&&N.dispatchEvent({type:"click",mouseEvent:g})):(this.panorama.dispatchEvent({type:"hover",intersects:R,mouseEvent:g}),(this.hoverObject&&0<R.length&&this.hoverObject!==S||this.hoverObject&&R.length===0)&&(this.hoverObject.dispatchEvent&&(this.hoverObject.dispatchEvent({type:"hoverleave",mouseEvent:g}),this.reticle.end()),this.hoverObject=void 0),S&&0<R.length&&(this.hoverObject!==S&&(this.hoverObject=S,this.hoverObject.dispatchEvent&&(this.hoverObject.dispatchEvent({type:"hoverenter",mouseEvent:g}),(this.options.autoReticleSelect&&this.options.enableReticle||this.tempEnableReticle)&&this.reticle.start(this.onTap.bind(this,g,"click")))),this.userMouse.type==="mousedown"&&this.pressEntityObject!=S&&(this.pressEntityObject=S,this.pressEntityObject.dispatchEvent&&this.pressEntityObject.dispatchEvent({type:"pressstart-entity",mouseEvent:g})),this.userMouse.type==="mousedown"&&this.pressObject!=N&&(this.pressObject=N,this.pressObject.dispatchEvent&&this.pressObject.dispatchEvent({type:"pressstart",mouseEvent:g})),this.userMouse.type==="mousemove"||this.options.enableReticle)&&(N&&N.dispatchEvent&&N.dispatchEvent({type:"hover",mouseEvent:g}),this.pressEntityObject&&this.pressEntityObject.dispatchEvent&&this.pressEntityObject.dispatchEvent({type:"pressmove-entity",mouseEvent:g}),this.pressObject&&this.pressObject.dispatchEvent&&this.pressObject.dispatchEvent({type:"pressmove",mouseEvent:g})),!S&&this.pressEntityObject&&this.pressEntityObject.dispatchEvent&&(this.pressEntityObject.dispatchEvent({type:"pressstop-entity",mouseEvent:g}),this.pressEntityObject=void 0),!N&&this.pressObject&&this.pressObject.dispatchEvent&&(this.pressObject.dispatchEvent({type:"pressstop",mouseEvent:g}),this.pressObject=void 0)),N&&N instanceof s){if(this.infospot=N,T==="click")return!0}else this.infospot&&this.hideInfospot();this.options.autoRotate&&this.userMouse.type!=="mousemove"&&(clearTimeout(this.autoRotateRequestId),this.control===this.OrbitControls&&(this.OrbitControls.autoRotate=!1,this.autoRotateRequestId=window.setTimeout(this.enableAutoRate.bind(this),this.options.autoRotateActivationDuration)))}},getConvertedIntersect:function(g){for(var T,R=0;R<g.length;R++)if(0<=g[R].distance&&g[R].object&&!g[R].object.passThrough&&(!g[R].object.entity||!g[R].object.entity.passThrough)){T=g[R].object.entity&&!g[R].object.entity.passThrough?g[R].object.entity:g[R].object;break}return T},hideInfospot:function(){this.infospot&&(this.infospot.onHoverEnd(),this.infospot=void 0)},toggleControlBar:function(){var g=this.widget;g&&g.dispatchEvent({type:"control-bar-toggle"})},onKeyDown:function(g){this.options.output&&this.options.output!=="none"&&g.key==="Control"&&(this.OUTPUT_INFOSPOT=!0)},onKeyUp:function(){this.OUTPUT_INFOSPOT=!1},update:function(){Y.update(),this.updateCallbacks.forEach(function(g){g()}),this.control.update(),this.scene.traverse(function(g){if(g instanceof s&&g.element&&(this.hoverObject===g||g.element.style.display!=="none"||g.element.left&&g.element.left.style.display!=="none"||g.element.right&&g.element.right.style.display!=="none"))if(this.checkSpriteInViewport(g)){var T=this.getScreenVector(g.getWorldPosition(new t.Vector3));g.translateElement(T.x,T.y)}else g.onDismiss()}.bind(this))},render:function(){this.mode===Z.CARDBOARD||this.mode===Z.STEREO?(this.renderer.clear(),this.effect.render(this.scene,this.camera),this.effect.render(this.sceneReticle,this.camera)):(this.renderer.clear(),this.renderer.render(this.scene,this.camera),this.renderer.clearDepth(),this.renderer.render(this.sceneReticle,this.camera))},animate:function(){this.requestAnimationId=window.requestAnimationFrame(this.animate.bind(this)),this.onChange()},onChange:function(){this.update(),this.render()},registerMouseAndTouchEvents:function(){var g={passive:!1};this.container.addEventListener("mousedown",this.HANDLER_MOUSE_DOWN,g),this.container.addEventListener("mousemove",this.HANDLER_MOUSE_MOVE,g),this.container.addEventListener("mouseup",this.HANDLER_MOUSE_UP,g),this.container.addEventListener("touchstart",this.HANDLER_MOUSE_DOWN,g),this.container.addEventListener("touchend",this.HANDLER_MOUSE_UP,g)},unregisterMouseAndTouchEvents:function(){this.container.removeEventListener("mousedown",this.HANDLER_MOUSE_DOWN,!1),this.container.removeEventListener("mousemove",this.HANDLER_MOUSE_MOVE,!1),this.container.removeEventListener("mouseup",this.HANDLER_MOUSE_UP,!1),this.container.removeEventListener("touchstart",this.HANDLER_MOUSE_DOWN,!1),this.container.removeEventListener("touchend",this.HANDLER_MOUSE_UP,!1)},registerReticleEvent:function(){this.addUpdateCallback(this.HANDLER_TAP)},unregisterReticleEvent:function(){this.removeUpdateCallback(this.HANDLER_TAP)},updateReticleEvent:function(){var g=this.container.clientWidth/2+this.container.offsetLeft,T=this.container.clientHeight/2;this.removeUpdateCallback(this.HANDLER_TAP),this.HANDLER_TAP=this.onTap.bind(this,{clientX:g,clientY:T}),this.addUpdateCallback(this.HANDLER_TAP)},registerEventListeners:function(){window.addEventListener("resize",this.HANDLER_WINDOW_RESIZE,!0),window.addEventListener("keydown",this.HANDLER_KEY_DOWN,!0),window.addEventListener("keyup",this.HANDLER_KEY_UP,!0)},unregisterEventListeners:function(){window.removeEventListener("resize",this.HANDLER_WINDOW_RESIZE,!0),window.removeEventListener("keydown",this.HANDLER_KEY_DOWN,!0),window.removeEventListener("keyup",this.HANDLER_KEY_UP,!0)},dispose:function(){function g(T){for(var R=T.children.length-1;0<=R;R--)g(T.children[R]),T.remove(T.children[R]);T instanceof u||T instanceof s?T.dispose():T.dispatchEvent&&T.dispatchEvent("dispose")}this.tweenLeftAnimation.stop(),this.tweenUpAnimation.stop(),this.unregisterEventListeners(),g(this.scene),this.widget&&(this.widget.dispose(),this.widget=null),t.Cache&&t.Cache.enabled&&t.Cache.clear()},destroy:function(){this.dispose(),this.render(),window.cancelAnimationFrame(this.requestAnimationId)},onPanoramaDispose:function(g){g instanceof x&&this.hideVideoWidget(),g===this.panorama&&(this.panorama=null)},loadAsyncRequest:function(g,T){T=T===void 0?function(){}:T;var R=new window.XMLHttpRequest;R.onloadend=function(S){T(S)},R.open("GET",g,!0),R.send(null)},addViewIndicator:function(){var g=this;this.loadAsyncRequest(X.ViewIndicator,function(T){if(T.loaded!==0){T=T.target.responseXML.documentElement,T.style.width=g.viewIndicatorSize+"px",T.style.height=g.viewIndicatorSize+"px",T.style.position="absolute",T.style.top="10px",T.style.left="10px",T.style.opacity="0.5",T.style.cursor="pointer",T.id="panolens-view-indicator-container",g.container.appendChild(T);var R=T.querySelector("#indicator");g.addUpdateCallback(function(){g.radius=.225*g.viewIndicatorSize,g.currentPanoAngle=g.camera.rotation.y-t.Math.degToRad(90),g.fovAngle=t.Math.degToRad(g.camera.fov),g.leftAngle=-g.currentPanoAngle-g.fovAngle/2,g.rightAngle=-g.currentPanoAngle+g.fovAngle/2,g.leftX=g.radius*Math.cos(g.leftAngle),g.leftY=g.radius*Math.sin(g.leftAngle),g.rightX=g.radius*Math.cos(g.rightAngle),g.rightY=g.radius*Math.sin(g.rightAngle),g.indicatorD="M "+g.leftX+" "+g.leftY+" A "+g.radius+" "+g.radius+" 0 0 1 "+g.rightX+" "+g.rightY,g.leftX&&g.leftY&&g.rightX&&g.rightY&&g.radius&&R.setAttribute("d",g.indicatorD)}),T.addEventListener("mouseenter",function(){this.style.opacity="1"}),T.addEventListener("mouseleave",function(){this.style.opacity="0.5"})}})},appendControlItem:function(g){var T=this.widget.createCustomItem(g);return g.group==="video"?this.widget.videoElement.appendChild(T):this.widget.barElement.appendChild(T),T},clearAllCache:function(){t.Cache.clear()}}),t.REVISION!="105"&&console.warn("three.js version is not matched. Please consider use the target revision 105"),window.TWEEN=Y,e.BasicPanorama=w,e.CONTROLS=ee,e.CameraPanorama=O,e.CubePanorama=v,e.CubeTextureLoader=q,e.DataImage=X,e.EmptyPanorama=m,e.GoogleStreetviewPanorama=A,e.ImageLittlePlanet=D,e.ImageLoader=B,e.ImagePanorama=f,e.Infospot=s,e.LittlePlanet=I,e.MODES=Z,e.Media=i,e.Panorama=u,e.REVISION="11",e.Reticle=r,e.THREE_REVISION="105",e.THREE_VERSION=re,e.TextureLoader=G,e.VERSION="0.11.0",e.VideoPanorama=x,e.Viewer=ne,e.Widget=l,Object.defineProperty(e,"__esModule",{value:!0})});const eV=Vi(async e=>{const t=r=>new PANOLENS.ImagePanorama(r),i=r=>new PANOLENS.Viewer({container:r,autoRotate:!0,controlBar:!1});e.vueApp.provide("CreatePana",t),e.provide("CreatePana",t),e.vueApp.provide("CreateViewer",i),e.provide("CreateViewer",i)});function Ox(e,t,i){tV(e,t),t.set(e,i)}function tV(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nV(e,t,i){var r=BT(e,t,"set");return iV(e,r,i),i}function iV(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}function ta(e,t){var i=BT(e,t,"get");return rV(e,i)}function BT(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function rV(e,t){return t.get?t.get.call(e):t.value}function FT(e,t,i){const r=t.length-1;if(r<0)return e===void 0?i:e;for(let s=0;s<r;s++){if(e==null)return i;e=e[t[s]]}return e==null||e[t[r]]===void 0?i:e[t[r]]}function Ra(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const i=Object.keys(e);return i.length!==Object.keys(t).length?!1:i.every(r=>Ra(e[r],t[r]))}function ey(e,t,i){return e==null||!t||typeof t!="string"?i:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),FT(e,t.split("."),i))}function Zr(e,t,i){if(t==null)return e===void 0?i:e;if(e!==Object(e)){if(typeof t!="function")return i;const s=t(e,i);return typeof s>"u"?i:s}if(typeof t=="string")return ey(e,t,i);if(Array.isArray(t))return FT(e,t,i);if(typeof t!="function")return i;const r=t(e,i);return typeof r>"u"?i:r}function to(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(i,r)=>t+r)}function at(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function ty(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function oV(e){return e==null?void 0:e.$el}const Dx=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),ny=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function UT(e){return Object.keys(e)}function sa(e,t){return t.every(i=>e.hasOwnProperty(i))}function _c(e,t,i){const r=Object.create(null),s=Object.create(null);for(const l in e)t.some(u=>u instanceof RegExp?u.test(l):u===l)&&!(i!=null&&i.some(u=>u===l))?r[l]=e[l]:s[l]=e[l];return[r,s]}function po(e,t){const i={...e};return t.forEach(r=>delete i[r]),i}function ka(e){return _c(e,["class","style","id",/^data-/])}function dr(e){return e==null?[]:Array.isArray(e)?e:[e]}function wi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(i,e))}function Nx(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function Vx(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+i.repeat(Math.max(0,t-e.length))}function sV(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const i=[];let r=0;for(;r<e.length;)i.push(e.substr(r,t)),r+=t;return i}function Bx(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const i=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let r=-1;for(;Math.abs(e)>=t&&r<i.length-1;)e/=t,++r;return`${e.toFixed(1)} ${i[r]}B`}function ko(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;const r={};for(const s in e)r[s]=e[s];for(const s in t){const l=e[s],u=t[s];if(ty(l)&&ty(u)){r[s]=ko(l,u,i);continue}if(Array.isArray(l)&&Array.isArray(u)&&i){r[s]=i(l,u);continue}r[s]=u}return r}function hs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(hs.cache.has(e))return hs.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return hs.cache.set(e,t),t}hs.cache=new Map;function rd(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(i=>rd(e,i)).flat(1);if(Array.isArray(t.children))return t.children.map(i=>rd(e,i)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return rd(e,t.component.subTree).flat(1)}return[]}var gf=new WeakMap,kl=new WeakMap;class aV{constructor(t){Ox(this,gf,{writable:!0,value:[]}),Ox(this,kl,{writable:!0,value:0}),this.size=t}push(t){ta(this,gf)[ta(this,kl)]=t,nV(this,kl,(ta(this,kl)+1)%this.size)}values(){return ta(this,gf).slice(ta(this,kl)).concat(ta(this,gf).slice(0,ta(this,kl)))}}function lV(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function E0(e){const t=wn({}),i=P(e);return ir(()=>{for(const r in i.value)t[r]=i.value[r]},{flush:"sync"}),Dp(t)}function rp(e,t){return e.includes(t)}const cV=/^on[^a-z]/,uV=e=>cV.test(e),ro=()=>[Function,Array];function Fx(e,t){return t="on"+Gd(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function S0(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];if(Array.isArray(e))for(const s of e)s(...i);else typeof e=="function"&&e(...i)}function T0(e){const t=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}:not([tabindex="-1"]):not([disabled])`).join(", ");return[...e.querySelectorAll(t)]}function zT(e,t){var s,l,u;const i=T0(e),r=i.indexOf(document.activeElement);if(!t)e.contains(document.activeElement)||(s=i[0])==null||s.focus();else if(t==="first")(l=i[0])==null||l.focus();else if(t==="last")(u=i.at(-1))==null||u.focus();else{let f,m=r;const v=t==="next"?1:-1;do m+=v,f=i[m];while((!f||f.offsetParent==null)&&m<i.length&&m>=0);f?f.focus():zT(e,t==="next"?"first":"last")}}function HT(){}const jT=["top","bottom"],dV=["start","end","left","right"];function iy(e,t){let[i,r]=e.split(" ");return r||(r=rp(jT,i)?"start":rp(dV,i)?"top":"center"),{side:ry(i,t),align:ry(r,t)}}function ry(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function Yv(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function Xv(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function Ux(e){return{side:e.align,align:e.side}}function zx(e){return rp(jT,e.side)?"y":"x"}class Kl{constructor(t){let{x:i,y:r,width:s,height:l}=t;this.x=i,this.y=r,this.width=s,this.height=l}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Hx(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function A0(e){const t=e.getBoundingClientRect(),i=getComputedStyle(e),r=i.transform;if(r){let s,l,u,f,m;if(r.startsWith("matrix3d("))s=r.slice(9,-1).split(/, /),l=+s[0],u=+s[5],f=+s[12],m=+s[13];else if(r.startsWith("matrix("))s=r.slice(7,-1).split(/, /),l=+s[0],u=+s[3],f=+s[4],m=+s[5];else return new Kl(t);const v=i.transformOrigin,w=t.x-f-(1-l)*parseFloat(v),x=t.y-m-(1-u)*parseFloat(v.slice(v.indexOf(" ")+1)),E=l?t.width/l:e.offsetWidth+1,A=u?t.height/u:e.offsetHeight+1;return new Kl({x:w,y:x,width:E,height:A})}else return new Kl(t)}function aa(e,t,i){if(typeof e.animate>"u")return{finished:Promise.resolve()};let r;try{r=e.animate(t,i)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(s=>{r.onfinish=()=>{s(r)}})),r}function hV(e,t){t=Array.isArray(t)?t.slice(0,-1).map(i=>`'${i}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const fV=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],pV=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,mV=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],vV=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function GT(e){const t=Array(3),i=pV,r=fV;for(let s=0;s<3;++s)t[s]=Math.round(wi(i(r[s][0]*e[0]+r[s][1]*e[1]+r[s][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function C0(e){let{r:t,g:i,b:r}=e;const s=[0,0,0],l=vV,u=mV;t=l(t/255),i=l(i/255),r=l(r/255);for(let f=0;f<3;++f)s[f]=u[f][0]*t+u[f][1]*i+u[f][2]*r;return s}const op=.20689655172413793,gV=e=>e>op**3?Math.cbrt(e):e/(3*op**2)+4/29,yV=e=>e>op?e**3:3*op**2*(e-4/29);function WT(e){const t=gV,i=t(e[1]);return[116*i-16,500*(t(e[0]/.95047)-i),200*(i-t(e[2]/1.08883))]}function $T(e){const t=yV,i=(e[0]+16)/116;return[t(i+e[1]/500)*.95047,t(i),t(i-e[2]/200)*1.08883]}function jx(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}const Gx=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,wV={rgb:(e,t,i,r)=>({r:e,g:t,b:i,a:r}),rgba:(e,t,i,r)=>({r:e,g:t,b:i,a:r}),hsl:(e,t,i,r)=>Wx({h:e,s:t,l:i,a:r}),hsla:(e,t,i,r)=>Wx({h:e,s:t,l:i,a:r}),hsv:(e,t,i,r)=>Lo({h:e,s:t,v:i,a:r}),hsva:(e,t,i,r)=>Lo({h:e,s:t,v:i,a:r})};function So(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&Gx.test(e)){const{groups:t}=e.match(Gx),{fn:i,values:r}=t,s=r.split(/,\s*/).map(l=>l.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(i)?parseFloat(l)/100:parseFloat(l));return wV[i](...s)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(i=>i+i).join(""):[6,8].includes(t.length),QT(t)}else if(typeof e=="object"){if(sa(e,["r","g","b"]))return e;if(sa(e,["h","s","l"]))return Lo(M0(e));if(sa(e,["h","s","v"]))return Lo(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Lo(e){const{h:t,s:i,v:r,a:s}=e,l=f=>{const m=(f+t/60)%6;return r-r*i*Math.max(Math.min(m,4-m,1),0)},u=[l(5),l(3),l(1)].map(f=>Math.round(f*255));return{r:u[0],g:u[1],b:u[2],a:s}}function Wx(e){return Lo(M0(e))}function Hp(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,i=e.g/255,r=e.b/255,s=Math.max(t,i,r),l=Math.min(t,i,r);let u=0;s!==l&&(s===t?u=60*(0+(i-r)/(s-l)):s===i?u=60*(2+(r-t)/(s-l)):s===r&&(u=60*(4+(t-i)/(s-l)))),u<0&&(u=u+360);const f=s===0?0:(s-l)/s,m=[u,f,s];return{h:m[0],s:m[1],v:m[2],a:e.a}}function qT(e){const{h:t,s:i,v:r,a:s}=e,l=r-r*i/2,u=l===1||l===0?0:(r-l)/Math.min(l,1-l);return{h:t,s:u,l,a:s}}function M0(e){const{h:t,s:i,l:r,a:s}=e,l=r+i*Math.min(r,1-r),u=l===0?0:2-2*r/l;return{h:t,s:u,v:l,a:s}}function YT(e){let{r:t,g:i,b:r,a:s}=e;return s===void 0?`rgb(${t}, ${i}, ${r})`:`rgba(${t}, ${i}, ${r}, ${s})`}function XT(e){return YT(Lo(e))}function yf(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function KT(e){let{r:t,g:i,b:r,a:s}=e;return`#${[yf(t),yf(i),yf(r),s!==void 0?yf(Math.round(s*255)):""].join("")}`}function QT(e){e=_V(e);let[t,i,r,s]=sV(e,2).map(l=>parseInt(l,16));return s=s===void 0?s:s/255,{r:t,g:i,b:r,a:s}}function bV(e){const t=QT(e);return Hp(t)}function JT(e){return KT(Lo(e))}function _V(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=Vx(Vx(e,6),8,"F")),e}function xV(e,t){const i=WT(C0(e));return i[0]=i[0]+t*10,GT($T(i))}function EV(e,t){const i=WT(C0(e));return i[0]=i[0]-t*10,GT($T(i))}function oy(e){const t=So(e);return C0(t)[1]}function SV(e,t){const i=oy(e),r=oy(t),s=Math.max(i,r),l=Math.min(i,r);return(s+.05)/(l+.05)}function Se(e,t){return i=>Object.keys(e).reduce((r,s)=>{const u=typeof e[s]=="object"&&e[s]!=null&&!Array.isArray(e[s])?e[s]:{type:e[s]};return i&&s in i?r[s]={...u,default:i[s]}:r[s]=u,t&&!r[s].source&&(r[s].source=t),r},{})}const et=Se({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component");function gs(e,t){let i;function r(){i=zd(),i.run(()=>t.length?t(()=>{i==null||i.stop(),r()}):t())}He(e,s=>{s&&!i?r():s||(i==null||i.stop(),i=void 0)},{immediate:!0}),Gi(()=>{i==null||i.stop()})}const wd=Symbol.for("vuetify:defaults");function TV(e){return Ce(e)}function I0(){const e=Bt(wd);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function Fn(e,t){const i=I0(),r=Ce(e),s=P(()=>{if(Zt(t==null?void 0:t.disabled))return i.value;const u=Zt(t==null?void 0:t.scoped),f=Zt(t==null?void 0:t.reset),m=Zt(t==null?void 0:t.root);let v=ko(r.value,{prev:i.value});if(u)return v;if(f||m){const w=Number(f||1/0);for(let x=0;x<=w&&!(!v||!("prev"in v));x++)v=v.prev;return v}return v.prev?ko(v.prev,v):v});return bn(wd,s),s}function AV(e,t){var i,r;return typeof((i=e.props)==null?void 0:i[t])<"u"||typeof((r=e.props)==null?void 0:r[hs(t)])<"u"}function CV(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I0();const r=ai("useDefaults");if(t=t??r.type.name??r.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const s=P(()=>{var m;return(m=i.value)==null?void 0:m[e._as??t]}),l=new Proxy(e,{get(m,v){var x,E,A,I;const w=Reflect.get(m,v);return v==="class"||v==="style"?[(x=s.value)==null?void 0:x[v],w].filter(D=>D!=null):typeof v=="string"&&!AV(r.vnode,v)?((E=s.value)==null?void 0:E[v])??((I=(A=i.value)==null?void 0:A.global)==null?void 0:I[v])??w:w}}),u=Xe();ir(()=>{if(s.value){const m=Object.entries(s.value).filter(v=>{let[w]=v;return w.startsWith(w[0].toUpperCase())});m.length&&(u.value=Object.fromEntries(m))}});function f(){gs(u,()=>{var m;Fn(ko(((m=kV(wd))==null?void 0:m.value)??{},u.value))})}return{props:l,provideSubDefaults:f}}function pr(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=Se(e.props??{},hs(e.name))();const t=Object.keys(e.props);e.filterProps=function(r){return _c(r,t,["class","style"])},e.props._as=String,e.setup=function(r,s){const l=I0();if(!l.value)return e._setup(r,s);const{props:u,provideSubDefaults:f}=CV(r,r._as??e.name,l),m=e._setup(u,s);return f(),m}}return e}function Oe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?pr:Es)(t)}function Fr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",i=arguments.length>2?arguments[2]:void 0;return Oe()({name:i??Gd(fS(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...et()},setup(r,s){let{slots:l}=s;return()=>{var u;return Te(r.tag,{class:[e,r.class],style:r.style},(u=l.default)==null?void 0:u.call(l))}}})}function ZT(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const bd="cubic-bezier(0.4, 0, 0.2, 1)",MV="cubic-bezier(0.0, 0, 0.2, 1)",IV="cubic-bezier(0.4, 0, 1, 1)";function ai(e,t){const i=Cn();if(!i)throw new Error(`[Vuetify] ${e} ${t||"must be called from inside a setup function"}`);return i}function Uo(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=ai(e).type;return hs((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let eA=0,Vf=new WeakMap;function Ci(){const e=ai("getUid");if(Vf.has(e))return Vf.get(e);{const t=eA++;return Vf.set(e,t),t}}Ci.reset=()=>{eA=0,Vf=new WeakMap};function tA(e){for(;e;){if(R0(e))return e;e=e.parentElement}return document.scrollingElement}function sp(e,t){const i=[];if(t&&e&&!t.contains(e))return i;for(;e&&(R0(e)&&i.push(e),e!==t);)e=e.parentElement;return i}function R0(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}const kn=typeof window<"u",k0=kn&&"IntersectionObserver"in window,RV=kn&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),sy=kn&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports("selector(:focus-visible)");function kV(e){const{provides:t}=ai("injectSelf");if(t&&e in t)return t[e]}function LV(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function Ue(e){const t=ai("useRender");t.render=e}function Mt(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:x=>x,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:x=>x;const l=ai("useProxiedModel"),u=Ce(e[t]!==void 0?e[t]:i),f=hs(t),v=f!==t?P(()=>{var x,E,A,I;return e[t],!!(((x=l.vnode.props)!=null&&x.hasOwnProperty(t)||(E=l.vnode.props)!=null&&E.hasOwnProperty(f))&&((A=l.vnode.props)!=null&&A.hasOwnProperty(`onUpdate:${t}`)||(I=l.vnode.props)!=null&&I.hasOwnProperty(`onUpdate:${f}`)))}):P(()=>{var x,E;return e[t],!!((x=l.vnode.props)!=null&&x.hasOwnProperty(t)&&((E=l.vnode.props)!=null&&E.hasOwnProperty(`onUpdate:${t}`)))});gs(()=>!v.value,()=>{He(()=>e[t],x=>{u.value=x})});const w=P({get(){const x=e[t];return r(v.value?x:u.value)},set(x){const E=s(x),A=Yn(v.value?e[t]:u.value);A===E||r(A)===x||(u.value=E,l==null||l.emit(`update:${t}`,E))}});return Object.defineProperty(w,"externalValue",{get:()=>v.value?e[t]:u.value}),w}const PV={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},$x="$vuetify.",qx=(e,t)=>e.replace(/\{(\d+)\}/g,(i,r)=>String(t[+r])),nA=(e,t,i)=>function(r){for(var s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];if(!r.startsWith($x))return qx(r,l);const f=r.replace($x,""),m=e.value&&i.value[e.value],v=t.value&&i.value[t.value];let w=ey(m,f,null);return w||(`${r}${e.value}`,w=ey(v,f,null)),w||(w=r),typeof w!="string"&&(w=r),qx(w,l)};function iA(e,t){return(i,r)=>new Intl.NumberFormat([e.value,t.value],r).format(i)}function Kv(e,t,i){const r=Mt(e,t,e[t]??i.value);return r.value=e[t]??i.value,He(i,s=>{e[t]==null&&(r.value=i.value)}),r}function rA(e){return t=>{const i=Kv(t,"locale",e.current),r=Kv(t,"fallback",e.fallback),s=Kv(t,"messages",e.messages);return{name:"vuetify",current:i,fallback:r,messages:s,t:nA(i,r,s),n:iA(i,r),provide:rA({current:i,fallback:r,messages:s})}}}function OV(e){const t=Xe((e==null?void 0:e.locale)??"en"),i=Xe((e==null?void 0:e.fallback)??"en"),r=Ce({en:PV,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:i,messages:r,t:nA(t,i,r),n:iA(t,i),provide:rA({current:t,fallback:i,messages:r})}}const DV={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1},ac=Symbol.for("vuetify:locale");function NV(e){return e.name!=null}function VV(e){const t=e!=null&&e.adapter&&NV(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:OV(e),i=FV(t,e);return{...t,...i}}function mr(){const e=Bt(ac);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function BV(e){const t=Bt(ac);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");const i=t.provide(e),r=UV(i,t.rtl,e),s={...i,...r};return bn(ac,s),s}function FV(e,t){const i=Ce((t==null?void 0:t.rtl)??DV),r=P(()=>i.value[e.current.value]??!1);return{isRtl:r,rtl:i,rtlClasses:P(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function UV(e,t,i){const r=P(()=>i.rtl??t.value[e.current.value]??!1);return{isRtl:r,rtl:t,rtlClasses:P(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function Mi(){const e=Bt(ac);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}function zV(e){let t=[];const i=[],r=oA(e),s=sA(e);for(let l=0;l<r.getDay();l++)t.push(null);for(let l=1;l<=s.getDate();l++){const u=new Date(e.getFullYear(),e.getMonth(),l);t.push(u),t.length===7&&(i.push(t),t=[])}for(let l=t.length;l<7;l++)t.push(null);return i.push(t),i}function oA(e){return new Date(e.getFullYear(),e.getMonth(),1)}function sA(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function HV(e){if(e==null)return null;if(e instanceof Date)return e;if(typeof e=="string"){const t=Date.parse(e);if(!isNaN(t))return new Date(t)}return null}const jV={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:0,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:0,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0},Yx=new Date(2e3,0,2);function GV(e){const t=jV[e.slice(-2).toUpperCase()];return to(7).map(i=>{const r=new Date(Yx);return r.setDate(Yx.getDate()+t+i),new Intl.DateTimeFormat(e,{weekday:"long"}).format(r)})}function WV(e,t,i){const r=new Date(e);let s={};switch(t){case"fullDateWithWeekday":s={weekday:"long",day:"numeric",month:"long",year:"numeric"};break;case"normalDateWithWeekday":s={weekday:"short",day:"numeric",month:"short",year:"numeric"};break;case"keyboardDate":s={};break;case"monthAndDate":s={month:"long",day:"numeric"};break;case"monthAndYear":s={month:"long",year:"numeric"};break;default:s={timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(i,s).format(r)}function $V(e,t){const i=new Date(e);return i.setDate(i.getDate()+t),i}function qV(e,t){const i=new Date(e);return i.setMonth(i.getMonth()+t),i}function YV(e){return e.getFullYear()}function XV(e){return e.getMonth()}function KV(e){return new Date(e.getFullYear(),0,1)}function QV(e){return new Date(e.getFullYear(),11,31)}function Qv(e){return new Date(e,0,1)}function JV(e){let t=e.getFullYear(),i=Qv(t);if(e<i)t=t-1,i=Qv(t);else{const l=Qv(t+1);e>=l&&(t=t+1,i=l)}const r=Math.abs(e.getTime()-i.getTime()),s=Math.ceil(r/(1e3*60*60*24));return Math.floor(s/7)+1}function ZV(e,t){return aA(e,t[0])&&tB(e,t[1])}function eB(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function aA(e,t){return e.getTime()>t.getTime()}function tB(e,t){return e.getTime()<t.getTime()}function nB(e,t){return e.getTime()===t.getTime()}function iB(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function rB(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function oB(e,t,i){const r=new Date(e),s=new Date(t);return i==="month"?r.getMonth()-s.getMonth()+(r.getFullYear()-s.getFullYear())*12:Math.floor((r.getTime()-s.getTime())/(1e3*60*60*24))}function sB(e,t){const i=new Date(e);return i.setFullYear(t),i}class aB{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en";this.locale=t}date(t){return HV(t)}addDays(t,i){return $V(t,i)}addMonths(t,i){return qV(t,i)}getWeekArray(t){return zV(t)}startOfMonth(t){return oA(t)}endOfMonth(t){return sA(t)}format(t,i){return WV(t,i,this.locale)}isEqual(t,i){return nB(t,i)}isValid(t){return eB(t)}isWithinRange(t,i){return ZV(t,i)}isAfter(t,i){return aA(t,i)}isSameDay(t,i){return iB(t,i)}isSameMonth(t,i){return rB(t,i)}setYear(t,i){return sB(t,i)}getDiff(t,i,r){return oB(t,i,r)}getWeek(t){return JV(t)}getWeekdays(){return GV(this.locale)}getYear(t){return YV(t)}getMonth(t){return XV(t)}startOfYear(t){return KV(t)}endOfYear(t){return QV(t)}}const Xx=Symbol.for("vuetify:date-adapter");function lB(e){return e??{adapter:aB}}const jp=["sm","md","lg","xl","xxl"],ay=Symbol.for("vuetify:display"),Kx={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},cB=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kx;return ko(Kx,e)};function Qx(e){return kn&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function Jx(e){return kn&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function Zx(e){const t=kn&&!e?window.navigator.userAgent:"ssr";function i(I){return!!t.match(I)}const r=i(/android/i),s=i(/iphone|ipad|ipod/i),l=i(/cordova/i),u=i(/electron/i),f=i(/chrome/i),m=i(/edge/i),v=i(/firefox/i),w=i(/opera/i),x=i(/win/i),E=i(/mac/i),A=i(/linux/i);return{android:r,ios:s,cordova:l,electron:u,chrome:f,edge:m,firefox:v,opera:w,win:x,mac:E,linux:A,touch:RV,ssr:t==="ssr"}}function uB(e,t){const{thresholds:i,mobileBreakpoint:r}=cB(e),s=Xe(Jx(t)),l=Xe(Zx(t)),u=wn({}),f=Xe(Qx(t));function m(){s.value=Jx(),f.value=Qx()}function v(){m(),l.value=Zx()}return ir(()=>{const w=f.value<i.sm,x=f.value<i.md&&!w,E=f.value<i.lg&&!(x||w),A=f.value<i.xl&&!(E||x||w),I=f.value<i.xxl&&!(A||E||x||w),D=f.value>=i.xxl,O=w?"xs":x?"sm":E?"md":A?"lg":I?"xl":"xxl",H=typeof r=="number"?r:i[r],V=f.value<H;u.xs=w,u.sm=x,u.md=E,u.lg=A,u.xl=I,u.xxl=D,u.smAndUp=!w,u.mdAndUp=!(w||x),u.lgAndUp=!(w||x||E),u.xlAndUp=!(w||x||E||A),u.smAndDown=!(E||A||I||D),u.mdAndDown=!(A||I||D),u.lgAndDown=!(I||D),u.xlAndDown=!D,u.name=O,u.height=s.value,u.width=f.value,u.mobile=V,u.mobileBreakpoint=r,u.platform=l.value,u.thresholds=i}),kn&&window.addEventListener("resize",m,{passive:!0}),{...Dp(u),update:v,ssr:!!t}}function La(){const e=Bt(ay);if(!e)throw new Error("Could not find Vuetify display injection");return e}const dB={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"},hB={component:e=>Te(P0,{...e,class:"mdi"})},St=[String,Function,Object,Array],ly=Symbol.for("vuetify:icons"),Gp=Se({icon:{type:St},tag:{type:String,required:!0}},"icon"),cy=Oe()({name:"VComponentIcon",props:Gp(),setup(e,t){let{slots:i}=t;return()=>{const r=e.icon;return L(e.tag,null,{default:()=>{var s;return[e.icon?L(r,null,null):(s=i.default)==null?void 0:s.call(i)]}})}}}),L0=pr({name:"VSvgIcon",inheritAttrs:!1,props:Gp(),setup(e,t){let{attrs:i}=t;return()=>L(e.tag,nt(i,{style:null}),{default:()=>[L("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(r=>Array.isArray(r)?L("path",{d:r[0],"fill-opacity":r[1]},null):L("path",{d:r},null)):L("path",{d:e.icon},null)])]})}}),fB=pr({name:"VLigatureIcon",props:Gp(),setup(e){return()=>L(e.tag,null,{default:()=>[e.icon]})}}),P0=pr({name:"VClassIcon",props:Gp(),setup(e){return()=>L(e.tag,{class:e.icon},null)}}),pB={svg:{component:L0},class:{component:P0}};function mB(e){return ko({defaultSet:"mdi",sets:{...pB,mdi:hB},aliases:dB},e)}const vB=e=>{const t=Bt(ly);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:P(()=>{var m;const r=Zt(e);if(!r)return{component:cy};let s=r;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=(m=t.aliases)==null?void 0:m[s.slice(1)])),!s)throw new Error(`Could not find aliased icon "${r}"`);if(Array.isArray(s))return{component:L0,icon:s};if(typeof s!="string")return{component:cy,icon:s};const l=Object.keys(t.sets).find(v=>typeof s=="string"&&s.startsWith(`${v}:`)),u=l?s.slice(l.length+1):s;return{component:t.sets[l??t.defaultSet].component,icon:u}})}},Ll=2.4,e1=.2126729,t1=.7151522,n1=.072175,gB=.55,yB=.58,wB=.57,bB=.62,wf=.03,i1=1.45,_B=5e-4,xB=1.25,EB=1.25,r1=.078,o1=12.82051282051282,bf=.06,s1=.001;function a1(e,t){const i=(e.r/255)**Ll,r=(e.g/255)**Ll,s=(e.b/255)**Ll,l=(t.r/255)**Ll,u=(t.g/255)**Ll,f=(t.b/255)**Ll;let m=i*e1+r*t1+s*n1,v=l*e1+u*t1+f*n1;if(m<=wf&&(m+=(wf-m)**i1),v<=wf&&(v+=(wf-v)**i1),Math.abs(v-m)<_B)return 0;let w;if(v>m){const x=(v**gB-m**yB)*xB;w=x<s1?0:x<r1?x-x*o1*bf:x-bf}else{const x=(v**bB-m**wB)*EB;w=x>-s1?0:x>-r1?x-x*o1*bf:x+bf}return w*100}const _d=Symbol.for("vuetify:theme"),Gt=Se({theme:String},"theme"),Nu={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-variant":"#BDBDBD","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function SB(){var i,r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nu;if(!e)return{...Nu,isDisabled:!0};const t={};for(const[s,l]of Object.entries(e.themes??{})){const u=l.dark||s==="dark"?(i=Nu.themes)==null?void 0:i.dark:(r=Nu.themes)==null?void 0:r.light;t[s]=ko(u,l)}return ko(Nu,{...e,themes:t})}function TB(e){const t=wn(SB(e)),i=Ce(t.defaultTheme),r=Ce(t.themes),s=P(()=>{const w={};for(const[x,E]of Object.entries(r.value)){const A=w[x]={...E,colors:{...E.colors}};if(t.variations)for(const I of t.variations.colors){const D=A.colors[I];if(D)for(const O of["lighten","darken"]){const H=O==="lighten"?xV:EV;for(const V of to(t.variations[O],1))A.colors[`${I}-${O}-${V}`]=KT(H(So(D),V))}}for(const I of Object.keys(A.colors)){if(/^on-[a-z]/.test(I)||A.colors[`on-${I}`])continue;const D=`on-${I}`,O=So(A.colors[I]),H=Math.abs(a1(So(0),O)),V=Math.abs(a1(So(16777215),O));A.colors[D]=V>Math.min(H,50)?"#fff":"#000"}}return w}),l=P(()=>s.value[i.value]),u=P(()=>{const w=[];l.value.dark&&na(w,":root",["color-scheme: dark"]),na(w,":root",l1(l.value));for(const[I,D]of Object.entries(s.value))na(w,`.v-theme--${I}`,[`color-scheme: ${D.dark?"dark":"normal"}`,...l1(D)]);const x=[],E=[],A=new Set(Object.values(s.value).flatMap(I=>Object.keys(I.colors)));for(const I of A)/^on-[a-z]/.test(I)?na(E,`.${I}`,[`color: rgb(var(--v-theme-${I})) !important`]):(na(x,`.bg-${I}`,[`--v-theme-overlay-multiplier: var(--v-theme-${I}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${I})) !important`,`color: rgb(var(--v-theme-on-${I})) !important`]),na(E,`.text-${I}`,[`color: rgb(var(--v-theme-${I})) !important`]),na(E,`.border-${I}`,[`--v-border-color: var(--v-theme-${I})`]));return w.push(...x,...E),w.map((I,D)=>D===0?I:`    ${I}`).join("")});function f(){return{style:[{children:u.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function m(w){const x=w._context.provides.usehead;if(x)if(x.push){const E=x.push(f);He(u,()=>{E.patch(f)})}else kn?(x.addHeadObjs(P(f)),ir(()=>x.updateDOM())):x.addHeadObjs(f());else{let A=function(){if(!t.isDisabled){if(typeof document<"u"&&!E){const I=document.createElement("style");I.type="text/css",I.id="vuetify-theme-stylesheet",t.cspNonce&&I.setAttribute("nonce",t.cspNonce),E=I,document.head.appendChild(E)}E&&(E.innerHTML=u.value)}},E=kn?document.getElementById("vuetify-theme-stylesheet"):null;He(u,A,{immediate:!0})}}const v=P(()=>t.isDisabled?void 0:`v-theme--${i.value}`);return{install:m,isDisabled:t.isDisabled,name:i,themes:r,current:l,computedThemes:s,themeClasses:v,styles:u,global:{name:i,current:l}}}function Jt(e){ai("provideTheme");const t=Bt(_d,null);if(!t)throw new Error("Could not find Vuetify theme injection");const i=P(()=>e.theme??(t==null?void 0:t.name.value)),r=P(()=>t.isDisabled?void 0:`v-theme--${i.value}`),s={...t,name:i,themeClasses:r};return bn(_d,s),s}function lA(){ai("useTheme");const e=Bt(_d,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function na(e,t,i){e.push(`${t} {
`,...i.map(r=>`  ${r};
`),`}
`)}function l1(e){const t=e.dark?2:1,i=e.dark?1:2,r=[];for(const[s,l]of Object.entries(e.colors)){const u=So(l);r.push(`--v-theme-${s}: ${u.r},${u.g},${u.b}`),s.startsWith("on-")||r.push(`--v-theme-${s}-overlay-multiplier: ${oy(l)>.18?t:i}`)}for(const[s,l]of Object.entries(e.variables)){const u=typeof l=="string"&&l.startsWith("#")?So(l):void 0,f=u?`${u.r}, ${u.g}, ${u.b}`:void 0;r.push(`--v-${s}: ${f??l}`)}return r}function uo(e){const t=Ce(),i=Ce();if(kn){const r=new ResizeObserver(s=>{e==null||e(s,r),s.length&&(i.value=s[0].contentRect)});xn(()=>{r.disconnect()}),He(t,(s,l)=>{l&&(r.unobserve(l),i.value=void 0),s&&r.observe(s)},{flush:"post"})}return{resizeRef:t,contentRect:d0(i)}}const ap=Symbol.for("vuetify:layout"),cA=Symbol.for("vuetify:layout-item"),c1=1e3,uA=Se({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),xc=Se({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function AB(){const e=Bt(ap);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function Ec(e){const t=Bt(ap);if(!t)throw new Error("[Vuetify] Could not find injected layout");const i=e.id??`layout-item-${Ci()}`,r=ai("useLayoutItem");bn(cA,{id:i});const s=Xe(!1);jd(()=>s.value=!0),u0(()=>s.value=!1);const{layoutItemStyles:l,layoutItemScrimStyles:u}=t.register(r,{...e,active:P(()=>s.value?!1:e.active.value),id:i});return xn(()=>t.unregister(i)),{layoutItemStyles:l,layoutRect:t.layoutRect,layoutItemScrimStyles:u}}const CB=(e,t,i,r)=>{let s={top:0,left:0,right:0,bottom:0};const l=[{id:"",layer:{...s}}];for(const u of e){const f=t.get(u),m=i.get(u),v=r.get(u);if(!f||!m||!v)continue;const w={...s,[f.value]:parseInt(s[f.value],10)+(v.value?parseInt(m.value,10):0)};l.push({id:u,layer:w}),s=w}return l};function dA(e){const t=Bt(ap,null),i=P(()=>t?t.rootZIndex.value-100:c1),r=Ce([]),s=wn(new Map),l=wn(new Map),u=wn(new Map),f=wn(new Map),m=wn(new Map),{resizeRef:v,contentRect:w}=uo(),x=P(()=>{const ee=new Map,Z=e.overlaps??[];for(const X of Z.filter(B=>B.includes(":"))){const[B,G]=X.split(":");if(!r.value.includes(B)||!r.value.includes(G))continue;const q=s.get(B),Y=s.get(G),fe=l.get(B),de=l.get(G);!q||!Y||!fe||!de||(ee.set(G,{position:q.value,amount:parseInt(fe.value,10)}),ee.set(B,{position:Y.value,amount:-parseInt(de.value,10)}))}return ee}),E=P(()=>{const ee=[...new Set([...u.values()].map(X=>X.value))].sort((X,B)=>X-B),Z=[];for(const X of ee){const B=r.value.filter(G=>{var q;return((q=u.get(G))==null?void 0:q.value)===X});Z.push(...B)}return CB(Z,s,l,f)}),A=P(()=>!Array.from(m.values()).some(ee=>ee.value)),I=P(()=>E.value[E.value.length-1].layer),D=P(()=>({"--v-layout-left":at(I.value.left),"--v-layout-right":at(I.value.right),"--v-layout-top":at(I.value.top),"--v-layout-bottom":at(I.value.bottom),...A.value?void 0:{transition:"none"}})),O=P(()=>E.value.slice(1).map((ee,Z)=>{let{id:X}=ee;const{layer:B}=E.value[Z],G=l.get(X),q=s.get(X);return{id:X,...B,size:Number(G.value),position:q.value}})),H=ee=>O.value.find(Z=>Z.id===ee),V=ai("createLayout"),U=Xe(!1);Qn(()=>{U.value=!0}),bn(ap,{register:(ee,Z)=>{let{id:X,order:B,position:G,layoutSize:q,elementSize:Y,active:fe,disableTransitions:de,absolute:g}=Z;u.set(X,B),s.set(X,G),l.set(X,q),f.set(X,fe),de&&m.set(X,de);const R=rd(cA,V==null?void 0:V.vnode).indexOf(ee);R>-1?r.value.splice(R,0,X):r.value.push(X);const S=P(()=>O.value.findIndex(le=>le.id===X)),N=P(()=>i.value+E.value.length*2-S.value*2),$=P(()=>{const le=G.value==="left"||G.value==="right",ie=G.value==="right",Le=G.value==="bottom",me={[G.value]:0,zIndex:N.value,transform:`translate${le?"X":"Y"}(${(fe.value?0:-110)*(ie||Le?-1:1)}%)`,position:g.value||i.value!==c1?"absolute":"fixed",...A.value?void 0:{transition:"none"}};if(!U.value)return me;const W=O.value[S.value];if(!W)throw new Error(`[Vuetify] Could not find layout item "${X}"`);const se=x.value.get(X);return se&&(W[se.position]+=se.amount),{...me,height:le?`calc(100% - ${W.top}px - ${W.bottom}px)`:Y.value?`${Y.value}px`:void 0,left:ie?void 0:`${W.left}px`,right:ie?`${W.right}px`:void 0,top:G.value!=="bottom"?`${W.top}px`:void 0,bottom:G.value!=="top"?`${W.bottom}px`:void 0,width:le?Y.value?`${Y.value}px`:void 0:`calc(100% - ${W.left}px - ${W.right}px)`}}),ce=P(()=>({zIndex:N.value-1}));return{layoutItemStyles:$,layoutItemScrimStyles:ce,zIndex:N}},unregister:ee=>{u.delete(ee),s.delete(ee),l.delete(ee),f.delete(ee),m.delete(ee),r.value=r.value.filter(Z=>Z!==ee)},mainRect:I,mainStyles:D,getLayoutItem:H,items:O,layoutRect:w,rootZIndex:i});const ne=P(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),re=P(()=>({zIndex:i.value,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:ne,layoutStyles:re,getLayoutItem:H,items:O,layoutRect:w,layoutRef:v}}function hA(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...i}=e,r=ko(t,i),{aliases:s={},components:l={},directives:u={}}=r,f=TV(r.defaults),m=uB(r.display,r.ssr),v=TB(r.theme),w=mB(r.icons),x=VV(r.locale),E=lB(r.date);return{install:I=>{for(const D in u)I.directive(D,u[D]);for(const D in l)I.component(D,l[D]);for(const D in s)I.component(D,pr({...s[D],name:D,aliasName:s[D].name}));if(v.install(I),I.provide(wd,f),I.provide(ay,m),I.provide(_d,v),I.provide(ly,w),I.provide(ac,x),I.provide(Xx,E),kn&&r.ssr)if(I.$nuxt)I.$nuxt.hook("app:suspense:resolve",()=>{m.update()});else{const{mount:D}=I;I.mount=function(){const O=D(...arguments);return kt(()=>m.update()),I.mount=D,O}}Ci.reset(),I.mixin({computed:{$vuetify(){return wn({defaults:Pl.call(this,wd),display:Pl.call(this,ay),theme:Pl.call(this,_d),icons:Pl.call(this,ly),locale:Pl.call(this,ac),date:Pl.call(this,Xx)})}}})},defaults:f,display:m,theme:v,icons:w,locale:x,date:E}}const MB="3.3.0";hA.version=MB;function Pl(e){var r,s;const t=this.$,i=((r=t.parent)==null?void 0:r.provides)??((s=t.vnode.appContext)==null?void 0:s.provides);if(i&&e in i)return i[e]}const IB=Se({...et(),...uA({fullHeight:!0}),...Gt()},"v-app"),RB=Oe()({name:"VApp",props:IB(),setup(e,t){let{slots:i}=t;const r=Jt(e),{layoutClasses:s,layoutStyles:l,getLayoutItem:u,items:f,layoutRef:m}=dA(e),{rtlClasses:v}=Mi();return Ue(()=>{var w;return L("div",{ref:m,class:["v-application",r.themeClasses.value,s.value,v.value,e.class],style:[l.value,e.style]},[L("div",{class:"v-application__wrap"},[(w=i.default)==null?void 0:w.call(i)])])}),{getLayoutItem:u,items:f,theme:r}}});const kB=Se({defaults:Object,disabled:Boolean,reset:[Number,String],root:Boolean,scoped:Boolean},"v-defaults-provider"),rn=Oe(!1)({name:"VDefaultsProvider",props:kB(),setup(e,t){let{slots:i}=t;const{defaults:r,disabled:s,reset:l,root:u,scoped:f}=Dp(e);return Fn(r,{reset:l,root:u,scoped:f,disabled:s}),()=>{var m;return(m=i.default)==null?void 0:m.call(i)}}}),LB=Se({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function rr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"center center",i=arguments.length>2?arguments[2]:void 0;return Oe()({name:e,props:LB({mode:i,origin:t}),setup(r,s){let{slots:l}=s;const u={onBeforeEnter(f){f.style.transformOrigin=r.origin},onLeave(f){if(r.leaveAbsolute){const{offsetTop:m,offsetLeft:v,offsetWidth:w,offsetHeight:x}=f;f._transitionInitialStyles={position:f.style.position,top:f.style.top,left:f.style.left,width:f.style.width,height:f.style.height},f.style.position="absolute",f.style.top=`${m}px`,f.style.left=`${v}px`,f.style.width=`${w}px`,f.style.height=`${x}px`}r.hideOnLeave&&f.style.setProperty("display","none","important")},onAfterLeave(f){if(r.leaveAbsolute&&(f!=null&&f._transitionInitialStyles)){const{position:m,top:v,left:w,width:x,height:E}=f._transitionInitialStyles;delete f._transitionInitialStyles,f.style.position=m||"",f.style.top=v||"",f.style.left=w||"",f.style.width=x||"",f.style.height=E||""}}};return()=>{const f=r.group?uS:Wi;return Te(f,{name:r.disabled?"":e,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:u},l.default)}}})}function fA(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Oe()({name:e,props:{mode:{type:String,default:i},disabled:Boolean},setup(r,s){let{slots:l}=s;return()=>Te(Wi,{name:r.disabled?"":e,css:!r.disabled,...r.disabled?{}:t},l.default)}})}function pA(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const i=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=fS(`offset-${i}`);return{onBeforeEnter(u){u._parent=u.parentNode,u._initialStyle={transition:u.style.transition,overflow:u.style.overflow,[i]:u.style[i]}},onEnter(u){const f=u._initialStyle;u.style.setProperty("transition","none","important"),u.style.overflow="hidden";const m=`${u[r]}px`;u.style[i]="0",u.offsetHeight,u.style.transition=f.transition,e&&u._parent&&u._parent.classList.add(e),requestAnimationFrame(()=>{u.style[i]=m})},onAfterEnter:l,onEnterCancelled:l,onLeave(u){u._initialStyle={transition:"",overflow:u.style.overflow,[i]:u.style[i]},u.style.overflow="hidden",u.style[i]=`${u[r]}px`,u.offsetHeight,requestAnimationFrame(()=>u.style[i]="0")},onAfterLeave:s,onLeaveCancelled:s};function s(u){e&&u._parent&&u._parent.classList.remove(e),l(u)}function l(u){const f=u._initialStyle[i];u.style.overflow=u._initialStyle.overflow,f!=null&&(u.style[i]=f),delete u._initialStyle}}const PB=Se({target:Object},"v-dialog-transition"),Wp=Oe()({name:"VDialogTransition",props:PB(),setup(e,t){let{slots:i}=t;const r={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,l){var E;await new Promise(A=>requestAnimationFrame(A)),await new Promise(A=>requestAnimationFrame(A)),s.style.visibility="";const{x:u,y:f,sx:m,sy:v,speed:w}=d1(e.target,s),x=aa(s,[{transform:`translate(${u}px, ${f}px) scale(${m}, ${v})`,opacity:0},{}],{duration:225*w,easing:MV});(E=u1(s))==null||E.forEach(A=>{aa(A,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*w,easing:bd})}),x.finished.then(()=>l())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,l){var E;await new Promise(A=>requestAnimationFrame(A));const{x:u,y:f,sx:m,sy:v,speed:w}=d1(e.target,s);aa(s,[{},{transform:`translate(${u}px, ${f}px) scale(${m}, ${v})`,opacity:0}],{duration:125*w,easing:IV}).finished.then(()=>l()),(E=u1(s))==null||E.forEach(A=>{aa(A,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*w,easing:bd})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>e.target?L(Wi,nt({name:"dialog-transition"},r,{css:!1}),i):L(Wi,{name:"dialog-transition"},i)}});function u1(e){var i;const t=(i=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:i.children;return t&&[...t]}function d1(e,t){const i=e.getBoundingClientRect(),r=A0(t),[s,l]=getComputedStyle(t).transformOrigin.split(" ").map(H=>parseFloat(H)),[u,f]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let m=i.left+i.width/2;u==="left"||f==="left"?m-=i.width/2:(u==="right"||f==="right")&&(m+=i.width/2);let v=i.top+i.height/2;u==="top"||f==="top"?v-=i.height/2:(u==="bottom"||f==="bottom")&&(v+=i.height/2);const w=i.width/r.width,x=i.height/r.height,E=Math.max(1,w,x),A=w/E||0,I=x/E||0,D=r.width*r.height/(window.innerWidth*window.innerHeight),O=D>.12?Math.min(1.5,(D-.12)*10+1):1;return{x:m-(s+r.left),y:v-(l+r.top),sx:A,sy:I,speed:O}}const OB=rr("fab-transition","center center","out-in"),DB=rr("dialog-bottom-transition"),NB=rr("dialog-top-transition"),uy=rr("fade-transition"),mA=rr("scale-transition"),VB=rr("scroll-x-transition"),BB=rr("scroll-x-reverse-transition"),FB=rr("scroll-y-transition"),UB=rr("scroll-y-reverse-transition"),zB=rr("slide-x-transition"),HB=rr("slide-x-reverse-transition"),O0=rr("slide-y-transition"),jB=rr("slide-y-reverse-transition"),$p=fA("expand-transition",pA()),D0=fA("expand-x-transition",pA("",!0));const vr=Se({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function gr(e){return{dimensionStyles:P(()=>({height:at(e.height),maxHeight:at(e.maxHeight),maxWidth:at(e.maxWidth),minHeight:at(e.minHeight),minWidth:at(e.minWidth),width:at(e.width)}))}}function GB(e){return{aspectStyles:P(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const vA=Se({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...et(),...vr()},"v-responsive"),dy=Oe()({name:"VResponsive",props:vA(),setup(e,t){let{slots:i}=t;const{aspectStyles:r}=GB(e),{dimensionStyles:s}=gr(e);return Ue(()=>{var l;return L("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[s.value,e.style]},[L("div",{class:"v-responsive__sizer",style:r.value},null),(l=i.additional)==null?void 0:l.call(i),i.default&&L("div",{class:["v-responsive__content",e.contentClass]},[i.default()])])}),{}}});function WB(e,t){if(!k0)return;const i=t.modifiers||{},r=t.value,{handler:s,options:l}=typeof r=="object"?r:{handler:r,options:{}},u=new IntersectionObserver(function(){var x;let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],m=arguments.length>1?arguments[1]:void 0;const v=(x=e._observe)==null?void 0:x[t.instance.$.uid];if(!v)return;const w=f.some(E=>E.isIntersecting);s&&(!i.quiet||v.init)&&(!i.once||w||v.init)&&s(w,f,m),w&&i.once?gA(e,t):v.init=!0},l);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:u},u.observe(e)}function gA(e,t){var r;const i=(r=e._observe)==null?void 0:r[t.instance.$.uid];i&&(i.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Kd={mounted:WB,unmounted:gA},zo=Se({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),Or=(e,t)=>{let{slots:i}=t;const{transition:r,disabled:s,...l}=e,{component:u=Wi,...f}=typeof r=="object"?r:{};return Te(u,nt(typeof r=="string"?{name:s?"":r}:f,l,{disabled:s}),i)},yA=Se({alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,...vA(),...et(),...zo()},"v-img"),ga=Oe()({name:"VImg",directives:{intersect:Kd},props:yA(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:i,slots:r}=t;const s=Xe(""),l=Ce(),u=Xe(e.eager?"loading":"idle"),f=Xe(),m=Xe(),v=P(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),w=P(()=>v.value.aspect||f.value/m.value||0);He(()=>e.src,()=>{x(u.value!=="idle")}),He(w,(X,B)=>{!X&&B&&l.value&&O(l.value)}),h0(()=>x());function x(X){if(!(e.eager&&X)&&!(k0&&!X&&!e.eager)){if(u.value="loading",v.value.lazySrc){const B=new Image;B.src=v.value.lazySrc,O(B,null)}v.value.src&&kt(()=>{var B,G;if(i("loadstart",((B=l.value)==null?void 0:B.currentSrc)||v.value.src),(G=l.value)!=null&&G.complete){if(l.value.naturalWidth||A(),u.value==="error")return;w.value||O(l.value,null),E()}else w.value||O(l.value),I()})}}function E(){var X;I(),u.value="loaded",i("load",((X=l.value)==null?void 0:X.currentSrc)||v.value.src)}function A(){var X;u.value="error",i("error",((X=l.value)==null?void 0:X.currentSrc)||v.value.src)}function I(){const X=l.value;X&&(s.value=X.currentSrc||X.src)}let D=-1;function O(X){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const G=()=>{clearTimeout(D);const{naturalHeight:q,naturalWidth:Y}=X;q||Y?(f.value=Y,m.value=q):!X.complete&&u.value==="loading"&&B!=null?D=window.setTimeout(G,B):(X.currentSrc.endsWith(".svg")||X.currentSrc.startsWith("data:image/svg+xml"))&&(f.value=1,m.value=1)};G()}const H=P(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),V=()=>{var G;if(!v.value.src||u.value==="idle")return null;const X=L("img",{class:["v-img__img",H.value],src:v.value.src,srcset:v.value.srcset,alt:e.alt,sizes:e.sizes,ref:l,onLoad:E,onError:A},null),B=(G=r.sources)==null?void 0:G.call(r);return L(Or,{transition:e.transition,appear:!0},{default:()=>[un(B?L("picture",{class:"v-img__picture"},[B,X]):X,[[fo,u.value==="loaded"]])]})},U=()=>L(Or,{transition:e.transition},{default:()=>[v.value.lazySrc&&u.value!=="loaded"&&L("img",{class:["v-img__img","v-img__img--preload",H.value],src:v.value.lazySrc,alt:e.alt},null)]}),ne=()=>r.placeholder?L(Or,{transition:e.transition,appear:!0},{default:()=>[(u.value==="loading"||u.value==="error"&&!r.error)&&L("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,re=()=>r.error?L(Or,{transition:e.transition,appear:!0},{default:()=>[u.value==="error"&&L("div",{class:"v-img__error"},[r.error()])]}):null,ee=()=>e.gradient?L("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,Z=Xe(!1);{const X=He(w,B=>{B&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{Z.value=!0})}),X())})}return Ue(()=>{const[X]=dy.filterProps(e);return un(L(dy,nt({class:["v-img",{"v-img--booting":!Z.value},e.class],style:e.style},X,{aspectRatio:w.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>L(Ht,null,[L(V,null,null),L(U,null,null),L(ee,null,null),L(ne,null,null),L(re,null,null)]),default:r.default}),[[$i("intersect"),{handler:x,options:e.options},null,{once:!0}]])}),{currentSrc:s,image:l,state:u,naturalWidth:f,naturalHeight:m}}}),It=Se({tag:{type:String,default:"div"}},"tag"),wA=Se({text:String,...et(),...It()},"v-toolbar-title"),N0=Oe()({name:"VToolbarTitle",props:wA(),setup(e,t){let{slots:i}=t;return Ue(()=>{const r=!!(i.default||i.text||e.text);return L(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var s;return[r&&L("div",{class:"v-toolbar-title__placeholder"},[i.text?i.text():e.text,(s=i.default)==null?void 0:s.call(i)])]}})}),{}}}),or=Se({border:[Boolean,Number,String]},"border");function yr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uo();return{borderClasses:P(()=>{const r=co(e)?e.value:e.border,s=[];if(r===!0||r==="")s.push(`${t}--border`);else if(typeof r=="string"||r===0)for(const l of String(r).split(" "))s.push(`border-${l}`);return s})}}const Hn=Se({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function li(e){return{elevationClasses:P(()=>{const i=co(e)?e.value:e.elevation,r=[];return i==null||r.push(`elevation-${i}`),r})}}const pn=Se({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function En(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uo();return{roundedClasses:P(()=>{const r=co(e)?e.value:e.rounded,s=[];if(r===!0||r==="")s.push(`${t}--rounded`);else if(typeof r=="string"||r===0)for(const l of String(r).split(" "))s.push(`rounded-${l}`);return s})}}function V0(e){return E0(()=>{const t=[],i={};return e.value.background&&(jx(e.value.background)?i.backgroundColor=e.value.background:t.push(`bg-${e.value.background}`)),e.value.text&&(jx(e.value.text)?(i.color=e.value.text,i.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:i}})}function Ei(e,t){const i=P(()=>({text:co(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:s}=V0(i);return{textColorClasses:r,textColorStyles:s}}function Ln(e,t){const i=P(()=>({background:co(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:s}=V0(i);return{backgroundColorClasses:r,backgroundColorStyles:s}}const $B=[null,"prominent","default","comfortable","compact"],bA=Se({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>$B.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...or(),...et(),...Hn(),...pn(),...It({tag:"header"}),...Gt()},"v-toolbar"),hy=Oe()({name:"VToolbar",props:bA(),setup(e,t){var A;let{slots:i}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=Ln(Ne(e,"color")),{borderClasses:l}=yr(e),{elevationClasses:u}=li(e),{roundedClasses:f}=En(e),{themeClasses:m}=Jt(e),{rtlClasses:v}=Mi(),w=Xe(!!(e.extended||(A=i.extension)!=null&&A.call(i))),x=P(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),E=P(()=>w.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Fn({VBtn:{variant:"text"}}),Ue(()=>{var H;const I=!!(e.title||i.title),D=!!(i.image||e.image),O=(H=i.extension)==null?void 0:H.call(i);return w.value=!!(e.extended||O),L(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,l.value,u.value,f.value,m.value,v.value,e.class],style:[s.value,e.style]},{default:()=>[D&&L("div",{key:"image",class:"v-toolbar__image"},[i.image?L(rn,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},i.image):L(ga,{key:"image-img",cover:!0,src:e.image},null)]),L(rn,{defaults:{VTabs:{height:at(x.value)}}},{default:()=>{var V,U,ne;return[L("div",{class:"v-toolbar__content",style:{height:at(x.value)}},[i.prepend&&L("div",{class:"v-toolbar__prepend"},[(V=i.prepend)==null?void 0:V.call(i)]),I&&L(N0,{key:"title",text:e.title},{text:i.title}),(U=i.default)==null?void 0:U.call(i),i.append&&L("div",{class:"v-toolbar__append"},[(ne=i.append)==null?void 0:ne.call(i)])])]}}),L(rn,{defaults:{VTabs:{height:at(E.value)}}},{default:()=>[L($p,null,{default:()=>[w.value&&L("div",{class:"v-toolbar__extension",style:{height:at(E.value)}},[O])]})]})]})}),{contentHeight:x,extensionHeight:E}}}),qB=Se({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function YB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:i}=t;let r=0;const s=Ce(null),l=Xe(0),u=Xe(0),f=Xe(0),m=Xe(!1),v=Xe(!1),w=P(()=>Number(e.scrollThreshold)),x=P(()=>wi((w.value-l.value)/w.value||0)),E=()=>{const A=s.value;!A||i&&!i.value||(r=l.value,l.value="window"in A?A.pageYOffset:A.scrollTop,v.value=l.value<r,f.value=Math.abs(l.value-w.value))};return He(v,()=>{u.value=u.value||l.value}),He(m,()=>{u.value=0}),Qn(()=>{He(()=>e.scrollTarget,A=>{var D;const I=A?document.querySelector(A):window;I&&I!==s.value&&((D=s.value)==null||D.removeEventListener("scroll",E),s.value=I,s.value.addEventListener("scroll",E,{passive:!0}))},{immediate:!0})}),xn(()=>{var A;(A=s.value)==null||A.removeEventListener("scroll",E)}),i&&He(i,E,{immediate:!0}),{scrollThreshold:w,currentScroll:l,currentThreshold:f,isScrollActive:m,scrollRatio:x,isScrollingUp:v,savedScroll:u}}function Pa(){const e=Xe(!1);return Qn(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:P(()=>e.value?void 0:{transition:"none !important"}),isBooted:d0(e)}}const XB=Se({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...bA(),...xc(),...qB(),height:{type:[Number,String],default:64}},"v-app-bar"),KB=Oe()({name:"VAppBar",props:XB(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Ce(),s=Mt(e,"modelValue"),l=P(()=>{var U;const V=new Set(((U=e.scrollBehavior)==null?void 0:U.split(" "))??[]);return{hide:V.has("hide"),inverted:V.has("inverted"),collapse:V.has("collapse"),elevate:V.has("elevate"),fadeImage:V.has("fade-image")}}),u=P(()=>{const V=l.value;return V.hide||V.inverted||V.collapse||V.elevate||V.fadeImage||!s.value}),{currentScroll:f,scrollThreshold:m,isScrollingUp:v,scrollRatio:w}=YB(e,{canScroll:u}),x=P(()=>e.collapse||l.value.collapse&&(l.value.inverted?w.value>0:w.value===0)),E=P(()=>e.flat||l.value.elevate&&(l.value.inverted?f.value>0:f.value===0)),A=P(()=>l.value.fadeImage?l.value.inverted?1-w.value:w.value:void 0),I=P(()=>{var ne,re;if(l.value.hide&&l.value.inverted)return 0;const V=((ne=r.value)==null?void 0:ne.contentHeight)??0,U=((re=r.value)==null?void 0:re.extensionHeight)??0;return V+U});function D(){l.value.hide?l.value.inverted?s.value=f.value>m.value:s.value=v.value||f.value<m.value:s.value=!0}He(f,D,{immediate:!0}),He(l,D);const{ssrBootStyles:O}=Pa(),{layoutItemStyles:H}=Ec({id:e.name,order:P(()=>parseInt(e.order,10)),position:Ne(e,"location"),layoutSize:I,elementSize:Xe(void 0),active:s,absolute:Ne(e,"absolute")});return Ue(()=>{const[V]=hy.filterProps(e);return L(hy,nt({ref:r,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...H.value,"--v-toolbar-image-opacity":A.value,height:void 0,...O.value},e.style]},V,{collapse:x.value,flat:E.value}),i)}),{}}});const QB=[null,"default","comfortable","compact"],jn=Se({density:{type:String,default:"default",validator:e=>QB.includes(e)}},"density");function Ii(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uo();return{densityClasses:P(()=>`${t}--density-${e.density}`)}}const JB=["elevated","flat","tonal","outlined","text","plain"];function Oa(e,t){return L(Ht,null,[e&&L("span",{key:"overlay",class:`${t}__overlay`},null),L("span",{key:"underlay",class:`${t}__underlay`},null)])}const wr=Se({color:String,variant:{type:String,default:"elevated",validator:e=>JB.includes(e)}},"variant");function Da(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uo();const i=P(()=>{const{variant:l}=Zt(e);return`${t}--variant-${l}`}),{colorClasses:r,colorStyles:s}=V0(P(()=>{const{variant:l,color:u}=Zt(e);return{[["elevated","flat"].includes(l)?"background":"text"]:u}}));return{colorClasses:r,colorStyles:s,variantClasses:i}}const _A=Se({divided:Boolean,...or(),...et(),...jn(),...Hn(),...pn(),...It(),...Gt(),...wr()},"v-btn-group"),fy=Oe()({name:"VBtnGroup",props:_A(),setup(e,t){let{slots:i}=t;const{themeClasses:r}=Jt(e),{densityClasses:s}=Ii(e),{borderClasses:l}=yr(e),{elevationClasses:u}=li(e),{roundedClasses:f}=En(e);Fn({VBtn:{height:"auto",color:Ne(e,"color"),density:Ne(e,"density"),flat:!0,variant:Ne(e,"variant")}}),Ue(()=>L(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},r.value,l.value,s.value,u.value,f.value,e.class],style:e.style},i))}}),Sc=Se({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Tc=Se({value:null,disabled:Boolean,selectedClass:String},"group-item");function Ac(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=ai("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=Ci();bn(Symbol.for(`${t.description}:id`),s);const l=Bt(t,null);if(!l){if(!i)return l;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const u=Ne(e,"value"),f=P(()=>l.disabled.value||e.disabled);l.register({id:s,value:u,disabled:f},r),xn(()=>{l.unregister(s)});const m=P(()=>l.isSelected(s)),v=P(()=>m.value&&[l.selectedClass.value,e.selectedClass]);return He(m,w=>{r.emit("group:selected",{value:w})}),{id:s,isSelected:m,toggle:()=>l.select(s,!m.value),select:w=>l.select(s,w),selectedClass:v,value:u,disabled:f,group:l}}function Na(e,t){let i=!1;const r=wn([]),s=Mt(e,"modelValue",[],E=>E==null?[]:xA(r,dr(E)),E=>{const A=eF(r,E);return e.multiple?A:A[0]}),l=ai("useGroup");function u(E,A){const I=E,D=Symbol.for(`${t.description}:id`),H=rd(D,l==null?void 0:l.vnode).indexOf(A);H>-1?r.splice(H,0,I):r.push(I)}function f(E){if(i)return;m();const A=r.findIndex(I=>I.id===E);r.splice(A,1)}function m(){const E=r.find(A=>!A.disabled);E&&e.mandatory==="force"&&!s.value.length&&(s.value=[E.id])}Qn(()=>{m()}),xn(()=>{i=!0});function v(E,A){const I=r.find(D=>D.id===E);if(!(A&&(I!=null&&I.disabled)))if(e.multiple){const D=s.value.slice(),O=D.findIndex(V=>V===E),H=~O;if(A=A??!H,H&&e.mandatory&&D.length<=1||!H&&e.max!=null&&D.length+1>e.max)return;O<0&&A?D.push(E):O>=0&&!A&&D.splice(O,1),s.value=D}else{const D=s.value.includes(E);if(e.mandatory&&D)return;s.value=A??!D?[E]:[]}}function w(E){if(e.multiple,s.value.length){const A=s.value[0],I=r.findIndex(H=>H.id===A);let D=(I+E)%r.length,O=r[D];for(;O.disabled&&D!==I;)D=(D+E)%r.length,O=r[D];if(O.disabled)return;s.value=[r[D].id]}else{const A=r.find(I=>!I.disabled);A&&(s.value=[A.id])}}const x={register:u,unregister:f,selected:s,select:v,disabled:Ne(e,"disabled"),prev:()=>w(r.length-1),next:()=>w(1),isSelected:E=>s.value.includes(E),selectedClass:P(()=>e.selectedClass),items:P(()=>r),getItemIndex:E=>ZB(r,E)};return bn(t,x),x}function ZB(e,t){const i=xA(e,[t]);return i.length?e.findIndex(r=>r.id===i[0]):-1}function xA(e,t){const i=[];return t.forEach(r=>{const s=e.find(u=>Ra(r,u.value)),l=e[r];(s==null?void 0:s.value)!=null?i.push(s.id):l!=null&&i.push(l.id)}),i}function eF(e,t){const i=[];return t.forEach(r=>{const s=e.findIndex(l=>l.id===r);if(~s){const l=e[s];i.push(l.value!=null?l.value:s)}}),i}const B0=Symbol.for("vuetify:v-btn-toggle"),tF=Se({..._A(),...Sc()},"v-btn-toggle"),nF=Oe()({name:"VBtnToggle",props:tF(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const{isSelected:r,next:s,prev:l,select:u,selected:f}=Na(e,B0);return Ue(()=>{const[m]=fy.filterProps(e);return L(fy,nt({class:["v-btn-toggle",e.class]},m,{style:e.style}),{default:()=>{var v;return[(v=i.default)==null?void 0:v.call(i,{isSelected:r,next:s,prev:l,select:u,selected:f})]}})}),{next:s,prev:l,select:u}}});const iF=["x-small","small","default","large","x-large"],Ho=Se({size:{type:[String,Number],default:"default"}},"size");function Cc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uo();return E0(()=>{let i,r;return rp(iF,e.size)?i=`${t}--size-${e.size}`:e.size&&(r={width:at(e.size),height:at(e.size)}),{sizeClasses:i,sizeStyles:r}})}const rF=Se({color:String,start:Boolean,end:Boolean,icon:St,...et(),...Ho(),...It({tag:"i"}),...Gt()},"v-icon"),ln=Oe()({name:"VIcon",props:rF(),setup(e,t){let{attrs:i,slots:r}=t;const s=Ce(),{themeClasses:l}=Jt(e),{iconData:u}=vB(P(()=>s.value||e.icon)),{sizeClasses:f}=Cc(e),{textColorClasses:m,textColorStyles:v}=Ei(Ne(e,"color"));return Ue(()=>{var x,E;const w=(x=r.default)==null?void 0:x.call(r);return w&&(s.value=(E=w.filter(A=>A.type===HL&&A.children&&typeof A.children=="string")[0])==null?void 0:E.children),L(u.value.component,{tag:e.tag,icon:u.value.icon,class:["v-icon","notranslate",l.value,f.value,m.value,{"v-icon--clickable":!!i.onClick,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[f.value?void 0:{fontSize:at(e.size),height:at(e.size),width:at(e.size)},v.value,e.style],role:i.onClick?"button":void 0,"aria-hidden":!i.onClick},{default:()=>[w]})}),{}}});function F0(e,t){const i=Ce(),r=Xe(!1);if(k0){const s=new IntersectionObserver(l=>{e==null||e(l,s),r.value=!!l.find(u=>u.isIntersecting)},t);xn(()=>{s.disconnect()}),He(i,(l,u)=>{u&&(s.unobserve(u),r.value=!1),l&&s.observe(l)},{flush:"post"})}return{intersectionRef:i,isIntersecting:r}}const oF=Se({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...et(),...Ho(),...It({tag:"div"}),...Gt()},"v-progress-circular"),U0=Oe()({name:"VProgressCircular",props:oF(),setup(e,t){let{slots:i}=t;const r=20,s=2*Math.PI*r,l=Ce(),{themeClasses:u}=Jt(e),{sizeClasses:f,sizeStyles:m}=Cc(e),{textColorClasses:v,textColorStyles:w}=Ei(Ne(e,"color")),{textColorClasses:x,textColorStyles:E}=Ei(Ne(e,"bgColor")),{intersectionRef:A,isIntersecting:I}=F0(),{resizeRef:D,contentRect:O}=uo(),H=P(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),V=P(()=>Number(e.width)),U=P(()=>m.value?Number(e.size):O.value?O.value.width:Math.max(V.value,32)),ne=P(()=>r/(1-V.value/U.value)*2),re=P(()=>V.value/U.value*ne.value),ee=P(()=>at((100-H.value)/100*s));return ir(()=>{A.value=l.value,D.value=l.value}),Ue(()=>L(e.tag,{ref:l,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":I.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},u.value,f.value,v.value,e.class],style:[m.value,w.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:H.value},{default:()=>[L("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${ne.value} ${ne.value}`},[L("circle",{class:["v-progress-circular__underlay",x.value],style:E.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":re.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),L("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":re.value,"stroke-dasharray":s,"stroke-dashoffset":ee.value},null)]),i.default&&L("div",{class:"v-progress-circular__content"},[i.default({value:H.value})])]})),{}}});const py=Symbol("rippleStop"),sF=80;function h1(e,t){e.style.transform=t,e.style.webkitTransform=t}function my(e){return e.constructor.name==="TouchEvent"}function EA(e){return e.constructor.name==="KeyboardEvent"}const aF=function(e,t){var x;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,s=0;if(!EA(e)){const E=t.getBoundingClientRect(),A=my(e)?e.touches[e.touches.length-1]:e;r=A.clientX-E.left,s=A.clientY-E.top}let l=0,u=.3;(x=t._ripple)!=null&&x.circle?(u=.15,l=t.clientWidth/2,l=i.center?l:l+Math.sqrt((r-l)**2+(s-l)**2)/4):l=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const f=`${(t.clientWidth-l*2)/2}px`,m=`${(t.clientHeight-l*2)/2}px`,v=i.center?f:`${r-l}px`,w=i.center?m:`${s-l}px`;return{radius:l,scale:u,x:v,y:w,centerX:f,centerY:m}},lp={show(e,t){var A;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((A=t==null?void 0:t._ripple)!=null&&A.enabled))return;const r=document.createElement("span"),s=document.createElement("span");r.appendChild(s),r.className="v-ripple__container",i.class&&(r.className+=` ${i.class}`);const{radius:l,scale:u,x:f,y:m,centerX:v,centerY:w}=aF(e,t,i),x=`${l*2}px`;s.className="v-ripple__animation",s.style.width=x,s.style.height=x,t.appendChild(r);const E=window.getComputedStyle(t);E&&E.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),h1(s,`translate(${f}, ${m}) scale3d(${u},${u},${u})`),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),h1(s,`translate(${v}, ${w}) scale3d(1,1,1)`)},0)},hide(e){var l;if(!((l=e==null?void 0:e._ripple)!=null&&l.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const i=t[t.length-1];if(i.dataset.isHiding)return;i.dataset.isHiding="true";const r=performance.now()-Number(i.dataset.activated),s=Math.max(250-r,0);setTimeout(()=>{i.classList.remove("v-ripple__animation--in"),i.classList.add("v-ripple__animation--out"),setTimeout(()=>{var f;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((f=i.parentNode)==null?void 0:f.parentNode)===e&&e.removeChild(i.parentNode)},300)},s)}};function SA(e){return typeof e>"u"||!!e}function xd(e){const t={},i=e.currentTarget;if(!(!(i!=null&&i._ripple)||i._ripple.touched||e[py])){if(e[py]=!0,my(e))i._ripple.touched=!0,i._ripple.isTouch=!0;else if(i._ripple.isTouch)return;if(t.center=i._ripple.centered||EA(e),i._ripple.class&&(t.class=i._ripple.class),my(e)){if(i._ripple.showTimerCommit)return;i._ripple.showTimerCommit=()=>{lp.show(e,i,t)},i._ripple.showTimer=window.setTimeout(()=>{var r;(r=i==null?void 0:i._ripple)!=null&&r.showTimerCommit&&(i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null)},sF)}else lp.show(e,i,t)}}function f1(e){e[py]=!0}function Zi(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{Zi(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),lp.hide(t)}}function TA(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let Ed=!1;function AA(e){!Ed&&(e.keyCode===Dx.enter||e.keyCode===Dx.space)&&(Ed=!0,xd(e))}function CA(e){Ed=!1,Zi(e)}function MA(e){Ed&&(Ed=!1,Zi(e))}function IA(e,t,i){const{value:r,modifiers:s}=t,l=SA(r);if(l||lp.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=l,e._ripple.centered=s.center,e._ripple.circle=s.circle,ty(r)&&r.class&&(e._ripple.class=r.class),l&&!i){if(s.stop){e.addEventListener("touchstart",f1,{passive:!0}),e.addEventListener("mousedown",f1);return}e.addEventListener("touchstart",xd,{passive:!0}),e.addEventListener("touchend",Zi,{passive:!0}),e.addEventListener("touchmove",TA,{passive:!0}),e.addEventListener("touchcancel",Zi),e.addEventListener("mousedown",xd),e.addEventListener("mouseup",Zi),e.addEventListener("mouseleave",Zi),e.addEventListener("keydown",AA),e.addEventListener("keyup",CA),e.addEventListener("blur",MA),e.addEventListener("dragstart",Zi,{passive:!0})}else!l&&i&&RA(e)}function RA(e){e.removeEventListener("mousedown",xd),e.removeEventListener("touchstart",xd),e.removeEventListener("touchend",Zi),e.removeEventListener("touchmove",TA),e.removeEventListener("touchcancel",Zi),e.removeEventListener("mouseup",Zi),e.removeEventListener("mouseleave",Zi),e.removeEventListener("keydown",AA),e.removeEventListener("keyup",CA),e.removeEventListener("dragstart",Zi),e.removeEventListener("blur",MA)}function lF(e,t){IA(e,t,!1)}function cF(e){delete e._ripple,RA(e)}function uF(e,t){if(t.value===t.oldValue)return;const i=SA(t.oldValue);IA(e,t,i)}const Ss={mounted:lF,unmounted:cF,updated:uF};const p1={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Ts=Se({location:String},"location");function As(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=Mi();return{locationStyles:P(()=>{if(!e.location)return{};const{side:l,align:u}=iy(e.location.split(" ").length>1?e.location:`${e.location} center`,r.value);function f(v){return i?i(v):0}const m={};return l!=="center"&&(t?m[p1[l]]=`calc(100% - ${f(l)}px)`:m[l]=0),u!=="center"?t?m[p1[u]]=`calc(100% - ${f(u)}px)`:m[u]=0:(l==="center"?m.top=m.left="50%":m[{top:"left",bottom:"left",left:"top",right:"top"}[l]]="50%",m.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[l]),m})}}const dF=Se({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...et(),...Ts({location:"top"}),...pn(),...It(),...Gt()},"v-progress-linear"),z0=Oe()({name:"VProgressLinear",props:dF(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Mt(e,"modelValue"),{isRtl:s,rtlClasses:l}=Mi(),{themeClasses:u}=Jt(e),{locationStyles:f}=As(e),{textColorClasses:m,textColorStyles:v}=Ei(e,"color"),{backgroundColorClasses:w,backgroundColorStyles:x}=Ln(P(()=>e.bgColor||e.color)),{backgroundColorClasses:E,backgroundColorStyles:A}=Ln(e,"color"),{roundedClasses:I}=En(e),{intersectionRef:D,isIntersecting:O}=F0(),H=P(()=>parseInt(e.max,10)),V=P(()=>parseInt(e.height,10)),U=P(()=>parseFloat(e.bufferValue)/H.value*100),ne=P(()=>parseFloat(r.value)/H.value*100),re=P(()=>s.value!==e.reverse),ee=P(()=>e.indeterminate?"fade-transition":"slide-x-transition"),Z=P(()=>e.bgOpacity==null?e.bgOpacity:parseFloat(e.bgOpacity));function X(B){if(!D.value)return;const{left:G,right:q,width:Y}=D.value.getBoundingClientRect(),fe=re.value?Y-B.clientX+(q-Y):B.clientX-G;r.value=Math.round(fe/Y*H.value)}return Ue(()=>L(e.tag,{ref:D,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&O.value,"v-progress-linear--reverse":re.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},I.value,u.value,l.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?at(V.value):0,"--v-progress-linear-height":at(V.value),...f.value},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:ne.value,onClick:e.clickable&&X},{default:()=>[e.stream&&L("div",{key:"stream",class:["v-progress-linear__stream",m.value],style:{...v.value,[re.value?"left":"right"]:at(-V.value),borderTop:`${at(V.value/2)} dotted`,opacity:Z.value,top:`calc(50% - ${at(V.value/4)})`,width:at(100-U.value,"%"),"--v-progress-linear-stream-to":at(V.value*(re.value?1:-1))}},null),L("div",{class:["v-progress-linear__background",w.value],style:[x.value,{opacity:Z.value,width:at(e.stream?U.value:100,"%")}]},null),L(Wi,{name:ee.value},{default:()=>[e.indeterminate?L("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(B=>L("div",{key:B,class:["v-progress-linear__indeterminate",B,E.value],style:A.value},null))]):L("div",{class:["v-progress-linear__determinate",E.value],style:[A.value,{width:at(ne.value,"%")}]},null)]}),i.default&&L("div",{class:"v-progress-linear__content"},[i.default({value:ne.value,buffer:U.value})])]})),{}}}),H0=Se({loading:[Boolean,String]},"loader");function qp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uo();return{loaderClasses:P(()=>({[`${t}--loading`]:e.loading}))}}function j0(e,t){var r;let{slots:i}=t;return L("div",{class:`${e.name}__loader`},[((r=i.default)==null?void 0:r.call(i,{color:e.color,isActive:e.active}))||L(z0,{active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const hF=["static","relative","fixed","absolute","sticky"],Mc=Se({position:{type:String,validator:e=>hF.includes(e)}},"position");function Ic(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uo();return{positionClasses:P(()=>e.position?`${t}--${e.position}`:void 0)}}function kA(){var e,t;return(t=(e=ai("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function Qd(e,t){const i=pS("RouterLink"),r=P(()=>!!(e.href||e.to)),s=P(()=>(r==null?void 0:r.value)||Fx(t,"click")||Fx(e,"click"));if(typeof i=="string")return{isLink:r,isClickable:s,href:Ne(e,"href")};const l=e.to?i.useLink(e):void 0;return{isLink:r,isClickable:s,route:l==null?void 0:l.route,navigate:l==null?void 0:l.navigate,isActive:l&&P(()=>{var u,f;return e.exact?(u=l.isExactActive)==null?void 0:u.value:(f=l.isActive)==null?void 0:f.value}),href:P(()=>e.to?l==null?void 0:l.route.value.href:e.href)}}const Jd=Se({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Jv=!1;function fF(e,t){let i=!1,r,s;kn&&(kt(()=>{window.addEventListener("popstate",l),r=e==null?void 0:e.beforeEach((u,f,m)=>{Jv?i?t(m):m():setTimeout(()=>i?t(m):m()),Jv=!0}),s=e==null?void 0:e.afterEach(()=>{Jv=!1})}),Gi(()=>{window.removeEventListener("popstate",l),r==null||r(),s==null||s()}));function l(u){var f;(f=u.state)!=null&&f.replaced||(i=!0,setTimeout(()=>i=!1))}}function pF(e,t){He(()=>{var i;return(i=e.isActive)==null?void 0:i.value},i=>{e.isLink.value&&i&&t&&kt(()=>{t(!0)})},{immediate:!0})}const G0=Se({active:{type:Boolean,default:void 0},symbol:{type:null,default:B0},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:St,appendIcon:St,block:Boolean,stacked:Boolean,ripple:{type:Boolean,default:!0},text:String,...or(),...et(),...jn(),...vr(),...Hn(),...Tc(),...H0(),...Ts(),...Mc(),...pn(),...Jd(),...Ho(),...It({tag:"button"}),...Gt(),...wr({variant:"elevated"})},"v-btn"),Oi=Oe()({name:"VBtn",directives:{Ripple:Ss},props:G0(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:i,slots:r}=t;const{themeClasses:s}=Jt(e),{borderClasses:l}=yr(e),{colorClasses:u,colorStyles:f,variantClasses:m}=Da(e),{densityClasses:v}=Ii(e),{dimensionStyles:w}=gr(e),{elevationClasses:x}=li(e),{loaderClasses:E}=qp(e),{locationStyles:A}=As(e),{positionClasses:I}=Ic(e),{roundedClasses:D}=En(e),{sizeClasses:O,sizeStyles:H}=Cc(e),V=Ac(e,e.symbol,!1),U=Qd(e,i),ne=P(()=>{var B;return e.active!==void 0?e.active:U.isLink.value?(B=U.isActive)==null?void 0:B.value:V==null?void 0:V.isSelected.value}),re=P(()=>(V==null?void 0:V.disabled.value)||e.disabled),ee=P(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),Z=P(()=>{if(e.value!==void 0)return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function X(B){var G;re.value||((G=U.navigate)==null||G.call(U,B),V==null||V.toggle())}return pF(U,V==null?void 0:V.select),Ue(()=>{var de,g;const B=U.isLink.value?"a":e.tag,G=!!(e.prependIcon||r.prepend),q=!!(e.appendIcon||r.append),Y=!!(e.icon&&e.icon!==!0),fe=(V==null?void 0:V.isSelected.value)&&(!U.isLink.value||((de=U.isActive)==null?void 0:de.value))||!V||((g=U.isActive)==null?void 0:g.value);return un(L(B,{type:B==="a"?void 0:"button",class:["v-btn",V==null?void 0:V.selectedClass.value,{"v-btn--active":ne.value,"v-btn--block":e.block,"v-btn--disabled":re.value,"v-btn--elevated":ee.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--stacked":e.stacked},s.value,l.value,fe?u.value:void 0,v.value,x.value,E.value,I.value,D.value,O.value,m.value,e.class],style:[fe?f.value:void 0,w.value,A.value,H.value,e.style],disabled:re.value||void 0,href:U.href.value,onClick:X,value:Z.value},{default:()=>{var T;return[Oa(!0,"v-btn"),!e.icon&&G&&L("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?L(rn,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},r.prepend):L(ln,{key:"prepend-icon",icon:e.prependIcon},null)]),L("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&Y?L(ln,{key:"content-icon",icon:e.icon},null):L(rn,{key:"content-defaults",disabled:!Y,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var R;return[((R=r.default)==null?void 0:R.call(r))??e.text]}})]),!e.icon&&q&&L("span",{key:"append",class:"v-btn__append"},[r.append?L(rn,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},r.append):L(ln,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&L("span",{key:"loader",class:"v-btn__loader"},[((T=r.loader)==null?void 0:T.call(r))??L(U0,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[$i("ripple"),!re.value&&e.ripple,null]])}),{}}}),mF=Se({...G0({icon:"$menu",variant:"text"})},"v-app-bar-nav-icon"),vF=Oe()({name:"VAppBarNavIcon",props:mF(),setup(e,t){let{slots:i}=t;return Ue(()=>L(Oi,nt(e,{class:["v-app-bar-nav-icon"]}),i)),{}}}),gF=Oe()({name:"VAppBarTitle",props:wA(),setup(e,t){let{slots:i}=t;return Ue(()=>L(N0,nt(e,{class:"v-app-bar-title"}),i)),{}}});const LA=Fr("v-alert-title"),yF=["success","info","warning","error"],wF=Se({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:St,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>yF.includes(e)},...et(),...jn(),...vr(),...Hn(),...Ts(),...Mc(),...pn(),...It(),...Gt(),...wr({variant:"flat"})},"v-alert"),bF=Oe()({name:"VAlert",props:wF(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:i,slots:r}=t;const s=Mt(e,"modelValue"),l=P(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),u=P(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:f}=Jt(e),{colorClasses:m,colorStyles:v,variantClasses:w}=Da(u),{densityClasses:x}=Ii(e),{dimensionStyles:E}=gr(e),{elevationClasses:A}=li(e),{locationStyles:I}=As(e),{positionClasses:D}=Ic(e),{roundedClasses:O}=En(e),{textColorClasses:H,textColorStyles:V}=Ei(Ne(e,"borderColor")),{t:U}=mr(),ne=P(()=>({"aria-label":U(e.closeLabel),onClick(re){s.value=!1,i("click:close",re)}}));return()=>{const re=!!(r.prepend||l.value),ee=!!(r.title||e.title),Z=!!(r.close||e.closable);return s.value&&L(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},f.value,m.value,x.value,A.value,D.value,O.value,w.value,e.class],style:[v.value,E.value,I.value,e.style],role:"alert"},{default:()=>{var X,B;return[Oa(!1,"v-alert"),e.border&&L("div",{key:"border",class:["v-alert__border",H.value],style:V.value},null),re&&L("div",{key:"prepend",class:"v-alert__prepend"},[r.prepend?L(rn,{key:"prepend-defaults",disabled:!l.value,defaults:{VIcon:{density:e.density,icon:l.value,size:e.prominent?44:28}}},r.prepend):L(ln,{key:"prepend-icon",density:e.density,icon:l.value,size:e.prominent?44:28},null)]),L("div",{class:"v-alert__content"},[ee&&L(LA,{key:"title"},{default:()=>{var G;return[((G=r.title)==null?void 0:G.call(r))??e.title]}}),((X=r.text)==null?void 0:X.call(r))??e.text,(B=r.default)==null?void 0:B.call(r)]),r.append&&L("div",{key:"append",class:"v-alert__append"},[r.append()]),Z&&L("div",{key:"close",class:"v-alert__close"},[r.close?L(rn,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var G;return[(G=r.close)==null?void 0:G.call(r,{props:ne.value})]}}):L(Oi,nt({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},ne.value),null)])]}})}}});function PA(e){const{t}=mr();function i(r){let{name:s}=r;const l={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[s],u=e[`onClick:${s}`],f=u&&l?t(`$vuetify.input.${l}`,e.label??""):void 0;return L(ln,{icon:e[`${s}Icon`],"aria-label":f,onClick:u},null)}return{InputIcon:i}}const _F=Se({text:String,clickable:Boolean,...et(),...Gt()},"v-label"),Rc=Oe()({name:"VLabel",props:_F(),setup(e,t){let{slots:i}=t;return Ue(()=>{var r;return L("label",{class:["v-label",{"v-label--clickable":e.clickable},e.class],style:e.style},[e.text,(r=i.default)==null?void 0:r.call(i)])}),{}}}),xF=Se({floating:Boolean,...et()},"v-field-label"),Gu=Oe()({name:"VFieldLabel",props:xF(),setup(e,t){let{slots:i}=t;return Ue(()=>L(Rc,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},i)),{}}}),Yp=Se({focused:Boolean,"onUpdate:focused":ro()},"focus");function Cs(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uo();const i=Mt(e,"focused"),r=P(()=>({[`${t}--focused`]:i.value}));function s(){i.value=!0}function l(){i.value=!1}return{focusClasses:r,isFocused:i,focus:s,blur:l}}const EF=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Xp=Se({appendInnerIcon:St,bgColor:String,clearable:Boolean,clearIcon:{type:St,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:St,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>EF.includes(e)},"onClick:clear":ro(),"onClick:appendInner":ro(),"onClick:prependInner":ro(),...et(),...H0(),...pn(),...Gt()},"v-field"),Zd=Oe()({name:"VField",inheritAttrs:!1,props:{id:String,...Yp(),...Xp()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:i,emit:r,slots:s}=t;const{themeClasses:l}=Jt(e),{loaderClasses:u}=qp(e),{focusClasses:f,isFocused:m,focus:v,blur:w}=Cs(e),{InputIcon:x}=PA(e),{roundedClasses:E}=En(e),{rtlClasses:A}=Mi(),I=P(()=>e.dirty||e.active),D=P(()=>!e.singleLine&&!!(e.label||s.label)),O=Ci(),H=P(()=>e.id||`input-${O}`),V=P(()=>`${H.value}-messages`),U=Ce(),ne=Ce(),re=Ce(),ee=P(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:Z,backgroundColorStyles:X}=Ln(Ne(e,"bgColor")),{textColorClasses:B,textColorStyles:G}=Ei(P(()=>e.error||e.disabled?void 0:I.value&&m.value?e.color:e.baseColor));He(I,fe=>{if(D.value){const de=U.value.$el,g=ne.value.$el;requestAnimationFrame(()=>{const T=A0(de),R=g.getBoundingClientRect(),S=R.x-T.x,N=R.y-T.y-(T.height/2-R.height/2),$=R.width/.75,ce=Math.abs($-T.width)>1?{maxWidth:at($)}:void 0,le=getComputedStyle(de),ie=getComputedStyle(g),Le=parseFloat(le.transitionDuration)*1e3||150,me=parseFloat(ie.getPropertyValue("--v-field-label-scale")),W=ie.getPropertyValue("color");de.style.visibility="visible",g.style.visibility="hidden",aa(de,{transform:`translate(${S}px, ${N}px) scale(${me})`,color:W,...ce},{duration:Le,easing:bd,direction:fe?"normal":"reverse"}).finished.then(()=>{de.style.removeProperty("visibility"),g.style.removeProperty("visibility")})})}},{flush:"post"});const q=P(()=>({isActive:I,isFocused:m,controlRef:re,blur:w,focus:v}));function Y(fe){fe.target!==document.activeElement&&fe.preventDefault()}return Ue(()=>{var S,N,$;const fe=e.variant==="outlined",de=s["prepend-inner"]||e.prependInnerIcon,g=!!(e.clearable||s.clear),T=!!(s["append-inner"]||e.appendInnerIcon||g),R=s.label?s.label({...q.value,label:e.label,props:{for:H.value}}):e.label;return L("div",nt({class:["v-field",{"v-field--active":I.value,"v-field--appended":T,"v-field--center-affix":e.centerAffix??!ee.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":de,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!R,[`v-field--variant-${e.variant}`]:!0},l.value,Z.value,f.value,u.value,E.value,A.value,e.class],style:[X.value,G.value,e.style],onClick:Y},i),[L("div",{class:"v-field__overlay"},null),L(j0,{name:"v-field",active:!!e.loading,color:e.error?"error":e.color},{default:s.loader}),de&&L("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&L(x,{key:"prepend-icon",name:"prependInner"},null),(S=s["prepend-inner"])==null?void 0:S.call(s,q.value)]),L("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&D.value&&L(Gu,{key:"floating-label",ref:ne,class:[B.value],floating:!0,for:H.value},{default:()=>[R]}),L(Gu,{ref:U,for:H.value},{default:()=>[R]}),(N=s.default)==null?void 0:N.call(s,{...q.value,props:{id:H.value,class:"v-field__input","aria-describedby":V.value},focus:v,blur:w})]),g&&L(D0,{key:"clear"},{default:()=>[un(L("div",{class:"v-field__clearable",onMousedown:ce=>{ce.preventDefault(),ce.stopPropagation()}},[s.clear?s.clear():L(x,{name:"clear"},null)]),[[fo,e.dirty]])]}),T&&L("div",{key:"append",class:"v-field__append-inner"},[($=s["append-inner"])==null?void 0:$.call(s,q.value),e.appendInnerIcon&&L(x,{key:"append-icon",name:"appendInner"},null)]),L("div",{class:["v-field__outline",B.value]},[fe&&L(Ht,null,[L("div",{class:"v-field__outline__start"},null),D.value&&L("div",{class:"v-field__outline__notch"},[L(Gu,{ref:ne,floating:!0,for:H.value},{default:()=>[R]})]),L("div",{class:"v-field__outline__end"},null)]),ee.value&&D.value&&L(Gu,{ref:ne,floating:!0,for:H.value},{default:()=>[R]})])])}),{controlRef:re}}});function W0(e){const t=Object.keys(Zd.props).filter(i=>!uV(i)&&i!=="class"&&i!=="style");return _c(e,t)}const SF=Se({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...et(),...zo({transition:{component:O0,leaveAbsolute:!0,group:!0}})},"v-messages"),OA=Oe()({name:"VMessages",props:SF(),setup(e,t){let{slots:i}=t;const r=P(()=>dr(e.messages)),{textColorClasses:s,textColorStyles:l}=Ei(P(()=>e.color));return Ue(()=>L(Or,{transition:e.transition,tag:"div",class:["v-messages",s.value,e.class],style:[l.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&r.value.map((u,f)=>L("div",{class:"v-messages__message",key:`${f}-${r.value}`},[i.message?i.message({message:u}):u]))]})),{}}}),DA=Symbol.for("vuetify:form"),TF=Se({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function AF(e){const t=Mt(e,"modelValue"),i=P(()=>e.disabled),r=P(()=>e.readonly),s=Xe(!1),l=Ce([]),u=Ce([]);async function f(){const w=[];let x=!0;u.value=[],s.value=!0;for(const E of l.value){const A=await E.validate();if(A.length>0&&(x=!1,w.push({id:E.id,errorMessages:A})),!x&&e.fastFail)break}return u.value=w,s.value=!1,{valid:x,errors:u.value}}function m(){l.value.forEach(w=>w.reset())}function v(){l.value.forEach(w=>w.resetValidation())}return He(l,()=>{let w=0,x=0;const E=[];for(const A of l.value)A.isValid===!1?(x++,E.push({id:A.id,errorMessages:A.errorMessages})):A.isValid===!0&&w++;u.value=E,t.value=x>0?!1:w===l.value.length?!0:null},{deep:!0}),bn(DA,{register:w=>{let{id:x,validate:E,reset:A,resetValidation:I}=w;l.value.some(D=>D.id===x),l.value.push({id:x,validate:E,reset:A,resetValidation:I,isValid:null,errorMessages:[]})},unregister:w=>{l.value=l.value.filter(x=>x.id!==w)},update:(w,x,E)=>{const A=l.value.find(I=>I.id===w);A&&(A.isValid=x,A.errorMessages=E)},isDisabled:i,isReadonly:r,isValidating:s,isValid:t,items:l,validateOn:Ne(e,"validateOn")}),{errors:u,isDisabled:i,isReadonly:r,isValidating:s,isValid:t,items:l,validate:f,reset:m,resetValidation:v}}function Kp(){return Bt(DA,null)}const NA=Se({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Yp()},"validation");function VA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uo(),i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ci();const r=Mt(e,"modelValue"),s=P(()=>e.validationValue===void 0?r.value:e.validationValue),l=Kp(),u=Ce([]),f=Xe(!0),m=P(()=>!!(dr(r.value===""?null:r.value).length||dr(s.value===""?null:s.value).length)),v=P(()=>!!(e.disabled??(l==null?void 0:l.isDisabled.value))),w=P(()=>!!(e.readonly??(l==null?void 0:l.isReadonly.value))),x=P(()=>e.errorMessages.length?dr(e.errorMessages).slice(0,Math.max(0,+e.maxErrors)):u.value),E=P(()=>{let ne=(e.validateOn??(l==null?void 0:l.validateOn.value))||"input";ne==="lazy"&&(ne="input lazy");const re=new Set((ne==null?void 0:ne.split(" "))??[]);return{blur:re.has("blur")||re.has("input"),input:re.has("input"),submit:re.has("submit"),lazy:re.has("lazy")}}),A=P(()=>e.error||e.errorMessages.length?!1:e.rules.length?f.value?u.value.length||E.value.lazy?null:!0:!u.value.length:!0),I=Xe(!1),D=P(()=>({[`${t}--error`]:A.value===!1,[`${t}--dirty`]:m.value,[`${t}--disabled`]:v.value,[`${t}--readonly`]:w.value})),O=P(()=>e.name??Zt(i));h0(()=>{l==null||l.register({id:O.value,validate:U,reset:H,resetValidation:V})}),xn(()=>{l==null||l.unregister(O.value)}),Qn(async()=>{E.value.lazy||await U(!0),l==null||l.update(O.value,A.value,x.value)}),gs(()=>E.value.input,()=>{He(s,()=>{if(s.value!=null)U();else if(e.focused){const ne=He(()=>e.focused,re=>{re||U(),ne()})}})}),gs(()=>E.value.blur,()=>{He(()=>e.focused,ne=>{ne||U()})}),He(A,()=>{l==null||l.update(O.value,A.value,x.value)});function H(){r.value=null,kt(V)}function V(){f.value=!0,E.value.lazy?u.value=[]:U(!0)}async function U(){let ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const re=[];I.value=!0;for(const ee of e.rules){if(re.length>=+(e.maxErrors??1))break;const X=await(typeof ee=="function"?ee:()=>ee)(s.value);if(X!==!0){if(typeof X!="string"){console.warn(`${X} is not a valid value. Rule functions must return boolean true or a string.`);continue}re.push(X)}}return u.value=re,I.value=!1,f.value=ne,u.value}return{errorMessages:x,isDirty:m,isDisabled:v,isReadonly:w,isPristine:f,isValid:A,isValidating:I,reset:H,resetValidation:V,validate:U,validationClasses:D}}const jo=Se({id:String,appendIcon:St,centerAffix:{type:Boolean,default:!0},prependIcon:St,hideDetails:[Boolean,String],hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":ro(),"onClick:append":ro(),...et(),...jn(),...NA()},"v-input"),si=Oe()({name:"VInput",props:{...jo()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:i,slots:r,emit:s}=t;const{densityClasses:l}=Ii(e),{InputIcon:u}=PA(e),f=Ci(),m=P(()=>e.id||`input-${f}`),v=P(()=>`${m.value}-messages`),{errorMessages:w,isDirty:x,isDisabled:E,isReadonly:A,isPristine:I,isValid:D,isValidating:O,reset:H,resetValidation:V,validate:U,validationClasses:ne}=VA(e,"v-input",m),re=P(()=>({id:m,messagesId:v,isDirty:x,isDisabled:E,isReadonly:A,isPristine:I,isValid:D,isValidating:O,reset:H,resetValidation:V,validate:U})),ee=P(()=>!I.value&&w.value.length>0?w.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages);return Ue(()=>{var q,Y,fe,de;const Z=!!(r.prepend||e.prependIcon),X=!!(r.append||e.appendIcon),B=ee.value.length>0,G=!e.hideDetails||e.hideDetails==="auto"&&(B||!!r.details);return L("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix},l.value,ne.value,e.class],style:e.style},[Z&&L("div",{key:"prepend",class:"v-input__prepend"},[(q=r.prepend)==null?void 0:q.call(r,re.value),e.prependIcon&&L(u,{key:"prepend-icon",name:"prepend"},null)]),r.default&&L("div",{class:"v-input__control"},[(Y=r.default)==null?void 0:Y.call(r,re.value)]),X&&L("div",{key:"append",class:"v-input__append"},[e.appendIcon&&L(u,{key:"append-icon",name:"append"},null),(fe=r.append)==null?void 0:fe.call(r,re.value)]),G&&L("div",{class:"v-input__details"},[L(OA,{id:v.value,active:B,messages:ee.value},{message:r.message}),(de=r.details)==null?void 0:de.call(r,re.value)])])}),{reset:H,resetValidation:V,validate:U}}});const CF=Se({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...et(),...zo({transition:{component:O0}})},"v-counter"),Qp=Oe()({name:"VCounter",functional:!0,props:CF(),setup(e,t){let{slots:i}=t;const r=P(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return Ue(()=>L(Or,{transition:e.transition},{default:()=>[un(L("div",{class:["v-counter",e.class],style:e.style},[i.default?i.default({counter:r.value,max:e.max,value:e.value}):r.value]),[[fo,e.active]])]})),{}}}),Zv=Symbol("Forwarded refs");function eg(e,t){let i=e;for(;i;){const r=Reflect.getOwnPropertyDescriptor(i,t);if(r)return r;i=Object.getPrototypeOf(i)}}function Ur(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return e[Zv]=i,new Proxy(e,{get(s,l){if(Reflect.has(s,l))return Reflect.get(s,l);if(!(typeof l=="symbol"||l.startsWith("__"))){for(const u of i)if(u.value&&Reflect.has(u.value,l)){const f=Reflect.get(u.value,l);return typeof f=="function"?f.bind(u.value):f}}},has(s,l){if(Reflect.has(s,l))return!0;if(typeof l=="symbol"||l.startsWith("__"))return!1;for(const u of i)if(u.value&&Reflect.has(u.value,l))return!0;return!1},getOwnPropertyDescriptor(s,l){var f;const u=Reflect.getOwnPropertyDescriptor(s,l);if(u)return u;if(!(typeof l=="symbol"||l.startsWith("__"))){for(const m of i){if(!m.value)continue;const v=eg(m.value,l)??("_"in m.value?eg((f=m.value._)==null?void 0:f.setupState,l):void 0);if(v)return v}for(const m of i){const v=m.value&&m.value[Zv];if(!v)continue;const w=v.slice();for(;w.length;){const x=w.shift(),E=eg(x.value,l);if(E)return E;const A=x.value&&x.value[Zv];A&&w.push(...A)}}}}})}const MF=["color","file","time","date","datetime-local","week","month"],Jp=Se({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},modelModifiers:Object,...jo(),...Xp()},"v-text-field"),ya=Oe()({name:"VTextField",directives:{Intersect:Kd},inheritAttrs:!1,props:Jp(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:i,emit:r,slots:s}=t;const l=Mt(e,"modelValue"),{isFocused:u,focus:f,blur:m}=Cs(e),v=P(()=>typeof e.counterValue=="function"?e.counterValue(l.value):(l.value??"").toString().length),w=P(()=>{if(i.maxlength)return i.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),x=P(()=>["plain","underlined"].includes(e.variant));function E(ee,Z){var X,B;!e.autofocus||!ee||(B=(X=Z[0].target)==null?void 0:X.focus)==null||B.call(X)}const A=Ce(),I=Ce(),D=Ce(),O=P(()=>MF.includes(e.type)||e.persistentPlaceholder||u.value||e.active);function H(){var ee;D.value!==document.activeElement&&((ee=D.value)==null||ee.focus()),u.value||f()}function V(ee){r("mousedown:control",ee),ee.target!==D.value&&(H(),ee.preventDefault())}function U(ee){H(),r("click:control",ee)}function ne(ee){ee.stopPropagation(),H(),kt(()=>{l.value=null,S0(e["onClick:clear"],ee)})}function re(ee){var X;const Z=ee.target;if(l.value=Z.value,(X=e.modelModifiers)!=null&&X.trim&&["text","search","password","tel","url"].includes(e.type)){const B=[Z.selectionStart,Z.selectionEnd];kt(()=>{Z.selectionStart=B[0],Z.selectionEnd=B[1]})}}return Ue(()=>{const ee=!!(s.counter||e.counter||e.counterValue),Z=!!(ee||s.details),[X,B]=ka(i),[{modelValue:G,...q}]=si.filterProps(e),[Y]=W0(e);return L(si,nt({ref:A,modelValue:l.value,"onUpdate:modelValue":fe=>l.value=fe,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-text-field--plain-underlined":["plain","underlined"].includes(e.variant)},e.class],style:e.style},X,q,{centerAffix:!x.value,focused:u.value}),{...s,default:fe=>{let{id:de,isDisabled:g,isDirty:T,isReadonly:R,isValid:S}=fe;return L(Zd,nt({ref:I,onMousedown:V,onClick:U,"onClick:clear":ne,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},Y,{id:de.value,active:O.value||T.value,dirty:T.value||e.dirty,disabled:g.value,focused:u.value,error:S.value===!1}),{...s,default:N=>{let{props:{class:$,...ce}}=N;const le=un(L("input",nt({ref:D,value:l.value,onInput:re,autofocus:e.autofocus,readonly:R.value,disabled:g.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:H,onBlur:m},ce,B),null),[[$i("intersect"),{handler:E},null,{once:!0}]]);return L(Ht,null,[e.prefix&&L("span",{class:"v-text-field__prefix"},[e.prefix]),s.default?L("div",{class:$,"data-no-activator":""},[s.default(),le]):jL(le,{class:$}),e.suffix&&L("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:Z?fe=>{var de;return L(Ht,null,[(de=s.details)==null?void 0:de.call(s,fe),ee&&L(Ht,null,[L("span",null,null),L(Qp,{active:e.persistentCounter||u.value,value:v.value,max:w.value},s.counter)])])}:void 0})}),Ur({},A,I,D)}});const BA=Symbol.for("vuetify:selection-control-group"),$0=Se({color:String,disabled:Boolean,defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:St,trueIcon:St,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:Ra},...et(),...jn(),...Gt()},"selection-control-group"),IF=Se({...$0({defaultsTarget:"VSelectionControl"})},"v-selection-control-group"),FA=Oe()({name:"VSelectionControlGroup",props:IF(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Mt(e,"modelValue"),s=Ci(),l=P(()=>e.id||`v-selection-control-group-${s}`),u=P(()=>e.name||l.value),f=new Set;return bn(BA,{modelValue:r,forceUpdate:()=>{f.forEach(m=>m())},onForceUpdate:m=>{f.add(m),Gi(()=>{f.delete(m)})}}),Fn({[e.defaultsTarget]:{color:Ne(e,"color"),disabled:Ne(e,"disabled"),density:Ne(e,"density"),error:Ne(e,"error"),inline:Ne(e,"inline"),modelValue:r,multiple:P(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),name:u,falseIcon:Ne(e,"falseIcon"),trueIcon:Ne(e,"trueIcon"),readonly:Ne(e,"readonly"),ripple:Ne(e,"ripple"),type:Ne(e,"type"),valueComparator:Ne(e,"valueComparator")}}),Ue(()=>{var m;return L("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(m=i.default)==null?void 0:m.call(i)])}),{}}}),Zp=Se({label:String,trueValue:null,falseValue:null,value:null,...et(),...$0()},"v-selection-control");function RF(e){const t=Bt(BA,void 0),{densityClasses:i}=Ii(e),r=Mt(e,"modelValue"),s=P(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),l=P(()=>e.falseValue!==void 0?e.falseValue:!1),u=P(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),f=P({get(){const x=t?t.modelValue.value:r.value;return u.value?x.some(E=>e.valueComparator(E,s.value)):e.valueComparator(x,s.value)},set(x){if(e.readonly)return;const E=x?s.value:l.value;let A=E;u.value&&(A=x?[...dr(r.value),E]:dr(r.value).filter(I=>!e.valueComparator(I,s.value))),t?t.modelValue.value=A:r.value=A}}),{textColorClasses:m,textColorStyles:v}=Ei(P(()=>f.value&&!e.error&&!e.disabled?e.color:void 0)),w=P(()=>f.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:i,trueValue:s,falseValue:l,model:f,textColorClasses:m,textColorStyles:v,icon:w}}const lc=Oe()({name:"VSelectionControl",directives:{Ripple:Ss},inheritAttrs:!1,props:Zp(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:i,slots:r}=t;const{group:s,densityClasses:l,icon:u,model:f,textColorClasses:m,textColorStyles:v,trueValue:w}=RF(e),x=Ci(),E=P(()=>e.id||`input-${x}`),A=Xe(!1),I=Xe(!1),D=Ce();s==null||s.onForceUpdate(()=>{D.value&&(D.value.checked=f.value)});function O(U){A.value=!0,(!sy||sy&&U.target.matches(":focus-visible"))&&(I.value=!0)}function H(){A.value=!1,I.value=!1}function V(U){e.readonly&&s&&kt(()=>s.forceUpdate()),f.value=U.target.checked}return Ue(()=>{var ee,Z;const U=r.label?r.label({label:e.label,props:{for:E.value}}):e.label,[ne,re]=ka(i);return L("div",nt({class:["v-selection-control",{"v-selection-control--dirty":f.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":A.value,"v-selection-control--focus-visible":I.value,"v-selection-control--inline":e.inline},l.value,e.class]},ne,{style:e.style}),[L("div",{class:["v-selection-control__wrapper",m.value],style:v.value},[(ee=r.default)==null?void 0:ee.call(r),un(L("div",{class:["v-selection-control__input"]},[u.value&&L(ln,{key:"icon",icon:u.value},null),L("input",nt({ref:D,checked:f.value,disabled:e.disabled,id:E.value,onBlur:H,onFocus:O,onInput:V,"aria-disabled":e.readonly,type:e.type,value:w.value,name:e.name,"aria-checked":e.type==="checkbox"?f.value:void 0},re),null),(Z=r.input)==null?void 0:Z.call(r,{model:f,textColorClasses:m,textColorStyles:v,props:{onFocus:O,onBlur:H,id:E.value}})]),[[$i("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),U&&L(Rc,{for:E.value,clickable:!0},{default:()=>[U]})])}),{isFocused:A,input:D}}}),UA=Se({indeterminate:Boolean,indeterminateIcon:{type:St,default:"$checkboxIndeterminate"},...Zp({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),cc=Oe()({name:"VCheckboxBtn",props:UA(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:i}=t;const r=Mt(e,"indeterminate"),s=Mt(e,"modelValue");function l(m){r.value&&(r.value=!1)}const u=P(()=>r.value?e.indeterminateIcon:e.falseIcon),f=P(()=>r.value?e.indeterminateIcon:e.trueIcon);return Ue(()=>L(lc,nt(e,{modelValue:s.value,"onUpdate:modelValue":[m=>s.value=m,l],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:u.value,trueIcon:f.value,"aria-checked":r.value?"mixed":void 0}),i)),{}}}),kF=Se({...jo(),...po(UA(),["inline"])},"v-checkbox"),LF=Oe()({name:"VCheckbox",inheritAttrs:!1,props:kF(),emits:{"update:focused":e=>!0},setup(e,t){let{attrs:i,slots:r}=t;const{isFocused:s,focus:l,blur:u}=Cs(e),f=Ci(),m=P(()=>e.id||`checkbox-${f}`);return Ue(()=>{const[v,w]=ka(i),[x,E]=si.filterProps(e),[A,I]=cc.filterProps(e);return L(si,nt({class:["v-checkbox",e.class]},v,x,{id:m.value,focused:s.value,style:e.style}),{...r,default:D=>{let{id:O,messagesId:H,isDisabled:V,isReadonly:U}=D;return L(cc,nt(A,{id:O.value,"aria-describedby":H.value,disabled:V.value,readonly:U.value},w,{onFocus:l,onBlur:u}),r)}})}),{}}});const PF=Se({start:Boolean,end:Boolean,icon:St,image:String,...et(),...jn(),...pn(),...Ho(),...It(),...Gt(),...wr({variant:"flat"})},"v-avatar"),ys=Oe()({name:"VAvatar",props:PF(),setup(e,t){let{slots:i}=t;const{themeClasses:r}=Jt(e),{colorClasses:s,colorStyles:l,variantClasses:u}=Da(e),{densityClasses:f}=Ii(e),{roundedClasses:m}=En(e),{sizeClasses:v,sizeStyles:w}=Cc(e);return Ue(()=>L(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},r.value,s.value,f.value,m.value,v.value,u.value,e.class],style:[l.value,w.value,e.style]},{default:()=>{var x;return[e.image?L(ga,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?L(ln,{key:"icon",icon:e.icon},null):(x=i.default)==null?void 0:x.call(i),Oa(!1,"v-avatar")]}})),{}}});const zA=Symbol.for("vuetify:v-chip-group"),OF=Se({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Ra},...et(),...Sc({selectedClass:"v-chip--selected"}),...It(),...Gt(),...wr({variant:"tonal"})},"v-chip-group"),DF=Oe()({name:"VChipGroup",props:OF(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const{themeClasses:r}=Jt(e),{isSelected:s,select:l,next:u,prev:f,selected:m}=Na(e,zA);return Fn({VChip:{color:Ne(e,"color"),disabled:Ne(e,"disabled"),filter:Ne(e,"filter"),variant:Ne(e,"variant")}}),Ue(()=>L(e.tag,{class:["v-chip-group",{"v-chip-group--column":e.column},r.value,e.class],style:e.style},{default:()=>{var v;return[(v=i.default)==null?void 0:v.call(i,{isSelected:s,select:l,next:u,prev:f,selected:m.value})]}})),{}}}),NF=Se({activeClass:String,appendAvatar:String,appendIcon:St,closable:Boolean,closeIcon:{type:St,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:St,ripple:{type:Boolean,default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:ro(),onClickOnce:ro(),...or(),...et(),...jn(),...Hn(),...Tc(),...pn(),...Jd(),...Ho(),...It({tag:"span"}),...Gt(),...wr({variant:"tonal"})},"v-chip"),eh=Oe()({name:"VChip",directives:{Ripple:Ss},props:NF(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:i,emit:r,slots:s}=t;const{t:l}=mr(),{borderClasses:u}=yr(e),{colorClasses:f,colorStyles:m,variantClasses:v}=Da(e),{densityClasses:w}=Ii(e),{elevationClasses:x}=li(e),{roundedClasses:E}=En(e),{sizeClasses:A}=Cc(e),{themeClasses:I}=Jt(e),D=Mt(e,"modelValue"),O=Ac(e,zA,!1),H=Qd(e,i),V=P(()=>e.link!==!1&&H.isLink.value),U=P(()=>!e.disabled&&e.link!==!1&&(!!O||e.link||H.isClickable.value)),ne=P(()=>({"aria-label":l(e.closeLabel),onClick(Z){D.value=!1,r("click:close",Z)}}));function re(Z){var X;r("click",Z),U.value&&((X=H.navigate)==null||X.call(H,Z),O==null||O.toggle())}function ee(Z){(Z.key==="Enter"||Z.key===" ")&&(Z.preventDefault(),re(Z))}return()=>{const Z=H.isLink.value?"a":e.tag,X=!!(e.appendIcon||e.appendAvatar),B=!!(X||s.append),G=!!(s.close||e.closable),q=!!(s.filter||e.filter)&&O,Y=!!(e.prependIcon||e.prependAvatar),fe=!!(Y||s.prepend),de=!O||O.isSelected.value;return D.value&&un(L(Z,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":U.value,"v-chip--filter":q,"v-chip--pill":e.pill},I.value,u.value,de?f.value:void 0,w.value,x.value,E.value,A.value,v.value,O==null?void 0:O.selectedClass.value,e.class],style:[de?m.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:H.href.value,tabindex:U.value?0:void 0,onClick:re,onKeydown:U.value&&!V.value&&ee},{default:()=>{var g;return[Oa(U.value,"v-chip"),q&&L(D0,{key:"filter"},{default:()=>[un(L("div",{class:"v-chip__filter"},[s.filter?un(L(rn,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},null),[[$i("slot"),s.filter,"default"]]):L(ln,{key:"filter-icon",icon:e.filterIcon},null)]),[[fo,O.isSelected.value]])]}),fe&&L("div",{key:"prepend",class:"v-chip__prepend"},[s.prepend?L(rn,{key:"prepend-defaults",disabled:!Y,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},s.prepend):L(Ht,null,[e.prependIcon&&L(ln,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&L(ys,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),L("div",{class:"v-chip__content"},[((g=s.default)==null?void 0:g.call(s,{isSelected:O==null?void 0:O.isSelected.value,selectedClass:O==null?void 0:O.selectedClass.value,select:O==null?void 0:O.select,toggle:O==null?void 0:O.toggle,value:O==null?void 0:O.value.value,disabled:e.disabled}))??e.text]),B&&L("div",{key:"append",class:"v-chip__append"},[s.append?L(rn,{key:"append-defaults",disabled:!X,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},s.append):L(Ht,null,[e.appendIcon&&L(ln,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&L(ys,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),G&&L("div",nt({key:"close",class:"v-chip__close"},ne.value),[s.close?L(rn,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},s.close):L(ln,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[$i("ripple"),U.value&&e.ripple,null]])}}});const VF=Se({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...et(),...Gt()},"v-divider"),HA=Oe()({name:"VDivider",props:VF(),setup(e,t){let{attrs:i}=t;const{themeClasses:r}=Jt(e),{textColorClasses:s,textColorStyles:l}=Ei(Ne(e,"color")),u=P(()=>{const f={};return e.length&&(f[e.vertical?"maxHeight":"maxWidth"]=at(e.length)),e.thickness&&(f[e.vertical?"borderRightWidth":"borderTopWidth"]=at(e.thickness)),f});return Ue(()=>L("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},r.value,s.value,e.class],style:[u.value,l.value,e.style],"aria-orientation":!i.role||i.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${i.role||"separator"}`},null)),{}}}),vy=Symbol.for("vuetify:list");function jA(){const e=Bt(vy,{hasPrepend:Xe(!1),updateHasPrepend:()=>null}),t={hasPrepend:Xe(!1),updateHasPrepend:i=>{i&&(t.hasPrepend.value=i)}};return bn(vy,t),e}function GA(){return Bt(vy,null)}const BF={open:e=>{let{id:t,value:i,opened:r,parents:s}=e;if(i){const l=new Set;l.add(t);let u=s.get(t);for(;u!=null;)l.add(u),u=s.get(u);return l}else return r.delete(t),r},select:()=>null},WA={open:e=>{let{id:t,value:i,opened:r,parents:s}=e;if(i){let l=s.get(t);for(r.add(t);l!=null&&l!==t;)r.add(l),l=s.get(l);return r}else r.delete(t);return r},select:()=>null},FF={open:WA.open,select:e=>{let{id:t,value:i,opened:r,parents:s}=e;if(!i)return r;const l=[];let u=s.get(t);for(;u!=null;)l.push(u),u=s.get(u);return new Set(l)}},q0=e=>{const t={select:i=>{let{id:r,value:s,selected:l}=i;if(r=Yn(r),e&&!s){const u=Array.from(l.entries()).reduce((f,m)=>{let[v,w]=m;return w==="on"?[...f,v]:f},[]);if(u.length===1&&u[0]===r)return l}return l.set(r,s?"on":"off"),l},in:(i,r,s)=>{let l=new Map;for(const u of i||[])l=t.select({id:u,value:!0,selected:new Map(l),children:r,parents:s});return l},out:i=>{const r=[];for(const[s,l]of i.entries())l==="on"&&r.push(s);return r}};return t},$A=e=>{const t=q0(e);return{select:r=>{let{selected:s,id:l,...u}=r;l=Yn(l);const f=s.has(l)?new Map([[l,s.get(l)]]):new Map;return t.select({...u,id:l,selected:f})},in:(r,s,l)=>{let u=new Map;return r!=null&&r.length&&(u=t.in(r.slice(0,1),s,l)),u},out:(r,s,l)=>t.out(r,s,l)}},UF=e=>{const t=q0(e);return{select:r=>{let{id:s,selected:l,children:u,...f}=r;return s=Yn(s),u.has(s)?l:t.select({id:s,selected:l,children:u,...f})},in:t.in,out:t.out}},zF=e=>{const t=$A(e);return{select:r=>{let{id:s,selected:l,children:u,...f}=r;return s=Yn(s),u.has(s)?l:t.select({id:s,selected:l,children:u,...f})},in:t.in,out:t.out}},HF=e=>{const t={select:i=>{let{id:r,value:s,selected:l,children:u,parents:f}=i;r=Yn(r);const m=new Map(l),v=[r];for(;v.length;){const x=v.shift();l.set(x,s?"on":"off"),u.has(x)&&v.push(...u.get(x))}let w=f.get(r);for(;w;){const x=u.get(w),E=x.every(I=>l.get(I)==="on"),A=x.every(I=>!l.has(I)||l.get(I)==="off");l.set(w,E?"on":A?"off":"indeterminate"),w=f.get(w)}return e&&!s&&Array.from(l.entries()).reduce((E,A)=>{let[I,D]=A;return D==="on"?[...E,I]:E},[]).length===0?m:l},in:(i,r,s)=>{let l=new Map;for(const u of i||[])l=t.select({id:u,value:!0,selected:new Map(l),children:r,parents:s});return l},out:(i,r)=>{const s=[];for(const[l,u]of i.entries())u==="on"&&!r.has(l)&&s.push(l);return s}};return t},Sd=Symbol.for("vuetify:nested"),qA={id:Xe(),root:{register:()=>null,unregister:()=>null,parents:Ce(new Map),children:Ce(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:Ce(new Set),selected:Ce(new Map),selectedValues:Ce([])}},jF=Se({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),GF=e=>{let t=!1;const i=Ce(new Map),r=Ce(new Map),s=Mt(e,"opened",e.opened,x=>new Set(x),x=>[...x.values()]),l=P(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single-leaf":return zF(e.mandatory);case"leaf":return UF(e.mandatory);case"independent":return q0(e.mandatory);case"single-independent":return $A(e.mandatory);case"classic":default:return HF(e.mandatory)}}),u=P(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return FF;case"single":return BF;case"multiple":default:return WA}}),f=Mt(e,"selected",e.selected,x=>l.value.in(x,i.value,r.value),x=>l.value.out(x,i.value,r.value));xn(()=>{t=!0});function m(x){const E=[];let A=x;for(;A!=null;)E.unshift(A),A=r.value.get(A);return E}const v=ai("nested"),w={id:Xe(),root:{opened:s,selected:f,selectedValues:P(()=>{const x=[];for(const[E,A]of f.value.entries())A==="on"&&x.push(E);return x}),register:(x,E,A)=>{E&&x!==E&&r.value.set(x,E),A&&i.value.set(x,[]),E!=null&&i.value.set(E,[...i.value.get(E)||[],x])},unregister:x=>{if(t)return;i.value.delete(x);const E=r.value.get(x);if(E){const A=i.value.get(E)??[];i.value.set(E,A.filter(I=>I!==x))}r.value.delete(x),s.value.delete(x)},open:(x,E,A)=>{v.emit("click:open",{id:x,value:E,path:m(x),event:A});const I=u.value.open({id:x,value:E,opened:new Set(s.value),children:i.value,parents:r.value,event:A});I&&(s.value=I)},openOnSelect:(x,E,A)=>{const I=u.value.select({id:x,value:E,selected:new Map(f.value),opened:new Set(s.value),children:i.value,parents:r.value,event:A});I&&(s.value=I)},select:(x,E,A)=>{v.emit("click:select",{id:x,value:E,path:m(x),event:A});const I=l.value.select({id:x,value:E,selected:new Map(f.value),children:i.value,parents:r.value,event:A});I&&(f.value=I),w.root.openOnSelect(x,E,A)},children:i,parents:r}};return bn(Sd,w),w.root},YA=(e,t)=>{const i=Bt(Sd,qA),r=Symbol(Ci()),s=P(()=>e.value??r),l={...i,id:s,open:(u,f)=>i.root.open(s.value,u,f),openOnSelect:(u,f)=>i.root.openOnSelect(s.value,u,f),isOpen:P(()=>i.root.opened.value.has(s.value)),parent:P(()=>i.root.parents.value.get(s.value)),select:(u,f)=>i.root.select(s.value,u,f),isSelected:P(()=>i.root.selected.value.get(Yn(s.value))==="on"),isIndeterminate:P(()=>i.root.selected.value.get(s.value)==="indeterminate"),isLeaf:P(()=>!i.root.children.value.get(s.value)),isGroupActivator:i.isGroupActivator};return!i.isGroupActivator&&i.root.register(s.value,i.id.value,t),xn(()=>{!i.isGroupActivator&&i.root.unregister(s.value)}),t&&bn(Sd,l),l},WF=()=>{const e=Bt(Sd,qA);bn(Sd,{...e,isGroupActivator:!0})},$F=pr({name:"VListGroupActivator",setup(e,t){let{slots:i}=t;return WF(),()=>{var r;return(r=i.default)==null?void 0:r.call(i)}}}),qF=Se({activeColor:String,baseColor:String,color:String,collapseIcon:{type:St,default:"$collapse"},expandIcon:{type:St,default:"$expand"},prependIcon:St,appendIcon:St,fluid:Boolean,subgroup:Boolean,title:String,value:null,...et(),...It()},"v-list-group"),gy=Oe()({name:"VListGroup",props:qF(),setup(e,t){let{slots:i}=t;const{isOpen:r,open:s,id:l}=YA(Ne(e,"value"),!0),u=P(()=>`v-list-group--id-${String(l.value)}`),f=GA(),{isBooted:m}=Pa();function v(A){s(!r.value,A)}const w=P(()=>({onClick:v,class:"v-list-group__header",id:u.value})),x=P(()=>r.value?e.collapseIcon:e.expandIcon),E=P(()=>({VListItem:{active:r.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&x.value,appendIcon:e.appendIcon||!e.subgroup&&x.value,title:e.title,value:e.value}}));return Ue(()=>L(e.tag,{class:["v-list-group",{"v-list-group--prepend":f==null?void 0:f.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":r.value},e.class],style:e.style},{default:()=>[i.activator&&L(rn,{defaults:E.value},{default:()=>[L($F,null,{default:()=>[i.activator({props:w.value,isOpen:r.value})]})]}),L(Or,{transition:{component:$p},disabled:!m.value},{default:()=>{var A;return[un(L("div",{class:"v-list-group__items",role:"group","aria-labelledby":u.value},[(A=i.default)==null?void 0:A.call(i)]),[[fo,r.value]])]}})]})),{}}});const XA=Fr("v-list-item-subtitle"),KA=Fr("v-list-item-title"),YF=Se({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:St,baseColor:String,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:St,ripple:{type:Boolean,default:!0},subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:ro(),onClickOnce:ro(),...or(),...et(),...jn(),...vr(),...Hn(),...pn(),...Jd(),...It(),...Gt(),...wr({variant:"text"})},"v-list-item"),Po=Oe()({name:"VListItem",directives:{Ripple:Ss},props:YF(),emits:{click:e=>!0},setup(e,t){let{attrs:i,slots:r,emit:s}=t;const l=Qd(e,i),u=P(()=>e.value??l.href.value),{select:f,isSelected:m,isIndeterminate:v,isGroupActivator:w,root:x,parent:E,openOnSelect:A}=YA(u,!1),I=GA(),D=P(()=>{var S;return e.active!==!1&&(e.active||((S=l.isActive)==null?void 0:S.value)||m.value)}),O=P(()=>e.link!==!1&&l.isLink.value),H=P(()=>!e.disabled&&e.link!==!1&&(e.link||l.isClickable.value||e.value!=null&&!!I)),V=P(()=>e.rounded||e.nav),U=P(()=>e.color??e.activeColor),ne=P(()=>({color:D.value?U.value??e.baseColor:e.baseColor,variant:e.variant}));He(()=>{var S;return(S=l.isActive)==null?void 0:S.value},S=>{S&&E.value!=null&&x.open(E.value,!0),S&&A(S)},{immediate:!0});const{themeClasses:re}=Jt(e),{borderClasses:ee}=yr(e),{colorClasses:Z,colorStyles:X,variantClasses:B}=Da(ne),{densityClasses:G}=Ii(e),{dimensionStyles:q}=gr(e),{elevationClasses:Y}=li(e),{roundedClasses:fe}=En(V),de=P(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),g=P(()=>({isActive:D.value,select:f,isSelected:m.value,isIndeterminate:v.value}));function T(S){var N;s("click",S),!(w||!H.value)&&((N=l.navigate)==null||N.call(l,S),e.value!=null&&f(!m.value,S))}function R(S){(S.key==="Enter"||S.key===" ")&&(S.preventDefault(),T(S))}return Ue(()=>{const S=O.value?"a":e.tag,N=r.title||e.title,$=r.subtitle||e.subtitle,ce=!!(e.appendAvatar||e.appendIcon),le=!!(ce||r.append),ie=!!(e.prependAvatar||e.prependIcon),Le=!!(ie||r.prepend);return I==null||I.updateHasPrepend(Le),e.activeColor&&hV("active-color",["color","base-color"]),un(L(S,{class:["v-list-item",{"v-list-item--active":D.value,"v-list-item--disabled":e.disabled,"v-list-item--link":H.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!Le&&(I==null?void 0:I.hasPrepend.value),[`${e.activeClass}`]:e.activeClass&&D.value},re.value,ee.value,Z.value,G.value,Y.value,de.value,fe.value,B.value,e.class],style:[X.value,q.value,e.style],href:l.href.value,tabindex:H.value?I?-2:0:void 0,onClick:T,onKeydown:H.value&&!O.value&&R},{default:()=>{var me;return[Oa(H.value||D.value,"v-list-item"),Le&&L("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?L(rn,{key:"prepend-defaults",disabled:!ie,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var W;return[(W=r.prepend)==null?void 0:W.call(r,g.value)]}}):L(Ht,null,[e.prependAvatar&&L(ys,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&L(ln,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),L("div",{class:"v-list-item__content","data-no-activator":""},[N&&L(KA,{key:"title"},{default:()=>{var W;return[((W=r.title)==null?void 0:W.call(r,{title:e.title}))??e.title]}}),$&&L(XA,{key:"subtitle"},{default:()=>{var W;return[((W=r.subtitle)==null?void 0:W.call(r,{subtitle:e.subtitle}))??e.subtitle]}}),(me=r.default)==null?void 0:me.call(r,g.value)]),le&&L("div",{key:"append",class:"v-list-item__append"},[r.append?L(rn,{key:"append-defaults",disabled:!ce,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var W;return[(W=r.append)==null?void 0:W.call(r,g.value)]}}):L(Ht,null,[e.appendIcon&&L(ln,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&L(ys,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])]}}),[[$i("ripple"),H.value&&e.ripple]])}),{}}}),XF=Se({color:String,inset:Boolean,sticky:Boolean,title:String,...et(),...It()},"v-list-subheader"),QA=Oe()({name:"VListSubheader",props:XF(),setup(e,t){let{slots:i}=t;const{textColorClasses:r,textColorStyles:s}=Ei(Ne(e,"color"));return Ue(()=>{const l=!!(i.default||e.title);return L(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},r.value,e.class],style:[{textColorStyles:s},e.style]},{default:()=>{var u;return[l&&L("div",{class:"v-list-subheader__text"},[((u=i.default)==null?void 0:u.call(i))??e.title])]}})}),{}}}),KF=Se({items:Array},"v-list-children"),JA=Oe()({name:"VListChildren",props:KF(),setup(e,t){let{slots:i}=t;return jA(),()=>{var r,s;return((r=i.default)==null?void 0:r.call(i))??((s=e.items)==null?void 0:s.map(l=>{var A,I;let{children:u,props:f,type:m,raw:v}=l;if(m==="divider")return((A=i.divider)==null?void 0:A.call(i,{props:f}))??L(HA,f,null);if(m==="subheader")return((I=i.subheader)==null?void 0:I.call(i,{props:f}))??L(QA,f,null);const w={subtitle:i.subtitle?D=>{var O;return(O=i.subtitle)==null?void 0:O.call(i,{...D,item:v})}:void 0,prepend:i.prepend?D=>{var O;return(O=i.prepend)==null?void 0:O.call(i,{...D,item:v})}:void 0,append:i.append?D=>{var O;return(O=i.append)==null?void 0:O.call(i,{...D,item:v})}:void 0,title:i.title?D=>{var O;return(O=i.title)==null?void 0:O.call(i,{...D,item:v})}:void 0},[x,E]=gy.filterProps(f);return u?L(gy,nt({value:f==null?void 0:f.value},x),{activator:D=>{let{props:O}=D;return i.header?i.header({props:{...f,...O}}):L(Po,nt(f,O),w)},default:()=>L(JA,{items:u},i)}):i.item?i.item({props:f}):L(Po,f,w)}))}}}),ZA=Se({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean},"list-items");function $l(e,t){const i=Zr(t,e.itemTitle,t),r=e.returnObject?t:Zr(t,e.itemValue,i),s=Zr(t,e.itemChildren),l=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?_c(t,["children"])[1]:t:void 0:Zr(t,e.itemProps),u={title:i,value:r,...l};return{title:String(u.title??""),value:u.value,props:u,children:Array.isArray(s)?eC(e,s):void 0,raw:t}}function eC(e,t){const i=[];for(const r of t)i.push($l(e,r));return i}function Y0(e){const t=P(()=>eC(e,e.items));return QF(t,i=>$l(e,i))}function QF(e,t){function i(s){return s.map(l=>e.value.find(f=>Ra(l,f.value))??t(l))}function r(s){return s.map(l=>{let{value:u}=l;return u})}return{items:e,transformIn:i,transformOut:r}}function JF(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function ZF(e,t){const i=Zr(t,e.itemType,"item"),r=JF(t)?t:Zr(t,e.itemTitle),s=Zr(t,e.itemValue,void 0),l=Zr(t,e.itemChildren),u=e.itemProps===!0?_c(t,["children"])[1]:Zr(t,e.itemProps),f={title:r,value:s,...u};return{type:i,title:f.title,value:f.value,props:f,children:i==="item"&&l?tC(e,l):void 0,raw:t}}function tC(e,t){const i=[];for(const r of t)i.push(ZF(e,r));return i}function eU(e){return{items:P(()=>tC(e,e.items))}}const tU=Se({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...jF({selectStrategy:"single-leaf",openStrategy:"list"}),...or(),...et(),...jn(),...vr(),...Hn(),itemType:{type:String,default:"type"},...ZA(),...pn(),...It(),...Gt(),...wr({variant:"text"})},"v-list"),em=Oe()({name:"VList",props:tU(),emits:{"update:selected":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:i}=t;const{items:r}=eU(e),{themeClasses:s}=Jt(e),{backgroundColorClasses:l,backgroundColorStyles:u}=Ln(Ne(e,"bgColor")),{borderClasses:f}=yr(e),{densityClasses:m}=Ii(e),{dimensionStyles:v}=gr(e),{elevationClasses:w}=li(e),{roundedClasses:x}=En(e),{open:E,select:A}=GF(e),I=P(()=>e.lines?`v-list--${e.lines}-line`:void 0),D=Ne(e,"activeColor"),O=Ne(e,"baseColor"),H=Ne(e,"color");jA(),Fn({VListGroup:{activeColor:D,baseColor:O,color:H},VListItem:{activeClass:Ne(e,"activeClass"),activeColor:D,baseColor:O,color:H,density:Ne(e,"density"),disabled:Ne(e,"disabled"),lines:Ne(e,"lines"),nav:Ne(e,"nav"),variant:Ne(e,"variant")}});const V=Xe(!1),U=Ce();function ne(B){V.value=!0}function re(B){V.value=!1}function ee(B){var G;!V.value&&!(B.relatedTarget&&((G=U.value)!=null&&G.contains(B.relatedTarget)))&&X()}function Z(B){if(U.value){if(B.key==="ArrowDown")X("next");else if(B.key==="ArrowUp")X("prev");else if(B.key==="Home")X("first");else if(B.key==="End")X("last");else return;B.preventDefault()}}function X(B){if(U.value)return zT(U.value,B)}return Ue(()=>L(e.tag,{ref:U,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav},s.value,l.value,f.value,m.value,w.value,I.value,x.value,e.class],style:[u.value,v.value,e.style],role:"listbox","aria-activedescendant":void 0,onFocusin:ne,onFocusout:re,onFocus:ee,onKeydown:Z},{default:()=>[L(JA,{items:r.value},i)]})),{open:E,select:A,focus:X}}}),nU=Fr("v-list-img"),iU=Se({start:Boolean,end:Boolean,...et(),...It()},"v-list-item-action"),rU=Oe()({name:"VListItemAction",props:iU(),setup(e,t){let{slots:i}=t;return Ue(()=>L(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},i)),{}}}),oU=Se({start:Boolean,end:Boolean,...et(),...It()},"v-list-item-media"),sU=Oe()({name:"VListItemMedia",props:oU(),setup(e,t){let{slots:i}=t;return Ue(()=>L(e.tag,{class:["v-list-item-media",{"v-list-item-media--start":e.start,"v-list-item-media--end":e.end},e.class],style:e.style},i)),{}}});const nC=Se({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function iC(e,t){const i={},r=s=>()=>{if(!kn)return Promise.resolve(!0);const l=s==="openDelay";return i.closeDelay&&window.clearTimeout(i.closeDelay),delete i.closeDelay,i.openDelay&&window.clearTimeout(i.openDelay),delete i.openDelay,new Promise(u=>{const f=parseInt(e[s]??0,10);i[s]=window.setTimeout(()=>{t==null||t(l),u(l)},f)})};return{runCloseDelay:r("closeDelay"),runOpenDelay:r("openDelay")}}const yy=Symbol.for("vuetify:v-menu"),aU=Se({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...nC()},"v-overlay-activator");function lU(e,t){let{isActive:i,isTop:r}=t;const s=Ce();let l=!1,u=!1,f=!0;const m=P(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),v=P(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!m.value),{runOpenDelay:w,runCloseDelay:x}=iC(e,U=>{U===(e.openOnHover&&l||m.value&&u)&&!(e.openOnHover&&i.value&&!r.value)&&(i.value!==U&&(f=!0),i.value=U)}),E={click:U=>{U.stopPropagation(),s.value=U.currentTarget||U.target,i.value=!i.value},mouseenter:U=>{var ne;(ne=U.sourceCapabilities)!=null&&ne.firesTouchEvents||(l=!0,s.value=U.currentTarget||U.target,w())},mouseleave:U=>{l=!1,x()},focus:U=>{sy&&!U.target.matches(":focus-visible")||(u=!0,U.stopPropagation(),s.value=U.currentTarget||U.target,w())},blur:U=>{u=!1,U.stopPropagation(),x()}},A=P(()=>{const U={};return v.value&&(U.click=E.click),e.openOnHover&&(U.mouseenter=E.mouseenter,U.mouseleave=E.mouseleave),m.value&&(U.focus=E.focus,U.blur=E.blur),U}),I=P(()=>{const U={};if(e.openOnHover&&(U.mouseenter=()=>{l=!0,w()},U.mouseleave=()=>{l=!1,x()}),e.closeOnContentClick){const ne=Bt(yy,null);U.click=()=>{i.value=!1,ne==null||ne.closeParents()}}return U}),D=P(()=>{const U={};return e.openOnHover&&(U.mouseenter=()=>{f&&(l=!0,f=!1,w())},U.mouseleave=()=>{l=!1,x()}),U});He(r,U=>{U&&(e.openOnHover&&!l&&(!m.value||!u)||m.value&&!u&&(!e.openOnHover||!l))&&(i.value=!1)});const O=Ce();ir(()=>{O.value&&kt(()=>{const U=O.value;s.value=oV(U)?U.$el:U})});const H=ai("useActivator");let V;return He(()=>!!e.activator,U=>{U&&kn?(V=zd(),V.run(()=>{cU(e,H,{activatorEl:s,activatorEvents:A})})):V&&V.stop()},{flush:"post",immediate:!0}),Gi(()=>{V==null||V.stop()}),{activatorEl:s,activatorRef:O,activatorEvents:A,contentEvents:I,scrimEvents:D}}function cU(e,t,i){let{activatorEl:r,activatorEvents:s}=i;He(()=>e.activator,(m,v)=>{if(v&&m!==v){const w=f(v);w&&u(w)}m&&kt(()=>l())},{immediate:!0}),He(()=>e.activatorProps,()=>{l()}),Gi(()=>{u()});function l(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f(),v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;m&&(Object.entries(s.value).forEach(w=>{let[x,E]=w;m.addEventListener(x,E)}),Object.keys(v).forEach(w=>{v[w]==null?m.removeAttribute(w):m.setAttribute(w,v[w])}))}function u(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f(),v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;m&&(Object.entries(s.value).forEach(w=>{let[x,E]=w;m.removeEventListener(x,E)}),Object.keys(v).forEach(w=>{m.removeAttribute(w)}))}function f(){var w,x;let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator,v;if(m)if(m==="parent"){let E=(x=(w=t==null?void 0:t.proxy)==null?void 0:w.$el)==null?void 0:x.parentNode;for(;E.hasAttribute("data-no-activator");)E=E.parentNode;v=E}else typeof m=="string"?v=document.querySelector(m):"$el"in m?v=m.$el:v=m;return r.value=(v==null?void 0:v.nodeType)===Node.ELEMENT_NODE?v:null,r.value}}const tm=Se({eager:Boolean},"lazy");function X0(e,t){const i=Xe(!1),r=P(()=>i.value||e.eager||t.value);He(t,()=>i.value=!0);function s(){e.eager||(i.value=!1)}return{isBooted:i,hasContent:r,onAfterLeave:s}}function tg(e,t){return{x:e.x+t.x,y:e.y+t.y}}function uU(e,t){return{x:e.x-t.x,y:e.y-t.y}}function m1(e,t){if(e.side==="top"||e.side==="bottom"){const{side:i,align:r}=e,s=r==="left"?0:r==="center"?t.width/2:r==="right"?t.width:r,l=i==="top"?0:i==="bottom"?t.height:i;return tg({x:s,y:l},t)}else if(e.side==="left"||e.side==="right"){const{side:i,align:r}=e,s=i==="left"?0:i==="right"?t.width:i,l=r==="top"?0:r==="center"?t.height/2:r==="bottom"?t.height:r;return tg({x:s,y:l},t)}return tg({x:t.width/2,y:t.height/2},t)}const rC={static:fU,connected:mU},dU=Se({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in rC},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"v-overlay-location-strategies");function hU(e,t){const i=Ce({}),r=Ce();kn&&(gs(()=>!!(t.isActive.value&&e.locationStrategy),l=>{var u,f;He(()=>e.locationStrategy,l),Gi(()=>{r.value=void 0}),typeof e.locationStrategy=="function"?r.value=(u=e.locationStrategy(t,e,i))==null?void 0:u.updateLocation:r.value=(f=rC[e.locationStrategy](t,e,i))==null?void 0:f.updateLocation}),window.addEventListener("resize",s,{passive:!0}),Gi(()=>{window.removeEventListener("resize",s),r.value=void 0}));function s(l){var u;(u=r.value)==null||u.call(r,l)}return{contentStyles:i,updateLocation:r}}function fU(){}function pU(e,t){const i=A0(e);return t?i.x+=parseFloat(e.style.right||0):i.x-=parseFloat(e.style.left||0),i.y-=parseFloat(e.style.top||0),i}function mU(e,t,i){LV(e.activatorEl.value)&&Object.assign(i.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:l}=E0(()=>{const I=iy(t.location,e.isRtl.value),D=t.origin==="overlap"?I:t.origin==="auto"?Yv(I):iy(t.origin,e.isRtl.value);return I.side===D.side&&I.align===Xv(D).align?{preferredAnchor:Ux(I),preferredOrigin:Ux(D)}:{preferredAnchor:I,preferredOrigin:D}}),[u,f,m,v]=["minWidth","minHeight","maxWidth","maxHeight"].map(I=>P(()=>{const D=parseFloat(t[I]);return isNaN(D)?1/0:D})),w=P(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const I=t.offset.split(" ").map(parseFloat);return I.length<2&&I.push(0),I}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let x=!1;const E=new ResizeObserver(()=>{x&&A()});He([e.activatorEl,e.contentEl],(I,D)=>{let[O,H]=I,[V,U]=D;V&&E.unobserve(V),O&&E.observe(O),U&&E.unobserve(U),H&&E.observe(H)},{immediate:!0}),Gi(()=>{E.disconnect()});function A(){if(x=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>x=!0)}),!e.activatorEl.value||!e.contentEl.value)return;const I=e.activatorEl.value.getBoundingClientRect(),D=pU(e.contentEl.value,e.isRtl.value),O=sp(e.contentEl.value),H=12;O.length||(O.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(D.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),D.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const V=O.reduce((q,Y)=>{const fe=Y.getBoundingClientRect(),de=new Kl({x:Y===document.documentElement?0:fe.x,y:Y===document.documentElement?0:fe.y,width:Y.clientWidth,height:Y.clientHeight});return q?new Kl({x:Math.max(q.left,de.left),y:Math.max(q.top,de.top),width:Math.min(q.right,de.right)-Math.max(q.left,de.left),height:Math.min(q.bottom,de.bottom)-Math.max(q.top,de.top)}):de},void 0);V.x+=H,V.y+=H,V.width-=H*2,V.height-=H*2;let U={anchor:s.value,origin:l.value};function ne(q){const Y=new Kl(D),fe=m1(q.anchor,I),de=m1(q.origin,Y);let{x:g,y:T}=uU(fe,de);switch(q.anchor.side){case"top":T-=w.value[0];break;case"bottom":T+=w.value[0];break;case"left":g-=w.value[0];break;case"right":g+=w.value[0];break}switch(q.anchor.align){case"top":T-=w.value[1];break;case"bottom":T+=w.value[1];break;case"left":g-=w.value[1];break;case"right":g+=w.value[1];break}return Y.x+=g,Y.y+=T,Y.width=Math.min(Y.width,m.value),Y.height=Math.min(Y.height,v.value),{overflows:Hx(Y,V),x:g,y:T}}let re=0,ee=0;const Z={x:0,y:0},X={x:!1,y:!1};let B=-1;for(;!(B++>10);){const{x:q,y:Y,overflows:fe}=ne(U);re+=q,ee+=Y,D.x+=q,D.y+=Y;{const de=zx(U.anchor),g=fe.x.before||fe.x.after,T=fe.y.before||fe.y.after;let R=!1;if(["x","y"].forEach(S=>{if(S==="x"&&g&&!X.x||S==="y"&&T&&!X.y){const N={anchor:{...U.anchor},origin:{...U.origin}},$=S==="x"?de==="y"?Xv:Yv:de==="y"?Yv:Xv;N.anchor=$(N.anchor),N.origin=$(N.origin);const{overflows:ce}=ne(N);(ce[S].before<=fe[S].before&&ce[S].after<=fe[S].after||ce[S].before+ce[S].after<(fe[S].before+fe[S].after)/2)&&(U=N,R=X[S]=!0)}}),R)continue}fe.x.before&&(re+=fe.x.before,D.x+=fe.x.before),fe.x.after&&(re-=fe.x.after,D.x-=fe.x.after),fe.y.before&&(ee+=fe.y.before,D.y+=fe.y.before),fe.y.after&&(ee-=fe.y.after,D.y-=fe.y.after);{const de=Hx(D,V);Z.x=V.width-de.x.before-de.x.after,Z.y=V.height-de.y.before-de.y.after,re+=de.x.before,D.x+=de.x.before,ee+=de.y.before,D.y+=de.y.before}break}const G=zx(U.anchor);return Object.assign(i.value,{"--v-overlay-anchor-origin":`${U.anchor.side} ${U.anchor.align}`,transformOrigin:`${U.origin.side} ${U.origin.align}`,top:at(ng(ee)),left:e.isRtl.value?void 0:at(ng(re)),right:e.isRtl.value?at(ng(-re)):void 0,minWidth:at(G==="y"?Math.min(u.value,I.width):u.value),maxWidth:at(v1(wi(Z.x,u.value===1/0?0:u.value,m.value))),maxHeight:at(v1(wi(Z.y,f.value===1/0?0:f.value,v.value)))}),{available:Z,contentBox:D}}return He(()=>[s.value,l.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>A()),kt(()=>{const I=A();if(!I)return;const{available:D,contentBox:O}=I;O.height>D.y&&requestAnimationFrame(()=>{A(),requestAnimationFrame(()=>{A()})})}),{updateLocation:A}}function ng(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function v1(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let wy=!0;const cp=[];function vU(e){!wy||cp.length?(cp.push(e),by()):(wy=!1,e(),by())}let g1=-1;function by(){cancelAnimationFrame(g1),g1=requestAnimationFrame(()=>{const e=cp.shift();e&&e(),cp.length?by():wy=!0})}const Bf={none:null,close:wU,block:bU,reposition:_U},gU=Se({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Bf}},"v-overlay-scroll-strategies");function yU(e,t){if(!kn)return;let i;ir(async()=>{i==null||i.stop(),t.isActive.value&&e.scrollStrategy&&(i=zd(),await kt(),i.active&&i.run(()=>{var r;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,i):(r=Bf[e.scrollStrategy])==null||r.call(Bf,t,e,i)}))}),Gi(()=>{i==null||i.stop()})}function wU(e){function t(i){e.isActive.value=!1}oC(e.activatorEl.value??e.contentEl.value,t)}function bU(e,t){var u;const i=(u=e.root.value)==null?void 0:u.offsetParent,r=[...new Set([...sp(e.activatorEl.value,t.contained?i:void 0),...sp(e.contentEl.value,t.contained?i:void 0)])].filter(f=>!f.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,l=(f=>R0(f)&&f)(i||document.documentElement);l&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((f,m)=>{f.style.setProperty("--v-body-scroll-x",at(-f.scrollLeft)),f.style.setProperty("--v-body-scroll-y",at(-f.scrollTop)),f.style.setProperty("--v-scrollbar-offset",at(s)),f.classList.add("v-overlay-scroll-blocked")}),Gi(()=>{r.forEach((f,m)=>{const v=parseFloat(f.style.getPropertyValue("--v-body-scroll-x")),w=parseFloat(f.style.getPropertyValue("--v-body-scroll-y"));f.style.removeProperty("--v-body-scroll-x"),f.style.removeProperty("--v-body-scroll-y"),f.style.removeProperty("--v-scrollbar-offset"),f.classList.remove("v-overlay-scroll-blocked"),f.scrollLeft=-v,f.scrollTop=-w}),l&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function _U(e,t,i){let r=!1,s=-1,l=-1;function u(f){vU(()=>{var w,x;const m=performance.now();(x=(w=e.updateLocation).value)==null||x.call(w,f),r=(performance.now()-m)/(1e3/60)>2})}l=(typeof requestIdleCallback>"u"?f=>f():requestIdleCallback)(()=>{i.run(()=>{oC(e.activatorEl.value??e.contentEl.value,f=>{r?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{u(f)})})):u(f)})})}),Gi(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(l),cancelAnimationFrame(s)})}function oC(e,t){const i=[document,...sp(e)];i.forEach(r=>{r.addEventListener("scroll",t,{passive:!0})}),Gi(()=>{i.forEach(r=>{r.removeEventListener("scroll",t)})})}function sC(){if(!kn)return Xe(!1);const{ssr:e}=La();if(e){const t=Xe(!1);return Qn(()=>{t.value=!0}),t}else return Xe(!0)}function th(){const t=ai("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const y1=Symbol.for("vuetify:stack"),Vu=wn([]);function xU(e,t,i){const r=ai("useStack"),s=!i,l=Bt(y1,void 0),u=wn({activeChildren:new Set});bn(y1,u);const f=Xe(+t.value);gs(e,()=>{var x;const w=(x=Vu.at(-1))==null?void 0:x[1];f.value=w?w+10:+t.value,s&&Vu.push([r.uid,f.value]),l==null||l.activeChildren.add(r.uid),Gi(()=>{if(s){const E=Yn(Vu).findIndex(A=>A[0]===r.uid);Vu.splice(E,1)}l==null||l.activeChildren.delete(r.uid)})});const m=Xe(!0);s&&ir(()=>{var x;const w=((x=Vu.at(-1))==null?void 0:x[0])===r.uid;setTimeout(()=>m.value=w)});const v=P(()=>!u.activeChildren.size);return{globalTop:d0(m),localTop:v,stackStyles:P(()=>({zIndex:f.value}))}}function EU(e){return{teleportTarget:P(()=>{const i=e.value;if(i===!0||!kn)return;const r=i===!1?document.body:typeof i=="string"?document.querySelector(i):i;if(r==null)return;let s=r.querySelector(":scope > .v-overlay-container");return s||(s=document.createElement("div"),s.className="v-overlay-container",r.appendChild(s)),s})}}function SU(){return!0}function aC(e,t,i){if(!e||lC(e,i)===!1)return!1;const r=ZT(t);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===e.target)return!1;const s=(typeof i.value=="object"&&i.value.include||(()=>[]))();return s.push(t),!s.some(l=>l==null?void 0:l.contains(e.target))}function lC(e,t){return(typeof t.value=="object"&&t.value.closeConditional||SU)(e)}function TU(e,t,i){const r=typeof i.value=="function"?i.value:i.value.handler;t._clickOutside.lastMousedownWasOutside&&aC(e,t,i)&&setTimeout(()=>{lC(e,i)&&r&&r(e)},0)}function w1(e,t){const i=ZT(e);t(document),typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&t(i)}const cC={mounted(e,t){const i=s=>TU(s,e,t),r=s=>{e._clickOutside.lastMousedownWasOutside=aC(s,e,t)};w1(e,s=>{s.addEventListener("click",i,!0),s.addEventListener("mousedown",r,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:i,onMousedown:r}},unmounted(e,t){e._clickOutside&&(w1(e,i=>{var l;if(!i||!((l=e._clickOutside)!=null&&l[t.instance.$.uid]))return;const{onClick:r,onMousedown:s}=e._clickOutside[t.instance.$.uid];i.removeEventListener("click",r,!0),i.removeEventListener("mousedown",s,!0)}),delete e._clickOutside[t.instance.$.uid])}};function AU(e){const{modelValue:t,color:i,...r}=e;return L(Wi,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&L("div",nt({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},r),null)]})}const nh=Se({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[String,Boolean],default:!0},zIndex:{type:[Number,String],default:2e3},...aU(),...et(),...vr(),...tm(),...dU(),...gU(),...Gt(),...zo()},"v-overlay"),Oo=Oe()({name:"VOverlay",directives:{ClickOutside:cC},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...nh()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{slots:i,attrs:r,emit:s}=t;const l=Mt(e,"modelValue"),u=P({get:()=>l.value,set:N=>{N&&e.disabled||(l.value=N)}}),{teleportTarget:f}=EU(P(()=>e.attach||e.contained)),{themeClasses:m}=Jt(e),{rtlClasses:v,isRtl:w}=Mi(),{hasContent:x,onAfterLeave:E}=X0(e,u),A=Ln(P(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:I,localTop:D,stackStyles:O}=xU(u,Ne(e,"zIndex"),e._disableGlobalStack),{activatorEl:H,activatorRef:V,activatorEvents:U,contentEvents:ne,scrimEvents:re}=lU(e,{isActive:u,isTop:D}),{dimensionStyles:ee}=gr(e),Z=sC(),{scopeId:X}=th();He(()=>e.disabled,N=>{N&&(u.value=!1)});const B=Ce(),G=Ce(),{contentStyles:q,updateLocation:Y}=hU(e,{isRtl:w,contentEl:G,activatorEl:H,isActive:u});yU(e,{root:B,contentEl:G,activatorEl:H,isActive:u,updateLocation:Y});function fe(N){s("click:outside",N),e.persistent?S():u.value=!1}function de(){return u.value&&I.value}kn&&He(u,N=>{N?window.addEventListener("keydown",g):window.removeEventListener("keydown",g)},{immediate:!0});function g(N){N.key==="Escape"&&I.value&&(e.persistent?S():u.value=!1)}const T=kA();gs(()=>e.closeOnBack,()=>{fF(T,N=>{I.value&&u.value?(N(!1),e.persistent?S():u.value=!1):N()})});const R=Ce();He(()=>u.value&&(e.absolute||e.contained)&&f.value==null,N=>{if(N){const $=tA(B.value);$&&$!==document.scrollingElement&&(R.value=$.scrollTop)}});function S(){e.noClickAnimation||G.value&&aa(G.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:bd})}return Ue(()=>{var N;return L(Ht,null,[(N=i.activator)==null?void 0:N.call(i,{isActive:u.value,props:nt({ref:V},kv(U.value),e.activatorProps)}),Z.value&&L(dS,{disabled:!f.value,to:f.value},{default:()=>[x.value&&L("div",nt({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":u.value,"v-overlay--contained":e.contained},m.value,v.value,e.class],style:[O.value,{top:at(R.value)},e.style],ref:B},X,r),[L(AU,nt({color:A,modelValue:u.value&&!!e.scrim},kv(re.value)),null),L(Or,{appear:!0,persisted:!0,transition:e.transition,target:H.value,onAfterLeave:()=>{E(),s("afterLeave")}},{default:()=>{var $;return[un(L("div",nt({ref:G,class:["v-overlay__content",e.contentClass],style:[ee.value,q.value]},kv(ne.value),e.contentProps),[($=i.default)==null?void 0:$.call(i,{isActive:u})]),[[fo,u.value],[$i("click-outside"),{handler:fe,closeConditional:de,include:()=>[H.value]}]])]}})])]})])}),{activatorEl:H,animateClick:S,contentEl:G,globalTop:I,localTop:D,updateLocation:Y}}}),CU=Se({id:String,...po(nh({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Wp}}),["absolute"])},"v-menu"),nm=Oe()({name:"VMenu",props:CU(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Mt(e,"modelValue"),{scopeId:s}=th(),l=Ci(),u=P(()=>e.id||`v-menu-${l}`),f=Ce(),m=Bt(yy,null),v=Xe(0);bn(yy,{register(){++v.value},unregister(){--v.value},closeParents(){setTimeout(()=>{v.value||(r.value=!1,m==null||m.closeParents())},40)}}),He(r,E=>{E?m==null||m.register():m==null||m.unregister()});function w(){m==null||m.closeParents()}const x=P(()=>nt({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-owns":u.value},e.activatorProps));return Ue(()=>{const[E]=Oo.filterProps(e);return L(Oo,nt({ref:f,class:["v-menu",e.class],style:e.style},E,{modelValue:r.value,"onUpdate:modelValue":A=>r.value=A,absolute:!0,activatorProps:x.value,"onClick:outside":w},s),{activator:i.activator,default:function(){for(var A=arguments.length,I=new Array(A),D=0;D<A;D++)I[D]=arguments[D];return L(rn,{root:!0},{default:()=>{var O;return[(O=i.default)==null?void 0:O.call(i,...I)]}})}})}),Ur({id:u,openChildren:v},f)}}),K0=Se({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:St,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:Ra},...ZA({itemChildren:!1})},"select"),MU=Se({...K0(),...po(Jp({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...zo({transition:{component:Wp}})},"v-select"),IU=Oe()({name:"VSelect",props:MU(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:i}=t;const{t:r}=mr(),s=Ce(),l=Ce(),u=Mt(e,"menu"),f=P({get:()=>u.value,set:q=>{var Y;u.value&&!q&&((Y=l.value)!=null&&Y.openChildren)||(u.value=q)}}),{items:m,transformIn:v,transformOut:w}=Y0(e),x=Mt(e,"modelValue",[],q=>v(dr(q)),q=>{const Y=w(q);return e.multiple?Y:Y[0]??null}),E=Kp(),A=P(()=>x.value.map(q=>m.value.find(Y=>e.valueComparator(Y.value,q.value))||q)),I=P(()=>A.value.map(q=>q.props.value)),D=Xe(!1);let O="",H;const V=P(()=>e.hideSelected?m.value.filter(q=>!A.value.some(Y=>Y===q)):m.value),U=Ce();function ne(q){e.openOnClear&&(f.value=!0)}function re(){e.hideNoData&&!m.value.length||e.readonly||E!=null&&E.isReadonly.value||(f.value=!f.value)}function ee(q){var T,R,S,N;if(e.readonly||E!=null&&E.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(q.key)&&q.preventDefault(),["Enter","ArrowDown"," "].includes(q.key)&&(f.value=!0),["Escape","Tab"].includes(q.key)&&(f.value=!1),q.key==="ArrowDown"?(T=U.value)==null||T.focus("next"):q.key==="ArrowUp"?(R=U.value)==null||R.focus("prev"):q.key==="Home"?(S=U.value)==null||S.focus("first"):q.key==="End"&&((N=U.value)==null||N.focus("last"));const Y=1e3;function fe($){const ce=$.key.length===1,le=!$.ctrlKey&&!$.metaKey&&!$.altKey;return ce&&le}if(e.multiple||!fe(q))return;const de=performance.now();de-H>Y&&(O=""),O+=q.key.toLowerCase(),H=de;const g=m.value.find($=>$.title.toLowerCase().startsWith(O));g!==void 0&&(x.value=[g])}function Z(q){if(e.multiple){const Y=I.value.findIndex(fe=>e.valueComparator(fe,q.value));if(Y===-1)x.value=[...x.value,q];else{const fe=[...x.value];fe.splice(Y,1),x.value=fe}}else x.value=[q],f.value=!1}function X(q){var Y;(Y=U.value)!=null&&Y.$el.contains(q.relatedTarget)||(f.value=!1)}function B(){var q;D.value&&((q=s.value)==null||q.focus())}function G(q){D.value=!0}return Ue(()=>{const q=!!(e.chips||i.chip),Y=!!(!e.hideNoData||V.value.length||i.prepend||i.append||i["no-data"]),fe=x.value.length>0,[de]=ya.filterProps(e),g=fe||!D.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return L(ya,nt({ref:s},de,{modelValue:x.value.map(T=>T.props.value).join(", "),"onUpdate:modelValue":T=>{T==null&&(x.value=[])},focused:D.value,"onUpdate:focused":T=>D.value=T,validationValue:x.externalValue,dirty:fe,class:["v-select",{"v-select--active-menu":f.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":x.value.length,"v-select--selection-slot":!!i.selection},e.class],style:e.style,readonly:!0,placeholder:g,"onClick:clear":ne,"onMousedown:control":re,onBlur:X,onKeydown:ee}),{...i,default:()=>L(Ht,null,[L(nm,nt({ref:l,modelValue:f.value,"onUpdate:modelValue":T=>f.value=T,activator:"parent",contentClass:"v-select__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:B},e.menuProps),{default:()=>[Y&&L(em,{ref:U,selected:I.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:T=>T.preventDefault(),onFocusin:G},{default:()=>{var T,R,S;return[!V.value.length&&!e.hideNoData&&(((T=i["no-data"])==null?void 0:T.call(i))??L(Po,{title:r(e.noDataText)},null)),(R=i["prepend-item"])==null?void 0:R.call(i),V.value.map((N,$)=>{var le;const ce=nt(N.props,{key:$,onClick:()=>Z(N)});return((le=i.item)==null?void 0:le.call(i,{item:N,index:$,props:ce}))??L(Po,ce,{prepend:ie=>{let{isSelected:Le}=ie;return L(Ht,null,[e.multiple&&!e.hideSelected?L(cc,{key:N.value,modelValue:Le,ripple:!1,tabindex:"-1"},null):void 0,N.props.prependIcon&&L(ln,{icon:N.props.prependIcon},null)])}})}),(S=i["append-item"])==null?void 0:S.call(i)]}})]}),A.value.map((T,R)=>{var $;function S(ce){ce.stopPropagation(),ce.preventDefault(),Z(T)}const N={"onClick:close":S,onMousedown(ce){ce.preventDefault(),ce.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return L("div",{key:T.value,class:"v-select__selection"},[q?i.chip?L(rn,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:T.title}}},{default:()=>{var ce;return[(ce=i.chip)==null?void 0:ce.call(i,{item:T,index:R,props:N})]}}):L(eh,nt({key:"chip",closable:e.closableChips,size:"small",text:T.title},N),null):(($=i.selection)==null?void 0:$.call(i,{item:T,index:R}))??L("span",{class:"v-select__selection-text"},[T.title,e.multiple&&R<A.value.length-1&&L("span",{class:"v-select__selection-comma"},[Np(",")])])])})]),"append-inner":function(){var N;for(var T=arguments.length,R=new Array(T),S=0;S<T;S++)R[S]=arguments[S];return L(Ht,null,[(N=i["append-inner"])==null?void 0:N.call(i,...R),e.menuIcon?L(ln,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Ur({isFocused:D,menu:f,select:Z},s)}}),RU=(e,t,i)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),uC=Se({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function kU(e,t,i){var f;const r=[],s=(i==null?void 0:i.default)??RU,l=i!=null&&i.filterKeys?dr(i.filterKeys):!1,u=Object.keys((i==null?void 0:i.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return r;e:for(let m=0;m<e.length;m++){const v=e[m],w={},x={};let E=-1;if(t&&!(i!=null&&i.noFilter)){if(typeof v=="object"){const D=l||Object.keys(v);for(const O of D){const H=Zr(v,O,v),V=(f=i==null?void 0:i.customKeyFilter)==null?void 0:f[O];if(E=V?V(H,t,v):s(H,t,v),E!==-1&&E!==!1)V?w[O]=E:x[O]=E;else if((i==null?void 0:i.filterMode)==="every")continue e}}else E=s(v,t,v),E!==-1&&E!==!1&&(x.title=E);const A=Object.keys(x).length,I=Object.keys(w).length;if(!A&&!I||(i==null?void 0:i.filterMode)==="union"&&I!==u&&!A||(i==null?void 0:i.filterMode)==="intersection"&&(I!==u||!A))continue}r.push({index:m,matches:{...x,...w}})}return r}function dC(e,t,i,r){const s=P(()=>typeof(i==null?void 0:i.value)!="string"&&typeof(i==null?void 0:i.value)!="number"?"":String(i.value)),l=Ce([]),u=Ce(new Map),f=P(()=>r!=null&&r.transform?Zt(t).map(r==null?void 0:r.transform):Zt(t));ir(()=>{l.value=[],u.value=new Map;const v=kU(f.value,s.value,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),w=Zt(t);v.forEach(x=>{let{index:E,matches:A}=x;const I=w[E];l.value.push(I),u.value.set(I.value,A)})});function m(v){return u.value.get(v.value)}return{filteredItems:l,filteredMatches:u,getMatches:m}}function LU(e,t,i){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?L(Ht,null,[L("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),L("span",{class:"v-autocomplete__mask"},[e.substr(t,i)]),L("span",{class:"v-autocomplete__unmask"},[e.substr(t+i)])]):e}const PU=Se({autoSelectFirst:{type:[Boolean,String]},search:String,...uC({filterKeys:["title"]}),...K0(),...po(Jp({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...zo({transition:!1})},"v-autocomplete"),OU=Oe()({name:"VAutocomplete",props:PU(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:i}=t;const{t:r}=mr(),s=Ce(),l=Xe(!1),u=Xe(!0),f=Ce(!1),m=Ce(),v=Mt(e,"menu"),w=P({get:()=>v.value,set:ie=>{var Le;v.value&&!ie&&((Le=m.value)!=null&&Le.openChildren)||(v.value=ie)}}),x=Xe(-1),E=P(()=>{var ie;return(ie=s.value)==null?void 0:ie.color}),{items:A,transformIn:I,transformOut:D}=Y0(e),{textColorClasses:O,textColorStyles:H}=Ei(E),V=Mt(e,"search",""),U=Mt(e,"modelValue",[],ie=>I(dr(ie)),ie=>{const Le=D(ie);return e.multiple?Le:Le[0]??null}),ne=Kp(),{filteredItems:re,getMatches:ee}=dC(e,A,P(()=>u.value?void 0:V.value)),Z=P(()=>U.value.map(ie=>A.value.find(Le=>e.valueComparator(Le.value,ie.value))||ie)),X=P(()=>e.hideSelected?re.value.filter(ie=>!Z.value.some(Le=>Le.value===ie.value)):re.value),B=P(()=>Z.value.map(ie=>ie.props.value)),G=P(()=>Z.value[x.value]),q=P(()=>{var Le;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&V.value===((Le=X.value[0])==null?void 0:Le.title))&&X.value.length>0&&!u.value&&!f.value}),Y=Ce();function fe(ie){e.openOnClear&&(w.value=!0),V.value=""}function de(){e.hideNoData&&!A.value.length||e.readonly||ne!=null&&ne.isReadonly.value||(w.value=!0)}function g(ie){l.value&&(ie.preventDefault(),ie.stopPropagation()),w.value=!w.value}function T(ie){var W,se,we,Ee,Ie;if(e.readonly||ne!=null&&ne.isReadonly.value)return;const Le=s.value.selectionStart,me=B.value.length;if((x.value>-1||["Enter","ArrowDown","ArrowUp"].includes(ie.key))&&ie.preventDefault(),["Enter","ArrowDown"].includes(ie.key)&&(w.value=!0),["Escape"].includes(ie.key)&&(w.value=!1),["Enter","Escape","Tab"].includes(ie.key)&&(q.value&&["Enter","Tab"].includes(ie.key)&&le(re.value[0]),u.value=!0),ie.key==="ArrowDown"?((W=Y.value)==null||W.focus("next"),q.value&&((se=Y.value)==null||se.focus("next"))):ie.key==="ArrowUp"&&((we=Y.value)==null||we.focus("prev")),!!e.multiple){if(["Backspace","Delete"].includes(ie.key)){if(x.value<0){ie.key==="Backspace"&&!V.value&&(x.value=me-1);return}const je=x.value;G.value&&le(G.value),x.value=je>=me-1?me-2:je}if(ie.key==="ArrowLeft"){if(x.value<0&&Le>0)return;const je=x.value>-1?x.value-1:me-1;Z.value[je]?x.value=je:(x.value=-1,s.value.setSelectionRange((Ee=V.value)==null?void 0:Ee.length,(Ie=V.value)==null?void 0:Ie.length))}if(ie.key==="ArrowRight"){if(x.value<0)return;const je=x.value+1;Z.value[je]?x.value=je:(x.value=-1,s.value.setSelectionRange(0,0))}}}function R(ie){V.value=ie.target.value}function S(){var ie;l.value&&(u.value=!0,(ie=s.value)==null||ie.focus())}function N(ie){l.value=!0,setTimeout(()=>{f.value=!0})}function $(ie){f.value=!1}const ce=Xe(!1);function le(ie){if(e.multiple){const Le=B.value.findIndex(me=>e.valueComparator(me,ie.value));if(Le===-1)U.value=[...U.value,ie];else{const me=[...U.value];me.splice(Le,1),U.value=me}}else U.value=[ie],ce.value=!0,V.value=ie.title,w.value=!1,u.value=!0,kt(()=>ce.value=!1)}return He(l,(ie,Le)=>{var me;ie!==Le&&(ie?(ce.value=!0,V.value=e.multiple?"":String(((me=Z.value.at(-1))==null?void 0:me.props.title)??""),u.value=!0,kt(()=>ce.value=!1)):(!e.multiple&&!V.value?U.value=[]:q.value&&!f.value&&!Z.value.some(W=>{let{value:se}=W;return se===X.value[0].value})&&le(X.value[0]),w.value=!1,V.value="",x.value=-1))}),He(V,ie=>{!l.value||ce.value||(ie&&(w.value=!0),u.value=!ie)}),Ue(()=>{const ie=!!(e.chips||i.chip),Le=!!(!e.hideNoData||X.value.length||i.prepend||i.append||i["no-data"]),me=U.value.length>0,[W]=ya.filterProps(e);return L(ya,nt({ref:s},W,{modelValue:V.value,"onUpdate:modelValue":se=>{se==null&&(U.value=[])},focused:l.value,"onUpdate:focused":se=>l.value=se,validationValue:U.externalValue,dirty:me,onInput:R,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":w.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!i.selection,"v-autocomplete--selecting-index":x.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:me?void 0:e.placeholder,"onClick:clear":fe,"onMousedown:control":de,onKeydown:T}),{...i,default:()=>L(Ht,null,[L(nm,nt({ref:m,modelValue:w.value,"onUpdate:modelValue":se=>w.value=se,activator:"parent",contentClass:"v-autocomplete__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:S},e.menuProps),{default:()=>[Le&&L(em,{ref:Y,selected:B.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:se=>se.preventDefault(),onFocusin:N,onFocusout:$},{default:()=>{var se,we,Ee;return[!X.value.length&&!e.hideNoData&&(((se=i["no-data"])==null?void 0:se.call(i))??L(Po,{title:r(e.noDataText)},null)),(we=i["prepend-item"])==null?void 0:we.call(i),X.value.map((Ie,je)=>{var it;const Ke=nt(Ie.props,{key:je,active:q.value&&je===0?!0:void 0,onClick:()=>le(Ie)});return((it=i.item)==null?void 0:it.call(i,{item:Ie,index:je,props:Ke}))??L(Po,Ke,{prepend:Qe=>{let{isSelected:Pt}=Qe;return L(Ht,null,[e.multiple&&!e.hideSelected?L(cc,{key:Ie.value,modelValue:Pt,ripple:!1,tabindex:"-1"},null):void 0,Ie.props.prependIcon&&L(ln,{icon:Ie.props.prependIcon},null)])},title:()=>{var Qe,Pt;return u.value?Ie.title:LU(Ie.title,(Qe=ee(Ie))==null?void 0:Qe.title,((Pt=V.value)==null?void 0:Pt.length)??0)}})}),(Ee=i["append-item"])==null?void 0:Ee.call(i)]}})]}),Z.value.map((se,we)=>{var je;function Ee(Ke){Ke.stopPropagation(),Ke.preventDefault(),le(se)}const Ie={"onClick:close":Ee,onMousedown(Ke){Ke.preventDefault(),Ke.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return L("div",{key:se.value,class:["v-autocomplete__selection",we===x.value&&["v-autocomplete__selection--selected",O.value]],style:we===x.value?H.value:{}},[ie?i.chip?L(rn,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:se.title}}},{default:()=>{var Ke;return[(Ke=i.chip)==null?void 0:Ke.call(i,{item:se,index:we,props:Ie})]}}):L(eh,nt({key:"chip",closable:e.closableChips,size:"small",text:se.title},Ie),null):((je=i.selection)==null?void 0:je.call(i,{item:se,index:we}))??L("span",{class:"v-autocomplete__selection-text"},[se.title,e.multiple&&we<Z.value.length-1&&L("span",{class:"v-autocomplete__selection-comma"},[Np(",")])])])})]),"append-inner":function(){var Ie;for(var se=arguments.length,we=new Array(se),Ee=0;Ee<se;Ee++)we[Ee]=arguments[Ee];return L(Ht,null,[(Ie=i["append-inner"])==null?void 0:Ie.call(i,...we),e.menuIcon?L(ln,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:g,onClick:HT},null):void 0])}})}),Ur({isFocused:l,isPristine:u,menu:w,search:V,filteredItems:re,select:le},s)}});const DU=Se({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:St,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...et(),...Ts({location:"top end"}),...pn(),...It(),...Gt(),...zo({transition:"scale-rotate-transition"})},"v-badge"),NU=Oe()({name:"VBadge",inheritAttrs:!1,props:DU(),setup(e,t){const{backgroundColorClasses:i,backgroundColorStyles:r}=Ln(Ne(e,"color")),{roundedClasses:s}=En(e),{t:l}=mr(),{textColorClasses:u,textColorStyles:f}=Ei(Ne(e,"textColor")),{themeClasses:m}=lA(),{locationStyles:v}=As(e,!0,w=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(w)?+(e.offsetY??0):["left","right"].includes(w)?+(e.offsetX??0):0));return Ue(()=>{const w=Number(e.content),x=!e.max||isNaN(w)?e.content:w<=+e.max?w:`${e.max}+`,[E,A]=_c(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return L(e.tag,nt({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},A,{style:e.style}),{default:()=>{var I,D;return[L("div",{class:"v-badge__wrapper"},[(D=(I=t.slots).default)==null?void 0:D.call(I),L(Or,{transition:e.transition},{default:()=>{var O,H;return[un(L("span",nt({class:["v-badge__badge",m.value,i.value,s.value,u.value],style:[r.value,f.value,e.inline?{}:v.value],"aria-atomic":"true","aria-label":l(e.label,w),"aria-live":"polite",role:"status"},E),[e.dot?void 0:t.slots.badge?(H=(O=t.slots).badge)==null?void 0:H.call(O):e.icon?L(ln,{icon:e.icon},null):x]),[[fo,e.modelValue]])]}})])]}})}),{}}});const VU=Se({color:String,density:String,...et()},"v-banner-actions"),hC=Oe()({name:"VBannerActions",props:VU(),setup(e,t){let{slots:i}=t;return Fn({VBtn:{color:e.color,density:e.density,variant:"text"}}),Ue(()=>{var r;return L("div",{class:["v-banner-actions",e.class],style:e.style},[(r=i.default)==null?void 0:r.call(i)])}),{}}}),fC=Fr("v-banner-text"),BU=Se({avatar:String,color:String,icon:St,lines:String,stacked:Boolean,sticky:Boolean,text:String,...or(),...et(),...jn(),...vr(),...Hn(),...Ts(),...Mc(),...pn(),...It(),...Gt()},"v-banner"),FU=Oe()({name:"VBanner",props:BU(),setup(e,t){let{slots:i}=t;const{borderClasses:r}=yr(e),{densityClasses:s}=Ii(e),{mobile:l}=La(),{dimensionStyles:u}=gr(e),{elevationClasses:f}=li(e),{locationStyles:m}=As(e),{positionClasses:v}=Ic(e),{roundedClasses:w}=En(e),{themeClasses:x}=Jt(e),E=Ne(e,"color"),A=Ne(e,"density");Fn({VBannerActions:{color:E,density:A}}),Ue(()=>{const I=!!(e.text||i.text),D=!!(e.avatar||e.icon),O=!!(D||i.prepend);return L(e.tag,{class:["v-banner",{"v-banner--stacked":e.stacked||l.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},r.value,s.value,f.value,v.value,w.value,x.value,e.class],style:[u.value,m.value,e.style],role:"banner"},{default:()=>{var H;return[O&&L("div",{key:"prepend",class:"v-banner__prepend"},[i.prepend?L(rn,{key:"prepend-defaults",disabled:!D,defaults:{VAvatar:{color:E.value,density:A.value,icon:e.icon,image:e.avatar}}},i.prepend):L(ys,{key:"prepend-avatar",color:E.value,density:A.value,icon:e.icon,image:e.avatar},null)]),L("div",{class:"v-banner__content"},[I&&L(fC,{key:"text"},{default:()=>{var V;return[((V=i.text)==null?void 0:V.call(i))??e.text]}}),(H=i.default)==null?void 0:H.call(i)]),i.actions&&L(hC,{key:"actions"},i.actions)]}})})}});const UU=Se({bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...or(),...et(),...jn(),...Hn(),...pn(),...xc({name:"bottom-navigation"}),...It({tag:"header"}),...Sc({modelValue:!0,selectedClass:"v-btn--selected"}),...Gt()},"v-bottom-navigation"),zU=Oe()({name:"VBottomNavigation",props:UU(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const{themeClasses:r}=lA(),{borderClasses:s}=yr(e),{backgroundColorClasses:l,backgroundColorStyles:u}=Ln(Ne(e,"bgColor")),{densityClasses:f}=Ii(e),{elevationClasses:m}=li(e),{roundedClasses:v}=En(e),{ssrBootStyles:w}=Pa(),x=P(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),E=Ne(e,"active"),{layoutItemStyles:A}=Ec({id:e.name,order:P(()=>parseInt(e.order,10)),position:P(()=>"bottom"),layoutSize:P(()=>E.value?x.value:0),elementSize:x,active:E,absolute:Ne(e,"absolute")});return Na(e,B0),Fn({VBtn:{color:Ne(e,"color"),density:Ne(e,"density"),stacked:P(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),Ue(()=>L(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":E.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},r.value,l.value,s.value,f.value,m.value,v.value,e.class],style:[u.value,A.value,{height:at(x.value),transform:`translateY(${at(E.value?0:100,"%")})`},w.value,e.style]},{default:()=>[i.default&&L("div",{class:"v-bottom-navigation__content"},[i.default()])]})),{}}});const HU=Se({divider:[Number,String],...et()},"v-breadcrumbs-divider"),pC=Oe()({name:"VBreadcrumbsDivider",props:HU(),setup(e,t){let{slots:i}=t;return Ue(()=>{var r;return L("li",{class:["v-breadcrumbs-divider",e.class],style:e.style},[((r=i==null?void 0:i.default)==null?void 0:r.call(i))??e.divider])}),{}}}),jU=Se({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...et(),...Jd(),...It({tag:"li"})},"v-breadcrumbs-item"),mC=Oe()({name:"VBreadcrumbsItem",props:jU(),setup(e,t){let{slots:i,attrs:r}=t;const s=Qd(e,r),l=P(()=>{var v;return e.active||((v=s.isActive)==null?void 0:v.value)}),u=P(()=>l.value?e.activeColor:e.color),{textColorClasses:f,textColorStyles:m}=Ei(u);return Ue(()=>{const v=s.isLink.value?"a":e.tag;return L(v,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":l.value,"v-breadcrumbs-item--disabled":e.disabled,"v-breadcrumbs-item--link":s.isLink.value,[`${e.activeClass}`]:l.value&&e.activeClass},f.value,e.class],style:[m.value,e.style],href:s.href.value,"aria-current":l.value?"page":void 0,onClick:s.navigate},{default:()=>{var w;return[((w=i.default)==null?void 0:w.call(i))??e.title]}})}),{}}}),GU=Se({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:St,items:{type:Array,default:()=>[]},...et(),...jn(),...pn(),...It({tag:"ul"})},"v-breadcrumbs"),WU=Oe()({name:"VBreadcrumbs",props:GU(),setup(e,t){let{slots:i}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=Ln(Ne(e,"bgColor")),{densityClasses:l}=Ii(e),{roundedClasses:u}=En(e);Fn({VBreadcrumbsDivider:{divider:Ne(e,"divider")},VBreadcrumbsItem:{activeClass:Ne(e,"activeClass"),activeColor:Ne(e,"activeColor"),color:Ne(e,"color"),disabled:Ne(e,"disabled")}});const f=P(()=>e.items.map(m=>typeof m=="string"?{item:{title:m},raw:m}:{item:m,raw:m}));return Ue(()=>{const m=!!(i.prepend||e.icon);return L(e.tag,{class:["v-breadcrumbs",r.value,l.value,u.value,e.class],style:[s.value,e.style]},{default:()=>{var v;return[m&&L("div",{key:"prepend",class:"v-breadcrumbs__prepend"},[i.prepend?L(rn,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},i.prepend):L(ln,{key:"prepend-icon",start:!0,icon:e.icon},null)]),f.value.map((w,x,E)=>{let{item:A,raw:I}=w;return L(Ht,null,[L(mC,nt({key:A.title,disabled:x>=E.length-1},A),{default:i.title?()=>{var D;return(D=i.title)==null?void 0:D.call(i,{item:I,index:x})}:void 0}),x<E.length-1&&L(pC,null,{default:i.divider?()=>{var D;return(D=i.divider)==null?void 0:D.call(i,{item:I,index:x})}:void 0})])}),(v=i.default)==null?void 0:v.call(i)]}})}),{}}});const vC=Oe()({name:"VCardActions",props:et(),setup(e,t){let{slots:i}=t;return Fn({VBtn:{variant:"text"}}),Ue(()=>{var r;return L("div",{class:["v-card-actions",e.class],style:e.style},[(r=i.default)==null?void 0:r.call(i)])}),{}}}),gC=Fr("v-card-subtitle"),yC=Fr("v-card-title"),$U=Se({appendAvatar:String,appendIcon:St,prependAvatar:String,prependIcon:St,subtitle:String,title:String,...et(),...jn()},"v-card-item"),wC=Oe()({name:"VCardItem",props:$U(),setup(e,t){let{slots:i}=t;return Ue(()=>{var v;const r=!!(e.prependAvatar||e.prependIcon),s=!!(r||i.prepend),l=!!(e.appendAvatar||e.appendIcon),u=!!(l||i.append),f=!!(e.title||i.title),m=!!(e.subtitle||i.subtitle);return L("div",{class:["v-card-item",e.class],style:e.style},[s&&L("div",{key:"prepend",class:"v-card-item__prepend"},[i.prepend?L(rn,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},i.prepend):r&&L(ys,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),L("div",{class:"v-card-item__content"},[f&&L(yC,{key:"title"},{default:()=>{var w;return[((w=i.title)==null?void 0:w.call(i))??e.title]}}),m&&L(gC,{key:"subtitle"},{default:()=>{var w;return[((w=i.subtitle)==null?void 0:w.call(i))??e.subtitle]}}),(v=i.default)==null?void 0:v.call(i)]),u&&L("div",{key:"append",class:"v-card-item__append"},[i.append?L(rn,{key:"append-defaults",disabled:!l,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},i.append):l&&L(ys,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])}),{}}}),bC=Fr("v-card-text"),qU=Se({appendAvatar:String,appendIcon:St,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:St,ripple:{type:Boolean,default:!0},subtitle:String,text:String,title:String,...or(),...et(),...jn(),...vr(),...Hn(),...H0(),...Ts(),...Mc(),...pn(),...Jd(),...It(),...Gt(),...wr({variant:"elevated"})},"v-card"),YU=Oe()({name:"VCard",directives:{Ripple:Ss},props:qU(),setup(e,t){let{attrs:i,slots:r}=t;const{themeClasses:s}=Jt(e),{borderClasses:l}=yr(e),{colorClasses:u,colorStyles:f,variantClasses:m}=Da(e),{densityClasses:v}=Ii(e),{dimensionStyles:w}=gr(e),{elevationClasses:x}=li(e),{loaderClasses:E}=qp(e),{locationStyles:A}=As(e),{positionClasses:I}=Ic(e),{roundedClasses:D}=En(e),O=Qd(e,i),H=P(()=>e.link!==!1&&O.isLink.value),V=P(()=>!e.disabled&&e.link!==!1&&(e.link||O.isClickable.value));return Ue(()=>{const U=H.value?"a":e.tag,ne=!!(r.title||e.title),re=!!(r.subtitle||e.subtitle),ee=ne||re,Z=!!(r.append||e.appendAvatar||e.appendIcon),X=!!(r.prepend||e.prependAvatar||e.prependIcon),B=!!(r.image||e.image),G=ee||X||Z,q=!!(r.text||e.text);return un(L(U,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":V.value},s.value,l.value,u.value,v.value,x.value,E.value,I.value,D.value,m.value,e.class],style:[f.value,w.value,A.value,e.style],href:O.href.value,onClick:V.value&&O.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var Y;return[B&&L("div",{key:"image",class:"v-card__image"},[r.image?L(rn,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):L(ga,{key:"image-img",cover:!0,src:e.image},null)]),L(j0,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:r.loader}),G&&L(wC,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),q&&L(bC,{key:"text"},{default:()=>{var fe;return[((fe=r.text)==null?void 0:fe.call(r))??e.text]}}),(Y=r.default)==null?void 0:Y.call(r),r.actions&&L(vC,null,{default:r.actions}),Oa(V.value,"v-card")]}}),[[$i("ripple"),V.value&&e.ripple]])}),{}}});const XU=e=>{const{touchstartX:t,touchendX:i,touchstartY:r,touchendY:s}=e,l=.5,u=16;e.offsetX=i-t,e.offsetY=s-r,Math.abs(e.offsetY)<l*Math.abs(e.offsetX)&&(e.left&&i<t-u&&e.left(e),e.right&&i>t+u&&e.right(e)),Math.abs(e.offsetX)<l*Math.abs(e.offsetY)&&(e.up&&s<r-u&&e.up(e),e.down&&s>r+u&&e.down(e))};function KU(e,t){var r;const i=e.changedTouches[0];t.touchstartX=i.clientX,t.touchstartY=i.clientY,(r=t.start)==null||r.call(t,{originalEvent:e,...t})}function QU(e,t){var r;const i=e.changedTouches[0];t.touchendX=i.clientX,t.touchendY=i.clientY,(r=t.end)==null||r.call(t,{originalEvent:e,...t}),XU(t)}function JU(e,t){var r;const i=e.changedTouches[0];t.touchmoveX=i.clientX,t.touchmoveY=i.clientY,(r=t.move)==null||r.call(t,{originalEvent:e,...t})}function ZU(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:i=>KU(i,t),touchend:i=>QU(i,t),touchmove:i=>JU(i,t)}}function ez(e,t){var f;const i=t.value,r=i!=null&&i.parent?e.parentElement:e,s=(i==null?void 0:i.options)??{passive:!0},l=(f=t.instance)==null?void 0:f.$.uid;if(!r||!l)return;const u=ZU(t.value);r._touchHandlers=r._touchHandlers??Object.create(null),r._touchHandlers[l]=u,UT(u).forEach(m=>{r.addEventListener(m,u[m],s)})}function tz(e,t){var l,u;const i=(l=t.value)!=null&&l.parent?e.parentElement:e,r=(u=t.instance)==null?void 0:u.$.uid;if(!(i!=null&&i._touchHandlers)||!r)return;const s=i._touchHandlers[r];UT(s).forEach(f=>{i.removeEventListener(f,s[f])}),delete i._touchHandlers[r]}const Q0={mounted:ez,unmounted:tz},_C=Symbol.for("vuetify:v-window"),xC=Symbol.for("vuetify:v-window-group"),EC=Se({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{default:"force"},...et(),...It(),...Gt()},"v-window"),SC=Oe()({name:"VWindow",directives:{Touch:Q0},props:EC(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const{themeClasses:r}=Jt(e),{isRtl:s}=Mi(),{t:l}=mr(),u=Na(e,xC),f=Ce(),m=P(()=>s.value?!e.reverse:e.reverse),v=Xe(!1),w=P(()=>{const ne=e.direction==="vertical"?"y":"x",ee=(m.value?!v.value:v.value)?"-reverse":"";return`v-window-${ne}${ee}-transition`}),x=Xe(0),E=Ce(void 0),A=P(()=>u.items.value.findIndex(ne=>u.selected.value.includes(ne.id)));He(A,(ne,re)=>{const ee=u.items.value.length,Z=ee-1;ee<=2?v.value=ne<re:ne===Z&&re===0?v.value=!0:ne===0&&re===Z?v.value=!1:v.value=ne<re}),bn(_C,{transition:w,isReversed:v,transitionCount:x,transitionHeight:E,rootRef:f});const I=P(()=>e.continuous||A.value!==0),D=P(()=>e.continuous||A.value!==u.items.value.length-1);function O(){I.value&&u.prev()}function H(){D.value&&u.next()}const V=P(()=>{const ne=[],re={icon:s.value?e.nextIcon:e.prevIcon,class:`v-window__${m.value?"right":"left"}`,onClick:u.prev,ariaLabel:l("$vuetify.carousel.prev")};ne.push(I.value?i.prev?i.prev({props:re}):L(Oi,re,null):L("div",null,null));const ee={icon:s.value?e.prevIcon:e.nextIcon,class:`v-window__${m.value?"left":"right"}`,onClick:u.next,ariaLabel:l("$vuetify.carousel.next")};return ne.push(D.value?i.next?i.next({props:ee}):L(Oi,ee,null):L("div",null,null)),ne}),U=P(()=>e.touch===!1?e.touch:{...{left:()=>{m.value?O():H()},right:()=>{m.value?H():O()},start:re=>{let{originalEvent:ee}=re;ee.stopPropagation()}},...e.touch===!0?{}:e.touch});return Ue(()=>un(L(e.tag,{ref:f,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},r.value,e.class],style:e.style},{default:()=>{var ne,re;return[L("div",{class:"v-window__container",style:{height:E.value}},[(ne=i.default)==null?void 0:ne.call(i,{group:u}),e.showArrows!==!1&&L("div",{class:"v-window__controls"},[V.value])]),(re=i.additional)==null?void 0:re.call(i,{group:u})]}}),[[$i("touch"),U.value]])),{group:u}}}),nz=Se({color:String,cycle:Boolean,delimiterIcon:{type:St,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...EC({continuous:!0,mandatory:"force",showArrows:!0})},"v-carousel"),iz=Oe()({name:"VCarousel",props:nz(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Mt(e,"modelValue"),{t:s}=mr(),l=Ce();let u=-1;He(r,m),He(()=>e.interval,m),He(()=>e.cycle,v=>{v?m():window.clearTimeout(u)}),Qn(f);function f(){!e.cycle||!l.value||(u=window.setTimeout(l.value.group.next,+e.interval>0?+e.interval:6e3))}function m(){window.clearTimeout(u),window.requestAnimationFrame(f)}return Ue(()=>L(SC,{ref:l,modelValue:r.value,"onUpdate:modelValue":v=>r.value=v,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:at(e.height)},e.style],continuous:!0,mandatory:"force",showArrows:e.showArrows},{default:i.default,additional:v=>{let{group:w}=v;return L(Ht,null,[!e.hideDelimiters&&L("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[w.items.value.length>0&&L(rn,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[w.items.value.map((x,E)=>{const A={id:`carousel-item-${x.id}`,"aria-label":s("$vuetify.carousel.ariaLabel.delimiter",E+1,w.items.value.length),class:[w.isSelected(x.id)&&"v-btn--active"],onClick:()=>w.select(x.id,!0)};return i.item?i.item({props:A,item:x}):L(Oi,nt(x,A),null)})]})]),e.progress&&L(z0,{class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(w.getItemIndex(r.value)+1)/w.items.value.length*100},null)])},prev:i.prev,next:i.next})),{}}}),TC=Se({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...et(),...Tc(),...tm()},"v-window-item"),_y=Oe()({name:"VWindowItem",directives:{Touch:Q0},props:TC(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:i}=t;const r=Bt(_C),s=Ac(e,xC),{isBooted:l}=Pa();if(!r||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const u=Xe(!1),f=P(()=>l.value&&(r.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function m(){!u.value||!r||(u.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function v(){var I;u.value||!r||(u.value=!0,r.transitionCount.value===0&&(r.transitionHeight.value=at((I=r.rootRef.value)==null?void 0:I.clientHeight)),r.transitionCount.value+=1)}function w(){m()}function x(I){u.value&&kt(()=>{!f.value||!u.value||!r||(r.transitionHeight.value=at(I.clientHeight))})}const E=P(()=>{const I=r.isReversed.value?e.reverseTransition:e.transition;return f.value?{name:typeof I!="string"?r.transition.value:I,onBeforeEnter:v,onAfterEnter:m,onEnterCancelled:w,onBeforeLeave:v,onAfterLeave:m,onLeaveCancelled:w,onEnter:x}:!1}),{hasContent:A}=X0(e,s.isSelected);return Ue(()=>L(Or,{transition:E.value,disabled:!l.value},{default:()=>{var I;return[un(L("div",{class:["v-window-item",s.selectedClass.value,e.class],style:e.style},[A.value&&((I=i.default)==null?void 0:I.call(i))]),[[fo,s.isSelected.value]])]}})),{}}}),rz=Se({...yA(),...TC()},"v-carousel-item"),oz=Oe()({name:"VCarouselItem",inheritAttrs:!1,props:rz(),setup(e,t){let{slots:i,attrs:r}=t;Ue(()=>{const[s]=ga.filterProps(e),[l]=_y.filterProps(e);return L(_y,nt({class:"v-carousel-item"},l),{default:()=>[L(ga,nt(r,s),i)]})})}});const sz=Fr("v-code");const AC=Se({color:String,...or(),...et(),...vr(),...Hn(),...Ts(),...Mc(),...pn(),...It(),...Gt()},"v-sheet"),xy=Oe()({name:"VSheet",props:AC(),setup(e,t){let{slots:i}=t;const{themeClasses:r}=Jt(e),{backgroundColorClasses:s,backgroundColorStyles:l}=Ln(Ne(e,"color")),{borderClasses:u}=yr(e),{dimensionStyles:f}=gr(e),{elevationClasses:m}=li(e),{locationStyles:v}=As(e),{positionClasses:w}=Ic(e),{roundedClasses:x}=En(e);return Ue(()=>L(e.tag,{class:["v-sheet",r.value,s.value,u.value,m.value,w.value,x.value,e.class],style:[l.value,f.value,v.value,e.style]},i)),{}}});const az=Se({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...et()},"v-color-picker-canvas"),lz=pr({name:"VColorPickerCanvas",props:az(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:i}=t;const r=Xe(!1),s=Xe(!1),l=Ce({x:0,y:0}),u=P(()=>{const{x:H,y:V}=l.value,U=parseInt(e.dotSize,10)/2;return{width:at(e.dotSize),height:at(e.dotSize),transform:`translate(${at(H-U)}, ${at(V-U)})`}}),f=Ce(),m=Xe(parseFloat(e.width)),v=Xe(parseFloat(e.height)),{resizeRef:w}=uo(H=>{var ne;if(!((ne=w.value)!=null&&ne.offsetParent))return;const{width:V,height:U}=H[0].contentRect;m.value=V,v.value=U});function x(H,V,U){const{left:ne,top:re,width:ee,height:Z}=U;l.value={x:wi(H-ne,0,ee),y:wi(V-re,0,Z)}}function E(H){e.disabled||!f.value||x(H.clientX,H.clientY,f.value.getBoundingClientRect())}function A(H){H.preventDefault(),!e.disabled&&(r.value=!0,window.addEventListener("mousemove",I),window.addEventListener("mouseup",D),window.addEventListener("touchmove",I),window.addEventListener("touchend",D))}function I(H){if(e.disabled||!f.value)return;r.value=!0;const V=lV(H);x(V.clientX,V.clientY,f.value.getBoundingClientRect())}function D(){window.removeEventListener("mousemove",I),window.removeEventListener("mouseup",D),window.removeEventListener("touchmove",I),window.removeEventListener("touchend",D)}He(l,()=>{var U,ne;if(s.value){s.value=!1;return}if(!f.value)return;const{x:H,y:V}=l.value;i("update:color",{h:((U=e.color)==null?void 0:U.h)??0,s:wi(H,0,m.value)/m.value,v:1-wi(V,0,v.value)/v.value,a:((ne=e.color)==null?void 0:ne.a)??1})});function O(){var re;if(!f.value)return;const H=f.value,V=H.getContext("2d");if(!V)return;const U=V.createLinearGradient(0,0,H.width,0);U.addColorStop(0,"hsla(0, 0%, 100%, 1)"),U.addColorStop(1,`hsla(${((re=e.color)==null?void 0:re.h)??0}, 100%, 50%, 1)`),V.fillStyle=U,V.fillRect(0,0,H.width,H.height);const ne=V.createLinearGradient(0,0,0,H.height);ne.addColorStop(0,"hsla(0, 0%, 100%, 0)"),ne.addColorStop(1,"hsla(0, 0%, 0%, 1)"),V.fillStyle=ne,V.fillRect(0,0,H.width,H.height)}return He(()=>{var H;return(H=e.color)==null?void 0:H.h},O,{immediate:!0}),He(()=>[m.value,v.value],(H,V)=>{O(),l.value={x:l.value.x*H[0]/V[0],y:l.value.y*H[1]/V[1]}},{flush:"post"}),He(()=>e.color,()=>{if(r.value){r.value=!1;return}s.value=!0,l.value=e.color?{x:e.color.s*m.value,y:(1-e.color.v)*v.value}:{x:0,y:0}},{deep:!0,immediate:!0}),Qn(()=>O()),Ue(()=>L("div",{ref:w,class:["v-color-picker-canvas",e.class],style:e.style,onClick:E,onMousedown:A,onTouchstart:A},[L("canvas",{ref:f,width:m.value,height:v.value},null),e.color&&L("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}],style:u.value},null)])),{}}});function cz(e,t){if(t){const{a:i,...r}=e;return r}return e}function uz(e,t){if(t==null||typeof t=="string"){const i=JT(e);return e.a===1?i.slice(0,7):i}if(typeof t=="object"){let i;return sa(t,["r","g","b"])?i=Lo(e):sa(t,["h","s","l"])?i=qT(e):sa(t,["h","s","v"])&&(i=e),cz(i,!sa(t,["a"])&&e.a===1)}return e}const od={h:0,s:0,v:1,a:1},Ey={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:Lo,from:Hp};var sS;const dz={...Ey,inputs:(sS=Ey.inputs)==null?void 0:sS.slice(0,3)},Sy={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,t)=>({...e,s:Number(t)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,t)=>({...e,l:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:qT,from:M0},hz={...Sy,inputs:Sy.inputs.slice(0,3)},CC={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t}],to:JT,from:bV},fz={...CC,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t}]},fa={rgb:dz,rgba:Ey,hsl:hz,hsla:Sy,hex:fz,hexa:CC},pz=e=>{let{label:t,...i}=e;return L("div",{class:"v-color-picker-edit__input"},[L("input",i,null),L("span",null,[t])])},mz=Se({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(fa).includes(e)},modes:{type:Array,default:()=>Object.keys(fa),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(fa).includes(t))},...et()},"v-color-picker-edit"),vz=pr({name:"VColorPickerEdit",props:mz(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:i}=t;const r=P(()=>e.modes.map(l=>({...fa[l],name:l}))),s=P(()=>{var f;const l=r.value.find(m=>m.name===e.mode);if(!l)return[];const u=e.color?l.to(e.color):null;return(f=l.inputs)==null?void 0:f.map(m=>{let{getValue:v,getColor:w,...x}=m;return{...l.inputProps,...x,disabled:e.disabled,value:u&&v(u),onChange:E=>{const A=E.target;A&&i("update:color",l.from(w(u??od,A.value)))}}})});return Ue(()=>{var l;return L("div",{class:["v-color-picker-edit",e.class],style:e.style},[(l=s.value)==null?void 0:l.map(u=>L(pz,u,null)),r.value.length>1&&L(Oi,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const u=r.value.findIndex(f=>f.name===e.mode);i("update:mode",r.value[(u+1)%r.value.length].name)}},null)])}),{}}});const J0=Symbol.for("vuetify:v-slider");function Ty(e,t,i){const r=i==="vertical",s=t.getBoundingClientRect(),l="touches"in e?e.touches[0]:e;return r?l.clientY-(s.top+s.height/2):l.clientX-(s.left+s.width/2)}function gz(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const MC=Se({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...pn(),...Hn({elevation:2})},"slider"),IC=e=>{const t=P(()=>parseFloat(e.min)),i=P(()=>parseFloat(e.max)),r=P(()=>+e.step>0?parseFloat(e.step):0),s=P(()=>Math.max(Nx(r.value),Nx(t.value)));function l(u){if(r.value<=0)return u;const f=wi(u,t.value,i.value),m=t.value%r.value,v=Math.round((f-m)/r.value)*r.value+m;return parseFloat(Math.min(v,i.value).toFixed(s.value))}return{min:t,max:i,step:r,decimals:s,roundValue:l}},RC=e=>{let{props:t,steps:i,onSliderStart:r,onSliderMove:s,onSliderEnd:l,getActiveThumb:u}=e;const{isRtl:f}=Mi(),m=Ne(t,"reverse"),v=P(()=>{let W=f.value?"rtl":"ltr";return t.reverse&&(W=W==="rtl"?"ltr":"rtl"),W}),{min:w,max:x,step:E,decimals:A,roundValue:I}=i,D=P(()=>parseInt(t.thumbSize,10)),O=P(()=>parseInt(t.tickSize,10)),H=P(()=>parseInt(t.trackSize,10)),V=P(()=>(x.value-w.value)/E.value),U=Ne(t,"disabled"),ne=P(()=>t.direction==="vertical"),re=P(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),ee=P(()=>t.error||t.disabled?void 0:t.trackColor??t.color),Z=P(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),X=Xe(!1),B=Xe(0),G=Ce(),q=Ce();function Y(W){var Pt;const se=t.direction==="vertical",we=se?"top":"left",Ee=se?"height":"width",Ie=se?"clientY":"clientX",{[we]:je,[Ee]:Ke}=(Pt=G.value)==null?void 0:Pt.$el.getBoundingClientRect(),it=gz(W,Ie);let Qe=Math.min(Math.max((it-je-B.value)/Ke,0),1)||0;return(se||v.value==="rtl")&&(Qe=1-Qe),I(w.value+Qe*(x.value-w.value))}const fe=W=>{l({value:Y(W)}),X.value=!1,B.value=0},de=W=>{q.value=u(W),q.value&&(q.value.focus(),X.value=!0,q.value.contains(W.target)?B.value=Ty(W,q.value,t.direction):(B.value=0,s({value:Y(W)})),r({value:Y(W)}))},g={passive:!0,capture:!0};function T(W){s({value:Y(W)})}function R(W){W.stopPropagation(),W.preventDefault(),fe(W),window.removeEventListener("mousemove",T,g),window.removeEventListener("mouseup",R)}function S(W){var se;fe(W),window.removeEventListener("touchmove",T,g),(se=W.target)==null||se.removeEventListener("touchend",S)}function N(W){var se;de(W),window.addEventListener("touchmove",T,g),(se=W.target)==null||se.addEventListener("touchend",S,{passive:!1})}function $(W){W.preventDefault(),de(W),window.addEventListener("mousemove",T,g),window.addEventListener("mouseup",R,{passive:!1})}const ce=W=>{const se=(W-w.value)/(x.value-w.value)*100;return wi(isNaN(se)?0:se,0,100)},le=Ne(t,"showTicks"),ie=P(()=>le.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(W=>({value:W,position:ce(W),label:W.toString()})):Object.keys(t.ticks).map(W=>({value:parseFloat(W),position:ce(parseFloat(W)),label:t.ticks[W]})):V.value!==1/0?to(V.value+1).map(W=>{const se=w.value+W*E.value;return{value:se,position:ce(se)}}):[]:[]),Le=P(()=>ie.value.some(W=>{let{label:se}=W;return!!se})),me={activeThumbRef:q,color:Ne(t,"color"),decimals:A,disabled:U,direction:Ne(t,"direction"),elevation:Ne(t,"elevation"),hasLabels:Le,horizontalDirection:v,isReversed:m,min:w,max:x,mousePressed:X,numTicks:V,onSliderMousedown:$,onSliderTouchstart:N,parsedTicks:ie,parseMouseMove:Y,position:ce,readonly:Ne(t,"readonly"),rounded:Ne(t,"rounded"),roundValue:I,showTicks:le,startOffset:B,step:E,thumbSize:D,thumbColor:re,thumbLabel:Ne(t,"thumbLabel"),ticks:Ne(t,"ticks"),tickSize:O,trackColor:ee,trackContainerRef:G,trackFillColor:Z,trackSize:H,vertical:ne};return bn(J0,me),me},yz=Se({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:Boolean,default:!0},...et()},"v-slider-thumb"),Ay=Oe()({name:"VSliderThumb",directives:{Ripple:Ss},props:yz(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i,emit:r}=t;const s=Bt(J0);if(!s)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:l,step:u,vertical:f,disabled:m,thumbSize:v,thumbLabel:w,direction:x,readonly:E,elevation:A,isReversed:I,horizontalDirection:D,mousePressed:O,decimals:H}=s,{textColorClasses:V,textColorStyles:U}=Ei(l),{pageup:ne,pagedown:re,end:ee,home:Z,left:X,right:B,down:G,up:q}=ny,Y=[ne,re,ee,Z,X,B,G,q],fe=P(()=>u.value?[1,2,3]:[1,5,10]);function de(T,R){if(!Y.includes(T.key))return;T.preventDefault();const S=u.value||.1,N=(e.max-e.min)/S;if([X,B,G,q].includes(T.key)){const ce=(D.value==="rtl"?[X,q]:[B,q]).includes(T.key)?1:-1,le=T.shiftKey?2:T.ctrlKey?1:0;R=R+ce*S*fe.value[le]}else if(T.key===Z)R=e.min;else if(T.key===ee)R=e.max;else{const $=T.key===re?1:-1;R=R-$*S*(N>100?N/10:10)}return Math.max(e.min,Math.min(e.max,R))}function g(T){const R=de(T,e.modelValue);R!=null&&r("update:modelValue",R)}return Ue(()=>{const T=at(f.value||I.value?100-e.position:e.position,"%"),{elevationClasses:R}=li(P(()=>m.value?void 0:A.value));return L("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&O.value},e.class],style:[{"--v-slider-thumb-position":T,"--v-slider-thumb-size":at(v.value)},e.style],role:"slider",tabindex:m.value?-1:0,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!E.value,"aria-orientation":x.value,onKeydown:E.value?void 0:g},[L("div",{class:["v-slider-thumb__surface",V.value,R.value],style:{...U.value}},null),un(L("div",{class:["v-slider-thumb__ripple",V.value],style:U.value},null),[[$i("ripple"),e.ripple,null,{circle:!0,center:!0}]]),L(mA,{origin:"bottom center"},{default:()=>{var S;return[un(L("div",{class:"v-slider-thumb__label-container"},[L("div",{class:["v-slider-thumb__label"]},[L("div",null,[((S=i["thumb-label"])==null?void 0:S.call(i,{modelValue:e.modelValue}))??e.modelValue.toFixed(u.value?H.value:1)])])]),[[fo,w.value&&e.focused||w.value==="always"]])]}})])}),{}}});const wz=Se({start:{type:Number,required:!0},stop:{type:Number,required:!0},...et()},"v-slider-track"),kC=Oe()({name:"VSliderTrack",props:wz(),emits:{},setup(e,t){let{slots:i}=t;const r=Bt(J0);if(!r)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:s,horizontalDirection:l,parsedTicks:u,rounded:f,showTicks:m,tickSize:v,trackColor:w,trackFillColor:x,trackSize:E,vertical:A,min:I,max:D}=r,{roundedClasses:O}=En(f),{backgroundColorClasses:H,backgroundColorStyles:V}=Ln(x),{backgroundColorClasses:U,backgroundColorStyles:ne}=Ln(w),re=P(()=>`inset-${A.value?"block-end":"inline-start"}`),ee=P(()=>A.value?"height":"width"),Z=P(()=>({[re.value]:"0%",[ee.value]:"100%"})),X=P(()=>e.stop-e.start),B=P(()=>({[re.value]:at(e.start,"%"),[ee.value]:at(X.value,"%")})),G=P(()=>m.value?(A.value?u.value.slice().reverse():u.value).map((Y,fe)=>{var T;const de=A.value?"bottom":"margin-inline-start",g=Y.value!==I.value&&Y.value!==D.value?at(Y.position,"%"):void 0;return L("div",{key:Y.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":Y.position>=e.start&&Y.position<=e.stop,"v-slider-track__tick--first":Y.value===I.value,"v-slider-track__tick--last":Y.value===D.value}],style:{[de]:g}},[(Y.label||i["tick-label"])&&L("div",{class:"v-slider-track__tick-label"},[((T=i["tick-label"])==null?void 0:T.call(i,{tick:Y,index:fe}))??Y.label])])}):[]);return Ue(()=>L("div",{class:["v-slider-track",O.value,e.class],style:[{"--v-slider-track-size":at(E.value),"--v-slider-tick-size":at(v.value),direction:A.value?void 0:l.value},e.style]},[L("div",{class:["v-slider-track__background",U.value,{"v-slider-track__background--opacity":!!s.value||!x.value}],style:{...Z.value,...ne.value}},null),L("div",{class:["v-slider-track__fill",H.value],style:{...B.value,...V.value}},null),m.value&&L("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":m.value==="always"}]},[G.value])])),{}}}),bz=Se({...Yp(),...MC(),...jo(),modelValue:{type:[Number,String],default:0}},"v-slider"),Cy=Oe()({name:"VSlider",props:bz(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:i,emit:r}=t;const s=Ce(),{rtlClasses:l}=Mi(),u=IC(e),f=Mt(e,"modelValue",void 0,ee=>{const Z=typeof ee=="string"?parseFloat(ee):ee??u.min.value;return u.roundValue(Z)}),{min:m,max:v,mousePressed:w,roundValue:x,onSliderMousedown:E,onSliderTouchstart:A,trackContainerRef:I,position:D,hasLabels:O,readonly:H}=RC({props:e,steps:u,onSliderStart:()=>{r("start",f.value)},onSliderEnd:ee=>{let{value:Z}=ee;const X=x(Z);f.value=X,r("end",X)},onSliderMove:ee=>{let{value:Z}=ee;return f.value=x(Z)},getActiveThumb:()=>{var ee;return(ee=s.value)==null?void 0:ee.$el}}),{isFocused:V,focus:U,blur:ne}=Cs(e),re=P(()=>D(f.value));return Ue(()=>{const[ee,Z]=si.filterProps(e),X=!!(e.label||i.label||i.prepend);return L(si,nt({class:["v-slider",{"v-slider--has-labels":!!i["tick-label"]||O.value,"v-slider--focused":V.value,"v-slider--pressed":w.value,"v-slider--disabled":e.disabled},l.value,e.class],style:e.style},ee,{focused:V.value}),{...i,prepend:X?B=>{var G,q;return L(Ht,null,[((G=i.label)==null?void 0:G.call(i,B))??e.label?L(Rc,{id:B.id.value,class:"v-slider__label",text:e.label},null):void 0,(q=i.prepend)==null?void 0:q.call(i,B)])}:void 0,default:B=>{let{id:G,messagesId:q}=B;return L("div",{class:"v-slider__container",onMousedown:H.value?void 0:E,onTouchstartPassive:H.value?void 0:A},[L("input",{id:G.value,name:e.name||G.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:f.value},null),L(kC,{ref:I,start:0,stop:re.value},{"tick-label":i["tick-label"]}),L(Ay,{ref:s,"aria-describedby":q.value,focused:V.value,min:m.value,max:v.value,modelValue:f.value,"onUpdate:modelValue":Y=>f.value=Y,position:re.value,elevation:e.elevation,onFocus:U,onBlur:ne},{"thumb-label":i["thumb-label"]})])}})}),{}}}),_z=Se({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...et()},"v-color-picker-preview"),xz=pr({name:"VColorPickerPreview",props:_z(),emits:{"update:color":e=>!0},setup(e,t){let{emit:i}=t;return Ue(()=>{var r,s;return L("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class],style:e.style},[L("div",{class:"v-color-picker-preview__dot"},[L("div",{style:{background:XT(e.color??od)}},null)]),L("div",{class:"v-color-picker-preview__sliders"},[L(Cy,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(r=e.color)==null?void 0:r.h,"onUpdate:modelValue":l=>i("update:color",{...e.color??od,h:l}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&L(Cy,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((s=e.color)==null?void 0:s.a)??1,"onUpdate:modelValue":l=>i("update:color",{...e.color??od,a:l}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}});const Ez=Object.freeze({base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"}),Sz=Object.freeze({base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"}),Tz=Object.freeze({base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"}),Az=Object.freeze({base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"}),Cz=Object.freeze({base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"}),Mz=Object.freeze({base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"}),Iz=Object.freeze({base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"}),Rz=Object.freeze({base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"}),kz=Object.freeze({base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"}),Lz=Object.freeze({base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"}),Pz=Object.freeze({base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"}),Oz=Object.freeze({base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"}),Dz=Object.freeze({base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"}),Nz=Object.freeze({base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"}),Vz=Object.freeze({base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"}),Bz=Object.freeze({base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"}),Fz=Object.freeze({base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"}),Uz=Object.freeze({base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"}),zz=Object.freeze({base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"}),Hz=Object.freeze({black:"#000000",white:"#ffffff",transparent:"#ffffff00"}),jz=Object.freeze({red:Ez,pink:Sz,purple:Tz,deepPurple:Az,indigo:Cz,blue:Mz,lightBlue:Iz,cyan:Rz,teal:kz,green:Lz,lightGreen:Pz,lime:Oz,yellow:Dz,amber:Nz,orange:Vz,deepOrange:Bz,brown:Fz,blueGrey:Uz,grey:zz,shades:Hz}),Gz=Se({swatches:{type:Array,default:()=>Wz(jz)},disabled:Boolean,color:Object,maxHeight:[Number,String],...et()},"v-color-picker-swatches");function Wz(e){return Object.keys(e).map(t=>{const i=e[t];return i.base?[i.base,i.darken4,i.darken3,i.darken2,i.darken1,i.lighten1,i.lighten2,i.lighten3,i.lighten4,i.lighten5]:[i.black,i.white,i.transparent]})}const $z=pr({name:"VColorPickerSwatches",props:Gz(),emits:{"update:color":e=>!0},setup(e,t){let{emit:i}=t;return Ue(()=>L("div",{class:["v-color-picker-swatches",e.class],style:[{maxHeight:at(e.maxHeight)},e.style]},[L("div",null,[e.swatches.map(r=>L("div",{class:"v-color-picker-swatches__swatch"},[r.map(s=>{const l=So(s),u=Hp(l),f=YT(l);return L("div",{class:"v-color-picker-swatches__color",onClick:()=>u&&i("update:color",u)},[L("div",{style:{background:f}},[e.color&&Ra(e.color,u)?L(ln,{size:"x-small",icon:"$success",color:SV(s,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),qz=Se({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(fa).includes(e)},modes:{type:Array,default:()=>Object.keys(fa),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(fa).includes(t))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...po(AC({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"v-color-picker"),Yz=pr({name:"VColorPicker",props:qz(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e){const t=Mt(e,"mode"),i=Ce(null),r=Mt(e,"modelValue",void 0,u=>{let f;try{f=Hp(So(u))}catch{return null}return i.value&&(f={...f,h:i.value.h},i.value=null),f},u=>u?uz(u,e.modelValue):null),{rtlClasses:s}=Mi(),l=u=>{r.value=u,i.value=u};return Qn(()=>{e.modes.includes(t.value)||(t.value=e.modes[0])}),Fn({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),Ue(()=>{const[u]=xy.filterProps(e);return L(xy,nt({rounded:e.rounded,elevation:e.elevation,theme:e.theme,class:["v-color-picker",s.value,e.class],style:[{"--v-color-picker-color-hsv":XT({...r.value??od,a:1})},e.style]},u,{maxWidth:e.width}),{default:()=>[!e.hideCanvas&&L(lz,{key:"canvas",color:r.value,"onUpdate:color":l,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&L("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&L(xz,{key:"preview",color:r.value,"onUpdate:color":l,hideAlpha:!t.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&L(vz,{key:"edit",modes:e.modes,mode:t.value,"onUpdate:mode":f=>t.value=f,color:r.value,"onUpdate:color":l,disabled:e.disabled},null)]),e.showSwatches&&L($z,{key:"swatches",color:r.value,"onUpdate:color":l,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)]})}),{}}});function Xz(e,t,i){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?L(Ht,null,[L("span",{class:"v-combobox__unmask"},[e.substr(0,t)]),L("span",{class:"v-combobox__mask"},[e.substr(t,i)]),L("span",{class:"v-combobox__unmask"},[e.substr(t+i)])]):e}const Kz=Se({autoSelectFirst:{type:[Boolean,String]},delimiters:Array,...uC({filterKeys:["title"]}),...K0({hideNoData:!0,returnObject:!0}),...po(Jp({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...zo({transition:!1})},"v-combobox"),Qz=Oe()({name:"VCombobox",props:Kz(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){var Le;let{emit:i,slots:r}=t;const{t:s}=mr(),l=Ce(),u=Xe(!1),f=Xe(!0),m=Ce(!1),v=Ce(),w=Mt(e,"menu"),x=P({get:()=>w.value,set:me=>{var W;w.value&&!me&&((W=v.value)!=null&&W.openChildren)||(w.value=me)}}),E=Xe(-1);let A=!1;const I=P(()=>{var me;return(me=l.value)==null?void 0:me.color}),{items:D,transformIn:O,transformOut:H}=Y0(e),{textColorClasses:V,textColorStyles:U}=Ei(I),ne=Mt(e,"modelValue",[],me=>O(dr(me)),me=>{const W=H(me);return e.multiple?W:W[0]??null}),re=Kp(),ee=Xe(e.multiple?"":((Le=ne.value[0])==null?void 0:Le.title)??""),Z=P({get:()=>ee.value,set:me=>{var W;if(ee.value=me,e.multiple||(ne.value=[$l(e,me)]),me&&e.multiple&&((W=e.delimiters)!=null&&W.length)){const se=me.split(new RegExp(`(?:${e.delimiters.join("|")})+`));se.length>1&&(se.forEach(we=>{we=we.trim(),we&&ce($l(e,we))}),ee.value="")}me||(E.value=-1),f.value=!me}});He(ee,me=>{A?kt(()=>A=!1):u.value&&!x.value&&(x.value=!0),i("update:search",me)}),He(ne,me=>{var W;e.multiple||(ee.value=((W=me[0])==null?void 0:W.title)??"")});const{filteredItems:X,getMatches:B}=dC(e,D,P(()=>f.value?void 0:Z.value)),G=P(()=>ne.value.map(me=>D.value.find(W=>e.valueComparator(W.value,me.value))||me)),q=P(()=>e.hideSelected?X.value.filter(me=>!G.value.some(W=>W.value===me.value)):X.value),Y=P(()=>G.value.map(me=>me.props.value)),fe=P(()=>G.value[E.value]),de=P(()=>{var W;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&Z.value===((W=q.value[0])==null?void 0:W.title))&&q.value.length>0&&!f.value&&!m.value}),g=Ce();function T(me){A=!0,e.openOnClear&&(x.value=!0)}function R(){e.hideNoData&&!D.value.length||e.readonly||re!=null&&re.isReadonly.value||(x.value=!0)}function S(me){u.value&&(me.preventDefault(),me.stopPropagation()),x.value=!x.value}function N(me){var we,Ee;if(e.readonly||re!=null&&re.isReadonly.value)return;const W=l.value.selectionStart,se=Y.value.length;if((E.value>-1||["Enter","ArrowDown","ArrowUp"].includes(me.key))&&me.preventDefault(),["Enter","ArrowDown"].includes(me.key)&&(x.value=!0),["Escape"].includes(me.key)&&(x.value=!1),["Enter","Escape","Tab"].includes(me.key)&&(de.value&&["Enter","Tab"].includes(me.key)&&ce(X.value[0]),f.value=!0),me.key==="ArrowDown"?(we=g.value)==null||we.focus("next"):me.key==="ArrowUp"&&((Ee=g.value)==null||Ee.focus("prev")),!!e.multiple){if(["Backspace","Delete"].includes(me.key)){if(E.value<0){me.key==="Backspace"&&!Z.value&&(E.value=se-1);return}const Ie=E.value;fe.value&&ce(fe.value),E.value=Ie>=se-1?se-2:Ie}if(me.key==="ArrowLeft"){if(E.value<0&&W>0)return;const Ie=E.value>-1?E.value-1:se-1;G.value[Ie]?E.value=Ie:(E.value=-1,l.value.setSelectionRange(Z.value.length,Z.value.length))}if(me.key==="ArrowRight"){if(E.value<0)return;const Ie=E.value+1;G.value[Ie]?E.value=Ie:(E.value=-1,l.value.setSelectionRange(0,0))}me.key==="Enter"&&Z.value&&(ce($l(e,Z.value)),Z.value="")}}function $(){var me;u.value&&(f.value=!0,(me=l.value)==null||me.focus())}function ce(me){if(e.multiple){const W=Y.value.findIndex(se=>e.valueComparator(se,me.value));if(W===-1)ne.value=[...ne.value,me];else{const se=[...ne.value];se.splice(W,1),ne.value=se}Z.value=""}else ne.value=[me],ee.value=me.title,kt(()=>{x.value=!1,f.value=!0})}function le(me){u.value=!0,setTimeout(()=>{m.value=!0})}function ie(me){m.value=!1}return He(X,me=>{!me.length&&e.hideNoData&&(x.value=!1)}),He(u,(me,W)=>{me||me===W||(E.value=-1,x.value=!1,de.value&&!m.value&&!G.value.some(se=>{let{value:we}=se;return we===q.value[0].value})?ce(q.value[0]):e.multiple&&Z.value&&(ne.value=[...ne.value,$l(e,Z.value)],Z.value=""))}),Ue(()=>{const me=!!(e.chips||r.chip),W=!!(!e.hideNoData||q.value.length||r.prepend||r.append||r["no-data"]),se=ne.value.length>0,[we]=ya.filterProps(e);return L(ya,nt({ref:l},we,{modelValue:Z.value,"onUpdate:modelValue":[Ee=>Z.value=Ee,Ee=>{Ee==null&&(ne.value=[])}],focused:u.value,"onUpdate:focused":Ee=>u.value=Ee,validationValue:ne.externalValue,dirty:se,class:["v-combobox",{"v-combobox--active-menu":x.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!r.selection,"v-combobox--selecting-index":E.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:e.readonly,placeholder:se?void 0:e.placeholder,"onClick:clear":T,"onMousedown:control":R,onKeydown:N}),{...r,default:()=>L(Ht,null,[L(nm,nt({ref:v,modelValue:x.value,"onUpdate:modelValue":Ee=>x.value=Ee,activator:"parent",contentClass:"v-combobox__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:$},e.menuProps),{default:()=>[W&&L(em,{ref:g,selected:Y.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:Ee=>Ee.preventDefault(),onFocusin:le,onFocusout:ie},{default:()=>{var Ee,Ie,je;return[!q.value.length&&!e.hideNoData&&(((Ee=r["no-data"])==null?void 0:Ee.call(r))??L(Po,{title:s(e.noDataText)},null)),(Ie=r["prepend-item"])==null?void 0:Ie.call(r),q.value.map((Ke,it)=>{var Pt;const Qe=nt(Ke.props,{key:it,active:de.value&&it===0?!0:void 0,onClick:()=>ce(Ke)});return((Pt=r.item)==null?void 0:Pt.call(r,{item:Ke,index:it,props:Qe}))??L(Po,Qe,{prepend:gn=>{let{isSelected:Wt}=gn;return L(Ht,null,[e.multiple&&!e.hideSelected?L(cc,{key:Ke.value,modelValue:Wt,ripple:!1,tabindex:"-1"},null):void 0,Ke.props.prependIcon&&L(ln,{icon:Ke.props.prependIcon},null)])},title:()=>{var gn,Wt;return f.value?Ke.title:Xz(Ke.title,(gn=B(Ke))==null?void 0:gn.title,((Wt=Z.value)==null?void 0:Wt.length)??0)}})}),(je=r["append-item"])==null?void 0:je.call(r)]}})]}),G.value.map((Ee,Ie)=>{var it;function je(Qe){Qe.stopPropagation(),Qe.preventDefault(),ce(Ee)}const Ke={"onClick:close":je,onMousedown(Qe){Qe.preventDefault(),Qe.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return L("div",{key:Ee.value,class:["v-combobox__selection",Ie===E.value&&["v-combobox__selection--selected",V.value]],style:Ie===E.value?U.value:{}},[me?r.chip?L(rn,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:Ee.title}}},{default:()=>{var Qe;return[(Qe=r.chip)==null?void 0:Qe.call(r,{item:Ee,index:Ie,props:Ke})]}}):L(eh,nt({key:"chip",closable:e.closableChips,size:"small",text:Ee.title},Ke),null):((it=r.selection)==null?void 0:it.call(r,{item:Ee,index:Ie}))??L("span",{class:"v-combobox__selection-text"},[Ee.title,e.multiple&&Ie<G.value.length-1&&L("span",{class:"v-combobox__selection-comma"},[Np(",")])])])})]),"append-inner":function(){var Ke;for(var Ee=arguments.length,Ie=new Array(Ee),je=0;je<Ee;je++)Ie[je]=arguments[je];return L(Ht,null,[(Ke=r["append-inner"])==null?void 0:Ke.call(r,...Ie),(!e.hideNoData||e.items.length)&&e.menuIcon?L(ln,{class:"v-combobox__menu-icon",icon:e.menuIcon,onMousedown:S,onClick:HT},null):void 0])}})}),Ur({isFocused:u,isPristine:f,menu:x,search:Z,selectionIndex:E,filteredItems:X,select:ce},l)}});const Jz=Se({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...nh({origin:"center center",scrollStrategy:"block",transition:{component:Wp},zIndex:2400})},"v-dialog"),Zz=Oe()({name:"VDialog",props:Jz(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Mt(e,"modelValue"),{scopeId:s}=th(),l=Ce();function u(m){var x,E;const v=m.relatedTarget,w=m.target;if(v!==w&&((x=l.value)!=null&&x.contentEl)&&((E=l.value)!=null&&E.globalTop)&&![document,l.value.contentEl].includes(w)&&!l.value.contentEl.contains(w)){const A=T0(l.value.contentEl);if(!A.length)return;const I=A[0],D=A[A.length-1];v===I?D.focus():I.focus()}}kn&&He(()=>r.value&&e.retainFocus,m=>{m?document.addEventListener("focusin",u):document.removeEventListener("focusin",u)},{immediate:!0}),He(r,async m=>{var v,w;await kt(),m?(v=l.value.contentEl)==null||v.focus({preventScroll:!0}):(w=l.value.activatorEl)==null||w.focus({preventScroll:!0})});const f=P(()=>nt({"aria-haspopup":"dialog","aria-expanded":String(r.value)},e.activatorProps));return Ue(()=>{const[m]=Oo.filterProps(e);return L(Oo,nt({ref:l,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},m,{modelValue:r.value,"onUpdate:modelValue":v=>r.value=v,"aria-modal":"true",activatorProps:f.value,role:"dialog"},s),{activator:i.activator,default:function(){for(var v=arguments.length,w=new Array(v),x=0;x<v;x++)w[x]=arguments[x];return L(rn,{root:!0},{default:()=>{var E;return[(E=i.default)==null?void 0:E.call(i,...w)]}})}})}),Ur({},l)}});const Td=Symbol.for("vuetify:v-expansion-panel"),e4=["default","accordion","inset","popout"],t4=Se({color:String,variant:{type:String,default:"default",validator:e=>e4.includes(e)},readonly:Boolean,...et(),...Sc(),...It(),...Gt()},"v-expansion-panel"),n4=Oe()({name:"VExpansionPanels",props:t4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;Na(e,Td);const{themeClasses:r}=Jt(e),s=P(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Fn({VExpansionPanel:{color:Ne(e,"color")},VExpansionPanelTitle:{readonly:Ne(e,"readonly")}}),Ue(()=>L(e.tag,{class:["v-expansion-panels",r.value,s.value,e.class],style:e.style},i)),{}}}),LC=Se({color:String,expandIcon:{type:St,default:"$expand"},collapseIcon:{type:St,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...et()},"v-expansion-panel-title"),PC=Oe()({name:"VExpansionPanelTitle",directives:{Ripple:Ss},props:LC(),setup(e,t){let{slots:i}=t;const r=Bt(Td);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:s,backgroundColorStyles:l}=Ln(e,"color"),u=P(()=>({collapseIcon:e.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return Ue(()=>{var f;return un(L("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value},s.value,e.class],style:[l.value,e.style],type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:e.readonly?void 0:r.toggle},[L("span",{class:"v-expansion-panel-title__overlay"},null),(f=i.default)==null?void 0:f.call(i,u.value),!e.hideActions&&L("span",{class:"v-expansion-panel-title__icon"},[i.actions?i.actions(u.value):L(ln,{icon:r.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[$i("ripple"),e.ripple]])}),{}}}),i4=Se({...et(),...tm()},"v-expansion-panel-text"),OC=Oe()({name:"VExpansionPanelText",props:i4(),setup(e,t){let{slots:i}=t;const r=Bt(Td);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:s,onAfterLeave:l}=X0(e,r.isSelected);return Ue(()=>L($p,{onAfterLeave:l},{default:()=>{var u;return[un(L("div",{class:["v-expansion-panel-text",e.class],style:e.style},[i.default&&s.value&&L("div",{class:"v-expansion-panel-text__wrapper"},[(u=i.default)==null?void 0:u.call(i)])]),[[fo,r.isSelected.value]])]}})),{}}}),r4=Se({title:String,text:String,bgColor:String,...et(),...Hn(),...Tc(),...tm(),...pn(),...It(),...LC()},"v-expansion-panel"),o4=Oe()({name:"VExpansionPanel",props:r4(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:i}=t;const r=Ac(e,Td),{backgroundColorClasses:s,backgroundColorStyles:l}=Ln(e,"bgColor"),{elevationClasses:u}=li(e),{roundedClasses:f}=En(e),m=P(()=>(r==null?void 0:r.disabled.value)||e.disabled),v=P(()=>r.group.items.value.reduce((E,A,I)=>(r.group.selected.value.includes(A.id)&&E.push(I),E),[])),w=P(()=>{const E=r.group.items.value.findIndex(A=>A.id===r.id);return!r.isSelected.value&&v.value.some(A=>A-E===1)}),x=P(()=>{const E=r.group.items.value.findIndex(A=>A.id===r.id);return!r.isSelected.value&&v.value.some(A=>A-E===-1)});return bn(Td,r),Ue(()=>{const E=!!(i.text||e.text),A=!!(i.title||e.title);return L(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":w.value,"v-expansion-panel--after-active":x.value,"v-expansion-panel--disabled":m.value},f.value,s.value,e.class],style:[l.value,e.style]},{default:()=>{var I;return[L("div",{class:["v-expansion-panel__shadow",...u.value]},null),A&&L(PC,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[i.title?i.title():e.title]}),E&&L(OC,{key:"text",eager:e.eager},{default:()=>[i.text?i.text():e.text]}),(I=i.default)==null?void 0:I.call(i)]}})}),{}}});const s4=Se({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(e)},...jo({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:e=>dr(e).every(t=>t!=null&&typeof t=="object")},...Xp({clearable:!0})},"v-file-input"),a4=Oe()({name:"VFileInput",inheritAttrs:!1,props:s4(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:i,emit:r,slots:s}=t;const{t:l}=mr(),u=Mt(e,"modelValue"),{isFocused:f,focus:m,blur:v}=Cs(e),w=P(()=>typeof e.showSize!="boolean"?e.showSize:void 0),x=P(()=>(u.value??[]).reduce((B,G)=>{let{size:q=0}=G;return B+q},0)),E=P(()=>Bx(x.value,w.value)),A=P(()=>(u.value??[]).map(B=>{const{name:G="",size:q=0}=B;return e.showSize?`${G} (${Bx(q,w.value)})`:G})),I=P(()=>{var G;const B=((G=u.value)==null?void 0:G.length)??0;return e.showSize?l(e.counterSizeString,B,E.value):l(e.counterString,B)}),D=Ce(),O=Ce(),H=Ce(),V=P(()=>f.value||e.active),U=P(()=>["plain","underlined"].includes(e.variant));function ne(){var B;H.value!==document.activeElement&&((B=H.value)==null||B.focus()),f.value||m()}function re(B){Z(B)}function ee(B){r("mousedown:control",B)}function Z(B){var G;(G=H.value)==null||G.click(),r("click:control",B)}function X(B){B.stopPropagation(),ne(),kt(()=>{u.value=[],S0(e["onClick:clear"],B)})}return He(u,B=>{(!Array.isArray(B)||!B.length)&&H.value&&(H.value.value="")}),Ue(()=>{const B=!!(s.counter||e.counter),G=!!(B||s.details),[q,Y]=ka(i),[{modelValue:fe,...de}]=si.filterProps(e),[g]=W0(e);return L(si,nt({ref:D,modelValue:u.value,"onUpdate:modelValue":T=>u.value=T,class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--selection-slot":!!s.selection,"v-text-field--plain-underlined":U.value},e.class],style:e.style,"onClick:prepend":re},q,de,{centerAffix:!U.value,focused:f.value}),{...s,default:T=>{let{id:R,isDisabled:S,isDirty:N,isReadonly:$,isValid:ce}=T;return L(Zd,nt({ref:O,"prepend-icon":e.prependIcon,onMousedown:ee,onClick:Z,"onClick:clear":X,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},g,{id:R.value,active:V.value||N.value,dirty:N.value,disabled:S.value,focused:f.value,error:ce.value===!1}),{...s,default:le=>{var me;let{props:{class:ie,...Le}}=le;return L(Ht,null,[L("input",nt({ref:H,type:"file",readonly:$.value,disabled:S.value,multiple:e.multiple,name:e.name,onClick:W=>{W.stopPropagation(),ne()},onChange:W=>{if(!W.target)return;const se=W.target;u.value=[...se.files??[]]},onFocus:ne,onBlur:v},Le,Y),null),L("div",{class:ie},[!!((me=u.value)!=null&&me.length)&&(s.selection?s.selection({fileNames:A.value,totalBytes:x.value,totalBytesReadable:E.value}):e.chips?A.value.map(W=>L(eh,{key:W,size:"small",color:e.color},{default:()=>[W]})):A.value.join(", "))])])}})},details:G?T=>{var R,S;return L(Ht,null,[(R=s.details)==null?void 0:R.call(s,T),B&&L(Ht,null,[L("span",null,null),L(Qp,{active:!!((S=u.value)!=null&&S.length),value:I.value},s.counter)])])}:void 0})}),Ur({},D,O,H)}});const l4=Se({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...or(),...et(),...Hn(),...xc(),...pn(),...It({tag:"footer"}),...Gt()},"v-footer"),c4=Oe()({name:"VFooter",props:l4(),setup(e,t){let{slots:i}=t;const{themeClasses:r}=Jt(e),{backgroundColorClasses:s,backgroundColorStyles:l}=Ln(Ne(e,"color")),{borderClasses:u}=yr(e),{elevationClasses:f}=li(e),{roundedClasses:m}=En(e),v=Xe(32),{resizeRef:w}=uo(A=>{A.length&&(v.value=A[0].target.clientHeight)}),x=P(()=>e.height==="auto"?v.value:parseInt(e.height,10)),{layoutItemStyles:E}=Ec({id:e.name,order:P(()=>parseInt(e.order,10)),position:P(()=>"bottom"),layoutSize:x,elementSize:P(()=>e.height==="auto"?void 0:x.value),active:P(()=>e.app),absolute:Ne(e,"absolute")});return Ue(()=>L(e.tag,{ref:w,class:["v-footer",r.value,s.value,u.value,f.value,m.value,e.class],style:[l.value,e.app?E.value:void 0,e.style]},i)),{}}}),u4=Se({...et(),...TF()},"v-form"),d4=Oe()({name:"VForm",props:u4(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:i,emit:r}=t;const s=AF(e),l=Ce();function u(m){m.preventDefault(),s.reset()}function f(m){const v=m,w=s.validate();v.then=w.then.bind(w),v.catch=w.catch.bind(w),v.finally=w.finally.bind(w),r("submit",v),v.defaultPrevented||w.then(x=>{var A;let{valid:E}=x;E&&((A=l.value)==null||A.submit())}),v.preventDefault()}return Ue(()=>{var m;return L("form",{ref:l,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:u,onSubmit:f},[(m=i.default)==null?void 0:m.call(i,s)])}),Ur(s,l)}});const h4=Se({fluid:{type:Boolean,default:!1},...et(),...It()},"v-container"),f4=Oe()({name:"VContainer",props:h4(),setup(e,t){let{slots:i}=t;const{rtlClasses:r}=Mi();return Ue(()=>L(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},r.value,e.class],style:e.style},i)),{}}}),DC=(()=>jp.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}))(),NC=(()=>jp.reduce((e,t)=>{const i="offset"+Gd(t);return e[i]={type:[String,Number],default:null},e},{}))(),VC=(()=>jp.reduce((e,t)=>{const i="order"+Gd(t);return e[i]={type:[String,Number],default:null},e},{}))(),b1={col:Object.keys(DC),offset:Object.keys(NC),order:Object.keys(VC)};function p4(e,t,i){let r=e;if(!(i==null||i===!1)){if(t){const s=t.replace(e,"");r+=`-${s}`}return e==="col"&&(r="v-"+r),e==="col"&&(i===""||i===!0)||(r+=`-${i}`),r.toLowerCase()}}const m4=["auto","start","end","center","baseline","stretch"],v4=Se({cols:{type:[Boolean,String,Number],default:!1},...DC,offset:{type:[String,Number],default:null},...NC,order:{type:[String,Number],default:null},...VC,alignSelf:{type:String,default:null,validator:e=>m4.includes(e)},...et(),...It()},"v-col"),g4=Oe()({name:"VCol",props:v4(),setup(e,t){let{slots:i}=t;const r=P(()=>{const s=[];let l;for(l in b1)b1[l].forEach(f=>{const m=e[f],v=p4(l,f,m);v&&s.push(v)});const u=s.some(f=>f.startsWith("v-col-"));return s.push({"v-col":!u||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),s});return()=>{var s;return Te(e.tag,{class:[r.value,e.class],style:e.style},(s=i.default)==null?void 0:s.call(i))}}}),Z0=["start","end","center"],BC=["space-between","space-around","space-evenly"];function ew(e,t){return jp.reduce((i,r)=>{const s=e+Gd(r);return i[s]=t(),i},{})}const y4=[...Z0,"baseline","stretch"],FC=e=>y4.includes(e),UC=ew("align",()=>({type:String,default:null,validator:FC})),w4=[...Z0,...BC],zC=e=>w4.includes(e),HC=ew("justify",()=>({type:String,default:null,validator:zC})),b4=[...Z0,...BC,"stretch"],jC=e=>b4.includes(e),GC=ew("alignContent",()=>({type:String,default:null,validator:jC})),_1={align:Object.keys(UC),justify:Object.keys(HC),alignContent:Object.keys(GC)},_4={align:"align",justify:"justify",alignContent:"align-content"};function x4(e,t,i){let r=_4[e];if(i!=null){if(t){const s=t.replace(e,"");r+=`-${s}`}return r+=`-${i}`,r.toLowerCase()}}const E4=Se({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:FC},...UC,justify:{type:String,default:null,validator:zC},...HC,alignContent:{type:String,default:null,validator:jC},...GC,...et(),...It()},"v-row"),S4=Oe()({name:"VRow",props:E4(),setup(e,t){let{slots:i}=t;const r=P(()=>{const s=[];let l;for(l in _1)_1[l].forEach(u=>{const f=e[u],m=x4(l,u,f);m&&s.push(m)});return s.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),s});return()=>{var s;return Te(e.tag,{class:["v-row",r.value,e.class],style:e.style},(s=i.default)==null?void 0:s.call(i))}}}),T4=Fr("flex-grow-1","div","VSpacer"),A4=Se({disabled:Boolean,modelValue:{type:Boolean,default:void 0},...nC()},"v-hover"),C4=Oe()({name:"VHover",props:A4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Mt(e,"modelValue"),{runOpenDelay:s,runCloseDelay:l}=iC(e,u=>!e.disabled&&(r.value=u));return()=>{var u;return(u=i.default)==null?void 0:u.call(i,{isHovering:r.value,props:{onMouseenter:s,onMouseleave:l}})}}});const WC=Symbol.for("vuetify:v-item-group"),M4=Se({...et(),...Sc({selectedClass:"v-item--selected"}),...It(),...Gt()},"v-item-group"),I4=Oe()({name:"VItemGroup",props:M4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const{themeClasses:r}=Jt(e),{isSelected:s,select:l,next:u,prev:f,selected:m}=Na(e,WC);return()=>L(e.tag,{class:["v-item-group",r.value,e.class],style:e.style},{default:()=>{var v;return[(v=i.default)==null?void 0:v.call(i,{isSelected:s,select:l,next:u,prev:f,selected:m.value})]}})}}),R4=Oe()({name:"VItem",props:Tc(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:i}=t;const{isSelected:r,select:s,toggle:l,selectedClass:u,value:f,disabled:m}=Ac(e,WC);return()=>{var v;return(v=i.default)==null?void 0:v.call(i,{isSelected:r.value,selectedClass:u.value,select:s,toggle:l,value:f.value,disabled:m.value})}}});const k4=Fr("v-kbd");const L4=Se({...et(),...uA()},"v-layout"),P4=Oe()({name:"VLayout",props:L4(),setup(e,t){let{slots:i}=t;const{layoutClasses:r,layoutStyles:s,getLayoutItem:l,items:u,layoutRef:f}=dA(e);return Ue(()=>{var m;return L("div",{ref:f,class:[r.value,e.class],style:[s.value,e.style]},[(m=i.default)==null?void 0:m.call(i)])}),{getLayoutItem:l,items:u}}});const O4=Se({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...et(),...xc()},"v-layout-item"),D4=Oe()({name:"VLayoutItem",props:O4(),setup(e,t){let{slots:i}=t;const{layoutItemStyles:r}=Ec({id:e.name,order:P(()=>parseInt(e.order,10)),position:Ne(e,"position"),elementSize:Ne(e,"size"),layoutSize:Ne(e,"size"),active:Ne(e,"modelValue"),absolute:Ne(e,"absolute")});return()=>{var s;return L("div",{class:["v-layout-item",e.class],style:[r.value,e.style]},[(s=i.default)==null?void 0:s.call(i)])}}}),N4=Se({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...et(),...vr(),...It(),...zo({transition:"fade-transition"})},"v-lazy"),V4=Oe()({name:"VLazy",directives:{intersect:Kd},props:N4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const{dimensionStyles:r}=gr(e),s=Mt(e,"modelValue");function l(u){s.value||(s.value=u)}return Ue(()=>un(L(e.tag,{class:["v-lazy",e.class],style:[r.value,e.style]},{default:()=>[s.value&&L(Or,{transition:e.transition,appear:!0},{default:()=>{var u;return[(u=i.default)==null?void 0:u.call(i)]}})]}),[[$i("intersect"),{handler:l,options:e.options},null]])),{}}});const B4=Se({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...et()},"v-locale-provider"),F4=Oe()({name:"VLocaleProvider",props:B4(),setup(e,t){let{slots:i}=t;const{rtlClasses:r}=BV(e);return Ue(()=>{var s;return L("div",{class:["v-locale-provider",r.value,e.class],style:e.style},[(s=i.default)==null?void 0:s.call(i)])}),{}}});const U4=Se({scrollable:Boolean,...et(),...It({tag:"main"})},"v-main"),z4=Oe()({name:"VMain",props:U4(),setup(e,t){let{slots:i}=t;const{mainStyles:r}=AB(),{ssrBootStyles:s}=Pa();return Ue(()=>L(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[r.value,s.value,e.style]},{default:()=>{var l,u;return[e.scrollable?L("div",{class:"v-main__scroller"},[(l=i.default)==null?void 0:l.call(i)]):(u=i.default)==null?void 0:u.call(i)]}})),{}}});function H4(e){let{rootEl:t,isSticky:i,layoutItemStyles:r}=e;const s=Xe(!1),l=Xe(0),u=P(()=>{const v=typeof s.value=="boolean"?"top":s.value;return[i.value?{top:"auto",bottom:"auto",height:void 0}:void 0,s.value?{[v]:at(l.value)}:{top:r.value.top}]});Qn(()=>{He(i,v=>{v?window.addEventListener("scroll",m,{passive:!0}):window.removeEventListener("scroll",m)},{immediate:!0})}),xn(()=>{document.removeEventListener("scroll",m)});let f=0;function m(){const v=f>window.scrollY?"up":"down",w=t.value.getBoundingClientRect(),x=parseFloat(r.value.top??0),E=window.scrollY-Math.max(0,l.value-x),A=w.height+Math.max(l.value,x)-window.scrollY-window.innerHeight,I=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;w.height<window.innerHeight-x?(s.value="top",l.value=x):v==="up"&&s.value==="bottom"||v==="down"&&s.value==="top"?(l.value=window.scrollY+w.top-I,s.value=!0):v==="down"&&A<=0?(l.value=0,s.value="bottom"):v==="up"&&E<=0&&(I?s.value!=="top"&&(l.value=-E+I+x,s.value="top"):(l.value=w.top+E,s.value="top")),f=window.scrollY}return{isStuck:s,stickyStyles:u}}const j4=100,G4=20;function x1(e){const t=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*t}function E1(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let i=e.length-1;i>0;i--){if(e[i].t===e[i-1].t)continue;const r=x1(t),s=(e[i].d-e[i-1].d)/(e[i].t-e[i-1].t);t+=(s-r)*Math.abs(s),i===e.length-1&&(t*=.5)}return x1(t)*1e3}function W4(){const e={};function t(s){Array.from(s.changedTouches).forEach(l=>{(e[l.identifier]??(e[l.identifier]=new aV(G4))).push([s.timeStamp,l])})}function i(s){Array.from(s.changedTouches).forEach(l=>{delete e[l.identifier]})}function r(s){var v;const l=(v=e[s])==null?void 0:v.values().reverse();if(!l)throw new Error(`No samples for touch id ${s}`);const u=l[0],f=[],m=[];for(const w of l){if(u[0]-w[0]>j4)break;f.push({t:w[0],d:w[1].clientX}),m.push({t:w[0],d:w[1].clientY})}return{x:E1(f),y:E1(m),get direction(){const{x:w,y:x}=this,[E,A]=[Math.abs(w),Math.abs(x)];return E>A&&w>=0?"right":E>A&&w<=0?"left":A>E&&x>=0?"down":A>E&&x<=0?"up":$4()}}}return{addMovement:t,endTouch:i,getVelocity:r}}function $4(){throw new Error}function q4(e){let{isActive:t,isTemporary:i,width:r,touchless:s,position:l}=e;Qn(()=>{window.addEventListener("touchstart",H,{passive:!0}),window.addEventListener("touchmove",V,{passive:!1}),window.addEventListener("touchend",U,{passive:!0})}),xn(()=>{window.removeEventListener("touchstart",H),window.removeEventListener("touchmove",V),window.removeEventListener("touchend",U)});const u=P(()=>["left","right"].includes(l.value)),{addMovement:f,endTouch:m,getVelocity:v}=W4();let w=!1;const x=Xe(!1),E=Xe(0),A=Xe(0);let I;function D(re,ee){return(l.value==="left"?re:l.value==="right"?document.documentElement.clientWidth-re:l.value==="top"?re:l.value==="bottom"?document.documentElement.clientHeight-re:Ol())-(ee?r.value:0)}function O(re){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const Z=l.value==="left"?(re-A.value)/r.value:l.value==="right"?(document.documentElement.clientWidth-re-A.value)/r.value:l.value==="top"?(re-A.value)/r.value:l.value==="bottom"?(document.documentElement.clientHeight-re-A.value)/r.value:Ol();return ee?Math.max(0,Math.min(1,Z)):Z}function H(re){if(s.value)return;const ee=re.changedTouches[0].clientX,Z=re.changedTouches[0].clientY,X=25,B=l.value==="left"?ee<X:l.value==="right"?ee>document.documentElement.clientWidth-X:l.value==="top"?Z<X:l.value==="bottom"?Z>document.documentElement.clientHeight-X:Ol(),G=t.value&&(l.value==="left"?ee<r.value:l.value==="right"?ee>document.documentElement.clientWidth-r.value:l.value==="top"?Z<r.value:l.value==="bottom"?Z>document.documentElement.clientHeight-r.value:Ol());(B||G||t.value&&i.value)&&(w=!0,I=[ee,Z],A.value=D(u.value?ee:Z,t.value),E.value=O(u.value?ee:Z),m(re),f(re))}function V(re){const ee=re.changedTouches[0].clientX,Z=re.changedTouches[0].clientY;if(w){if(!re.cancelable){w=!1;return}const B=Math.abs(ee-I[0]),G=Math.abs(Z-I[1]);(u.value?B>G&&B>3:G>B&&G>3)?(x.value=!0,w=!1):(u.value?G:B)>3&&(w=!1)}if(!x.value)return;re.preventDefault(),f(re);const X=O(u.value?ee:Z,!1);E.value=Math.max(0,Math.min(1,X)),X>1?A.value=D(u.value?ee:Z,!0):X<0&&(A.value=D(u.value?ee:Z,!1))}function U(re){if(w=!1,!x.value)return;f(re),x.value=!1;const ee=v(re.changedTouches[0].identifier),Z=Math.abs(ee.x),X=Math.abs(ee.y);(u.value?Z>X&&Z>400:X>Z&&X>3)?t.value=ee.direction===({left:"right",right:"left",top:"down",bottom:"up"}[l.value]||Ol()):t.value=E.value>.5}const ne=P(()=>x.value?{transform:l.value==="left"?`translateX(calc(-100% + ${E.value*r.value}px))`:l.value==="right"?`translateX(calc(100% - ${E.value*r.value}px))`:l.value==="top"?`translateY(calc(-100% + ${E.value*r.value}px))`:l.value==="bottom"?`translateY(calc(100% - ${E.value*r.value}px))`:Ol(),transition:"none"}:void 0);return{isDragging:x,dragProgress:E,dragStyles:ne}}function Ol(){throw new Error}const Y4=["start","end","left","right","top","bottom"],X4=Se({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Y4.includes(e)},sticky:Boolean,...or(),...et(),...Hn(),...xc(),...pn(),...It({tag:"nav"}),...Gt()},"v-navigation-drawer"),K4=Oe()({name:"VNavigationDrawer",props:X4(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:i,emit:r,slots:s}=t;const{isRtl:l}=Mi(),{themeClasses:u}=Jt(e),{borderClasses:f}=yr(e),{backgroundColorClasses:m,backgroundColorStyles:v}=Ln(Ne(e,"color")),{elevationClasses:w}=li(e),{mobile:x}=La(),{roundedClasses:E}=En(e),A=kA(),I=Mt(e,"modelValue",null,S=>!!S),{ssrBootStyles:D}=Pa(),O=Ce(),H=Xe(!1),V=P(()=>e.rail&&e.expandOnHover&&H.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),U=P(()=>ry(e.location,l.value)),ne=P(()=>!e.permanent&&(x.value||e.temporary)),re=P(()=>e.sticky&&!ne.value&&U.value!=="bottom");e.expandOnHover&&e.rail!=null&&He(H,S=>r("update:rail",!S)),e.disableResizeWatcher||He(ne,S=>!e.permanent&&kt(()=>I.value=!S)),!e.disableRouteWatcher&&A&&He(A.currentRoute,()=>ne.value&&(I.value=!1)),He(()=>e.permanent,S=>{S&&(I.value=!0)}),h0(()=>{e.modelValue!=null||ne.value||(I.value=e.permanent||!x.value)});const{isDragging:ee,dragProgress:Z,dragStyles:X}=q4({isActive:I,isTemporary:ne,width:V,touchless:Ne(e,"touchless"),position:U}),B=P(()=>{const S=ne.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):V.value;return ee.value?S*Z.value:S}),{layoutItemStyles:G,layoutItemScrimStyles:q}=Ec({id:e.name,order:P(()=>parseInt(e.order,10)),position:U,layoutSize:B,elementSize:V,active:P(()=>I.value||ee.value),disableTransitions:P(()=>ee.value),absolute:P(()=>e.absolute||re.value&&typeof Y.value!="string")}),{isStuck:Y,stickyStyles:fe}=H4({rootEl:O,isSticky:re,layoutItemStyles:G}),de=Ln(P(()=>typeof e.scrim=="string"?e.scrim:null)),g=P(()=>({...ee.value?{opacity:Z.value*.2,transition:"none"}:void 0,...q.value}));Fn({VList:{bgColor:"transparent"}});function T(){H.value=!0}function R(){H.value=!1}return Ue(()=>{const S=s.image||e.image;return L(Ht,null,[L(e.tag,nt({ref:O,onMouseenter:T,onMouseleave:R,class:["v-navigation-drawer",`v-navigation-drawer--${U.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":H.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":ne.value,"v-navigation-drawer--active":I.value,"v-navigation-drawer--sticky":re.value},u.value,m.value,f.value,w.value,E.value,e.class],style:[v.value,G.value,X.value,D.value,fe.value,e.style]},i),{default:()=>{var N,$,ce,le;return[S&&L("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?(N=s.image)==null?void 0:N.call(s,{image:e.image}):L("img",{src:e.image,alt:""},null)]),s.prepend&&L("div",{class:"v-navigation-drawer__prepend"},[($=s.prepend)==null?void 0:$.call(s)]),L("div",{class:"v-navigation-drawer__content"},[(ce=s.default)==null?void 0:ce.call(s)]),s.append&&L("div",{class:"v-navigation-drawer__append"},[(le=s.append)==null?void 0:le.call(s)])]}}),L(Wi,{name:"fade-transition"},{default:()=>[ne.value&&(ee.value||I.value)&&!!e.scrim&&L("div",{class:["v-navigation-drawer__scrim",de.backgroundColorClasses.value],style:[g.value,de.backgroundColorStyles.value],onClick:()=>I.value=!1},null)]})])}),{isStuck:Y}}}),Q4=pr({name:"VNoSsr",setup(e,t){let{slots:i}=t;const r=sC();return()=>{var s;return r.value&&((s=i.default)==null?void 0:s.call(i))}}});function J4(){const e=Ce([]);hS(()=>e.value=[]);function t(i,r){e.value[r]=i}return{refs:e,updateRef:t}}const Z4=Se({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:St,default:"$first"},prevIcon:{type:St,default:"$prev"},nextIcon:{type:St,default:"$next"},lastIcon:{type:St,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...or(),...et(),...jn(),...Hn(),...pn(),...Ho(),...It({tag:"nav"}),...Gt(),...wr({variant:"text"})},"v-pagination"),eH=Oe()({name:"VPagination",props:Z4(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:i,emit:r}=t;const s=Mt(e,"modelValue"),{t:l,n:u}=mr(),{isRtl:f}=Mi(),{themeClasses:m}=Jt(e),{width:v}=La(),w=Xe(-1);Fn(void 0,{scoped:!0});const{resizeRef:x}=uo(X=>{if(!X.length)return;const{target:B,contentRect:G}=X[0],q=B.querySelector(".v-pagination__list > *");if(!q)return;const Y=G.width,fe=q.offsetWidth+parseFloat(getComputedStyle(q).marginRight)*2;w.value=D(Y,fe)}),E=P(()=>parseInt(e.length,10)),A=P(()=>parseInt(e.start,10)),I=P(()=>e.totalVisible?parseInt(e.totalVisible,10):w.value>=0?w.value:D(v.value,58));function D(X,B){const G=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((X-B*G)/B).toFixed(2)))}const O=P(()=>{if(E.value<=0||isNaN(E.value)||E.value>Number.MAX_SAFE_INTEGER)return[];if(I.value<=1)return[s.value];if(E.value<=I.value)return to(E.value,A.value);const X=I.value%2===0,B=X?I.value/2:Math.floor(I.value/2),G=X?B:B+1,q=E.value-B;if(G-s.value>=0)return[...to(Math.max(1,I.value-1),A.value),e.ellipsis,E.value];if(s.value-q>=(X?1:0)){const Y=I.value-1,fe=E.value-Y+A.value;return[A.value,e.ellipsis,...to(Y,fe)]}else{const Y=Math.max(1,I.value-3),fe=Y===1?s.value:s.value-Math.ceil(Y/2)+A.value;return[A.value,e.ellipsis,...to(Y,fe),e.ellipsis,E.value]}});function H(X,B,G){X.preventDefault(),s.value=B,G&&r(G,B)}const{refs:V,updateRef:U}=J4();Fn({VPaginationBtn:{color:Ne(e,"color"),border:Ne(e,"border"),density:Ne(e,"density"),size:Ne(e,"size"),variant:Ne(e,"variant"),rounded:Ne(e,"rounded"),elevation:Ne(e,"elevation")}});const ne=P(()=>O.value.map((X,B)=>{const G=q=>U(q,B);if(typeof X=="string")return{isActive:!1,key:`ellipsis-${B}`,page:X,props:{ref:G,ellipsis:!0,icon:!0,disabled:!0}};{const q=X===s.value;return{isActive:q,key:X,page:u(X),props:{ref:G,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:q?e.activeColor:e.color,ariaCurrent:q,ariaLabel:l(q?e.currentPageAriaLabel:e.pageAriaLabel,X),onClick:Y=>H(Y,X)}}}})),re=P(()=>{const X=!!e.disabled||s.value<=A.value,B=!!e.disabled||s.value>=A.value+E.value-1;return{first:e.showFirstLastPage?{icon:f.value?e.lastIcon:e.firstIcon,onClick:G=>H(G,A.value,"first"),disabled:X,ariaLabel:l(e.firstAriaLabel),ariaDisabled:X}:void 0,prev:{icon:f.value?e.nextIcon:e.prevIcon,onClick:G=>H(G,s.value-1,"prev"),disabled:X,ariaLabel:l(e.previousAriaLabel),ariaDisabled:X},next:{icon:f.value?e.prevIcon:e.nextIcon,onClick:G=>H(G,s.value+1,"next"),disabled:B,ariaLabel:l(e.nextAriaLabel),ariaDisabled:B},last:e.showFirstLastPage?{icon:f.value?e.firstIcon:e.lastIcon,onClick:G=>H(G,A.value+E.value-1,"last"),disabled:B,ariaLabel:l(e.lastAriaLabel),ariaDisabled:B}:void 0}});function ee(){var B;const X=s.value-A.value;(B=V.value[X])==null||B.$el.focus()}function Z(X){X.key===ny.left&&!e.disabled&&s.value>+e.start?(s.value=s.value-1,kt(ee)):X.key===ny.right&&!e.disabled&&s.value<A.value+E.value-1&&(s.value=s.value+1,kt(ee))}return Ue(()=>L(e.tag,{ref:x,class:["v-pagination",m.value,e.class],style:e.style,role:"navigation","aria-label":l(e.ariaLabel),onKeydown:Z,"data-test":"v-pagination-root"},{default:()=>[L("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&L("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[i.first?i.first(re.value.first):L(Oi,nt({_as:"VPaginationBtn"},re.value.first),null)]),L("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[i.prev?i.prev(re.value.prev):L(Oi,nt({_as:"VPaginationBtn"},re.value.prev),null)]),ne.value.map((X,B)=>L("li",{key:X.key,class:["v-pagination__item",{"v-pagination__item--is-active":X.isActive}],"data-test":"v-pagination-item"},[i.item?i.item(X):L(Oi,nt({_as:"VPaginationBtn"},X.props),{default:()=>[X.page]})])),L("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[i.next?i.next(re.value.next):L(Oi,nt({_as:"VPaginationBtn"},re.value.next),null)]),e.showFirstLastPage&&L("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[i.last?i.last(re.value.last):L(Oi,nt({_as:"VPaginationBtn"},re.value.last),null)])])]})),{}}});function tH(e){return Math.floor(Math.abs(e))*Math.sign(e)}const nH=Se({scale:{type:[Number,String],default:.5},...et()},"v-parallax"),iH=Oe()({name:"VParallax",props:nH(),setup(e,t){let{slots:i}=t;const{intersectionRef:r,isIntersecting:s}=F0(),{resizeRef:l,contentRect:u}=uo(),{height:f}=La(),m=Ce();ir(()=>{var A;r.value=l.value=(A=m.value)==null?void 0:A.$el});let v;He(s,A=>{A?(v=tA(r.value),v=v===document.scrollingElement?document:v,v.addEventListener("scroll",E,{passive:!0}),E()):v.removeEventListener("scroll",E)}),xn(()=>{v==null||v.removeEventListener("scroll",E)}),He(f,E),He(()=>{var A;return(A=u.value)==null?void 0:A.height},E);const w=P(()=>1-wi(+e.scale));let x=-1;function E(){s.value&&(cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var re;const A=((re=m.value)==null?void 0:re.$el).querySelector(".v-img__img");if(!A)return;const I=v instanceof Document?document.documentElement.clientHeight:v.clientHeight,D=v instanceof Document?window.scrollY:v.scrollTop,O=r.value.getBoundingClientRect().top+D,H=u.value.height,V=O+(H-I)/2,U=tH((D-V)*w.value),ne=Math.max(1,(w.value*(I-H)+H)/H);A.style.setProperty("transform",`translateY(${U}px) scale(${ne})`)}))}return Ue(()=>L(ga,{class:["v-parallax",{"v-parallax--active":s.value},e.class],style:e.style,ref:m,cover:!0,onLoadstart:E,onLoad:E},i)),{}}}),rH=Se({...Zp({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"v-radio"),oH=Oe()({name:"VRadio",props:rH(),setup(e,t){let{slots:i}=t;return Ue(()=>L(lc,nt(e,{class:["v-radio",e.class],style:e.style,type:"radio"}),i)),{}}});const sH=Se({height:{type:[Number,String],default:"auto"},...jo(),...po($0(),["multiple"]),trueIcon:{type:St,default:"$radioOn"},falseIcon:{type:St,default:"$radioOff"},type:{type:String,default:"radio"}},"v-radio-group"),aH=Oe()({name:"VRadioGroup",inheritAttrs:!1,props:sH(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:i,slots:r}=t;const s=Ci(),l=P(()=>e.id||`radio-group-${s}`),u=Mt(e,"modelValue");return Ue(()=>{const[f,m]=ka(i),[v,w]=si.filterProps(e),[x,E]=lc.filterProps(e),A=r.label?r.label({label:e.label,props:{for:l.value}}):e.label;return L(si,nt({class:["v-radio-group",e.class],style:e.style},f,v,{modelValue:u.value,"onUpdate:modelValue":I=>u.value=I,id:l.value}),{...r,default:I=>{let{id:D,messagesId:O,isDisabled:H,isReadonly:V}=I;return L(Ht,null,[A&&L(Rc,{id:D.value},{default:()=>[A]}),L(FA,nt(x,{id:D.value,"aria-describedby":O.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:H.value,readonly:V.value,"aria-labelledby":A?D.value:void 0,multiple:!1},m,{modelValue:u.value,"onUpdate:modelValue":U=>u.value=U}),r)])}})}),{}}}),lH=Se({...Yp(),...jo(),...MC(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"v-range-slider"),cH=Oe()({name:"VRangeSlider",props:lH(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(e,t){let{slots:i,emit:r}=t;const s=Ce(),l=Ce(),u=Ce(),{rtlClasses:f}=Mi();function m(B){if(!s.value||!l.value)return;const G=Ty(B,s.value.$el,e.direction),q=Ty(B,l.value.$el,e.direction),Y=Math.abs(G),fe=Math.abs(q);return Y<fe||Y===fe&&G<0?s.value.$el:l.value.$el}const v=IC(e),w=Mt(e,"modelValue",void 0,B=>B!=null&&B.length?B.map(G=>v.roundValue(G)):[0,0]),{activeThumbRef:x,hasLabels:E,max:A,min:I,mousePressed:D,onSliderMousedown:O,onSliderTouchstart:H,position:V,trackContainerRef:U}=RC({props:e,steps:v,onSliderStart:()=>{r("start",w.value)},onSliderEnd:B=>{var Y;let{value:G}=B;const q=x.value===((Y=s.value)==null?void 0:Y.$el)?[G,w.value[1]]:[w.value[0],G];w.value=q,r("end",q)},onSliderMove:B=>{var fe,de,g,T;let{value:G}=B;const[q,Y]=w.value;!e.strict&&q===Y&&q!==I.value&&(x.value=G>q?(fe=l.value)==null?void 0:fe.$el:(de=s.value)==null?void 0:de.$el,(g=x.value)==null||g.focus()),x.value===((T=s.value)==null?void 0:T.$el)?w.value=[Math.min(G,Y),Y]:w.value=[q,Math.max(q,G)]},getActiveThumb:m}),{isFocused:ne,focus:re,blur:ee}=Cs(e),Z=P(()=>V(w.value[0])),X=P(()=>V(w.value[1]));return Ue(()=>{const[B,G]=si.filterProps(e),q=!!(e.label||i.label||i.prepend);return L(si,nt({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!i["tick-label"]||E.value,"v-slider--focused":ne.value,"v-slider--pressed":D.value,"v-slider--disabled":e.disabled},f.value,e.class],style:e.style,ref:u},B,{focused:ne.value}),{...i,prepend:q?Y=>{var fe,de;return L(Ht,null,[((fe=i.label)==null?void 0:fe.call(i,Y))??e.label?L(Rc,{class:"v-slider__label",text:e.label},null):void 0,(de=i.prepend)==null?void 0:de.call(i,Y)])}:void 0,default:Y=>{var g,T;let{id:fe,messagesId:de}=Y;return L("div",{class:"v-slider__container",onMousedown:O,onTouchstartPassive:H},[L("input",{id:`${fe.value}_start`,name:e.name||fe.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:w.value[0]},null),L("input",{id:`${fe.value}_stop`,name:e.name||fe.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:w.value[1]},null),L(kC,{ref:U,start:Z.value,stop:X.value},{"tick-label":i["tick-label"]}),L(Ay,{ref:s,"aria-describedby":de.value,focused:ne&&x.value===((g=s.value)==null?void 0:g.$el),modelValue:w.value[0],"onUpdate:modelValue":R=>w.value=[R,w.value[1]],onFocus:R=>{var S,N,$,ce;re(),x.value=(S=s.value)==null?void 0:S.$el,w.value[0]===w.value[1]&&w.value[1]===I.value&&R.relatedTarget!==((N=l.value)==null?void 0:N.$el)&&(($=s.value)==null||$.$el.blur(),(ce=l.value)==null||ce.$el.focus())},onBlur:()=>{ee(),x.value=void 0},min:I.value,max:w.value[1],position:Z.value},{"thumb-label":i["thumb-label"]}),L(Ay,{ref:l,"aria-describedby":de.value,focused:ne&&x.value===((T=l.value)==null?void 0:T.$el),modelValue:w.value[1],"onUpdate:modelValue":R=>w.value=[w.value[0],R],onFocus:R=>{var S,N,$,ce;re(),x.value=(S=l.value)==null?void 0:S.$el,w.value[0]===w.value[1]&&w.value[0]===A.value&&R.relatedTarget!==((N=s.value)==null?void 0:N.$el)&&(($=l.value)==null||$.$el.blur(),(ce=s.value)==null||ce.$el.focus())},onBlur:()=>{ee(),x.value=void 0},min:w.value[0],max:A.value,position:X.value},{"thumb-label":i["thumb-label"]})])}})}),{}}});const uH=Se({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:St,default:"$ratingEmpty"},fullIcon:{type:St,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...et(),...jn(),...Ho(),...It(),...Gt()},"v-rating"),dH=Oe()({name:"VRating",props:uH(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const{t:r}=mr(),{themeClasses:s}=Jt(e),l=Mt(e,"modelValue"),u=P(()=>wi(parseFloat(l.value),0,+e.length)),f=P(()=>to(Number(e.length),1)),m=P(()=>f.value.flatMap(D=>e.halfIncrements?[D-.5,D]:[D])),v=Xe(-1),w=P(()=>m.value.map(D=>{const O=e.hover&&v.value>-1,H=u.value>=D,V=v.value>=D,ne=(O?V:H)?e.fullIcon:e.emptyIcon,re=e.activeColor??e.color,ee=H||V?re:e.color;return{isFilled:H,isHovered:V,icon:ne,color:ee}})),x=P(()=>[0,...m.value].map(D=>{function O(){v.value=D}function H(){v.value=-1}function V(){e.disabled||e.readonly||(l.value=u.value===D&&e.clearable?0:D)}return{onMouseenter:e.hover?O:void 0,onMouseleave:e.hover?H:void 0,onClick:V}})),E=P(()=>e.name??`v-rating-${Ci()}`);function A(D){var X,B;let{value:O,index:H,showStar:V=!0}=D;const{onMouseenter:U,onMouseleave:ne,onClick:re}=x.value[H+1],ee=`${E.value}-${String(O).replace(".","-")}`,Z={color:(X=w.value[H])==null?void 0:X.color,density:e.density,disabled:e.disabled,icon:(B=w.value[H])==null?void 0:B.icon,ripple:e.ripple,size:e.size,variant:"plain"};return L(Ht,null,[L("label",{for:ee,class:{"v-rating__item--half":e.halfIncrements&&O%1>0,"v-rating__item--full":e.halfIncrements&&O%1===0},onMouseenter:U,onMouseleave:ne,onClick:re},[L("span",{class:"v-rating__hidden"},[r(e.itemAriaLabel,O,e.length)]),V?i.item?i.item({...w.value[H],props:Z,value:O,index:H,rating:u.value}):L(Oi,Z,null):void 0]),L("input",{class:"v-rating__hidden",name:E.value,id:ee,type:"radio",value:O,checked:u.value===O,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function I(D){return i["item-label"]?i["item-label"](D):D.label?L("span",null,[D.label]):L("span",null,[Np("")])}return Ue(()=>{var O;const D=!!((O=e.itemLabels)!=null&&O.length)||i["item-label"];return L(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},s.value,e.class],style:e.style},{default:()=>[L(A,{value:0,index:-1,showStar:!1},null),f.value.map((H,V)=>{var U,ne;return L("div",{class:"v-rating__wrapper"},[D&&e.itemLabelPosition==="top"?I({value:H,index:V,label:(U=e.itemLabels)==null?void 0:U[V]}):void 0,L("div",{class:"v-rating__item"},[e.halfIncrements?L(Ht,null,[L(A,{value:H-.5,index:V*2},null),L(A,{value:H,index:V*2+1},null)]):L(A,{value:H,index:V},null)]),D&&e.itemLabelPosition==="bottom"?I({value:H,index:V,label:(ne=e.itemLabels)==null?void 0:ne[V]}):void 0])})]})}),{}}});function S1(e){const i=Math.abs(e);return Math.sign(e)*(i/((1/.501-2)*(1-i)+1))}function T1(e){let{selectedElement:t,containerSize:i,contentSize:r,isRtl:s,currentScrollOffset:l,isHorizontal:u}=e;const f=u?t.clientWidth:t.clientHeight,m=u?t.offsetLeft:t.offsetTop,v=s&&u?r-m-f:m,w=i+l,x=f+v,E=f*.4;return v<=l?l=Math.max(v-E,0):w<=x&&(l=Math.min(l-(w-x-E),r-i)),l}function hH(e){let{selectedElement:t,containerSize:i,contentSize:r,isRtl:s,isHorizontal:l}=e;const u=l?t.clientWidth:t.clientHeight,f=l?t.offsetLeft:t.offsetTop,m=s&&l?r-f-u/2-i/2:f+u/2-i/2;return Math.min(r-i,Math.max(0,m))}const $C=Symbol.for("vuetify:v-slide-group"),qC=Se({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:$C},nextIcon:{type:St,default:"$next"},prevIcon:{type:St,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...et(),...It(),...Sc({selectedClass:"v-slide-group-item--active"})},"v-slide-group"),My=Oe()({name:"VSlideGroup",props:qC(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const{isRtl:r}=Mi(),{mobile:s}=La(),l=Na(e,e.symbol),u=Xe(!1),f=Xe(0),m=Xe(0),v=Xe(0),w=P(()=>e.direction==="horizontal"),{resizeRef:x,contentRect:E}=uo(),{resizeRef:A,contentRect:I}=uo(),D=P(()=>l.selected.value.length?l.items.value.findIndex($=>$.id===l.selected.value[0]):-1),O=P(()=>l.selected.value.length?l.items.value.findIndex($=>$.id===l.selected.value[l.selected.value.length-1]):-1);if(kn){let $=-1;He(()=>[l.selected.value,E.value,I.value,w.value],()=>{cancelAnimationFrame($),$=requestAnimationFrame(()=>{if(E.value&&I.value){const ce=w.value?"width":"height";m.value=E.value[ce],v.value=I.value[ce],u.value=m.value+1<v.value}if(D.value>=0&&A.value){const ce=A.value.children[O.value];D.value===0||!u.value?f.value=0:e.centerActive?f.value=hH({selectedElement:ce,containerSize:m.value,contentSize:v.value,isRtl:r.value,isHorizontal:w.value}):u.value&&(f.value=T1({selectedElement:ce,containerSize:m.value,contentSize:v.value,isRtl:r.value,currentScrollOffset:f.value,isHorizontal:w.value}))}})})}const H=Xe(!1);let V=0,U=0;function ne($){const ce=w.value?"clientX":"clientY";U=(r.value&&w.value?-1:1)*f.value,V=$.touches[0][ce],H.value=!0}function re($){if(!u.value)return;const ce=w.value?"clientX":"clientY",le=r.value&&w.value?-1:1;f.value=le*(U+V-$.touches[0][ce])}function ee($){const ce=v.value-m.value;f.value<0||!u.value?f.value=0:f.value>=ce&&(f.value=ce),H.value=!1}function Z(){x.value&&(x.value[w.value?"scrollLeft":"scrollTop"]=0)}const X=Xe(!1);function B($){if(X.value=!0,!(!u.value||!A.value)){for(const ce of $.composedPath())for(const le of A.value.children)if(le===ce){f.value=T1({selectedElement:le,containerSize:m.value,contentSize:v.value,isRtl:r.value,currentScrollOffset:f.value,isHorizontal:w.value});return}}}function G($){X.value=!1}function q($){var ce;!X.value&&!($.relatedTarget&&((ce=A.value)!=null&&ce.contains($.relatedTarget)))&&fe()}function Y($){A.value&&(w.value?$.key==="ArrowRight"?fe(r.value?"prev":"next"):$.key==="ArrowLeft"&&fe(r.value?"next":"prev"):$.key==="ArrowDown"?fe("next"):$.key==="ArrowUp"&&fe("prev"),$.key==="Home"?fe("first"):$.key==="End"&&fe("last"))}function fe($){var ce,le,ie,Le,me;if(A.value)if(!$)(ce=T0(A.value)[0])==null||ce.focus();else if($==="next"){const W=(le=A.value.querySelector(":focus"))==null?void 0:le.nextElementSibling;W?W.focus():fe("first")}else if($==="prev"){const W=(ie=A.value.querySelector(":focus"))==null?void 0:ie.previousElementSibling;W?W.focus():fe("last")}else $==="first"?(Le=A.value.firstElementChild)==null||Le.focus():$==="last"&&((me=A.value.lastElementChild)==null||me.focus())}function de($){const ce=f.value+($==="prev"?-1:1)*m.value;f.value=wi(ce,0,v.value-m.value)}const g=P(()=>{let $=f.value>v.value-m.value?-(v.value-m.value)+S1(v.value-m.value-f.value):-f.value;f.value<=0&&($=S1(-f.value));const ce=r.value&&w.value?-1:1;return{transform:`translate${w.value?"X":"Y"}(${ce*$}px)`,transition:H.value?"none":"",willChange:H.value?"transform":""}}),T=P(()=>({next:l.next,prev:l.prev,select:l.select,isSelected:l.isSelected})),R=P(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!s.value;case!0:return u.value||Math.abs(f.value)>0;case"mobile":return s.value||u.value||Math.abs(f.value)>0;default:return!s.value&&(u.value||Math.abs(f.value)>0)}}),S=P(()=>Math.abs(f.value)>0),N=P(()=>v.value>Math.abs(f.value)+m.value);return Ue(()=>L(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!w.value,"v-slide-group--has-affixes":R.value,"v-slide-group--is-overflowing":u.value},e.class],style:e.style,tabindex:X.value||l.selected.value.length?-1:0,onFocus:q},{default:()=>{var $,ce,le;return[R.value&&L("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!S.value}],onClick:()=>de("prev")},[(($=i.prev)==null?void 0:$.call(i,T.value))??L(uy,null,{default:()=>[L(ln,{icon:r.value?e.nextIcon:e.prevIcon},null)]})]),L("div",{key:"container",ref:x,class:"v-slide-group__container",onScroll:Z},[L("div",{ref:A,class:"v-slide-group__content",style:g.value,onTouchstartPassive:ne,onTouchmovePassive:re,onTouchendPassive:ee,onFocusin:B,onFocusout:G,onKeydown:Y},[(ce=i.default)==null?void 0:ce.call(i,T.value)])]),R.value&&L("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!N.value}],onClick:()=>de("next")},[((le=i.next)==null?void 0:le.call(i,T.value))??L(uy,null,{default:()=>[L(ln,{icon:r.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:l.selected,scrollTo:de,scrollOffset:f,focus:fe}}}),fH=Oe()({name:"VSlideGroupItem",props:Tc(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:i}=t;const r=Ac(e,$C);return()=>{var s;return(s=i.default)==null?void 0:s.call(i,{isSelected:r.isSelected.value,select:r.select,toggle:r.toggle,selectedClass:r.selectedClass.value})}}});const pH=Se({multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Ts({location:"bottom"}),...Mc(),...pn(),...wr(),...Gt(),...po(nh({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"v-snackbar"),mH=Oe()({name:"VSnackbar",props:pH(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Mt(e,"modelValue"),{locationStyles:s}=As(e),{positionClasses:l}=Ic(e),{scopeId:u}=th(),{themeClasses:f}=Jt(e),{colorClasses:m,colorStyles:v,variantClasses:w}=Da(e),{roundedClasses:x}=En(e),E=Ce();He(r,I),He(()=>e.timeout,I),Qn(()=>{r.value&&I()});let A=-1;function I(){window.clearTimeout(A);const O=Number(e.timeout);!r.value||O===-1||(A=window.setTimeout(()=>{r.value=!1},O))}function D(){window.clearTimeout(A)}return Ue(()=>{const[O]=Oo.filterProps(e);return L(Oo,nt({ref:E,class:["v-snackbar",{"v-snackbar--active":r.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--vertical":e.vertical},l.value,e.class],style:e.style},O,{modelValue:r.value,"onUpdate:modelValue":H=>r.value=H,contentProps:nt({class:["v-snackbar__wrapper",f.value,m.value,x.value,w.value],style:[s.value,v.value],onPointerenter:D,onPointerleave:I},O.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},u),{default:()=>[Oa(!1,"v-snackbar"),i.default&&L("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[i.default()]),i.actions&&L(rn,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[L("div",{class:"v-snackbar__actions"},[i.actions()])]})],activator:i.activator})}),Ur({},E)}});const vH=Se({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...jo(),...Zp()},"v-switch"),gH=Oe()({name:"VSwitch",inheritAttrs:!1,props:vH(),emits:{"update:focused":e=>!0,"update:modelValue":()=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:i,slots:r}=t;const s=Mt(e,"indeterminate"),l=Mt(e,"modelValue"),{loaderClasses:u}=qp(e),{isFocused:f,focus:m,blur:v}=Cs(e),w=P(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),x=Ci(),E=P(()=>e.id||`switch-${x}`);function A(){s.value&&(s.value=!1)}return Ue(()=>{const[I,D]=ka(i),[O,H]=si.filterProps(e),[V,U]=lc.filterProps(e),ne=Ce();function re(ee){var Z,X;ee.stopPropagation(),ee.preventDefault(),(X=(Z=ne.value)==null?void 0:Z.input)==null||X.click()}return L(si,nt({class:["v-switch",{"v-switch--inset":e.inset},{"v-switch--indeterminate":s.value},u.value,e.class],style:e.style},I,O,{id:E.value,focused:f.value}),{...r,default:ee=>{let{id:Z,messagesId:X,isDisabled:B,isReadonly:G,isValid:q}=ee;return L(lc,nt({ref:ne},V,{modelValue:l.value,"onUpdate:modelValue":[Y=>l.value=Y,A],id:Z.value,"aria-describedby":X.value,type:"checkbox","aria-checked":s.value?"mixed":void 0,disabled:B.value,readonly:G.value,onFocus:m,onBlur:v},D),{...r,default:()=>L("div",{class:"v-switch__track",onClick:re},null),input:Y=>{let{textColorClasses:fe,textColorStyles:de}=Y;return L("div",{class:["v-switch__thumb",fe.value],style:de.value},[e.loading&&L(j0,{name:"v-switch",active:!0,color:q.value===!1?void 0:w.value},{default:g=>r.loader?r.loader(g):L(U0,{active:g.isActive,color:g.color,indeterminate:!0,size:"16",width:"2"},null)})])}})}})}),{}}});const yH=Se({color:String,height:[Number,String],window:Boolean,...et(),...Hn(),...xc(),...pn(),...It(),...Gt()},"v-system-bar"),wH=Oe()({name:"VSystemBar",props:yH(),setup(e,t){let{slots:i}=t;const{themeClasses:r}=Jt(e),{backgroundColorClasses:s,backgroundColorStyles:l}=Ln(Ne(e,"color")),{elevationClasses:u}=li(e),{roundedClasses:f}=En(e),{ssrBootStyles:m}=Pa(),v=P(()=>e.height??(e.window?32:24)),{layoutItemStyles:w}=Ec({id:e.name,order:P(()=>parseInt(e.order,10)),position:Xe("top"),layoutSize:v,elementSize:v,active:P(()=>!0),absolute:Ne(e,"absolute")});return Ue(()=>L(e.tag,{class:["v-system-bar",{"v-system-bar--window":e.window},r.value,s.value,u.value,f.value,e.class],style:[l.value,w.value,m.value,e.style]},i)),{}}});const YC=Symbol.for("vuetify:v-tabs"),bH=Se({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...po(G0({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"v-tabs"),XC=Oe()({name:"VTab",props:bH(),setup(e,t){let{slots:i,attrs:r}=t;const{textColorClasses:s,textColorStyles:l}=Ei(e,"sliderColor"),u=P(()=>e.direction==="horizontal"),f=Xe(!1),m=Ce(),v=Ce();function w(x){var A,I;let{value:E}=x;if(f.value=E,E){const D=(I=(A=m.value)==null?void 0:A.$el.parentElement)==null?void 0:I.querySelector(".v-tab--selected .v-tab__slider"),O=v.value;if(!D||!O)return;const H=getComputedStyle(D).color,V=D.getBoundingClientRect(),U=O.getBoundingClientRect(),ne=u.value?"x":"y",re=u.value?"X":"Y",ee=u.value?"right":"bottom",Z=u.value?"width":"height",X=V[ne],B=U[ne],G=X>B?V[ee]-U[ee]:V[ne]-U[ne],q=Math.sign(G)>0?u.value?"right":"bottom":Math.sign(G)<0?u.value?"left":"top":"center",fe=(Math.abs(G)+(Math.sign(G)<0?V[Z]:U[Z]))/Math.max(V[Z],U[Z]),de=V[Z]/U[Z],g=1.5;aa(O,{backgroundColor:[H,""],transform:[`translate${re}(${G}px) scale${re}(${de})`,`translate${re}(${G/g}px) scale${re}(${(fe-1)/g+1})`,""],transformOrigin:Array(3).fill(q)},{duration:225,easing:bd})}}return Ue(()=>{const[x]=Oi.filterProps(e);return L(Oi,nt({symbol:YC,ref:m,class:["v-tab",e.class],style:e.style,tabindex:f.value?0:-1,role:"tab","aria-selected":String(f.value),active:!1,block:e.fixed,maxWidth:e.fixed?300:void 0,rounded:0},x,r,{"onGroup:selected":w}),{default:()=>{var E;return[((E=i.default)==null?void 0:E.call(i))??e.text,!e.hideSlider&&L("div",{ref:v,class:["v-tab__slider",s.value],style:l.value},null)]}})}),{}}});function _H(e){return e?e.map(t=>typeof t=="string"?{title:t,value:t}:t):[]}const xH=Se({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...qC({mandatory:"force"}),...jn(),...It()},"v-tabs"),EH=Oe()({name:"VTabs",props:xH(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Mt(e,"modelValue"),s=P(()=>_H(e.items)),{densityClasses:l}=Ii(e),{backgroundColorClasses:u,backgroundColorStyles:f}=Ln(Ne(e,"bgColor"));return Fn({VTab:{color:Ne(e,"color"),direction:Ne(e,"direction"),stacked:Ne(e,"stacked"),fixed:Ne(e,"fixedTabs"),sliderColor:Ne(e,"sliderColor"),hideSlider:Ne(e,"hideSlider")}}),Ue(()=>{const[m]=My.filterProps(e);return L(My,nt(m,{modelValue:r.value,"onUpdate:modelValue":v=>r.value=v,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},l.value,u.value,e.class],style:[{"--v-tabs-height":at(e.height)},f.value,e.style],role:"tablist",symbol:YC}),{default:()=>[i.default?i.default():s.value.map(v=>L(XC,nt(v,{key:v.title}),null))]})}),{}}});const SH=Se({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...et(),...jn(),...It(),...Gt()},"v-table"),TH=Oe()({name:"VTable",props:SH(),setup(e,t){let{slots:i}=t;const{themeClasses:r}=Jt(e),{densityClasses:s}=Ii(e);return Ue(()=>L(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!i.top,"v-table--has-bottom":!!i.bottom,"v-table--hover":e.hover},r.value,s.value,e.class],style:e.style},{default:()=>{var l,u,f;return[(l=i.top)==null?void 0:l.call(i),i.default?L("div",{class:"v-table__wrapper",style:{height:at(e.height)}},[L("table",null,[i.default()])]):(u=i.wrapper)==null?void 0:u.call(i),(f=i.bottom)==null?void 0:f.call(i)]}})),{}}});const AH=Se({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...jo(),...Xp()},"v-textarea"),CH=Oe()({name:"VTextarea",directives:{Intersect:Kd},inheritAttrs:!1,props:AH(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:i,emit:r,slots:s}=t;const l=Mt(e,"modelValue"),{isFocused:u,focus:f,blur:m}=Cs(e),v=P(()=>typeof e.counterValue=="function"?e.counterValue(l.value):(l.value||"").toString().length),w=P(()=>{if(i.maxlength)return i.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function x(q,Y){var fe,de;!e.autofocus||!q||(de=(fe=Y[0].target)==null?void 0:fe.focus)==null||de.call(fe)}const E=Ce(),A=Ce(),I=Xe(""),D=Ce(),O=P(()=>e.persistentPlaceholder||u.value||e.active);function H(){var q;D.value!==document.activeElement&&((q=D.value)==null||q.focus()),u.value||f()}function V(q){H(),r("click:control",q)}function U(q){r("mousedown:control",q)}function ne(q){q.stopPropagation(),H(),kt(()=>{l.value="",S0(e["onClick:clear"],q)})}function re(q){var fe;const Y=q.target;if(l.value=Y.value,(fe=e.modelModifiers)!=null&&fe.trim){const de=[Y.selectionStart,Y.selectionEnd];kt(()=>{Y.selectionStart=de[0],Y.selectionEnd=de[1]})}}const ee=Ce(),Z=Ce(+e.rows),X=P(()=>["plain","underlined"].includes(e.variant));ir(()=>{e.autoGrow||(Z.value=+e.rows)});function B(){e.autoGrow&&kt(()=>{if(!ee.value||!A.value)return;const q=getComputedStyle(ee.value),Y=getComputedStyle(A.value.$el),fe=parseFloat(q.getPropertyValue("--v-field-padding-top"))+parseFloat(q.getPropertyValue("--v-input-padding-top"))+parseFloat(q.getPropertyValue("--v-field-padding-bottom")),de=ee.value.scrollHeight,g=parseFloat(q.lineHeight),T=Math.max(parseFloat(e.rows)*g+fe,parseFloat(Y.getPropertyValue("--v-input-control-height"))),R=parseFloat(e.maxRows)*g+fe||1/0,S=wi(de??0,T,R);Z.value=Math.floor((S-fe)/g),I.value=at(S)})}Qn(B),He(l,B),He(()=>e.rows,B),He(()=>e.maxRows,B),He(()=>e.density,B);let G;return He(ee,q=>{q?(G=new ResizeObserver(B),G.observe(ee.value)):G==null||G.disconnect()}),xn(()=>{G==null||G.disconnect()}),Ue(()=>{const q=!!(s.counter||e.counter||e.counterValue),Y=!!(q||s.details),[fe,de]=ka(i),[{modelValue:g,...T}]=si.filterProps(e),[R]=W0(e);return L(si,nt({ref:E,modelValue:l.value,"onUpdate:modelValue":S=>l.value=S,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--plain-underlined":X.value},e.class],style:e.style},fe,T,{centerAffix:Z.value===1&&!X.value,focused:u.value}),{...s,default:S=>{let{isDisabled:N,isDirty:$,isReadonly:ce,isValid:le}=S;return L(Zd,nt({ref:A,style:{"--v-textarea-control-height":I.value},onClick:V,onMousedown:U,"onClick:clear":ne,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},R,{active:O.value||$.value,centerAffix:Z.value===1&&!X.value,dirty:$.value||e.dirty,disabled:N.value,focused:u.value,error:le.value===!1}),{...s,default:ie=>{let{props:{class:Le,...me}}=ie;return L(Ht,null,[e.prefix&&L("span",{class:"v-text-field__prefix"},[e.prefix]),un(L("textarea",nt({ref:D,class:Le,value:l.value,onInput:re,autofocus:e.autofocus,readonly:ce.value,disabled:N.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:H,onBlur:m},me,de),null),[[$i("intersect"),{handler:x},null,{once:!0}]]),e.autoGrow&&un(L("textarea",{class:[Le,"v-textarea__sizer"],"onUpdate:modelValue":W=>l.value=W,ref:ee,readonly:!0,"aria-hidden":"true"},null),[[GL,l.value]]),e.suffix&&L("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:Y?S=>{var N;return L(Ht,null,[(N=s.details)==null?void 0:N.call(s,S),q&&L(Ht,null,[L("span",null,null),L(Qp,{active:e.persistentCounter||u.value,value:v.value,max:w.value},s.counter)])])}:void 0})}),Ur({},E,A,D)}});const MH=Se({withBackground:Boolean,...et(),...Gt(),...It()},"v-theme-provider"),IH=Oe()({name:"VThemeProvider",props:MH(),setup(e,t){let{slots:i}=t;const{themeClasses:r}=Jt(e);return()=>{var s;return e.withBackground?L(e.tag,{class:["v-theme-provider",r.value,e.class],style:e.style},{default:()=>{var l;return[(l=i.default)==null?void 0:l.call(i)]}}):(s=i.default)==null?void 0:s.call(i)}}});const RH=Se({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineInset:{type:[String,Number],default:0},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...et(),...jn(),...It(),...Gt()},"v-timeline"),kH=Oe()({name:"VTimeline",props:RH(),setup(e,t){let{slots:i}=t;const{themeClasses:r}=Jt(e),{densityClasses:s}=Ii(e),{rtlClasses:l}=Mi();Fn({VTimelineDivider:{lineColor:Ne(e,"lineColor")},VTimelineItem:{density:Ne(e,"density"),lineInset:Ne(e,"lineInset")}});const u=P(()=>{const m=e.side?e.side:e.density!=="default"?"end":null;return m&&`v-timeline--side-${m}`}),f=P(()=>{const m=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return m;case"start":return m[0];case"end":return m[1];default:return null}});return Ue(()=>L(e.tag,{class:["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,f.value,{"v-timeline--inset-line":!!e.lineInset},r.value,s.value,u.value,l.value,e.class],style:[{"--v-timeline-line-thickness":at(e.lineThickness)},e.style]},i)),{}}}),LH=Se({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:St,iconColor:String,lineColor:String,...et(),...pn(),...Ho(),...Hn()},"v-timeline-divider"),PH=Oe()({name:"VTimelineDivider",props:LH(),setup(e,t){let{slots:i}=t;const{sizeClasses:r,sizeStyles:s}=Cc(e,"v-timeline-divider__dot"),{backgroundColorStyles:l,backgroundColorClasses:u}=Ln(Ne(e,"dotColor")),{roundedClasses:f}=En(e,"v-timeline-divider__dot"),{elevationClasses:m}=li(e),{backgroundColorClasses:v,backgroundColorStyles:w}=Ln(Ne(e,"lineColor"));return Ue(()=>L("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class],style:e.style},[L("div",{class:["v-timeline-divider__before",v.value],style:w.value},null),!e.hideDot&&L("div",{key:"dot",class:["v-timeline-divider__dot",m.value,f.value,r.value],style:s.value},[L("div",{class:["v-timeline-divider__inner-dot",u.value,f.value],style:l.value},[i.default?L(rn,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},i.default):L(ln,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),L("div",{class:["v-timeline-divider__after",v.value],style:w.value},null)])),{}}}),OH=Se({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:St,iconColor:String,lineInset:[Number,String],...et(),...vr(),...Hn(),...pn(),...Ho(),...It()},"v-timeline-item"),DH=Oe()({name:"VTimelineItem",props:OH(),setup(e,t){let{slots:i}=t;const{dimensionStyles:r}=gr(e),s=Xe(0),l=Ce();return He(l,u=>{var f;u&&(s.value=((f=u.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:f.getBoundingClientRect().width)??0)},{flush:"post"}),Ue(()=>{var u,f;return L("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot},e.class],style:[{"--v-timeline-dot-size":at(s.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${at(e.lineInset)})`:at(0)},e.style]},[L("div",{class:"v-timeline-item__body",style:r.value},[(u=i.default)==null?void 0:u.call(i)]),L(PH,{ref:l,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:i.icon}),e.density!=="compact"&&L("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&((f=i.opposite)==null?void 0:f.call(i))])])}),{}}}),NH=Se({...et(),...wr({variant:"text"})},"v-toolbar-items"),VH=Oe()({name:"VToolbarItems",props:NH(),setup(e,t){let{slots:i}=t;return Fn({VBtn:{color:Ne(e,"color"),height:"inherit",variant:Ne(e,"variant")}}),Ue(()=>{var r;return L("div",{class:["v-toolbar-items",e.class],style:e.style},[(r=i.default)==null?void 0:r.call(i)])}),{}}});const BH=Se({id:String,text:String,...po(nh({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"v-tooltip"),FH=Oe()({name:"VTooltip",props:BH(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Mt(e,"modelValue"),{scopeId:s}=th(),l=Ci(),u=P(()=>e.id||`v-tooltip-${l}`),f=Ce(),m=P(()=>e.location.split(" ").length>1?e.location:e.location+" center"),v=P(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),w=P(()=>e.transition?e.transition:r.value?"scale-transition":"fade-transition"),x=P(()=>nt({"aria-describedby":u.value},e.activatorProps));return Ue(()=>{const[E]=Oo.filterProps(e);return L(Oo,nt({ref:f,class:["v-tooltip",e.class],style:e.style,id:u.value},E,{modelValue:r.value,"onUpdate:modelValue":A=>r.value=A,transition:w.value,absolute:!0,location:m.value,origin:v.value,persistent:!0,role:"tooltip",activatorProps:x.value,_disableGlobalStack:!0},s),{activator:i.activator,default:function(){var O;for(var A=arguments.length,I=new Array(A),D=0;D<A;D++)I[D]=arguments[D];return((O=i.default)==null?void 0:O.call(i,...I))??e.text}})}),Ur({},f)}}),UH=Oe()({name:"VValidation",props:NA(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=VA(e,"validation");return()=>{var s;return(s=i.default)==null?void 0:s.call(i,r)}}});const zH=Se({dynamicHeight:Boolean,...et()},"v-virtual-scroll-item"),HH=Oe()({name:"VVirtualScrollItem",props:zH(),emits:{"update:height":e=>!0},setup(e,t){let{emit:i,slots:r}=t;const{resizeRef:s,contentRect:l}=uo();gs(()=>e.dynamicHeight,()=>{He(()=>{var f;return(f=l.value)==null?void 0:f.height},f=>{f!=null&&i("update:height",f)})});function u(){e.dynamicHeight&&l.value&&i("update:height",l.value.height)}WL(u),Ue(()=>{var f;return L("div",{ref:e.dynamicHeight?s:void 0,class:["v-virtual-scroll__item",e.class],style:e.style},[(f=r.default)==null?void 0:f.call(r)])})}}),A1=-1,C1=1,jH=Se({items:{type:Array,default:()=>[]},itemHeight:[Number,String],...et(),...vr()},"v-virtual-scroll"),GH=Oe()({name:"VVirtualScroll",props:jH(),setup(e,t){let{slots:i}=t;const r=Xe(0),s=Xe(e.itemHeight),l=P({get:()=>parseInt(s.value??0,10),set(B){s.value=B}}),u=Ce(),{resizeRef:f,contentRect:m}=uo();ir(()=>{f.value=u.value});const v=La(),w=new Map;let x=to(e.items.length).map(()=>l.value);const E=P(()=>{var B;return Math.max(12,Math.ceil((((B=m.value)==null?void 0:B.height)??v.height.value)/l.value*1.7+1))});function A(B,G){l.value=Math.max(l.value,G),x[B]=G,w.set(e.items[B],G)}function I(B){return x.slice(0,B).reduce((G,q)=>G+(q||l.value),0)}function D(B){const G=e.items.length;let q=0,Y=0;for(;Y<B&&q<G;)Y+=x[q++]||l.value;return q-1}let O=0;function H(){if(!u.value||!m.value)return;const B=m.value.height,G=u.value.scrollTop,q=G<O?A1:C1,Y=D(G+B/2),fe=Math.round(E.value/3);q===A1&&Y<=r.value+fe*2-1?r.value=wi(Y-fe,0,e.items.length):q===C1&&Y>=r.value+fe*2-1&&(r.value=wi(Y-fe,0,e.items.length-E.value)),O=u.value.scrollTop}function V(B){if(!u.value)return;const G=I(B);u.value.scrollTop=G}const U=P(()=>e.items.map((B,G)=>({raw:B,index:G}))),ne=P(()=>Math.min(e.items.length,r.value+E.value)),re=P(()=>U.value.slice(r.value,ne.value)),ee=P(()=>I(r.value)),Z=P(()=>I(e.items.length)-I(ne.value)),{dimensionStyles:X}=gr(e);return Qn(()=>{l.value||(l.value=x.slice(r.value,ne.value).reduce((B,G)=>B+G,0)/E.value)}),He(()=>e.items.length,()=>{x=to(e.items.length).map(()=>l.value),w.forEach((B,G)=>{const q=e.items.indexOf(G);q===-1?w.delete(G):x[q]=B})}),Ue(()=>L("div",{ref:u,class:["v-virtual-scroll",e.class],onScroll:H,style:[X.value,e.style]},[L("div",{class:"v-virtual-scroll__container",style:{paddingTop:at(ee.value),paddingBottom:at(Z.value)}},[re.value.map(B=>L(HH,{key:B.index,dynamicHeight:!e.itemHeight,"onUpdate:height":G=>A(B.index,G)},{default:()=>{var G;return[(G=i.default)==null?void 0:G.call(i,{item:B.raw,index:B.index})]}}))])])),{scrollToIndex:V}}}),WH=Object.freeze(Object.defineProperty({__proto__:null,VAlert:bF,VAlertTitle:LA,VApp:RB,VAppBar:KB,VAppBarNavIcon:vF,VAppBarTitle:gF,VAutocomplete:OU,VAvatar:ys,VBadge:NU,VBanner:FU,VBannerActions:hC,VBannerText:fC,VBottomNavigation:zU,VBreadcrumbs:WU,VBreadcrumbsDivider:pC,VBreadcrumbsItem:mC,VBtn:Oi,VBtnGroup:fy,VBtnToggle:nF,VCard:YU,VCardActions:vC,VCardItem:wC,VCardSubtitle:gC,VCardText:bC,VCardTitle:yC,VCarousel:iz,VCarouselItem:oz,VCheckbox:LF,VCheckboxBtn:cc,VChip:eh,VChipGroup:DF,VClassIcon:P0,VCode:sz,VCol:g4,VColorPicker:Yz,VCombobox:Qz,VComponentIcon:cy,VContainer:f4,VCounter:Qp,VDefaultsProvider:rn,VDialog:Zz,VDialogBottomTransition:DB,VDialogTopTransition:NB,VDialogTransition:Wp,VDivider:HA,VExpandTransition:$p,VExpandXTransition:D0,VExpansionPanel:o4,VExpansionPanelText:OC,VExpansionPanelTitle:PC,VExpansionPanels:n4,VFabTransition:OB,VFadeTransition:uy,VField:Zd,VFieldLabel:Gu,VFileInput:a4,VFooter:c4,VForm:d4,VHover:C4,VIcon:ln,VImg:ga,VInput:si,VItem:R4,VItemGroup:I4,VKbd:k4,VLabel:Rc,VLayout:P4,VLayoutItem:D4,VLazy:V4,VLigatureIcon:fB,VList:em,VListGroup:gy,VListImg:nU,VListItem:Po,VListItemAction:rU,VListItemMedia:sU,VListItemSubtitle:XA,VListItemTitle:KA,VListSubheader:QA,VLocaleProvider:F4,VMain:z4,VMenu:nm,VMessages:OA,VNavigationDrawer:K4,VNoSsr:Q4,VOverlay:Oo,VPagination:eH,VParallax:iH,VProgressCircular:U0,VProgressLinear:z0,VRadio:oH,VRadioGroup:aH,VRangeSlider:cH,VRating:dH,VResponsive:dy,VRow:S4,VScaleTransition:mA,VScrollXReverseTransition:BB,VScrollXTransition:VB,VScrollYReverseTransition:UB,VScrollYTransition:FB,VSelect:IU,VSelectionControl:lc,VSelectionControlGroup:FA,VSheet:xy,VSlideGroup:My,VSlideGroupItem:fH,VSlideXReverseTransition:HB,VSlideXTransition:zB,VSlideYReverseTransition:jB,VSlideYTransition:O0,VSlider:Cy,VSnackbar:mH,VSpacer:T4,VSvgIcon:L0,VSwitch:gH,VSystemBar:wH,VTab:XC,VTable:TH,VTabs:EH,VTextField:ya,VTextarea:CH,VThemeProvider:IH,VTimeline:kH,VTimelineItem:DH,VToolbar:hy,VToolbarItems:VH,VToolbarTitle:N0,VTooltip:FH,VValidation:UH,VVirtualScroll:GH,VWindow:SC,VWindowItem:_y},Symbol.toStringTag,{value:"Module"}));function $H(e,t){const i=t.modifiers||{},r=t.value,{once:s,immediate:l,...u}=i,f=!Object.keys(u).length,{handler:m,options:v}=typeof r=="object"?r:{handler:r,options:{attributes:(u==null?void 0:u.attr)??f,characterData:(u==null?void 0:u.char)??f,childList:(u==null?void 0:u.child)??f,subtree:(u==null?void 0:u.sub)??f}},w=new MutationObserver(function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],E=arguments.length>1?arguments[1]:void 0;m==null||m(x,E),s&&KC(e,t)});l&&(m==null||m([],w)),e._mutate=Object(e._mutate),e._mutate[t.instance.$.uid]={observer:w},w.observe(e,v)}function KC(e,t){var i;(i=e._mutate)!=null&&i[t.instance.$.uid]&&(e._mutate[t.instance.$.uid].observer.disconnect(),delete e._mutate[t.instance.$.uid])}const qH={mounted:$H,unmounted:KC};function YH(e,t){var s,l;const i=t.value,r={passive:!((s=t.modifiers)!=null&&s.active)};window.addEventListener("resize",i,r),e._onResize=Object(e._onResize),e._onResize[t.instance.$.uid]={handler:i,options:r},(l=t.modifiers)!=null&&l.quiet||i()}function XH(e,t){var s;if(!((s=e._onResize)!=null&&s[t.instance.$.uid]))return;const{handler:i,options:r}=e._onResize[t.instance.$.uid];window.removeEventListener("resize",i,r),delete e._onResize[t.instance.$.uid]}const KH={mounted:YH,unmounted:XH};function QC(e,t){const{self:i=!1}=t.modifiers??{},r=t.value,s=typeof r=="object"&&r.options||{passive:!0},l=typeof r=="function"||"handleEvent"in r?r:r.handler,u=i?e:t.arg?document.querySelector(t.arg):window;u&&(u.addEventListener("scroll",l,s),e._onScroll=Object(e._onScroll),e._onScroll[t.instance.$.uid]={handler:l,options:s,target:i?void 0:u})}function JC(e,t){var l;if(!((l=e._onScroll)!=null&&l[t.instance.$.uid]))return;const{handler:i,options:r,target:s=e}=e._onScroll[t.instance.$.uid];s.removeEventListener("scroll",i,r),delete e._onScroll[t.instance.$.uid]}function QH(e,t){t.value!==t.oldValue&&(JC(e,t),QC(e,t))}const JH={mounted:QC,unmounted:JC,updated:QH},ZH=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:cC,Intersect:Kd,Mutate:qH,Resize:KH,Ripple:Ss,Scroll:JH,Touch:Q0},Symbol.toStringTag,{value:"Module"})),ej=Vi(async e=>{const t=hA({components:WH,directives:ZH});e.vueApp.use(t)});function tj(e){return{all:e=e||new Map,on:function(t,i){var r=e.get(t);r?r.push(i):e.set(t,[i])},off:function(t,i){var r=e.get(t);r&&(i?r.splice(r.indexOf(i)>>>0,1):e.set(t,[]))},emit:function(t,i){var r=e.get(t);r&&r.slice().map(function(s){s(i)}),(r=e.get("*"))&&r.slice().map(function(s){s(t,i)})}}}const nj=Vi(()=>{const e=tj();return{provide:{event:e.emit,listen:e.on}}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=function(e){const t=[];let i=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[i++]=s:s<2048?(t[i++]=s>>6|192,t[i++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[i++]=s>>18|240,t[i++]=s>>12&63|128,t[i++]=s>>6&63|128,t[i++]=s&63|128):(t[i++]=s>>12|224,t[i++]=s>>6&63|128,t[i++]=s&63|128)}return t},ij=function(e){const t=[];let i=0,r=0;for(;i<e.length;){const s=e[i++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const l=e[i++];t[r++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=e[i++],u=e[i++],f=e[i++],m=((s&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const l=e[i++],u=e[i++];t[r++]=String.fromCharCode((s&15)<<12|(l&63)<<6|u&63)}}return t.join("")},eM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const l=e[s],u=s+1<e.length,f=u?e[s+1]:0,m=s+2<e.length,v=m?e[s+2]:0,w=l>>2,x=(l&3)<<4|f>>4;let E=(f&15)<<2|v>>6,A=v&63;m||(A=64,u||(E=64)),r.push(i[w],i[x],i[E],i[A])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ZC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ij(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const l=i[e.charAt(s++)],f=s<e.length?i[e.charAt(s)]:0;++s;const v=s<e.length?i[e.charAt(s)]:64;++s;const x=s<e.length?i[e.charAt(s)]:64;if(++s,l==null||f==null||v==null||x==null)throw new rj;const E=l<<2|f>>4;if(r.push(E),v!==64){const A=f<<4&240|v>>2;if(r.push(A),x!==64){const I=v<<6&192|x;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class rj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oj=function(e){const t=ZC(e);return eM.encodeByteArray(t,!0)},up=function(e){return oj(e).replace(/\./g,"")},tM=function(e){try{return eM.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=()=>sj().__FIREBASE_DEFAULTS__,lj=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},cj=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&tM(e[1]);return t&&JSON.parse(t)},im=()=>{try{return aj()||lj()||cj()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},nM=e=>{var t,i;return(i=(t=im())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[e]},iM=e=>{const t=nM(e);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},rM=()=>{var e;return(e=im())===null||e===void 0?void 0:e.config},oM=e=>{var t;return(t=im())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},e),f="";return[up(JSON.stringify(i)),up(JSON.stringify(u)),f].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Si())}function hj(){var e;const t=(e=im())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function fj(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function pj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mj(){const e=Si();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function vj(){try{return typeof indexedDB=="object"}catch{return!1}}function gj(){return new Promise((e,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),i||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{i=!1},s.onerror=()=>{var l;t(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="FirebaseError";class mo extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=yj,Object.setPrototypeOf(this,mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ih.prototype.create)}}class ih{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},s=`${this.service}/${t}`,l=this.errors[t],u=l?wj(l,r):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new mo(s,f,r)}}function wj(e,t){return e.replace(bj,(i,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const bj=/\{\$([^}]+)}/g;function _j(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function dp(e,t){if(e===t)return!0;const i=Object.keys(e),r=Object.keys(t);for(const s of i){if(!r.includes(s))return!1;const l=e[s],u=t[s];if(M1(l)&&M1(u)){if(!dp(l,u))return!1}else if(l!==u)return!1}for(const s of r)if(!i.includes(s))return!1;return!0}function M1(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(e){const t=[];for(const[i,r]of Object.entries(e))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Wu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,l]=r.split("=");t[decodeURIComponent(s)]=decodeURIComponent(l)}}),t}function $u(e){const t=e.indexOf("?");if(!t)return"";const i=e.indexOf("#",t);return e.substring(t,i>0?i:void 0)}function xj(e,t){const i=new Ej(e,t);return i.subscribe.bind(i)}class Ej{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let s;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");Sj(t,["next","error","complete"])?s=t:s={next:t,error:i,complete:r},s.next===void 0&&(s.next=ig),s.error===void 0&&(s.error=ig),s.complete===void 0&&(s.complete=ig);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sj(e,t){if(typeof e!="object"||e===null)return!1;for(const i of t)if(i in e&&typeof e[i]=="function")return!0;return!1}function ig(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(e){return e&&e._delegate?e._delegate:e}class ws{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new uj;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:i});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Cj(t))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(i);try{const l=this.getOrInitializeService({instanceIdentifier:s});r.resolve(l)}catch{}}}}clearInstance(t=ia){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ia){return this.instances.has(t)}getOptions(t=ia){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&u.resolve(s)}return s}onInit(t,i){var r;const s=this.normalizeInstanceIdentifier(i),l=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&t(u,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const s of r)try{s(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Aj(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ia){return this.component?this.component.multipleInstances?t:ia:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Aj(e){return e===ia?void 0:e}function Cj(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Tj(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Kt||(Kt={}));const Ij={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},Rj=Kt.INFO,kj={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},Lj=(e,t,...i)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=kj[t];if(s)console[s](`[${r}]  ${e.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tw{constructor(t){this.name=t,this._logLevel=Rj,this._logHandler=Lj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ij[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...t),this._logHandler(this,Kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...t),this._logHandler(this,Kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...t),this._logHandler(this,Kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...t),this._logHandler(this,Kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...t),this._logHandler(this,Kt.ERROR,...t)}}const Pj=(e,t)=>t.some(i=>e instanceof i);let I1,R1;function Oj(){return I1||(I1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dj(){return R1||(R1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aM=new WeakMap,Iy=new WeakMap,lM=new WeakMap,rg=new WeakMap,nw=new WeakMap;function Nj(e){const t=new Promise((i,r)=>{const s=()=>{e.removeEventListener("success",l),e.removeEventListener("error",u)},l=()=>{i(fs(e.result)),s()},u=()=>{r(e.error),s()};e.addEventListener("success",l),e.addEventListener("error",u)});return t.then(i=>{i instanceof IDBCursor&&aM.set(i,e)}).catch(()=>{}),nw.set(t,e),t}function Vj(e){if(Iy.has(e))return;const t=new Promise((i,r)=>{const s=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",u),e.removeEventListener("abort",u)},l=()=>{i(),s()},u=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",l),e.addEventListener("error",u),e.addEventListener("abort",u)});Iy.set(e,t)}let Ry={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return Iy.get(e);if(t==="objectStoreNames")return e.objectStoreNames||lM.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return fs(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Bj(e){Ry=e(Ry)}function Fj(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=e.call(og(this),t,...i);return lM.set(r,t.sort?t.sort():[t]),fs(r)}:Dj().includes(e)?function(...t){return e.apply(og(this),t),fs(aM.get(this))}:function(...t){return fs(e.apply(og(this),t))}}function Uj(e){return typeof e=="function"?Fj(e):(e instanceof IDBTransaction&&Vj(e),Pj(e,Oj())?new Proxy(e,Ry):e)}function fs(e){if(e instanceof IDBRequest)return Nj(e);if(rg.has(e))return rg.get(e);const t=Uj(e);return t!==e&&(rg.set(e,t),nw.set(t,e)),t}const og=e=>nw.get(e);function zj(e,t,{blocked:i,upgrade:r,blocking:s,terminated:l}={}){const u=indexedDB.open(e,t),f=fs(u);return r&&u.addEventListener("upgradeneeded",m=>{r(fs(u.result),m.oldVersion,m.newVersion,fs(u.transaction),m)}),i&&u.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),s&&m.addEventListener("versionchange",v=>s(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const Hj=["get","getKey","getAll","getAllKeys","count"],jj=["put","add","delete","clear"],sg=new Map;function k1(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(sg.get(t))return sg.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,s=jj.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Hj.includes(i)))return;const l=async function(u,...f){const m=this.transaction(u,s?"readwrite":"readonly");let v=m.store;return r&&(v=v.index(f.shift())),(await Promise.all([v[i](...f),s&&m.done]))[0]};return sg.set(t,l),l}Bj(e=>({...e,get:(t,i,r)=>k1(t,i)||e.get(t,i,r),has:(t,i)=>!!k1(t,i)||e.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Wj(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Wj(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ky="@firebase/app",L1="0.9.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new tw("@firebase/app"),$j="@firebase/app-compat",qj="@firebase/analytics-compat",Yj="@firebase/analytics",Xj="@firebase/app-check-compat",Kj="@firebase/app-check",Qj="@firebase/auth",Jj="@firebase/auth-compat",Zj="@firebase/database",e5="@firebase/database-compat",t5="@firebase/functions",n5="@firebase/functions-compat",i5="@firebase/installations",r5="@firebase/installations-compat",o5="@firebase/messaging",s5="@firebase/messaging-compat",a5="@firebase/performance",l5="@firebase/performance-compat",c5="@firebase/remote-config",u5="@firebase/remote-config-compat",d5="@firebase/storage",h5="@firebase/storage-compat",f5="@firebase/firestore",p5="@firebase/firestore-compat",m5="firebase",v5="9.22.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="[DEFAULT]",g5={[ky]:"fire-core",[$j]:"fire-core-compat",[Yj]:"fire-analytics",[qj]:"fire-analytics-compat",[Kj]:"fire-app-check",[Xj]:"fire-app-check-compat",[Qj]:"fire-auth",[Jj]:"fire-auth-compat",[Zj]:"fire-rtdb",[e5]:"fire-rtdb-compat",[t5]:"fire-fn",[n5]:"fire-fn-compat",[i5]:"fire-iid",[r5]:"fire-iid-compat",[o5]:"fire-fcm",[s5]:"fire-fcm-compat",[a5]:"fire-perf",[l5]:"fire-perf-compat",[c5]:"fire-rc",[u5]:"fire-rc-compat",[d5]:"fire-gcs",[h5]:"fire-gcs-compat",[f5]:"fire-fst",[p5]:"fire-fst-compat","fire-js":"fire-js",[m5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=new Map,Py=new Map;function y5(e,t){try{e.container.addComponent(t)}catch(i){wa.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function ba(e){const t=e.name;if(Py.has(t))return wa.debug(`There were multiple attempts to register component ${t}.`),!1;Py.set(t,e);for(const i of hp.values())y5(i,e);return!0}function rm(e,t){const i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ps=new ih("app","Firebase",w5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=v5;function cM(e,t={}){let i=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Ly,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw ps.create("bad-app-name",{appName:String(s)});if(i||(i=rM()),!i)throw ps.create("no-options");const l=hp.get(s);if(l){if(dp(i,l.options)&&dp(r,l.config))return l;throw ps.create("duplicate-app",{appName:s})}const u=new Mj(s);for(const m of Py.values())u.addComponent(m);const f=new b5(i,r,u);return hp.set(s,f),f}function iw(e=Ly){const t=hp.get(e);if(!t&&e===Ly&&rM())return cM();if(!t)throw ps.create("no-app",{appName:e});return t}function oo(e,t,i){var r;let s=(r=g5[e])!==null&&r!==void 0?r:e;i&&(s+=`-${i}`);const l=s.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const f=[`Unable to register library "${s}" with version "${t}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),wa.warn(f.join(" "));return}ba(new ws(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="firebase-heartbeat-database",x5=1,Ad="firebase-heartbeat-store";let ag=null;function uM(){return ag||(ag=zj(_5,x5,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ad)}}}).catch(e=>{throw ps.create("idb-open",{originalErrorMessage:e.message})})),ag}async function E5(e){try{return await(await uM()).transaction(Ad).objectStore(Ad).get(dM(e))}catch(t){if(t instanceof mo)wa.warn(t.message);else{const i=ps.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});wa.warn(i.message)}}}async function P1(e,t){try{const r=(await uM()).transaction(Ad,"readwrite");await r.objectStore(Ad).put(t,dM(e)),await r.done}catch(i){if(i instanceof mo)wa.warn(i.message);else{const r=ps.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});wa.warn(r.message)}}}function dM(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=1024,T5=30*24*60*60*1e3;class A5{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new M5(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=O1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=T5}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=O1(),{heartbeatsToSend:i,unsentEntries:r}=C5(this._heartbeatsCache.heartbeats),s=up(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function O1(){return new Date().toISOString().substring(0,10)}function C5(e,t=S5){const i=[];let r=e.slice();for(const s of e){const l=i.find(u=>u.agent===s.agent);if(l){if(l.dates.push(s.date),D1(i)>t){l.dates.pop();break}}else if(i.push({agent:s.agent,dates:[s.date]}),D1(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class M5{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vj()?gj().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await E5(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const s=await this.read();return P1(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const s=await this.read();return P1(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function D1(e){return up(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(e){ba(new ws("platform-logger",t=>new Gj(t),"PRIVATE")),ba(new ws("heartbeat",t=>new A5(t),"PRIVATE")),oo(ky,L1,e),oo(ky,L1,"esm2017"),oo("fire-js","")}I5("");var R5="firebase",k5="9.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oo(R5,k5,"app");function rw(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(i[r[s]]=e[r[s]]);return i}function hM(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L5=hM,fM=new ih("auth","Firebase",hM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=new tw("@firebase/auth");function P5(e,...t){fp.logLevel<=Kt.WARN&&fp.warn(`Auth (${Va}): ${e}`,...t)}function Ff(e,...t){fp.logLevel<=Kt.ERROR&&fp.error(`Auth (${Va}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(e,...t){throw ow(e,...t)}function so(e,...t){return ow(e,...t)}function O5(e,t,i){const r=Object.assign(Object.assign({},L5()),{[t]:i});return new ih("auth","Firebase",r).create(t,{appName:e.name})}function ow(e,...t){if(typeof e!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(i,...r)}return fM.create(e,...t)}function ft(e,t,...i){if(!e)throw ow(t,...i)}function To(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ff(t),new Error(t)}function Do(e,t){e||To(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function D5(){return N1()==="http:"||N1()==="https:"}function N1(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D5()||fj()||"connection"in navigator)?navigator.onLine:!0}function V5(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,i){this.shortDelay=t,this.longDelay=i,Do(i>t,"Short delay should be less than long delay!"),this.isMobile=dj()||pj()}get(){return N5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(e,t){Do(e.emulator,"Emulator should always be set here");const{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;To("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;To("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;To("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=new oh(3e4,6e4);function qi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function zr(e,t,i,r,s={}){return mM(e,s,async()=>{let l={},u={};r&&(t==="GET"?u=r:l={body:JSON.stringify(r)});const f=rh(Object.assign({key:e.config.apiKey},u)).slice(1),m=await e._getAdditionalHeaders();return m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode),pM.fetch()(vM(e,e.config.apiHost,i,f),Object.assign({method:t,headers:m,referrerPolicy:"no-referrer"},l))})}async function mM(e,t,i){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},B5),t);try{const s=new U5(e),l=await Promise.race([i(),s.promise]);s.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw qu(e,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,v]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw qu(e,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw qu(e,"email-already-in-use",u);if(m==="USER_DISABLED")throw qu(e,"user-disabled",u);const w=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw O5(e,w,v);fr(e,w)}}catch(s){if(s instanceof mo)throw s;fr(e,"network-request-failed",{message:String(s)})}}async function Ms(e,t,i,r,s={}){const l=await zr(e,t,i,r,s);return"mfaPendingCredential"in l&&fr(e,"multi-factor-auth-required",{_serverResponse:l}),l}function vM(e,t,i,r){const s=`${t}${i}?${r}`;return e.config.emulator?sw(e.config,s):`${e.config.apiScheme}://${s}`}class U5{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(so(this.auth,"network-request-failed")),F5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qu(e,t,i){const r={appName:e.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const s=so(e,t,r);return s.customData._tokenResponse=i,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5(e,t){return zr(e,"POST","/v1/accounts:delete",t)}async function H5(e,t){return zr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function j5(e,t=!1){const i=en(e),r=await i.getIdToken(t),s=aw(r);ft(s&&s.exp&&s.auth_time&&s.iat,i.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:s,token:r,authTime:sd(lg(s.auth_time)),issuedAtTime:sd(lg(s.iat)),expirationTime:sd(lg(s.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function lg(e){return Number(e)*1e3}function aw(e){const[t,i,r]=e.split(".");if(t===void 0||i===void 0||r===void 0)return Ff("JWT malformed, contained fewer than 3 sections"),null;try{const s=tM(i);return s?JSON.parse(s):(Ff("Failed to decode base64 JWT payload"),null)}catch(s){return Ff("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function G5(e){const t=aw(e);return ft(t,"internal-error"),ft(typeof t.exp<"u","internal-error"),ft(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(e,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof mo&&W5(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function W5({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=sd(this.lastLoginAt),this.creationTime=sd(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pp(e){var t;const i=e.auth,r=await e.getIdToken(),s=await uc(e,H5(i,{idToken:r}));ft(s==null?void 0:s.users.length,i,"internal-error");const l=s.users[0];e._notifyReloadListener(l);const u=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?X5(l.providerUserInfo):[],f=Y5(e.providerData,u),m=e.isAnonymous,v=!(e.email&&l.passwordHash)&&!(f!=null&&f.length),w=m?v:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new gM(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(e,x)}async function q5(e){const t=en(e);await pp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Y5(e,t){return[...e.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function X5(e){return e.map(t=>{var{providerId:i}=t,r=rw(t,["providerId"]);return{providerId:i,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(e,t){const i=await mM(e,{},async()=>{const r=rh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:l}=e.config,u=vM(e,s,"/v1/token",`key=${l}`),f=await e._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",pM.fetch()(u,{method:"POST",headers:f,body:r})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ft(t.idToken,"internal-error"),ft(typeof t.idToken<"u","internal-error"),ft(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):G5(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}async getToken(t,i=!1){return ft(!this.accessToken||this.refreshToken,t,"user-token-expired"),!i&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:s,expiresIn:l}=await K5(t,i);this.updateTokensAndExpiration(r,s,Number(l))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:s,expirationTime:l}=i,u=new Cd;return r&&(ft(typeof r=="string","internal-error",{appName:t}),u.refreshToken=r),s&&(ft(typeof s=="string","internal-error",{appName:t}),u.accessToken=s),l&&(ft(typeof l=="number","internal-error",{appName:t}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Cd,this.toJSON())}_performRefresh(){return To("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(e,t){ft(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class pa{constructor(t){var{uid:i,auth:r,stsTokenManager:s}=t,l=rw(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new gM(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await uc(this,this.stsTokenManager.getToken(this.auth,t));return ft(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return j5(this,t)}reload(){return q5(this)}_assign(t){this!==t&&(ft(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new pa(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await pp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await uc(this,z5(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var r,s,l,u,f,m,v,w;const x=(r=i.displayName)!==null&&r!==void 0?r:void 0,E=(s=i.email)!==null&&s!==void 0?s:void 0,A=(l=i.phoneNumber)!==null&&l!==void 0?l:void 0,I=(u=i.photoURL)!==null&&u!==void 0?u:void 0,D=(f=i.tenantId)!==null&&f!==void 0?f:void 0,O=(m=i._redirectEventId)!==null&&m!==void 0?m:void 0,H=(v=i.createdAt)!==null&&v!==void 0?v:void 0,V=(w=i.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:U,emailVerified:ne,isAnonymous:re,providerData:ee,stsTokenManager:Z}=i;ft(U&&Z,t,"internal-error");const X=Cd.fromJSON(this.name,Z);ft(typeof U=="string",t,"internal-error"),es(x,t.name),es(E,t.name),ft(typeof ne=="boolean",t,"internal-error"),ft(typeof re=="boolean",t,"internal-error"),es(A,t.name),es(I,t.name),es(D,t.name),es(O,t.name),es(H,t.name),es(V,t.name);const B=new pa({uid:U,auth:t,email:E,emailVerified:ne,displayName:x,isAnonymous:re,photoURL:I,phoneNumber:A,tenantId:D,stsTokenManager:X,createdAt:H,lastLoginAt:V});return ee&&Array.isArray(ee)&&(B.providerData=ee.map(G=>Object.assign({},G))),O&&(B._redirectEventId=O),B}static async _fromIdTokenResponse(t,i,r=!1){const s=new Cd;s.updateFromServerResponse(i);const l=new pa({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await pp(l),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=new Map;function Ao(e){Do(e instanceof Function,"Expected a class definition");let t=V1.get(e);return t?(Do(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,V1.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}yM.type="NONE";const B1=yM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(e,t,i){return`firebase:${e}:${t}:${i}`}class Ql{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:s,name:l}=this.auth;this.fullUserKey=Uf(this.userKey,s.apiKey,l),this.fullPersistenceKey=Uf("persistence",s.apiKey,l),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?pa._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ql(Ao(B1),t,r);const s=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=s[0]||Ao(B1);const u=Uf(r,t.config.apiKey,t.name);let f=null;for(const v of i)try{const w=await v._get(u);if(w){const x=pa._fromJSON(t,w);v!==l&&(f=x),l=v;break}}catch{}const m=s.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Ql(l,t,r):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(i.map(async v=>{if(v!==l)try{await v._remove(u)}catch{}})),new Ql(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_M(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wM(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(EM(t))return"Blackberry";if(SM(t))return"Webos";if(lw(t))return"Safari";if((t.includes("chrome/")||bM(t))&&!t.includes("edge/"))return"Chrome";if(xM(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wM(e=Si()){return/firefox\//i.test(e)}function lw(e=Si()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function bM(e=Si()){return/crios\//i.test(e)}function _M(e=Si()){return/iemobile/i.test(e)}function xM(e=Si()){return/android/i.test(e)}function EM(e=Si()){return/blackberry/i.test(e)}function SM(e=Si()){return/webos/i.test(e)}function om(e=Si()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Q5(e=Si()){var t;return om(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function J5(){return mj()&&document.documentMode===10}function TM(e=Si()){return om(e)||xM(e)||SM(e)||EM(e)||/windows phone/i.test(e)||_M(e)}function Z5(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(e,t=[]){let i;switch(e){case"Browser":i=F1(Si());break;case"Worker":i=`${F1(Si())}-${e}`;break;default:i=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Va}/${r}`}async function CM(e,t){return zr(e,"GET","/v2/recaptchaConfig",qi(e,t))}function U1(e){return e!==void 0&&e.enterprise!==void 0}class MM{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(i=>i.provider==="EMAIL_PASSWORD_PROVIDER"&&i.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function IM(e){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=s=>{const l=so("internal-error");l.customData=s,i(l)},r.type="text/javascript",r.charset="UTF-8",eG().appendChild(r)})}function tG(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const nG="https://www.google.com/recaptcha/enterprise.js?render=",iG="recaptcha-enterprise",rG="NO_RECAPTCHA";class RM{constructor(t){this.type=iG,this.auth=Go(t)}async verify(t="verify",i=!1){async function r(l){if(!i){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{CM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const v=new MM(m);return l.tenantId==null?l._agentRecaptchaConfig=v:l._tenantRecaptchaConfigs[l.tenantId]=v,u(v.siteKey)}}).catch(m=>{f(m)})})}function s(l,u,f){const m=window.grecaptcha;U1(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(v=>{u(v)}).catch(()=>{u(rG)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,u)=>{r(this.auth).then(f=>{if(!i&&U1(window.grecaptcha))s(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}IM(nG+f).then(()=>{s(f,l,u)}).catch(m=>{u(m)})}}).catch(f=>{u(f)})})}}async function dc(e,t,i,r=!1){const s=new RM(e);let l;try{l=await s.verify(i)}catch{l=await s.verify(i,!0)}const u=Object.assign({},t);return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=l=>new Promise((u,f)=>{try{const m=t(l);u(m)}catch(m){f(m)}});r.onAbort=i,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const s of i)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(t,i,r,s){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z1(this),this.idTokenSubscription=new z1(this),this.beforeStateQueue=new oG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ao(i)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ql.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var i;const r=await this.assertedPersistence.getCurrentUser();let s=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,f=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&(m!=null&&m.user)&&(s=m.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await pp(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=V5()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const i=t?en(t):null;return i&&ft(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&ft(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ao(t))})}async initializeRecaptchaConfig(){const t=await CM(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new MM(t);this.tenantId==null?this._agentRecaptchaConfig=i:this._tenantRecaptchaConfigs[this.tenantId]=i,i.emailPasswordEnabled&&new RM(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ih("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ao(t)||this._popupRedirectResolver;ft(i,this,"argument-error"),this.redirectPersistenceManager=await Ql.create(this,[Ao(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,s){if(this._deleted)return()=>{};const l=typeof i=="function"?i:i.next.bind(i),u=this._isInitialized?Promise.resolve():this._initializationPromise;return ft(u,this,"internal-error"),u.then(()=>l(this.currentUser)),typeof i=="function"?t.addObserver(i,r,s):t.addObserver(i)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=AM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(i["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(i["X-Firebase-AppCheck"]=s),i}async _getAppCheckToken(){var t;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&P5(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Go(e){return en(e)}class z1{constructor(t){this.auth=t,this.observer=null,this.addObserver=xj(i=>this.observer=i)}get next(){return ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aG(e,t){const i=rm(e,"auth");if(i.isInitialized()){const s=i.getImmediate(),l=i.getOptions();if(dp(l,t??{}))return s;fr(s,"already-initialized")}return i.initialize({options:t})}function lG(e,t){const i=(t==null?void 0:t.persistence)||[],r=(Array.isArray(i)?i:[i]).map(Ao);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function cG(e,t,i){const r=Go(e);ft(r._canInitEmulator,r,"emulator-config-failed"),ft(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(i!=null&&i.disableWarnings),l=kM(t),{host:u,port:f}=uG(t),m=f===null?"":`:${f}`;r.config.emulator={url:`${l}//${u}${m}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||dG()}function kM(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function uG(e){const t=kM(e),i=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const l=s[1];return{host:l,port:H1(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:H1(u)}}}function H1(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function dG(){function e(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return To("not implemented")}_getIdTokenResponse(t){return To("not implemented")}_linkToIdToken(t,i){return To("not implemented")}_getReauthenticationResolver(t){return To("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(e,t){return zr(e,"POST","/v1/accounts:resetPassword",qi(e,t))}async function PM(e,t){return zr(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cg(e,t){return Ms(e,"POST","/v1/accounts:signInWithPassword",qi(e,t))}async function OM(e,t){return zr(e,"POST","/v1/accounts:sendOobCode",qi(e,t))}async function hG(e,t){return OM(e,t)}async function ug(e,t){return OM(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fG(e,t){return Ms(e,"POST","/v1/accounts:signInWithEmailLink",qi(e,t))}async function pG(e,t){return Ms(e,"POST","/v1/accounts:signInWithEmailLink",qi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends sm{constructor(t,i,r,s=null){super("password",r),this._email=t,this._password=i,this._tenantId=s}static _fromEmailAndPassword(t,i){return new Md(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new Md(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){var i;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const s=await dc(t,r,"signInWithPassword");return cg(t,s)}else return cg(t,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const l=await dc(t,r,"signInWithPassword");return cg(t,l)}else return Promise.reject(s)});case"emailLink":return fG(t,{email:this._email,oobCode:this._password});default:fr(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":return PM(t,{idToken:i,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return pG(t,{idToken:i,email:this._email,oobCode:this._password});default:fr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(e,t){return Ms(e,"POST","/v1/accounts:signInWithIdp",qi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mG="http://localhost";class _a extends sm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new _a(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):fr("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s}=i,l=rw(i,["providerId","signInMethod"]);if(!r||!s)return null;const u=new _a(r,s);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(t){const i=this.buildRequest();return Jl(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Jl(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Jl(t,i)}buildRequest(){const t={requestUri:mG,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=rh(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vG(e,t){return zr(e,"POST","/v1/accounts:sendVerificationCode",qi(e,t))}async function gG(e,t){return Ms(e,"POST","/v1/accounts:signInWithPhoneNumber",qi(e,t))}async function yG(e,t){const i=await Ms(e,"POST","/v1/accounts:signInWithPhoneNumber",qi(e,t));if(i.temporaryProof)throw qu(e,"account-exists-with-different-credential",i);return i}const wG={USER_NOT_FOUND:"user-not-found"};async function bG(e,t){const i=Object.assign(Object.assign({},t),{operation:"REAUTH"});return Ms(e,"POST","/v1/accounts:signInWithPhoneNumber",qi(e,i),wG)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends sm{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,i){return new ad({verificationId:t,verificationCode:i})}static _fromTokenResponse(t,i){return new ad({phoneNumber:t,temporaryProof:i})}_getIdTokenResponse(t){return gG(t,this._makeVerificationRequest())}_linkToIdToken(t,i){return yG(t,Object.assign({idToken:i},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return bG(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:i,verificationId:r,verificationCode:s}=this.params;return t&&i?{temporaryProof:t,phoneNumber:i}:{sessionInfo:r,code:s}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){typeof t=="string"&&(t=JSON.parse(t));const{verificationId:i,verificationCode:r,phoneNumber:s,temporaryProof:l}=t;return!r&&!i&&!s&&!l?null:new ad({verificationId:i,verificationCode:r,phoneNumber:s,temporaryProof:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _G(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xG(e){const t=Wu($u(e)).link,i=t?Wu($u(t)).deep_link_id:null,r=Wu($u(e)).deep_link_id;return(r?Wu($u(r)).link:null)||r||i||t||e}class cw{constructor(t){var i,r,s,l,u,f;const m=Wu($u(t)),v=(i=m.apiKey)!==null&&i!==void 0?i:null,w=(r=m.oobCode)!==null&&r!==void 0?r:null,x=_G((s=m.mode)!==null&&s!==void 0?s:null);ft(v&&w&&x,"argument-error"),this.apiKey=v,this.operation=x,this.code=w,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=m.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(t){const i=xG(t);try{return new cw(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this.providerId=kc.PROVIDER_ID}static credential(t,i){return Md._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=cw.parseLink(i);return ft(r,"argument-error"),Md._fromEmailAndCode(t,r.code,r.tenantId)}}kc.PROVIDER_ID="password";kc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends DM{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends sh{constructor(){super("facebook.com")}static credential(t){return _a._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ss.credentialFromTaggedObject(t)}static credentialFromError(t){return ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ss.credential(t.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends sh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return _a._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return as.credentialFromTaggedObject(t)}static credentialFromError(t){return as.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return as.credential(i,r)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends sh{constructor(){super("github.com")}static credential(t){return _a._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ls.credentialFromTaggedObject(t)}static credentialFromError(t){return ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ls.credential(t.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends sh{constructor(){super("twitter.com")}static credential(t,i){return _a._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return cs.credential(i,r)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dg(e,t){return Ms(e,"POST","/v1/accounts:signUp",qi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,s=!1){const l=await pa._fromIdTokenResponse(t,r,s),u=j1(r);return new xa({user:l,providerId:u,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const s=j1(r);return new xa({user:t,providerId:s,_tokenResponse:r,operationType:i})}}function j1(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp extends mo{constructor(t,i,r,s){var l;super(i.code,i.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,mp.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,s){return new mp(t,i,r,s)}}function NM(e,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(e):i._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?mp._fromErrorAndOperation(e,l,t,r):l})}async function EG(e,t,i=!1){const r=await uc(e,t._linkToIdToken(e.auth,await e.getIdToken()),i);return xa._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SG(e,t,i=!1){const{auth:r}=e,s="reauthenticate";try{const l=await uc(e,NM(r,s,t,e),i);ft(l.idToken,r,"internal-error");const u=aw(l.idToken);ft(u,r,"internal-error");const{sub:f}=u;return ft(e.uid===f,r,"user-mismatch"),xa._forOperation(e,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&fr(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(e,t,i=!1){const r="signIn",s=await NM(e,r,t),l=await xa._fromIdTokenResponse(e,r,s);return i||await e._updateCurrentUser(l.user),l}async function BM(e,t){return VM(Go(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,i){this.factorId=t,this.uid=i.mfaEnrollmentId,this.enrollmentTime=new Date(i.enrolledAt).toUTCString(),this.displayName=i.displayName}static _fromServerResponse(t,i){return"phoneInfo"in i?dw._fromServerResponse(t,i):"totpInfo"in i?hw._fromServerResponse(t,i):fr(t,"internal-error")}}class dw extends uw{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,i){return new dw(i)}}class hw extends uw{constructor(t){super("totp",t)}static _fromServerResponse(t,i){return new hw(i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(e,t,i){var r;ft(((r=i.url)===null||r===void 0?void 0:r.length)>0,e,"invalid-continue-uri"),ft(typeof i.dynamicLinkDomain>"u"||i.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=i.url,t.dynamicLinkDomain=i.dynamicLinkDomain,t.canHandleCodeInApp=i.handleCodeInApp,i.iOS&&(ft(i.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=i.iOS.bundleId),i.android&&(ft(i.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=i.android.installApp,t.androidMinimumVersionCode=i.android.minimumVersion,t.androidPackageName=i.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TG(e,t,i){var r;const s=Go(e),l={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await dc(s,l,"getOobCode",!0);i&&zf(s,u,i),await ug(s,u)}else i&&zf(s,l,i),await ug(s,l).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const f=await dc(s,l,"getOobCode",!0);i&&zf(s,f,i),await ug(s,f)}else return Promise.reject(u)})}async function AG(e,t,i){await LM(en(e),{oobCode:t,newPassword:i})}async function CG(e,t){const i=en(e),r=await LM(i,{oobCode:t}),s=r.requestType;switch(ft(s,i,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ft(r.newEmail,i,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ft(r.mfaInfo,i,"internal-error");default:ft(r.email,i,"internal-error")}let l=null;return r.mfaInfo&&(l=uw._fromServerResponse(Go(i),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:l},operation:s}}async function MG(e,t){const{data:i}=await CG(en(e),t);return i.email}async function IG(e,t,i){var r;const s=Go(e),l={returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"};let u;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const v=await dc(s,l,"signUpPassword");u=dg(s,v)}else u=dg(s,l).catch(async v=>{if(v.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const w=await dc(s,l,"signUpPassword");return dg(s,w)}else return Promise.reject(v)});const f=await u.catch(v=>Promise.reject(v)),m=await xa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function RG(e,t,i){return BM(en(e),kc.credential(t,i))}async function kG(e,t){const i=en(e),s={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&zf(i.auth,s,t);const{email:l}=await hG(i.auth,s);l!==e.email&&await e.reload()}function LG(e,t){return FM(en(e),t,null)}function PG(e,t){return FM(en(e),null,t)}async function FM(e,t,i){const{auth:r}=e,l={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(l.email=t),i&&(l.password=i);const u=await uc(e,PM(r,l));await e._updateTokensIfNecessary(u,!0)}function OG(e,t,i,r){return en(e).onIdTokenChanged(t,i,r)}function DG(e,t,i){return en(e).beforeAuthStateChanged(t,i)}function _Y(e,t,i,r){return en(e).onAuthStateChanged(t,i,r)}function NG(e){return en(e).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VG(e,t){return zr(e,"POST","/v2/accounts/mfaEnrollment:start",qi(e,t))}const vp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(vp,"1"),this.storage.removeItem(vp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BG(){const e=Si();return lw(e)||om(e)}const FG=1e3,UG=10;class zM extends UM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=BG()&&Z5(),this.fallbackToPolling=TM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const u=this.storage.getItem(r);if(t.newValue!==u)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}const s=()=>{const u=this.storage.getItem(r);!i&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);J5()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,UG):s()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},FG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}zM.type="LOCAL";const zG=zM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM extends UM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}HM.type="SESSION";const jM=HM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HG(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;const r=new am(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:s,data:l}=i.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const f=Array.from(u).map(async v=>v(i.origin,l)),m=await HG(f);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:m})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}am.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(e="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return e+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const v=fw("",20);s.port1.start();const w=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(x){const E=x;if(E.data.eventId===v)switch(E.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(w),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(){return window}function GG(e){ao().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(){return typeof ao().WorkerGlobalScope<"u"&&typeof ao().importScripts=="function"}async function WG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $G(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function qG(){return GM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="firebaseLocalStorageDb",YG=1,gp="firebaseLocalStorage",$M="fbase_key";class ah{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function lm(e,t){return e.transaction([gp],t?"readwrite":"readonly").objectStore(gp)}function XG(){const e=indexedDB.deleteDatabase(WM);return new ah(e).toPromise()}function Dy(){const e=indexedDB.open(WM,YG);return new Promise((t,i)=>{e.addEventListener("error",()=>{i(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(gp,{keyPath:$M})}catch(s){i(s)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(gp)?t(r):(r.close(),await XG(),t(await Dy()))})})}async function G1(e,t,i){const r=lm(e,!0).put({[$M]:t,value:i});return new ah(r).toPromise()}async function KG(e,t){const i=lm(e,!1).get(t),r=await new ah(i).toPromise();return r===void 0?null:r.value}function W1(e,t){const i=lm(e,!0).delete(t);return new ah(i).toPromise()}const QG=800,JG=3;class qM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dy(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>JG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=am._getInstance(qG()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await WG(),!this.activeServiceWorker)return;this.sender=new jG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$G()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Dy();return await G1(t,vp,"1"),await W1(t,vp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>G1(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>KG(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>W1(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const l=lm(s,!1).getAll();return new ah(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;for(const{fbase_key:s,value:l}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),i.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qM.type="LOCAL";const ZG=qM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(e,t){return zr(e,"POST","/v2/accounts/mfaSignIn:start",qi(e,t))}new oh(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6="recaptcha";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(t,i){this.verificationId=t,this.onConfirmation=i}confirm(t){const i=ad._fromVerification(this.verificationId,t);return this.onConfirmation(i)}}async function i6(e,t,i){const r=Go(e),s=await r6(r,t,en(i));return new n6(s,l=>BM(r,l))}async function r6(e,t,i){var r;const s=await i.verify();try{ft(typeof s=="string",e,"argument-error"),ft(i.type===t6,e,"argument-error");let l;if(typeof t=="string"?l={phoneNumber:t}:l=t,"session"in l){const u=l.session;if("phoneNumber"in l)return ft(u.type==="enroll",e,"internal-error"),(await VG(e,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:l.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{ft(u.type==="signin",e,"internal-error");const f=((r=l.multiFactorHint)===null||r===void 0?void 0:r.uid)||l.multiFactorUid;return ft(f,e,"missing-multi-factor-info"),(await e6(e,{mfaPendingCredential:u.credential,mfaEnrollmentId:f,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:u}=await vG(e,{phoneNumber:l.phoneNumber,recaptchaToken:s});return u}}finally{i._reset()}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(e,t){return t?Ao(t):(ft(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw extends sm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Jl(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Jl(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Jl(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function s6(e){return VM(e.auth,new pw(e),e.bypassAuthState)}function a6(e){const{auth:t,user:i}=e;return ft(i,t,"internal-error"),SG(i,new pw(e),e.bypassAuthState)}async function l6(e){const{auth:t,user:i}=e;return ft(i,t,"internal-error"),EG(i,new pw(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(t,i,r,s,l=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:s,tenantId:l,error:u,type:f}=t;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:i,sessionId:r,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return s6;case"linkViaPopup":case"linkViaRedirect":return l6;case"reauthViaPopup":case"reauthViaRedirect":return a6;default:fr(this.auth,"internal-error")}}resolve(t){Do(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Do(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=new oh(2e3,1e4);class ql extends YM{constructor(t,i,r,s,l){super(t,i,s,l),this.provider=r,this.authWindow=null,this.pollId=null,ql.currentPopupAction&&ql.currentPopupAction.cancel(),ql.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ft(t,this.auth,"internal-error"),t}async onExecution(){Do(this.filter.length===1,"Popup operations only handle one event");const t=fw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(so(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(so(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ql.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(so(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,c6.get())};t()}}ql.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="pendingRedirect",Hf=new Map;class d6 extends YM{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Hf.get(this.auth._key());if(!t){try{const r=await h6(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Hf.set(this.auth._key(),t)}return this.bypassAuthState||Hf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h6(e,t){const i=m6(t),r=p6(e);if(!await r._isAvailable())return!1;const s=await r._get(i)==="true";return await r._remove(i),s}function f6(e,t){Hf.set(e._key(),t)}function p6(e){return Ao(e._redirectPersistence)}function m6(e){return Uf(u6,e.config.apiKey,e.name)}async function v6(e,t,i=!1){const r=Go(e),s=o6(r,t),u=await new d6(r,s,i).execute();return u&&!i&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,t)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=10*60*1e3;class y6{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!w6(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var r;if(t.error&&!XM(t)){const s=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";i.onError(so(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=g6&&this.cachedEventUids.clear(),this.cachedEventUids.has($1(t))}saveEventToCache(t){this.cachedEventUids.add($1(t)),this.lastProcessedEventTime=Date.now()}}function $1(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function XM({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function w6(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XM(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b6(e,t={}){return zr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x6=/^https?/;async function E6(e){if(e.config.emulator)return;const{authorizedDomains:t}=await b6(e);for(const i of t)try{if(S6(i))return}catch{}fr(e,"unauthorized-domain")}function S6(e){const t=Oy(),{protocol:i,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const u=new URL(e);return u.hostname===""&&r===""?i==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&u.hostname===r}if(!x6.test(i))return!1;if(_6.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=new oh(3e4,6e4);function q1(){const e=ao().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let i=0;i<e.CP.length;i++)e.CP[i]=null}}function A6(e){return new Promise((t,i)=>{var r,s,l;function u(){q1(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{q1(),i(so(e,"network-request-failed"))},timeout:T6.get()})}if(!((s=(r=ao().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((l=ao().gapi)===null||l===void 0)&&l.load)u();else{const f=tG("iframefcb");return ao()[f]=()=>{gapi.load?u():i(so(e,"network-request-failed"))},IM(`https://apis.google.com/js/api.js?onload=${f}`).catch(m=>i(m))}}).catch(t=>{throw jf=null,t})}let jf=null;function C6(e){return jf=jf||A6(e),jf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=new oh(5e3,15e3),I6="__/auth/iframe",R6="emulator/auth/iframe",k6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P6(e){const t=e.config;ft(t.authDomain,e,"auth-domain-config-required");const i=t.emulator?sw(t,R6):`https://${e.config.authDomain}/${I6}`,r={apiKey:t.apiKey,appName:e.name,v:Va},s=L6.get(e.config.apiHost);s&&(r.eid=s);const l=e._getFrameworks();return l.length&&(r.fw=l.join(",")),`${i}?${rh(r).slice(1)}`}async function O6(e){const t=await C6(e),i=ao().gapi;return ft(i,e,"internal-error"),t.open({where:document.body,url:P6(e),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k6,dontclear:!0},r=>new Promise(async(s,l)=>{await r.restyle({setHideOnLeave:!1});const u=so(e,"network-request-failed"),f=ao().setTimeout(()=>{l(u)},M6.get());function m(){ao().clearTimeout(f),s(r)}r.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N6=500,V6=600,B6="_blank",F6="http://localhost";class Y1{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U6(e,t,i,r=N6,s=V6){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},D6),{width:r.toString(),height:s.toString(),top:l,left:u}),v=Si().toLowerCase();i&&(f=bM(v)?B6:i),wM(v)&&(t=t||F6,m.scrollbars="yes");const w=Object.entries(m).reduce((E,[A,I])=>`${E}${A}=${I},`,"");if(Q5(v)&&f!=="_self")return z6(t||"",f),new Y1(null);const x=window.open(t||"",f,w);ft(x,e,"popup-blocked");try{x.focus()}catch{}return new Y1(x)}function z6(e,t){const i=document.createElement("a");i.href=e,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6="__/auth/handler",j6="emulator/auth/handler",G6=encodeURIComponent("fac");async function X1(e,t,i,r,s,l){ft(e.config.authDomain,e,"auth-domain-config-required"),ft(e.config.apiKey,e,"invalid-api-key");const u={apiKey:e.config.apiKey,appName:e.name,authType:i,redirectUrl:r,v:Va,eventId:s};if(t instanceof DM){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",_j(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[w,x]of Object.entries(l||{}))u[w]=x}if(t instanceof sh){const w=t.getScopes().filter(x=>x!=="");w.length>0&&(u.scopes=w.join(","))}e.tenantId&&(u.tid=e.tenantId);const f=u;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const m=await e._getAppCheckToken(),v=m?`#${G6}=${encodeURIComponent(m)}`:"";return`${W6(e)}?${rh(f).slice(1)}${v}`}function W6({config:e}){return e.emulator?sw(e,j6):`https://${e.authDomain}/${H6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="webStorageSupport";class $6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jM,this._completeRedirectFn=v6,this._overrideRedirectResult=f6}async _openPopup(t,i,r,s){var l;Do((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await X1(t,i,r,Oy(),s);return U6(t,u,fw())}async _openRedirect(t,i,r,s){await this._originValidation(t);const l=await X1(t,i,r,Oy(),s);return GG(l),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:s,promise:l}=this.eventManagers[i];return s?Promise.resolve(s):(Do(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await O6(t),r=new y6(t);return i.register("authEvent",s=>(ft(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(hg,{type:hg},s=>{var l;const u=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[hg];u!==void 0&&i(!!u),fr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=E6(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return TM()||lw()||om()}}const q6=$6;var K1="@firebase/auth",Q1="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function K6(e){ba(new ws("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;ft(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:f,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AM(e)},v=new sG(r,s,l,m);return lG(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),ba(new ws("auth-internal",t=>{const i=Go(t.getProvider("auth").getImmediate());return(r=>new Y6(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),oo(K1,Q1,X6(e)),oo(K1,Q1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=5*60,J6=oM("authIdTokenMaxAge")||Q6;let J1=null;const Z6=e=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>J6)return;const s=i==null?void 0:i.token;J1!==s&&(J1=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function eW(e=iw()){const t=rm(e,"auth");if(t.isInitialized())return t.getImmediate();const i=aG(e,{popupRedirectResolver:q6,persistence:[ZG,zG,jM]}),r=oM("authTokenSyncURL");if(r){const l=Z6(r);DG(i,l,()=>l(i.currentUser)),OG(i,u=>l(u))}const s=nM("auth");return s&&cG(i,`http://${s}`),i}K6("Browser");var tW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ot,mw=mw||{},At=tW||self;function yp(){}function cm(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function lh(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function nW(e){return Object.prototype.hasOwnProperty.call(e,fg)&&e[fg]||(e[fg]=++iW)}var fg="closure_uid_"+(1e9*Math.random()>>>0),iW=0;function rW(e,t,i){return e.call.apply(e.bind,arguments)}function oW(e,t,i){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function bi(e,t,i){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?bi=rW:bi=oW,bi.apply(null,arguments)}function _f(e,t){var i=Array.prototype.slice.call(arguments,1);return function(){var r=i.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Jn(e,t){function i(){}i.prototype=t.prototype,e.$=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.ac=function(r,s,l){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return t.prototype[s].apply(r,u)}}function Is(){this.s=this.s,this.o=this.o}var sW=0;Is.prototype.s=!1;Is.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),sW!=0)&&nW(this)};Is.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const KM=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let i=0;i<e.length;i++)if(i in e&&e[i]===t)return i;return-1};function vw(e){const t=e.length;if(0<t){const i=Array(t);for(let r=0;r<t;r++)i[r]=e[r];return i}return[]}function Z1(e,t){for(let i=1;i<arguments.length;i++){const r=arguments[i];if(cm(r)){const s=e.length||0,l=r.length||0;e.length=s+l;for(let u=0;u<l;u++)e[s+u]=r[u]}else e.push(r)}}function _i(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}_i.prototype.h=function(){this.defaultPrevented=!0};var aW=function(){if(!At.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{At.addEventListener("test",yp,t),At.removeEventListener("test",yp,t)}catch{}return e}();function wp(e){return/^[\s\xa0]*$/.test(e)}var eE=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function pg(e,t){return e<t?-1:e>t?1:0}function um(){var e=At.navigator;return e&&(e=e.userAgent)?e:""}function eo(e){return um().indexOf(e)!=-1}function gw(e){return gw[" "](e),e}gw[" "]=yp;function QM(e,t,i){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=i(t)}var lW=eo("Opera"),hc=eo("Trident")||eo("MSIE"),JM=eo("Edge"),Ny=JM||hc,ZM=eo("Gecko")&&!(um().toLowerCase().indexOf("webkit")!=-1&&!eo("Edge"))&&!(eo("Trident")||eo("MSIE"))&&!eo("Edge"),cW=um().toLowerCase().indexOf("webkit")!=-1&&!eo("Edge");function eI(){var e=At.document;return e?e.documentMode:void 0}var bp;e:{var mg="",vg=function(){var e=um();if(ZM)return/rv:([^\);]+)(\)|;)/.exec(e);if(JM)return/Edge\/([\d\.]+)/.exec(e);if(hc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(cW)return/WebKit\/(\S+)/.exec(e);if(lW)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(vg&&(mg=vg?vg[1]:""),hc){var gg=eI();if(gg!=null&&gg>parseFloat(mg)){bp=String(gg);break e}}bp=mg}var uW={};function dW(){return QM(uW,9,function(){let e=0;const t=eE(String(bp)).split("."),i=eE("9").split("."),r=Math.max(t.length,i.length);for(let u=0;e==0&&u<r;u++){var s=t[u]||"",l=i[u]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],s[0].length==0&&l[0].length==0)break;e=pg(s[1].length==0?0:parseInt(s[1],10),l[1].length==0?0:parseInt(l[1],10))||pg(s[2].length==0,l[2].length==0)||pg(s[2],l[2]),s=s[3],l=l[3]}while(e==0)}return 0<=e})}var Vy;if(At.document&&hc){var tE=eI();Vy=tE||parseInt(bp,10)||void 0}else Vy=void 0;var hW=Vy;function Id(e,t){if(_i.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var i=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ZM){e:{try{gw(t.nodeName);var s=!0;break e}catch{}s=!1}s||(t=null)}}else i=="mouseover"?t=e.fromElement:i=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:fW[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Id.$.h.call(this)}}Jn(Id,_i);var fW={2:"touch",3:"pen",4:"mouse"};Id.prototype.h=function(){Id.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ch="closure_listenable_"+(1e6*Math.random()|0),pW=0;function mW(e,t,i,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=i,this.capture=!!r,this.la=s,this.key=++pW,this.fa=this.ia=!1}function dm(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function yw(e,t,i){for(const r in e)t.call(i,e[r],r,e)}function tI(e){const t={};for(const i in e)t[i]=e[i];return t}const nE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nI(e,t){let i,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(i in r)e[i]=r[i];for(let l=0;l<nE.length;l++)i=nE[l],Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}}function hm(e){this.src=e,this.g={},this.h=0}hm.prototype.add=function(e,t,i,r,s){var l=e.toString();e=this.g[l],e||(e=this.g[l]=[],this.h++);var u=Fy(e,t,r,s);return-1<u?(t=e[u],i||(t.ia=!1)):(t=new mW(t,this.src,l,!!r,s),t.ia=i,e.push(t)),t};function By(e,t){var i=t.type;if(i in e.g){var r=e.g[i],s=KM(r,t),l;(l=0<=s)&&Array.prototype.splice.call(r,s,1),l&&(dm(t),e.g[i].length==0&&(delete e.g[i],e.h--))}}function Fy(e,t,i,r){for(var s=0;s<e.length;++s){var l=e[s];if(!l.fa&&l.listener==t&&l.capture==!!i&&l.la==r)return s}return-1}var ww="closure_lm_"+(1e6*Math.random()|0),yg={};function iI(e,t,i,r,s){if(r&&r.once)return oI(e,t,i,r,s);if(Array.isArray(t)){for(var l=0;l<t.length;l++)iI(e,t[l],i,r,s);return null}return i=xw(i),e&&e[ch]?e.O(t,i,lh(r)?!!r.capture:!!r,s):rI(e,t,i,!1,r,s)}function rI(e,t,i,r,s,l){if(!t)throw Error("Invalid event type");var u=lh(s)?!!s.capture:!!s,f=_w(e);if(f||(e[ww]=f=new hm(e)),i=f.add(t,i,r,u,l),i.proxy)return i;if(r=vW(),i.proxy=r,r.src=e,r.listener=i,e.addEventListener)aW||(s=u),s===void 0&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(aI(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return i}function vW(){function e(i){return t.call(e.src,e.listener,i)}const t=gW;return e}function oI(e,t,i,r,s){if(Array.isArray(t)){for(var l=0;l<t.length;l++)oI(e,t[l],i,r,s);return null}return i=xw(i),e&&e[ch]?e.P(t,i,lh(r)?!!r.capture:!!r,s):rI(e,t,i,!0,r,s)}function sI(e,t,i,r,s){if(Array.isArray(t))for(var l=0;l<t.length;l++)sI(e,t[l],i,r,s);else r=lh(r)?!!r.capture:!!r,i=xw(i),e&&e[ch]?(e=e.i,t=String(t).toString(),t in e.g&&(l=e.g[t],i=Fy(l,i,r,s),-1<i&&(dm(l[i]),Array.prototype.splice.call(l,i,1),l.length==0&&(delete e.g[t],e.h--)))):e&&(e=_w(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Fy(t,i,r,s)),(i=-1<e?t[e]:null)&&bw(i))}function bw(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[ch])By(t.i,e);else{var i=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(i,r,e.capture):t.detachEvent?t.detachEvent(aI(i),r):t.addListener&&t.removeListener&&t.removeListener(r),(i=_w(t))?(By(i,e),i.h==0&&(i.src=null,t[ww]=null)):dm(e)}}}function aI(e){return e in yg?yg[e]:yg[e]="on"+e}function gW(e,t){if(e.fa)e=!0;else{t=new Id(t,this);var i=e.listener,r=e.la||e.src;e.ia&&bw(e),e=i.call(r,t)}return e}function _w(e){return e=e[ww],e instanceof hm?e:null}var wg="__closure_events_fn_"+(1e9*Math.random()>>>0);function xw(e){return typeof e=="function"?e:(e[wg]||(e[wg]=function(t){return e.handleEvent(t)}),e[wg])}function Kn(){Is.call(this),this.i=new hm(this),this.S=this,this.J=null}Jn(Kn,Is);Kn.prototype[ch]=!0;Kn.prototype.removeEventListener=function(e,t,i,r){sI(this,e,t,i,r)};function oi(e,t){var i,r=e.J;if(r)for(i=[];r;r=r.J)i.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new _i(t,e);else if(t instanceof _i)t.target=t.target||e;else{var s=t;t=new _i(r,e),nI(t,s)}if(s=!0,i)for(var l=i.length-1;0<=l;l--){var u=t.g=i[l];s=xf(u,r,!0,t)&&s}if(u=t.g=e,s=xf(u,r,!0,t)&&s,s=xf(u,r,!1,t)&&s,i)for(l=0;l<i.length;l++)u=t.g=i[l],s=xf(u,r,!1,t)&&s}Kn.prototype.N=function(){if(Kn.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var i=e.g[t],r=0;r<i.length;r++)dm(i[r]);delete e.g[t],e.h--}}this.J=null};Kn.prototype.O=function(e,t,i,r){return this.i.add(String(e),t,!1,i,r)};Kn.prototype.P=function(e,t,i,r){return this.i.add(String(e),t,!0,i,r)};function xf(e,t,i,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,l=0;l<t.length;++l){var u=t[l];if(u&&!u.fa&&u.capture==i){var f=u.listener,m=u.la||u.src;u.ia&&By(e.i,u),s=f.call(m,r)!==!1&&s}}return s&&!r.defaultPrevented}var Ew=At.JSON.stringify;function yW(){var e=uI;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class wW{constructor(){this.h=this.g=null}add(t,i){const r=lI.get();r.set(t,i),this.h?this.h.next=r:this.g=r,this.h=r}}var lI=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new bW,e=>e.reset());class bW{constructor(){this.next=this.g=this.h=null}set(t,i){this.h=t,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function _W(e){At.setTimeout(()=>{throw e},0)}function cI(e,t){Uy||xW(),zy||(Uy(),zy=!0),uI.add(e,t)}var Uy;function xW(){var e=At.Promise.resolve(void 0);Uy=function(){e.then(EW)}}var zy=!1,uI=new wW;function EW(){for(var e;e=yW();){try{e.h.call(e.g)}catch(i){_W(i)}var t=lI;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}zy=!1}function fm(e,t){Kn.call(this),this.h=e||1,this.g=t||At,this.j=bi(this.qb,this),this.l=Date.now()}Jn(fm,Kn);ot=fm.prototype;ot.ga=!1;ot.T=null;ot.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),oi(this,"tick"),this.ga&&(Sw(this),this.start()))}};ot.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Sw(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}ot.N=function(){fm.$.N.call(this),Sw(this),delete this.g};function Tw(e,t,i){if(typeof e=="function")i&&(e=bi(e,i));else if(e&&typeof e.handleEvent=="function")e=bi(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:At.setTimeout(e,t||0)}function dI(e){e.g=Tw(()=>{e.g=null,e.i&&(e.i=!1,dI(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class SW extends Is{constructor(t,i){super(),this.m=t,this.j=i,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:dI(this)}N(){super.N(),this.g&&(At.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rd(e){Is.call(this),this.h=e,this.g={}}Jn(Rd,Is);var iE=[];function hI(e,t,i,r){Array.isArray(i)||(i&&(iE[0]=i.toString()),i=iE);for(var s=0;s<i.length;s++){var l=iI(t,i[s],r||e.handleEvent,!1,e.h||e);if(!l)break;e.g[l.key]=l}}function fI(e){yw(e.g,function(t,i){this.g.hasOwnProperty(i)&&bw(t)},e),e.g={}}Rd.prototype.N=function(){Rd.$.N.call(this),fI(this)};Rd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function pm(){this.g=!0}pm.prototype.Ea=function(){this.g=!1};function TW(e,t,i,r,s,l){e.info(function(){if(e.g)if(l)for(var u="",f=l.split("&"),m=0;m<f.length;m++){var v=f[m].split("=");if(1<v.length){var w=v[0];v=v[1];var x=w.split("_");u=2<=x.length&&x[1]=="type"?u+(w+"="+v+"&"):u+(w+"=redacted&")}}else u=null;else u=l;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+`
`+i+`
`+u})}function AW(e,t,i,r,s,l,u){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+`
`+i+`
`+l+" "+u})}function Yl(e,t,i,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+MW(e,i)+(r?" "+r:"")})}function CW(e,t){e.info(function(){return"TIMEOUT: "+t})}pm.prototype.info=function(){};function MW(e,t){if(!e.g)return t;if(!t)return null;try{var i=JSON.parse(t);if(i){for(e=0;e<i.length;e++)if(Array.isArray(i[e])){var r=i[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var l=s[0];if(l!="noop"&&l!="stop"&&l!="close")for(var u=1;u<s.length;u++)s[u]=""}}}}return Ew(i)}catch{return t}}var Ba={},rE=null;function mm(){return rE=rE||new Kn}Ba.Ta="serverreachability";function pI(e){_i.call(this,Ba.Ta,e)}Jn(pI,_i);function kd(e){const t=mm();oi(t,new pI(t))}Ba.STAT_EVENT="statevent";function mI(e,t){_i.call(this,Ba.STAT_EVENT,e),this.stat=t}Jn(mI,_i);function Di(e){const t=mm();oi(t,new mI(t,e))}Ba.Ua="timingevent";function vI(e,t){_i.call(this,Ba.Ua,e),this.size=t}Jn(vI,_i);function uh(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return At.setTimeout(function(){e()},t)}var vm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Aw(){}Aw.prototype.h=null;function oE(e){return e.h||(e.h=e.i())}function yI(){}var dh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Cw(){_i.call(this,"d")}Jn(Cw,_i);function Mw(){_i.call(this,"c")}Jn(Mw,_i);var Hy;function gm(){}Jn(gm,Aw);gm.prototype.g=function(){return new XMLHttpRequest};gm.prototype.i=function(){return{}};Hy=new gm;function hh(e,t,i,r){this.l=e,this.j=t,this.m=i,this.W=r||1,this.U=new Rd(this),this.P=IW,e=Ny?125:void 0,this.V=new fm(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new wI}function wI(){this.i=null,this.g="",this.h=!1}var IW=45e3,jy={},_p={};ot=hh.prototype;ot.setTimeout=function(e){this.P=e};function Gy(e,t,i){e.L=1,e.v=wm(No(t)),e.s=i,e.S=!0,bI(e,null)}function bI(e,t){e.G=Date.now(),fh(e),e.A=No(e.v);var i=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),MI(i.i,"t",r),e.C=0,i=e.l.I,e.h=new wI,e.g=XI(e.l,i?t:null,!e.s),0<e.O&&(e.M=new SW(bi(e.Pa,e,e.g),e.O)),hI(e.U,e.g,"readystatechange",e.nb),t=e.I?tI(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),kd(),TW(e.j,e.u,e.A,e.m,e.W,e.s)}ot.nb=function(e){e=e.target;const t=this.M;t&&Co(e)==3?t.l():this.Pa(e)};ot.Pa=function(e){try{if(e==this.g)e:{const w=Co(this.g);var t=this.g.Ia();const x=this.g.da();if(!(3>w)&&(w!=3||Ny||this.g&&(this.h.h||this.g.ja()||cE(this.g)))){this.J||w!=4||t==7||(t==8||0>=x?kd(3):kd(2)),ym(this);var i=this.g.da();this.aa=i;t:if(_I(this)){var r=cE(this.g);e="";var s=r.length,l=Co(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){la(this),ld(this);var u="";break t}this.h.i=new At.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:l&&t==s-1});r.splice(0,s),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=i==200,AW(this.j,this.u,this.A,this.m,this.W,w,i),this.i){if(this.ba&&!this.K){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wp(f)){var v=f;break t}}v=null}if(i=v)Yl(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wy(this,i);else{this.i=!1,this.o=3,Di(12),la(this),ld(this);break e}}this.S?(xI(this,w,u),Ny&&this.i&&w==3&&(hI(this.U,this.V,"tick",this.mb),this.V.start())):(Yl(this.j,this.m,u,null),Wy(this,u)),w==4&&la(this),this.i&&!this.J&&(w==4?WI(this.l,this):(this.i=!1,fh(this)))}else i==400&&0<u.indexOf("Unknown SID")?(this.o=3,Di(12)):(this.o=0,Di(13)),la(this),ld(this)}}}catch{}finally{}};function _I(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function xI(e,t,i){let r=!0,s;for(;!e.J&&e.C<i.length;)if(s=RW(e,i),s==_p){t==4&&(e.o=4,Di(14),r=!1),Yl(e.j,e.m,null,"[Incomplete Response]");break}else if(s==jy){e.o=4,Di(15),Yl(e.j,e.m,i,"[Invalid Chunk]"),r=!1;break}else Yl(e.j,e.m,s,null),Wy(e,s);_I(e)&&s!=_p&&s!=jy&&(e.h.g="",e.C=0),t!=4||i.length!=0||e.h.h||(e.o=1,Di(16),r=!1),e.i=e.i&&r,r?0<i.length&&!e.ca&&(e.ca=!0,t=e.l,t.g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+i.length),Dw(t),t.L=!0,Di(11))):(Yl(e.j,e.m,i,"[Invalid Chunked Response]"),la(e),ld(e))}ot.mb=function(){if(this.g){var e=Co(this.g),t=this.g.ja();this.C<t.length&&(ym(this),xI(this,e,t),this.i&&e!=4&&fh(this))}};function RW(e,t){var i=e.C,r=t.indexOf(`
`,i);return r==-1?_p:(i=Number(t.substring(i,r)),isNaN(i)?jy:(r+=1,r+i>t.length?_p:(t=t.substr(r,i),e.C=r+i,t)))}ot.cancel=function(){this.J=!0,la(this)};function fh(e){e.Y=Date.now()+e.P,EI(e,e.P)}function EI(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=uh(bi(e.lb,e),t)}function ym(e){e.B&&(At.clearTimeout(e.B),e.B=null)}ot.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(CW(this.j,this.A),this.L!=2&&(kd(),Di(17)),la(this),this.o=2,ld(this)):EI(this,this.Y-e)};function ld(e){e.l.H==0||e.J||WI(e.l,e)}function la(e){ym(e);var t=e.M;t&&typeof t.ra=="function"&&t.ra(),e.M=null,Sw(e.V),fI(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function Wy(e,t){try{var i=e.l;if(i.H!=0&&(i.g==e||$y(i.h,e))){if(!e.K&&$y(i.h,e)&&i.H==3){try{var r=i.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!i.u){if(i.g)if(i.g.G+3e3<e.G)Sp(i),xm(i);else break e;Ow(i),Di(18)}}else i.Fa=s[1],0<i.Fa-i.V&&37500>s[2]&&i.M&&i.A==0&&!i.v&&(i.v=uh(bi(i.ib,i),6e3));if(1>=kI(i.h)&&i.na){try{i.na()}catch{}i.na=void 0}}else ca(i,11)}else if((e.K||i.g==e)&&Sp(i),!wp(t))for(s=i.Ja.g.parse(t),t=0;t<s.length;t++){let v=s[t];if(i.V=v[0],v=v[1],i.H==2)if(v[0]=="c"){i.J=v[1],i.oa=v[2];const w=v[3];w!=null&&(i.qa=w,i.j.info("VER="+i.qa));const x=v[4];x!=null&&(i.Ga=x,i.j.info("SVER="+i.Ga));const E=v[5];E!=null&&typeof E=="number"&&0<E&&(r=1.5*E,i.K=r,i.j.info("backChannelRequestTimeoutMs_="+r)),r=i;const A=e.g;if(A){const I=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(I){var l=r.h;l.g||I.indexOf("spdy")==-1&&I.indexOf("quic")==-1&&I.indexOf("h2")==-1||(l.j=l.l,l.g=new Set,l.h&&(Iw(l,l.h),l.h=null))}if(r.F){const D=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;D&&(r.Da=D,vn(r.G,r.F,D))}}i.H=3,i.l&&i.l.Ba(),i.ca&&(i.S=Date.now()-e.G,i.j.info("Handshake RTT: "+i.S+"ms")),r=i;var u=e;if(r.wa=YI(r,r.I?r.oa:null,r.Y),u.K){LI(r.h,u);var f=u,m=r.K;m&&f.setTimeout(m),f.B&&(ym(f),fh(f)),r.g=u}else jI(r);0<i.i.length&&Em(i)}else v[0]!="stop"&&v[0]!="close"||ca(i,7);else i.H==3&&(v[0]=="stop"||v[0]=="close"?v[0]=="stop"?ca(i,7):Pw(i):v[0]!="noop"&&i.l&&i.l.Aa(v),i.A=0)}}kd(4)}catch{}}function kW(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(cm(e)){for(var t=[],i=e.length,r=0;r<i;r++)t.push(e[r]);return t}t=[],i=0;for(r in e)t[i++]=e[r];return t}function LW(e){if(e.sa&&typeof e.sa=="function")return e.sa();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(cm(e)||typeof e=="string"){var t=[];e=e.length;for(var i=0;i<e;i++)t.push(i);return t}t=[],i=0;for(const r in e)t[i++]=r;return t}}}function SI(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(cm(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var i=LW(e),r=kW(e),s=r.length,l=0;l<s;l++)t.call(void 0,r[l],i&&i[l],e)}var TI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PW(e,t){if(e){e=e.split("&");for(var i=0;i<e.length;i++){var r=e[i].indexOf("="),s=null;if(0<=r){var l=e[i].substring(0,r);s=e[i].substring(r+1)}else l=e[i];t(l,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function ma(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ma){this.h=t!==void 0?t:e.h,xp(this,e.j),this.s=e.s,this.g=e.g,Ep(this,e.m),this.l=e.l,t=e.i;var i=new Ld;i.i=t.i,t.g&&(i.g=new Map(t.g),i.h=t.h),sE(this,i),this.o=e.o}else e&&(i=String(e).match(TI))?(this.h=!!t,xp(this,i[1]||"",!0),this.s=Yu(i[2]||""),this.g=Yu(i[3]||"",!0),Ep(this,i[4]),this.l=Yu(i[5]||"",!0),sE(this,i[6]||"",!0),this.o=Yu(i[7]||"")):(this.h=!!t,this.i=new Ld(null,this.h))}ma.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Xu(t,aE,!0),":");var i=this.g;return(i||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Xu(t,aE,!0),"@"),e.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i=this.m,i!=null&&e.push(":",String(i))),(i=this.l)&&(this.g&&i.charAt(0)!="/"&&e.push("/"),e.push(Xu(i,i.charAt(0)=="/"?NW:DW,!0))),(i=this.i.toString())&&e.push("?",i),(i=this.o)&&e.push("#",Xu(i,BW)),e.join("")};function No(e){return new ma(e)}function xp(e,t,i){e.j=i?Yu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ep(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sE(e,t,i){t instanceof Ld?(e.i=t,FW(e.i,e.h)):(i||(t=Xu(t,VW)),e.i=new Ld(t,e.h))}function vn(e,t,i){e.i.set(t,i)}function wm(e){return vn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Yu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Xu(e,t,i){return typeof e=="string"?(e=encodeURI(e).replace(t,OW),i&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function OW(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var aE=/[#\/\?@]/g,DW=/[#\?:]/g,NW=/[#\?]/g,VW=/[#\?@]/g,BW=/#/g;function Ld(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Rs(e){e.g||(e.g=new Map,e.h=0,e.i&&PW(e.i,function(t,i){e.add(decodeURIComponent(t.replace(/\+/g," ")),i)}))}ot=Ld.prototype;ot.add=function(e,t){Rs(this),this.i=null,e=Lc(this,e);var i=this.g.get(e);return i||this.g.set(e,i=[]),i.push(t),this.h+=1,this};function AI(e,t){Rs(e),t=Lc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function CI(e,t){return Rs(e),t=Lc(e,t),e.g.has(t)}ot.forEach=function(e,t){Rs(this),this.g.forEach(function(i,r){i.forEach(function(s){e.call(t,s,r,this)},this)},this)};ot.sa=function(){Rs(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),i=[];for(let r=0;r<t.length;r++){const s=e[r];for(let l=0;l<s.length;l++)i.push(t[r])}return i};ot.Z=function(e){Rs(this);let t=[];if(typeof e=="string")CI(this,e)&&(t=t.concat(this.g.get(Lc(this,e))));else{e=Array.from(this.g.values());for(let i=0;i<e.length;i++)t=t.concat(e[i])}return t};ot.set=function(e,t){return Rs(this),this.i=null,e=Lc(this,e),CI(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ot.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function MI(e,t,i){AI(e,t),0<i.length&&(e.i=null,e.g.set(Lc(e,t),vw(i)),e.h+=i.length)}ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var i=0;i<t.length;i++){var r=t[i];const l=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var s=l;u[r]!==""&&(s+="="+encodeURIComponent(String(u[r]))),e.push(s)}}return this.i=e.join("&")};function Lc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function FW(e,t){t&&!e.j&&(Rs(e),e.i=null,e.g.forEach(function(i,r){var s=r.toLowerCase();r!=s&&(AI(this,r),MI(this,s,i))},e)),e.j=t}var UW=class{constructor(e,t){this.h=e,this.g=t}};function II(e){this.l=e||zW,At.PerformanceNavigationTiming?(e=At.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(At.g&&At.g.Ka&&At.g.Ka()&&At.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zW=10;function RI(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function kI(e){return e.h?1:e.g?e.g.size:0}function $y(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Iw(e,t){e.g?e.g.add(t):e.h=t}function LI(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}II.prototype.cancel=function(){if(this.i=PI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function PI(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const i of e.g.values())t=t.concat(i.F);return t}return vw(e.i)}function Rw(){}Rw.prototype.stringify=function(e){return At.JSON.stringify(e,void 0)};Rw.prototype.parse=function(e){return At.JSON.parse(e,void 0)};function HW(){this.g=new Rw}function jW(e,t,i){const r=i||"";try{SI(e,function(s,l){let u=s;lh(s)&&(u=Ew(s)),t.push(r+l+"="+encodeURIComponent(u))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function GW(e,t){const i=new pm;if(At.Image){const r=new Image;r.onload=_f(Ef,i,r,"TestLoadImage: loaded",!0,t),r.onerror=_f(Ef,i,r,"TestLoadImage: error",!1,t),r.onabort=_f(Ef,i,r,"TestLoadImage: abort",!1,t),r.ontimeout=_f(Ef,i,r,"TestLoadImage: timeout",!1,t),At.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Ef(e,t,i,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch{}}function ph(e){this.l=e.fc||null,this.j=e.ob||!1}Jn(ph,Aw);ph.prototype.g=function(){return new bm(this.l,this.j)};ph.prototype.i=function(e){return function(){return e}}({});function bm(e,t){Kn.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=kw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jn(bm,Kn);var kw=0;ot=bm.prototype;ot.open=function(e,t){if(this.readyState!=kw)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Pd(this)};ot.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||At).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};ot.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mh(this)),this.readyState=kw};ot.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pd(this)),this.g&&(this.readyState=3,Pd(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof At.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OI(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function OI(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}ot.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?mh(this):Pd(this),this.readyState==3&&OI(this)}};ot.Za=function(e){this.g&&(this.response=this.responseText=e,mh(this))};ot.Ya=function(e){this.g&&(this.response=e,mh(this))};ot.ka=function(){this.g&&mh(this)};function mh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Pd(e)}ot.setRequestHeader=function(e,t){this.v.append(e,t)};ot.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ot.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var i=t.next();!i.done;)i=i.value,e.push(i[0]+": "+i[1]),i=t.next();return e.join(`\r
`)};function Pd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(bm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var WW=At.JSON.parse;function Tn(e){Kn.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=DI,this.L=this.M=!1}Jn(Tn,Kn);var DI="",$W=/^https?$/i,qW=["POST","PUT"];ot=Tn.prototype;ot.Oa=function(e){this.M=e};ot.ha=function(e,t,i,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Hy.g(),this.C=this.u?oE(this.u):oE(Hy),this.g.onreadystatechange=bi(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(l){lE(this,l);return}if(e=i||"",i=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)i.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const l of r.keys())i.set(l,r.get(l));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(i.keys()).find(l=>l.toLowerCase()=="content-type"),s=At.FormData&&e instanceof At.FormData,!(0<=KM(qW,t))||r||s||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,u]of i)this.g.setRequestHeader(l,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{BI(this),0<this.B&&((this.L=YW(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bi(this.ua,this)):this.A=Tw(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(l){lE(this,l)}};function YW(e){return hc&&dW()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}ot.ua=function(){typeof mw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,oi(this,"timeout"),this.abort(8))};function lE(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,NI(e),_m(e)}function NI(e){e.F||(e.F=!0,oi(e,"complete"),oi(e,"error"))}ot.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,oi(this,"complete"),oi(this,"abort"),_m(this))};ot.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_m(this,!0)),Tn.$.N.call(this)};ot.La=function(){this.s||(this.G||this.v||this.l?VI(this):this.kb())};ot.kb=function(){VI(this)};function VI(e){if(e.h&&typeof mw<"u"&&(!e.C[1]||Co(e)!=4||e.da()!=2)){if(e.v&&Co(e)==4)Tw(e.La,0,e);else if(oi(e,"readystatechange"),Co(e)==4){e.h=!1;try{const f=e.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var i;if(!(i=t)){var r;if(r=f===0){var s=String(e.I).match(TI)[1]||null;if(!s&&At.self&&At.self.location){var l=At.self.location.protocol;s=l.substr(0,l.length-1)}r=!$W.test(s?s.toLowerCase():"")}i=r}if(i)oi(e,"complete"),oi(e,"success");else{e.m=6;try{var u=2<Co(e)?e.g.statusText:""}catch{u=""}e.j=u+" ["+e.da()+"]",NI(e)}}finally{_m(e)}}}}function _m(e,t){if(e.g){BI(e);const i=e.g,r=e.C[0]?yp:null;e.g=null,e.C=null,t||oi(e,"ready");try{i.onreadystatechange=r}catch{}}}function BI(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(At.clearTimeout(e.A),e.A=null)}function Co(e){return e.g?e.g.readyState:0}ot.da=function(){try{return 2<Co(this)?this.g.status:-1}catch{return-1}};ot.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ot.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),WW(t)}};function cE(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case DI:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ot.Ia=function(){return this.m};ot.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function FI(e){let t="";return yw(e,function(i,r){t+=r,t+=":",t+=i,t+=`\r
`}),t}function Lw(e,t,i){e:{for(r in i){var r=!1;break e}r=!0}r||(i=FI(i),typeof e=="string"?i!=null&&encodeURIComponent(String(i)):vn(e,t,i))}function Bu(e,t,i){return i&&i.internalChannelParams&&i.internalChannelParams[e]||t}function UI(e){this.Ga=0,this.i=[],this.j=new pm,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bu("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bu("baseRetryDelayMs",5e3,e),this.hb=Bu("retryDelaySeedMs",1e4,e),this.eb=Bu("forwardChannelMaxRetries",2,e),this.xa=Bu("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new II(e&&e.concurrentRequestLimit),this.Ja=new HW,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}ot=UI.prototype;ot.qa=8;ot.H=1;function Pw(e){if(zI(e),e.H==3){var t=e.W++,i=No(e.G);vn(i,"SID",e.J),vn(i,"RID",t),vn(i,"TYPE","terminate"),vh(e,i),t=new hh(e,e.j,t,void 0),t.L=2,t.v=wm(No(i)),i=!1,At.navigator&&At.navigator.sendBeacon&&(i=At.navigator.sendBeacon(t.v.toString(),"")),!i&&At.Image&&(new Image().src=t.v,i=!0),i||(t.g=XI(t.l,null),t.g.ha(t.v)),t.G=Date.now(),fh(t)}qI(e)}function xm(e){e.g&&(Dw(e),e.g.cancel(),e.g=null)}function zI(e){xm(e),e.u&&(At.clearTimeout(e.u),e.u=null),Sp(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&At.clearTimeout(e.m),e.m=null)}function Em(e){RI(e.h)||e.m||(e.m=!0,cI(e.Na,e),e.C=0)}function XW(e,t){return kI(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.F.concat(e.i),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=uh(bi(e.Na,e,t),$I(e,e.C)),e.C++,!0)}ot.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new hh(this,this.j,e,void 0);let l=this.s;if(this.U&&(l?(l=tI(l),nI(l,this.U)):l=this.U),this.o!==null||this.O||(s.I=l,l=null),this.P)e:{for(var t=0,i=0;i<this.i.length;i++){t:{var r=this.i[i];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=i;break e}if(t===4096||i===this.i.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=HI(this,s,t),i=No(this.G),vn(i,"RID",e),vn(i,"CVER",22),this.F&&vn(i,"X-HTTP-Session-Id",this.F),vh(this,i),l&&(this.O?t="headers="+encodeURIComponent(String(FI(l)))+"&"+t:this.o&&Lw(i,this.o,l)),Iw(this.h,s),this.bb&&vn(i,"TYPE","init"),this.P?(vn(i,"$req",t),vn(i,"SID","null"),s.ba=!0,Gy(s,i,null)):Gy(s,i,t),this.H=2}}else this.H==3&&(e?uE(this,e):this.i.length==0||RI(this.h)||uE(this))};function uE(e,t){var i;t?i=t.m:i=e.W++;const r=No(e.G);vn(r,"SID",e.J),vn(r,"RID",i),vn(r,"AID",e.V),vh(e,r),e.o&&e.s&&Lw(r,e.o,e.s),i=new hh(e,e.j,i,e.C+1),e.o===null&&(i.I=e.s),t&&(e.i=t.F.concat(e.i)),t=HI(e,i,1e3),i.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Iw(e.h,i),Gy(i,r,t)}function vh(e,t){e.ma&&yw(e.ma,function(i,r){vn(t,r,i)}),e.l&&SI({},function(i,r){vn(t,r,i)})}function HI(e,t,i){i=Math.min(e.i.length,i);var r=e.l?bi(e.l.Va,e.l,e):null;e:{var s=e.i;let l=-1;for(;;){const u=["count="+i];l==-1?0<i?(l=s[0].h,u.push("ofs="+l)):l=0:u.push("ofs="+l);let f=!0;for(let m=0;m<i;m++){let v=s[m].h;const w=s[m].g;if(v-=l,0>v)l=Math.max(0,s[m].h-100),f=!1;else try{jW(w,u,"req"+v+"_")}catch{r&&r(w)}}if(f){r=u.join("&");break e}}}return e=e.i.splice(0,i),t.F=e,r}function jI(e){e.g||e.u||(e.ba=1,cI(e.Ma,e),e.A=0)}function Ow(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=uh(bi(e.Ma,e),$I(e,e.A)),e.A++,!0)}ot.Ma=function(){if(this.u=null,GI(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=uh(bi(this.jb,this),e)}};ot.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Di(10),xm(this),GI(this))};function Dw(e){e.B!=null&&(At.clearTimeout(e.B),e.B=null)}function GI(e){e.g=new hh(e,e.j,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=No(e.wa);vn(t,"RID","rpc"),vn(t,"SID",e.J),vn(t,"CI",e.M?"0":"1"),vn(t,"AID",e.V),vn(t,"TYPE","xmlhttp"),vh(e,t),e.o&&e.s&&Lw(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var i=e.g;e=e.oa,i.L=1,i.v=wm(No(t)),i.s=null,i.S=!0,bI(i,e)}ot.ib=function(){this.v!=null&&(this.v=null,xm(this),Ow(this),Di(19))};function Sp(e){e.v!=null&&(At.clearTimeout(e.v),e.v=null)}function WI(e,t){var i=null;if(e.g==t){Sp(e),Dw(e),e.g=null;var r=2}else if($y(e.h,t))i=t.F,LI(e.h,t),r=1;else return;if(e.H!=0){if(e.ta=t.aa,t.i)if(r==1){i=t.s?t.s.length:0,t=Date.now()-t.G;var s=e.C;r=mm(),oi(r,new vI(r,i)),Em(e)}else jI(e);else if(s=t.o,s==3||s==0&&0<e.ta||!(r==1&&XW(e,t)||r==2&&Ow(e)))switch(i&&0<i.length&&(t=e.h,t.i=t.i.concat(i)),s){case 1:ca(e,5);break;case 4:ca(e,10);break;case 3:ca(e,6);break;default:ca(e,2)}}}function $I(e,t){let i=e.ab+Math.floor(Math.random()*e.hb);return e.l||(i*=2),i*t}function ca(e,t){if(e.j.info("Error code "+t),t==2){var i=null;e.l&&(i=null);var r=bi(e.pb,e);i||(i=new ma("//www.google.com/images/cleardot.gif"),At.location&&At.location.protocol=="http"||xp(i,"https"),wm(i)),GW(i.toString(),r)}else Di(2);e.H=0,e.l&&e.l.za(t),qI(e),zI(e)}ot.pb=function(e){e?(this.j.info("Successfully pinged google.com"),Di(2)):(this.j.info("Failed to ping google.com"),Di(1))};function qI(e){if(e.H=0,e.pa=[],e.l){const t=PI(e.h);(t.length!=0||e.i.length!=0)&&(Z1(e.pa,t),Z1(e.pa,e.i),e.h.i.length=0,vw(e.i),e.i.length=0),e.l.ya()}}function YI(e,t,i){var r=i instanceof ma?No(i):new ma(i,void 0);if(r.g!="")t&&(r.g=t+"."+r.g),Ep(r,r.m);else{var s=At.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var l=new ma(null,void 0);r&&xp(l,r),t&&(l.g=t),s&&Ep(l,s),i&&(l.l=i),r=l}return i=e.F,t=e.Da,i&&t&&vn(r,i,t),vn(r,"VER",e.qa),vh(e,r),r}function XI(e,t,i){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return t=i&&e.Ha&&!e.va?new Tn(new ph({ob:!0})):new Tn(e.va),t.Oa(e.I),t}function KI(){}ot=KI.prototype;ot.Ba=function(){};ot.Aa=function(){};ot.za=function(){};ot.ya=function(){};ot.Va=function(){};function Tp(){if(hc&&!(10<=Number(hW)))throw Error("Environmental error: no available transport.")}Tp.prototype.g=function(e,t){return new nr(e,t)};function nr(e,t){Kn.call(this),this.g=new UI(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!wp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!wp(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Pc(this)}Jn(nr,Kn);nr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,i=this.h||void 0;Di(0),e.Y=t,e.ma=i||{},e.M=e.aa,e.G=YI(e,null,e.Y),Em(e)};nr.prototype.close=function(){Pw(this.g)};nr.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var i={};i.__data__=e,e=i}else this.v&&(i={},i.__data__=Ew(e),e=i);t.i.push(new UW(t.fb++,e)),t.H==3&&Em(t)};nr.prototype.N=function(){this.g.l=null,delete this.j,Pw(this.g),delete this.g,nr.$.N.call(this)};function QI(e){Cw.call(this);var t=e.__sm__;if(t){e:{for(const i in t){e=i;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Jn(QI,Cw);function JI(){Mw.call(this),this.status=1}Jn(JI,Mw);function Pc(e){this.g=e}Jn(Pc,KI);Pc.prototype.Ba=function(){oi(this.g,"a")};Pc.prototype.Aa=function(e){oi(this.g,new QI(e))};Pc.prototype.za=function(e){oi(this.g,new JI)};Pc.prototype.ya=function(){oi(this.g,"b")};function KW(){this.blockSize=-1}function Nr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Jn(Nr,KW);Nr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function bg(e,t,i){i||(i=0);var r=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)r[s]=t.charCodeAt(i++)|t.charCodeAt(i++)<<8|t.charCodeAt(i++)<<16|t.charCodeAt(i++)<<24;else for(s=0;16>s;++s)r[s]=t[i++]|t[i++]<<8|t[i++]<<16|t[i++]<<24;t=e.g[0],i=e.g[1],s=e.g[2];var l=e.g[3],u=t+(l^i&(s^l))+r[0]+3614090360&4294967295;t=i+(u<<7&4294967295|u>>>25),u=l+(s^t&(i^s))+r[1]+3905402710&4294967295,l=t+(u<<12&4294967295|u>>>20),u=s+(i^l&(t^i))+r[2]+606105819&4294967295,s=l+(u<<17&4294967295|u>>>15),u=i+(t^s&(l^t))+r[3]+3250441966&4294967295,i=s+(u<<22&4294967295|u>>>10),u=t+(l^i&(s^l))+r[4]+4118548399&4294967295,t=i+(u<<7&4294967295|u>>>25),u=l+(s^t&(i^s))+r[5]+1200080426&4294967295,l=t+(u<<12&4294967295|u>>>20),u=s+(i^l&(t^i))+r[6]+2821735955&4294967295,s=l+(u<<17&4294967295|u>>>15),u=i+(t^s&(l^t))+r[7]+4249261313&4294967295,i=s+(u<<22&4294967295|u>>>10),u=t+(l^i&(s^l))+r[8]+1770035416&4294967295,t=i+(u<<7&4294967295|u>>>25),u=l+(s^t&(i^s))+r[9]+2336552879&4294967295,l=t+(u<<12&4294967295|u>>>20),u=s+(i^l&(t^i))+r[10]+4294925233&4294967295,s=l+(u<<17&4294967295|u>>>15),u=i+(t^s&(l^t))+r[11]+2304563134&4294967295,i=s+(u<<22&4294967295|u>>>10),u=t+(l^i&(s^l))+r[12]+1804603682&4294967295,t=i+(u<<7&4294967295|u>>>25),u=l+(s^t&(i^s))+r[13]+4254626195&4294967295,l=t+(u<<12&4294967295|u>>>20),u=s+(i^l&(t^i))+r[14]+2792965006&4294967295,s=l+(u<<17&4294967295|u>>>15),u=i+(t^s&(l^t))+r[15]+1236535329&4294967295,i=s+(u<<22&4294967295|u>>>10),u=t+(s^l&(i^s))+r[1]+4129170786&4294967295,t=i+(u<<5&4294967295|u>>>27),u=l+(i^s&(t^i))+r[6]+3225465664&4294967295,l=t+(u<<9&4294967295|u>>>23),u=s+(t^i&(l^t))+r[11]+643717713&4294967295,s=l+(u<<14&4294967295|u>>>18),u=i+(l^t&(s^l))+r[0]+3921069994&4294967295,i=s+(u<<20&4294967295|u>>>12),u=t+(s^l&(i^s))+r[5]+3593408605&4294967295,t=i+(u<<5&4294967295|u>>>27),u=l+(i^s&(t^i))+r[10]+38016083&4294967295,l=t+(u<<9&4294967295|u>>>23),u=s+(t^i&(l^t))+r[15]+3634488961&4294967295,s=l+(u<<14&4294967295|u>>>18),u=i+(l^t&(s^l))+r[4]+3889429448&4294967295,i=s+(u<<20&4294967295|u>>>12),u=t+(s^l&(i^s))+r[9]+568446438&4294967295,t=i+(u<<5&4294967295|u>>>27),u=l+(i^s&(t^i))+r[14]+3275163606&4294967295,l=t+(u<<9&4294967295|u>>>23),u=s+(t^i&(l^t))+r[3]+4107603335&4294967295,s=l+(u<<14&4294967295|u>>>18),u=i+(l^t&(s^l))+r[8]+1163531501&4294967295,i=s+(u<<20&4294967295|u>>>12),u=t+(s^l&(i^s))+r[13]+2850285829&4294967295,t=i+(u<<5&4294967295|u>>>27),u=l+(i^s&(t^i))+r[2]+4243563512&4294967295,l=t+(u<<9&4294967295|u>>>23),u=s+(t^i&(l^t))+r[7]+1735328473&4294967295,s=l+(u<<14&4294967295|u>>>18),u=i+(l^t&(s^l))+r[12]+2368359562&4294967295,i=s+(u<<20&4294967295|u>>>12),u=t+(i^s^l)+r[5]+4294588738&4294967295,t=i+(u<<4&4294967295|u>>>28),u=l+(t^i^s)+r[8]+2272392833&4294967295,l=t+(u<<11&4294967295|u>>>21),u=s+(l^t^i)+r[11]+1839030562&4294967295,s=l+(u<<16&4294967295|u>>>16),u=i+(s^l^t)+r[14]+4259657740&4294967295,i=s+(u<<23&4294967295|u>>>9),u=t+(i^s^l)+r[1]+2763975236&4294967295,t=i+(u<<4&4294967295|u>>>28),u=l+(t^i^s)+r[4]+1272893353&4294967295,l=t+(u<<11&4294967295|u>>>21),u=s+(l^t^i)+r[7]+4139469664&4294967295,s=l+(u<<16&4294967295|u>>>16),u=i+(s^l^t)+r[10]+3200236656&4294967295,i=s+(u<<23&4294967295|u>>>9),u=t+(i^s^l)+r[13]+681279174&4294967295,t=i+(u<<4&4294967295|u>>>28),u=l+(t^i^s)+r[0]+3936430074&4294967295,l=t+(u<<11&4294967295|u>>>21),u=s+(l^t^i)+r[3]+3572445317&4294967295,s=l+(u<<16&4294967295|u>>>16),u=i+(s^l^t)+r[6]+76029189&4294967295,i=s+(u<<23&4294967295|u>>>9),u=t+(i^s^l)+r[9]+3654602809&4294967295,t=i+(u<<4&4294967295|u>>>28),u=l+(t^i^s)+r[12]+3873151461&4294967295,l=t+(u<<11&4294967295|u>>>21),u=s+(l^t^i)+r[15]+530742520&4294967295,s=l+(u<<16&4294967295|u>>>16),u=i+(s^l^t)+r[2]+3299628645&4294967295,i=s+(u<<23&4294967295|u>>>9),u=t+(s^(i|~l))+r[0]+4096336452&4294967295,t=i+(u<<6&4294967295|u>>>26),u=l+(i^(t|~s))+r[7]+1126891415&4294967295,l=t+(u<<10&4294967295|u>>>22),u=s+(t^(l|~i))+r[14]+2878612391&4294967295,s=l+(u<<15&4294967295|u>>>17),u=i+(l^(s|~t))+r[5]+4237533241&4294967295,i=s+(u<<21&4294967295|u>>>11),u=t+(s^(i|~l))+r[12]+1700485571&4294967295,t=i+(u<<6&4294967295|u>>>26),u=l+(i^(t|~s))+r[3]+2399980690&4294967295,l=t+(u<<10&4294967295|u>>>22),u=s+(t^(l|~i))+r[10]+4293915773&4294967295,s=l+(u<<15&4294967295|u>>>17),u=i+(l^(s|~t))+r[1]+2240044497&4294967295,i=s+(u<<21&4294967295|u>>>11),u=t+(s^(i|~l))+r[8]+1873313359&4294967295,t=i+(u<<6&4294967295|u>>>26),u=l+(i^(t|~s))+r[15]+4264355552&4294967295,l=t+(u<<10&4294967295|u>>>22),u=s+(t^(l|~i))+r[6]+2734768916&4294967295,s=l+(u<<15&4294967295|u>>>17),u=i+(l^(s|~t))+r[13]+1309151649&4294967295,i=s+(u<<21&4294967295|u>>>11),u=t+(s^(i|~l))+r[4]+4149444226&4294967295,t=i+(u<<6&4294967295|u>>>26),u=l+(i^(t|~s))+r[11]+3174756917&4294967295,l=t+(u<<10&4294967295|u>>>22),u=s+(t^(l|~i))+r[2]+718787259&4294967295,s=l+(u<<15&4294967295|u>>>17),u=i+(l^(s|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(u<<21&4294967295|u>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+l&4294967295}Nr.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var i=t-this.blockSize,r=this.m,s=this.h,l=0;l<t;){if(s==0)for(;l<=i;)bg(this,e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<t;)if(r[s++]=e.charCodeAt(l++),s==this.blockSize){bg(this,r),s=0;break}}else for(;l<t;)if(r[s++]=e[l++],s==this.blockSize){bg(this,r),s=0;break}}this.h=s,this.i+=t};Nr.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var i=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=i&255,i/=256;for(this.j(e),e=Array(16),t=i=0;4>t;++t)for(var r=0;32>r;r+=8)e[i++]=this.g[t]>>>r&255;return e};function on(e,t){this.h=t;for(var i=[],r=!0,s=e.length-1;0<=s;s--){var l=e[s]|0;r&&l==t||(i[s]=l,r=!1)}this.g=i}var QW={};function Nw(e){return-128<=e&&128>e?QM(QW,e,function(t){return new on([t|0],0>t?-1:0)}):new on([e|0],0>e?-1:0)}function no(e){if(isNaN(e)||!isFinite(e))return Zl;if(0>e)return ri(no(-e));for(var t=[],i=1,r=0;e>=i;r++)t[r]=e/i|0,i*=qy;return new on(t,0)}function ZI(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return ri(ZI(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=no(Math.pow(t,8)),r=Zl,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),u=parseInt(e.substring(s,s+l),t);8>l?(l=no(Math.pow(t,l)),r=r.R(l).add(no(u))):(r=r.R(i),r=r.add(no(u)))}return r}var qy=4294967296,Zl=Nw(0),Yy=Nw(1),dE=Nw(16777216);ot=on.prototype;ot.ea=function(){if(ur(this))return-ri(this).ea();for(var e=0,t=1,i=0;i<this.g.length;i++){var r=this.D(i);e+=(0<=r?r:qy+r)*t,t*=qy}return e};ot.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Mo(this))return"0";if(ur(this))return"-"+ri(this).toString(e);for(var t=no(Math.pow(e,6)),i=this,r="";;){var s=Cp(i,t).g;i=Ap(i,s.R(t));var l=((0<i.g.length?i.g[0]:i.h)>>>0).toString(e);if(i=s,Mo(i))return l+r;for(;6>l.length;)l="0"+l;r=l+r}};ot.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Mo(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function ur(e){return e.h==-1}ot.X=function(e){return e=Ap(this,e),ur(e)?-1:Mo(e)?0:1};function ri(e){for(var t=e.g.length,i=[],r=0;r<t;r++)i[r]=~e.g[r];return new on(i,~e.h).add(Yy)}ot.abs=function(){return ur(this)?ri(this):this};ot.add=function(e){for(var t=Math.max(this.g.length,e.g.length),i=[],r=0,s=0;s<=t;s++){var l=r+(this.D(s)&65535)+(e.D(s)&65535),u=(l>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);r=u>>>16,l&=65535,u&=65535,i[s]=u<<16|l}return new on(i,i[i.length-1]&-2147483648?-1:0)};function Ap(e,t){return e.add(ri(t))}ot.R=function(e){if(Mo(this)||Mo(e))return Zl;if(ur(this))return ur(e)?ri(this).R(ri(e)):ri(ri(this).R(e));if(ur(e))return ri(this.R(ri(e)));if(0>this.X(dE)&&0>e.X(dE))return no(this.ea()*e.ea());for(var t=this.g.length+e.g.length,i=[],r=0;r<2*t;r++)i[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var l=this.D(r)>>>16,u=this.D(r)&65535,f=e.D(s)>>>16,m=e.D(s)&65535;i[2*r+2*s]+=u*m,Sf(i,2*r+2*s),i[2*r+2*s+1]+=l*m,Sf(i,2*r+2*s+1),i[2*r+2*s+1]+=u*f,Sf(i,2*r+2*s+1),i[2*r+2*s+2]+=l*f,Sf(i,2*r+2*s+2)}for(r=0;r<t;r++)i[r]=i[2*r+1]<<16|i[2*r];for(r=t;r<2*t;r++)i[r]=0;return new on(i,0)};function Sf(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Fu(e,t){this.g=e,this.h=t}function Cp(e,t){if(Mo(t))throw Error("division by zero");if(Mo(e))return new Fu(Zl,Zl);if(ur(e))return t=Cp(ri(e),t),new Fu(ri(t.g),ri(t.h));if(ur(t))return t=Cp(e,ri(t)),new Fu(ri(t.g),t.h);if(30<e.g.length){if(ur(e)||ur(t))throw Error("slowDivide_ only works with positive integers.");for(var i=Yy,r=t;0>=r.X(e);)i=hE(i),r=hE(r);var s=Dl(i,1),l=Dl(r,1);for(r=Dl(r,2),i=Dl(i,2);!Mo(r);){var u=l.add(r);0>=u.X(e)&&(s=s.add(i),l=u),r=Dl(r,1),i=Dl(i,1)}return t=Ap(e,s.R(t)),new Fu(s,t)}for(s=Zl;0<=e.X(t);){for(i=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(i)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),l=no(i),u=l.R(t);ur(u)||0<u.X(e);)i-=r,l=no(i),u=l.R(t);Mo(l)&&(l=Yy),s=s.add(l),e=Ap(e,u)}return new Fu(s,e)}ot.gb=function(e){return Cp(this,e).h};ot.and=function(e){for(var t=Math.max(this.g.length,e.g.length),i=[],r=0;r<t;r++)i[r]=this.D(r)&e.D(r);return new on(i,this.h&e.h)};ot.or=function(e){for(var t=Math.max(this.g.length,e.g.length),i=[],r=0;r<t;r++)i[r]=this.D(r)|e.D(r);return new on(i,this.h|e.h)};ot.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),i=[],r=0;r<t;r++)i[r]=this.D(r)^e.D(r);return new on(i,this.h^e.h)};function hE(e){for(var t=e.g.length+1,i=[],r=0;r<t;r++)i[r]=e.D(r)<<1|e.D(r-1)>>>31;return new on(i,e.h)}function Dl(e,t){var i=t>>5;t%=32;for(var r=e.g.length-i,s=[],l=0;l<r;l++)s[l]=0<t?e.D(l+i)>>>t|e.D(l+i+1)<<32-t:e.D(l+i);return new on(s,e.h)}Tp.prototype.createWebChannel=Tp.prototype.g;nr.prototype.send=nr.prototype.u;nr.prototype.open=nr.prototype.m;nr.prototype.close=nr.prototype.close;vm.NO_ERROR=0;vm.TIMEOUT=8;vm.HTTP_ERROR=6;gI.COMPLETE="complete";yI.EventType=dh;dh.OPEN="a";dh.CLOSE="b";dh.ERROR="c";dh.MESSAGE="d";Kn.prototype.listen=Kn.prototype.O;Tn.prototype.listenOnce=Tn.prototype.P;Tn.prototype.getLastError=Tn.prototype.Sa;Tn.prototype.getLastErrorCode=Tn.prototype.Ia;Tn.prototype.getStatus=Tn.prototype.da;Tn.prototype.getResponseJson=Tn.prototype.Wa;Tn.prototype.getResponseText=Tn.prototype.ja;Tn.prototype.send=Tn.prototype.ha;Tn.prototype.setWithCredentials=Tn.prototype.Oa;Nr.prototype.digest=Nr.prototype.l;Nr.prototype.reset=Nr.prototype.reset;Nr.prototype.update=Nr.prototype.j;on.prototype.add=on.prototype.add;on.prototype.multiply=on.prototype.R;on.prototype.modulo=on.prototype.gb;on.prototype.compare=on.prototype.X;on.prototype.toNumber=on.prototype.ea;on.prototype.toString=on.prototype.toString;on.prototype.getBits=on.prototype.D;on.fromNumber=no;on.fromString=ZI;var JW=function(){return new Tp},ZW=function(){return mm()},_g=vm,e$=gI,t$=Ba,fE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},n$=ph,Tf=yI,i$=Tn,r$=Nr,ec=on;const pE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}vi.UNAUTHENTICATED=new vi(null),vi.GOOGLE_CREDENTIALS=new vi("google-credentials-uid"),vi.FIRST_PARTY=new vi("first-party-uid"),vi.MOCK_USER=new vi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc="9.22.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new tw("@firebase/firestore");function mE(){return Ea.logLevel}function ht(e,...t){if(Ea.logLevel<=Kt.DEBUG){const i=t.map(Vw);Ea.debug(`Firestore (${Oc}): ${e}`,...i)}}function Vo(e,...t){if(Ea.logLevel<=Kt.ERROR){const i=t.map(Vw);Ea.error(`Firestore (${Oc}): ${e}`,...i)}}function fc(e,...t){if(Ea.logLevel<=Kt.WARN){const i=t.map(Vw);Ea.warn(`Firestore (${Oc}): ${e}`,...i)}}function Vw(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(e="Unexpected state"){const t=`FIRESTORE (${Oc}) INTERNAL ASSERTION FAILED: `+e;throw Vo(t),new Error(t)}function fn(e,t){e||Et()}function Lt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends mo{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class o${getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(vi.UNAUTHENTICATED))}shutdown(){}}class s${constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class a${constructor(t){this.t=t,this.currentUser=vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){let r=this.i;const s=m=>this.i!==r?(r=this.i,i(m)):Promise.resolve();let l=new Io;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Io,t.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await s(this.currentUser)})},f=m=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Io)}},0),u()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fn(typeof r.accessToken=="string"),new eR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return fn(t===null||typeof t=="string"),new vi(t)}}class l${constructor(t,i,r){this.h=t,this.l=i,this.m=r,this.type="FirstParty",this.user=vi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class c${constructor(t,i,r){this.h=t,this.l=i,this.m=r}getToken(){return Promise.resolve(new l$(this.h,this.l,this.m))}start(t,i){t.enqueueRetryable(()=>i(vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class u${constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d${constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,i){const r=l=>{l.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.T;return this.T=l.token,ht("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?i(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const s=l=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?s(l):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(fn(typeof i.token=="string"),this.T=i.token,new u$(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<e;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=h$(40);for(let l=0;l<s.length;++l)r.length<20&&s[l]<i&&(r+=t.charAt(s[l]%t.length))}return r}}function Qt(e,t){return e<t?-1:e>t?1:0}function pc(e,t,i){return e.length===t.length&&e.every((r,s)=>i(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new st(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new st(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return zn.fromMillis(Date.now())}static fromDate(t){return zn.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*i));return new zn(i,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new zn(0,0))}static max(){return new Ct(new zn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(t,i,r){i===void 0?i=0:i>t.length&&Et(),r===void 0?r=t.length-i:r>t.length-i&&Et(),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Od.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Od?t.forEach(r=>{i.push(r)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let s=0;s<r;s++){const l=t.get(s),u=i.get(s);if(l<u)return-1;if(l>u)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class hn extends Od{construct(t,i,r){return new hn(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new st(Pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(s=>s.length>0))}return new hn(i)}static emptyPath(){return new hn([])}}const f$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yi extends Od{construct(t,i,r){return new yi(t,i,r)}static isValidIdentifier(t){return f$.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yi(["__name__"])}static fromServerFormat(t){const i=[];let r="",s=0;const l=()=>{if(r.length===0)throw new st(Pe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let u=!1;for(;s<t.length;){const f=t[s];if(f==="\\"){if(s+1===t.length)throw new st(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new st(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(r+=f,s++):(l(),s++)}if(l(),u)throw new st(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new yi(i)}static emptyPath(){return new yi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(hn.fromString(t))}static fromName(t){return new mt(hn.fromString(t).popFirst(5))}static empty(){return new mt(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&hn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return hn.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new hn(t.slice()))}}function p$(e,t){const i=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Ct.fromTimestamp(r===1e9?new zn(i+1,0):new zn(i,r));return new bs(s,mt.empty(),t)}function m$(e){return new bs(e.readTime,e.key,-1)}class bs{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new bs(Ct.min(),mt.empty(),-1)}static max(){return new bs(Ct.max(),mt.empty(),-1)}}function v$(e,t){let i=e.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(e.documentKey,t.documentKey),i!==0?i:Qt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gh(e){if(e.code!==Pe.FAILED_PRECONDITION||e.message!==g$)throw e;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new We((r,s)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,s)},this.catchCallback=l=>{this.wrapFailure(i,l).next(r,s)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof We?i:We.resolve(i)}catch(i){return We.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):We.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):We.reject(i)}static resolve(t){return new We((i,r)=>{i(t)})}static reject(t){return new We((i,r)=>{r(t)})}static waitFor(t){return new We((i,r)=>{let s=0,l=0,u=!1;t.forEach(f=>{++s,f.next(()=>{++l,u&&l===s&&i()},m=>r(m))}),u=!0,l===s&&i()})}static or(t){let i=We.resolve(!1);for(const r of t)i=i.next(s=>s?We.resolve(s):r());return i}static forEach(t,i){const r=[];return t.forEach((s,l)=>{r.push(i.call(this,s,l))}),this.waitFor(r)}static mapArray(t,i){return new We((r,s)=>{const l=t.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const v=m;i(t[v]).next(w=>{u[v]=w,++f,f===l&&r(u)},w=>s(w))}})}static doWhile(t,i){return new We((r,s)=>{const l=()=>{t()===!0?i().next(()=>{l()},s):r()};l()})}}function yh(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}Bw.ct=-1;function Sm(e){return e==null}function Mp(e){return e===0&&1/e==-1/0}function w$(e){return typeof e=="number"&&Number.isInteger(e)&&!Mp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(e){let t=0;for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t++;return t}function Fa(e,t){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])}function nR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t,i){this.comparator=t,this.root=i||ii.EMPTY}insert(t,i){return new _n(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,ii.BLACK,null,null))}remove(t){return new _n(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ii.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return i+r.left.size;s<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,r)=>(t(i,r),!1))}toString(){const t=[];return this.inorderTraversal((i,r)=>(t.push(`${i}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Af(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Af(this.root,t,this.comparator,!1)}getReverseIterator(){return new Af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Af(this.root,t,this.comparator,!0)}}class Af{constructor(t,i,r,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=i?r(t.key,i):1,i&&s&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ii{constructor(t,i,r,s,l){this.key=t,this.value=i,this.color=r??ii.RED,this.left=s??ii.EMPTY,this.right=l??ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,s,l){return new ii(t??this.key,i??this.value,r??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const l=r(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,i,r),null):l===0?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ii.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,s=this;if(i(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,i),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),i(t,s.key)===0){if(s.right.isEmpty())return ii.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,i))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const t=this.left.check();if(t!==this.right.check())throw Et();return t+(this.isRed()?0:1)}}ii.EMPTY=null,ii.RED=!0,ii.BLACK=!1;ii.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(e,t,i,r,s){return this}insert(e,t,i){return new ii(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t){this.comparator=t,this.data=new _n(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,r)=>(t(i),!1))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;i(s.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new gE(this.data.getIterator())}getIteratorFrom(t){return new gE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(r=>{i=i.add(r)}),i}isEqual(t){if(!(t instanceof xi)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const s=i.getNext().key,l=r.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new xi(this.comparator);return i.data=t,i}}class gE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t){this.fields=t,t.sort(yi.comparator)}static empty(){return new er([])}unionWith(t){let i=new xi(yi.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new er(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return pc(this.fields,t.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new iR("Invalid base64 string: "+s):s}}(t);return new Ti(i)}static fromUint8Array(t){const i=function(r){let s="";for(let l=0;l<r.length;++l)s+=String.fromCharCode(r[l]);return s}(t);return new Ti(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ti.EMPTY_BYTE_STRING=new Ti("");const b$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(e){if(fn(!!e),typeof e=="string"){let t=0;const i=b$.exec(e);if(fn(!!i),i[1]){let s=i[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Vn(e.seconds),nanos:Vn(e.nanos)}}function Vn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Sa(e){return typeof e=="string"?Ti.fromBase64String(e):Ti.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(e){var t,i;return((i=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function Uw(e){const t=e.mapValue.fields.__previous_value__;return Fw(t)?Uw(t):t}function Dd(e){const t=_s(e.mapValue.fields.__local_write_time__.timestampValue);return new zn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(t,i,r,s,l,u,f,m,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=s,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=v}}class Nd{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new Nd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Nd&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ta(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Fw(e)?4:x$(e)?9007199254740991:10:Et()}function ho(e,t){if(e===t)return!0;const i=Ta(e);if(i!==Ta(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Dd(e).isEqual(Dd(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const l=_s(r.timestampValue),u=_s(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return Sa(r.bytesValue).isEqual(Sa(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Vn(r.geoPointValue.latitude)===Vn(s.geoPointValue.latitude)&&Vn(r.geoPointValue.longitude)===Vn(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Vn(r.integerValue)===Vn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const l=Vn(r.doubleValue),u=Vn(s.doubleValue);return l===u?Mp(l)===Mp(u):isNaN(l)&&isNaN(u)}return!1}(e,t);case 9:return pc(e.arrayValue.values||[],t.arrayValue.values||[],ho);case 10:return function(r,s){const l=r.mapValue.fields||{},u=s.mapValue.fields||{};if(vE(l)!==vE(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!ho(l[f],u[f])))return!1;return!0}(e,t);default:return Et()}}function Vd(e,t){return(e.values||[]).find(i=>ho(i,t))!==void 0}function mc(e,t){if(e===t)return 0;const i=Ta(e),r=Ta(t);if(i!==r)return Qt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Qt(e.booleanValue,t.booleanValue);case 2:return function(s,l){const u=Vn(s.integerValue||s.doubleValue),f=Vn(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(e,t);case 3:return yE(e.timestampValue,t.timestampValue);case 4:return yE(Dd(e),Dd(t));case 5:return Qt(e.stringValue,t.stringValue);case 6:return function(s,l){const u=Sa(s),f=Sa(l);return u.compareTo(f)}(e.bytesValue,t.bytesValue);case 7:return function(s,l){const u=s.split("/"),f=l.split("/");for(let m=0;m<u.length&&m<f.length;m++){const v=Qt(u[m],f[m]);if(v!==0)return v}return Qt(u.length,f.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,l){const u=Qt(Vn(s.latitude),Vn(l.latitude));return u!==0?u:Qt(Vn(s.longitude),Vn(l.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,l){const u=s.values||[],f=l.values||[];for(let m=0;m<u.length&&m<f.length;++m){const v=mc(u[m],f[m]);if(v)return v}return Qt(u.length,f.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,l){if(s===Cf.mapValue&&l===Cf.mapValue)return 0;if(s===Cf.mapValue)return 1;if(l===Cf.mapValue)return-1;const u=s.fields||{},f=Object.keys(u),m=l.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const x=Qt(f[w],v[w]);if(x!==0)return x;const E=mc(u[f[w]],m[v[w]]);if(E!==0)return E}return Qt(f.length,v.length)}(e.mapValue,t.mapValue);default:throw Et()}}function yE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Qt(e,t);const i=_s(e),r=_s(t),s=Qt(i.seconds,r.seconds);return s!==0?s:Qt(i.nanos,r.nanos)}function vc(e){return Xy(e)}function Xy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const s=_s(r);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Sa(e.bytesValue).toBase64():"referenceValue"in e?(i=e.referenceValue,mt.fromName(i).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let s="[",l=!0;for(const u of r.values||[])l?l=!1:s+=",",s+=Xy(u);return s+"]"}(e.arrayValue):"mapValue"in e?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${Xy(r.fields[f])}`;return l+"}"}(e.mapValue):Et();var t,i}function wE(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ky(e){return!!e&&"integerValue"in e}function zw(e){return!!e&&"arrayValue"in e}function bE(e){return!!e&&"nullValue"in e}function _E(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Gf(e){return!!e&&"mapValue"in e}function cd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Fa(e.mapValue.fields,(i,r)=>t.mapValue.fields[i]=cd(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(e.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=cd(e.arrayValue.values[i]);return t}return Object.assign({},e)}function x$(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t){this.value=t}static empty(){return new ji({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Gf(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=cd(i)}setAll(t){let i=yi.emptyPath(),r={},s=[];t.forEach((u,f)=>{if(!i.isImmediateParentOf(f)){const m=this.getFieldsMap(i);this.applyChanges(m,r,s),r={},s=[],i=f.popLast()}u?r[f.lastSegment()]=cd(u):s.push(f.lastSegment())});const l=this.getFieldsMap(i);this.applyChanges(l,r,s)}delete(t){const i=this.field(t.popLast());Gf(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ho(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=i.mapValue.fields[t.get(r)];Gf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=s),i=s}return i.mapValue.fields}applyChanges(t,i,r){Fa(i,(s,l)=>t[s]=l);for(const s of r)delete t[s]}clone(){return new ji(cd(this.value))}}function rR(e){const t=[];return Fa(e.fields,(i,r)=>{const s=new yi([i]);if(Gf(r)){const l=rR(r.mapValue).fields;if(l.length===0)t.push(s);else for(const u of l)t.push(s.child(u))}else t.push(s)}),new er(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t,i,r,s,l,u,f){this.key=t,this.documentType=i,this.version=r,this.readTime=s,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(t){return new gi(t,0,Ct.min(),Ct.min(),Ct.min(),ji.empty(),0)}static newFoundDocument(t,i,r,s){return new gi(t,1,i,Ct.min(),r,s,0)}static newNoDocument(t,i){return new gi(t,2,i,Ct.min(),Ct.min(),ji.empty(),0)}static newUnknownDocument(t,i){return new gi(t,3,i,Ct.min(),Ct.min(),ji.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ji.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof gi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new gi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t,i){this.position=t,this.inclusive=i}}function xE(e,t,i){let r=0;for(let s=0;s<e.position.length;s++){const l=t[s],u=e.position[s];if(l.field.isKeyField()?r=mt.comparator(mt.fromName(u.referenceValue),i.key):r=mc(u,i.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function EE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let i=0;i<e.position.length;i++)if(!ho(e.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(t,i="asc"){this.field=t,this.dir=i}}function E$(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{}class Bn extends oR{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new T$(t,i,r):i==="array-contains"?new M$(t,r):i==="in"?new I$(t,r):i==="not-in"?new R$(t,r):i==="array-contains-any"?new k$(t,r):new Bn(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new A$(t,r):new C$(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(mc(i,this.value)):i!==null&&Ta(this.value)===Ta(i)&&this.matchesComparison(mc(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Vr extends oR{constructor(t,i){super(),this.filters=t,this.op=i,this.lt=null}static create(t,i){return new Vr(t,i)}matches(t){return sR(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(i=>i.isInequality());return t!==null?t.field:null}ft(t){for(const i of this.getFlattenedFilters())if(t(i))return i;return null}}function sR(e){return e.op==="and"}function aR(e){return S$(e)&&sR(e)}function S$(e){for(const t of e.filters)if(t instanceof Vr)return!1;return!0}function Qy(e){if(e instanceof Bn)return e.field.canonicalString()+e.op.toString()+vc(e.value);if(aR(e))return e.filters.map(t=>Qy(t)).join(",");{const t=e.filters.map(i=>Qy(i)).join(",");return`${e.op}(${t})`}}function lR(e,t){return e instanceof Bn?function(i,r){return r instanceof Bn&&i.op===r.op&&i.field.isEqual(r.field)&&ho(i.value,r.value)}(e,t):e instanceof Vr?function(i,r){return r instanceof Vr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,l,u)=>s&&lR(l,r.filters[u]),!0):!1}(e,t):void Et()}function cR(e){return e instanceof Bn?function(t){return`${t.field.canonicalString()} ${t.op} ${vc(t.value)}`}(e):e instanceof Vr?function(t){return t.op.toString()+" {"+t.getFilters().map(cR).join(" ,")+"}"}(e):"Filter"}class T$ extends Bn{constructor(t,i,r){super(t,i,r),this.key=mt.fromName(r.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class A$ extends Bn{constructor(t,i){super(t,"in",i),this.keys=uR("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class C$ extends Bn{constructor(t,i){super(t,"not-in",i),this.keys=uR("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function uR(e,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>mt.fromName(r.referenceValue))}class M$ extends Bn{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return zw(i)&&Vd(i.arrayValue,this.value)}}class I$ extends Bn{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vd(this.value.arrayValue,i)}}class R$ extends Bn{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!Vd(this.value.arrayValue,i)}}class k$ extends Bn{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!zw(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>Vd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(t,i=null,r=[],s=[],l=null,u=null,f=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=s,this.limit=l,this.startAt=u,this.endAt=f,this.dt=null}}function SE(e,t=null,i=[],r=[],s=null,l=null,u=null){return new L$(e,t,i,r,s,l,u)}function Hw(e){const t=Lt(e);if(t.dt===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(r=>Qy(r)).join(","),i+="|ob:",i+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Sm(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>vc(r)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>vc(r)).join(",")),t.dt=i}return t.dt}function jw(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!E$(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(!lR(e.filters[i],t.filters[i]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!EE(e.startAt,t.startAt)&&EE(e.endAt,t.endAt)}function Jy(e){return mt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,i=null,r=[],s=[],l=null,u="F",f=null,m=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=s,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.wt=null,this._t=null,this.startAt,this.endAt}}function P$(e,t,i,r,s,l,u,f){return new Dc(e,t,i,r,s,l,u,f)}function Gw(e){return new Dc(e)}function TE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Ww(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Tm(e){for(const t of e.filters){const i=t.getFirstInequalityField();if(i!==null)return i}return null}function dR(e){return e.collectionGroup!==null}function nc(e){const t=Lt(e);if(t.wt===null){t.wt=[];const i=Tm(t),r=Ww(t);if(i!==null&&r===null)i.isKeyField()||t.wt.push(new tc(i)),t.wt.push(new tc(yi.keyField(),"asc"));else{let s=!1;for(const l of t.explicitOrderBy)t.wt.push(l),l.field.isKeyField()&&(s=!0);if(!s){const l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new tc(yi.keyField(),l))}}}return t.wt}function Bo(e){const t=Lt(e);if(!t._t)if(t.limitType==="F")t._t=SE(t.path,t.collectionGroup,nc(t),t.filters,t.limit,t.startAt,t.endAt);else{const i=[];for(const l of nc(t)){const u=l.dir==="desc"?"asc":"desc";i.push(new tc(l.field,u))}const r=t.endAt?new Ip(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Ip(t.startAt.position,t.startAt.inclusive):null;t._t=SE(t.path,t.collectionGroup,i,t.filters,t.limit,r,s)}return t._t}function Zy(e,t){t.getFirstInequalityField(),Tm(e);const i=e.filters.concat([t]);return new Dc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),i,e.limit,e.limitType,e.startAt,e.endAt)}function Rp(e,t,i){return new Dc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,i,e.startAt,e.endAt)}function Am(e,t){return jw(Bo(e),Bo(t))&&e.limitType===t.limitType}function hR(e){return`${Hw(Bo(e))}|lt:${e.limitType}`}function e0(e){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>cR(r)).join(", ")}]`),Sm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>vc(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>vc(r)).join(",")),`Target(${i})`}(Bo(e))}; limitType=${e.limitType})`}function Cm(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):mt.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of nc(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(s,l,u){const f=xE(s,l,u);return s.inclusive?f<=0:f<0}(i.startAt,nc(i),r)||i.endAt&&!function(s,l,u){const f=xE(s,l,u);return s.inclusive?f>=0:f>0}(i.endAt,nc(i),r))}(e,t)}function O$(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function fR(e){return(t,i)=>{let r=!1;for(const s of nc(e)){const l=D$(s,t,i);if(l!==0)return l;r=r||s.field.isKeyField()}return 0}}function D$(e,t,i){const r=e.field.isKeyField()?mt.comparator(t.key,i.key):function(s,l,u){const f=l.data.field(s),m=u.data.field(s);return f!==null&&m!==null?mc(f,m):Et()}(e.field,t,i);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[s,l]of r)if(this.equalsFn(s,t))return l}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return void(s[l]=[t,i]);s.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[i]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Fa(this.inner,(i,r)=>{for(const[s,l]of r)t(s,l)})}isEmpty(){return nR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=new _n(mt.comparator);function Fo(){return N$}const pR=new _n(mt.comparator);function Ku(...e){let t=pR;for(const i of e)t=t.insert(i.key,i);return t}function mR(e){let t=pR;return e.forEach((i,r)=>t=t.insert(i,r.overlayedDocument)),t}function ua(){return ud()}function vR(){return ud()}function ud(){return new Nc(e=>e.toString(),(e,t)=>e.isEqual(t))}const V$=new _n(mt.comparator),B$=new xi(mt.comparator);function zt(...e){let t=B$;for(const i of e)t=t.add(i);return t}const F$=new xi(Qt);function U$(){return F$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mp(t)?"-0":t}}function yR(e){return{integerValue:""+e}}function z$(e,t){return w$(t)?yR(t):gR(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this._=void 0}}function H$(e,t,i){return e instanceof Bd?function(r,s){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Fw(s)&&(s=Uw(s)),s&&(l.fields.__previous_value__=s),{mapValue:l}}(i,t):e instanceof Fd?bR(e,t):e instanceof Ud?_R(e,t):function(r,s){const l=wR(r,s),u=AE(l)+AE(r.gt);return Ky(l)&&Ky(r.gt)?yR(u):gR(r.serializer,u)}(e,t)}function j$(e,t,i){return e instanceof Fd?bR(e,t):e instanceof Ud?_R(e,t):i}function wR(e,t){return e instanceof kp?Ky(i=t)||function(r){return!!r&&"doubleValue"in r}(i)?t:{integerValue:0}:null;var i}class Bd extends Mm{}class Fd extends Mm{constructor(t){super(),this.elements=t}}function bR(e,t){const i=xR(t);for(const r of e.elements)i.some(s=>ho(s,r))||i.push(r);return{arrayValue:{values:i}}}class Ud extends Mm{constructor(t){super(),this.elements=t}}function _R(e,t){let i=xR(t);for(const r of e.elements)i=i.filter(s=>!ho(s,r));return{arrayValue:{values:i}}}class kp extends Mm{constructor(t,i){super(),this.serializer=t,this.gt=i}}function AE(e){return Vn(e.integerValue||e.doubleValue)}function xR(e){return zw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(t,i){this.field=t,this.transform=i}}function W$(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof Fd&&r instanceof Fd||i instanceof Ud&&r instanceof Ud?pc(i.elements,r.elements,ho):i instanceof kp&&r instanceof kp?ho(i.gt,r.gt):i instanceof Bd&&r instanceof Bd}(e.transform,t.transform)}class $${constructor(t,i){this.version=t,this.transformResults=i}}class hr{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new hr}static exists(t){return new hr(void 0,t)}static updateTime(t){return new hr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Im{}function ER(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new $w(e.key,hr.none()):new wh(e.key,e.data,hr.none());{const i=e.data,r=ji.empty();let s=new xi(yi.comparator);for(let l of t.fields)if(!s.has(l)){let u=i.field(l);u===null&&l.length>1&&(l=l.popLast(),u=i.field(l)),u===null?r.delete(l):r.set(l,u),s=s.add(l)}return new ks(e.key,r,new er(s.toArray()),hr.none())}}function q$(e,t,i){e instanceof wh?function(r,s,l){const u=r.value.clone(),f=ME(r.fieldTransforms,s,l.transformResults);u.setAll(f),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(e,t,i):e instanceof ks?function(r,s,l){if(!Wf(r.precondition,s))return void s.convertToUnknownDocument(l.version);const u=ME(r.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(SR(r)),f.setAll(u),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(e,t,i):function(r,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,i)}function dd(e,t,i,r){return e instanceof wh?function(s,l,u,f){if(!Wf(s.precondition,l))return u;const m=s.value.clone(),v=IE(s.fieldTransforms,f,l);return m.setAll(v),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null}(e,t,i,r):e instanceof ks?function(s,l,u,f){if(!Wf(s.precondition,l))return u;const m=IE(s.fieldTransforms,f,l),v=l.data;return v.setAll(SR(s)),v.setAll(m),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(w=>w.field))}(e,t,i,r):function(s,l,u){return Wf(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(e,t,i)}function Y$(e,t){let i=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),l=wR(r.transform,s||null);l!=null&&(i===null&&(i=ji.empty()),i.set(r.field,l))}return i||null}function CE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&pc(i,r,(s,l)=>W$(s,l))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class wh extends Im{constructor(t,i,r,s=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ks extends Im{constructor(t,i,r,s,l=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function SR(e){const t=new Map;return e.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=e.data.field(i);t.set(i,r)}}),t}function ME(e,t,i){const r=new Map;fn(e.length===i.length);for(let s=0;s<i.length;s++){const l=e[s],u=l.transform,f=t.data.field(l.field);r.set(l.field,j$(u,f,i[s]))}return r}function IE(e,t,i){const r=new Map;for(const s of e){const l=s.transform,u=i.data.field(s.field);r.set(s.field,H$(l,u,t))}return r}class $w extends Im{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X$ extends Im{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(t,i,r,s){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(t.key)&&q$(l,t,r[s])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=dd(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=dd(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=vR();return this.mutations.forEach(s=>{const l=t.get(s.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=i.has(s.key)?null:f;const m=ER(u,f);m!==null&&r.set(s.key,m),u.isValidDocument()||u.convertToNoDocument(Ct.min())}),r}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),zt())}isEqual(t){return this.batchId===t.batchId&&pc(this.mutations,t.mutations,(i,r)=>CE(i,r))&&pc(this.baseMutations,t.baseMutations,(i,r)=>CE(i,r))}}class qw{constructor(t,i,r,s){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=s}static from(t,i,r){fn(t.mutations.length===r.length);let s=V$;const l=t.mutations;for(let u=0;u<l.length;u++)s=s.insert(l[u].key,r[u].version);return new qw(t,i,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn,qt;function Z$(e){switch(e){default:return Et();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function TR(e){if(e===void 0)return Vo("GRPC error has no .code"),Pe.UNKNOWN;switch(e){case Nn.OK:return Pe.OK;case Nn.CANCELLED:return Pe.CANCELLED;case Nn.UNKNOWN:return Pe.UNKNOWN;case Nn.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case Nn.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case Nn.INTERNAL:return Pe.INTERNAL;case Nn.UNAVAILABLE:return Pe.UNAVAILABLE;case Nn.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case Nn.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case Nn.NOT_FOUND:return Pe.NOT_FOUND;case Nn.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case Nn.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case Nn.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case Nn.ABORTED:return Pe.ABORTED;case Nn.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case Nn.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case Nn.DATA_LOSS:return Pe.DATA_LOSS;default:return Et()}}(qt=Nn||(Nn={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Mf}static getOrCreateInstance(){return Mf===null&&(Mf=new Yw),Mf}onExistenceFilterMismatch(t){const i=Symbol();return this.onExistenceFilterMismatchCallbacks.set(i,t),()=>this.onExistenceFilterMismatchCallbacks.delete(i)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(i=>i(t))}}let Mf=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=new ec([4294967295,4294967295],0);function RE(e){const t=e9().encode(e),i=new r$;return i.update(t),new Uint8Array(i.digest())}function kE(e){const t=new DataView(e.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new ec([i,r],0),new ec([s,l],0)]}class Xw{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Qu(`Invalid padding: ${i}`);if(r<0)throw new Qu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Qu(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Qu(`Invalid padding when bitmap length is 0: ${i}`);this.It=8*t.length-i,this.Tt=ec.fromNumber(this.It)}Et(t,i,r){let s=t.add(i.multiply(ec.fromNumber(r)));return s.compare(t9)===1&&(s=new ec([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}vt(t){if(this.It===0)return!1;const i=RE(t),[r,s]=kE(i);for(let l=0;l<this.hashCount;l++){const u=this.Et(r,s,l);if(!this.At(u))return!1}return!0}static create(t,i,r){const s=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),u=new Xw(l,s,i);return r.forEach(f=>u.insert(f)),u}insert(t){if(this.It===0)return;const i=RE(t),[r,s]=kE(i);for(let l=0;l<this.hashCount;l++){const u=this.Et(r,s,l);this.Rt(u)}}Rt(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Qu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t,i,r,s,l){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const s=new Map;return s.set(t,bh.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Rm(Ct.min(),s,new _n(Qt),Fo(),zt())}}class bh{constructor(t,i,r,s,l){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new bh(r,i,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,i,r,s){this.Pt=t,this.removedTargetIds=i,this.key=r,this.bt=s}}class AR{constructor(t,i){this.targetId=t,this.Vt=i}}class CR{constructor(t,i,r=Ti.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=s}}class LE{constructor(){this.St=0,this.Dt=OE(),this.Ct=Ti.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=zt(),i=zt(),r=zt();return this.Dt.forEach((s,l)=>{switch(l){case 0:t=t.add(s);break;case 2:i=i.add(s);break;case 1:r=r.add(s);break;default:Et()}}),new bh(this.Ct,this.xt,t,i,r)}Ft(){this.Nt=!1,this.Dt=OE()}Bt(t,i){this.Nt=!0,this.Dt=this.Dt.insert(t,i)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class n9{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=Fo(),this.zt=PE(),this.Wt=new _n(Qt)}Ht(t){for(const i of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(i,t.bt):this.Yt(i,t.key,t.bt);for(const i of t.removedTargetIds)this.Yt(i,t.key,t.bt)}Xt(t){this.forEachTarget(t,i=>{const r=this.Zt(i);switch(t.state){case 0:this.te(i)&&r.$t(t.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(t.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(i);break;case 3:this.te(i)&&(r.Kt(),r.$t(t.resumeToken));break;case 4:this.te(i)&&(this.ee(i),r.$t(t.resumeToken));break;default:Et()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Qt.forEach((r,s)=>{this.te(s)&&i(s)})}ne(t){var i;const r=t.targetId,s=t.Vt.count,l=this.se(r);if(l){const u=l.target;if(Jy(u))if(s===0){const f=new mt(u.path);this.Yt(r,f,gi.newNoDocument(f,Ct.min()))}else fn(s===1);else{const f=this.ie(r);if(f!==s){const m=this.re(t,f);if(m!==0){this.ee(r);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,v)}(i=Yw.instance)===null||i===void 0||i.notifyOnExistenceFilterMismatch(function(v,w,x){var E,A,I,D,O,H;const V={localCacheCount:w,existenceFilterCount:x.count},U=x.unchangedNames;return U&&(V.bloomFilter={applied:v===0,hashCount:(E=U==null?void 0:U.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(D=(I=(A=U==null?void 0:U.bits)===null||A===void 0?void 0:A.bitmap)===null||I===void 0?void 0:I.length)!==null&&D!==void 0?D:0,padding:(H=(O=U==null?void 0:U.bits)===null||O===void 0?void 0:O.padding)!==null&&H!==void 0?H:0}),V}(m,f,t.Vt))}}}}re(t,i){const{unchangedNames:r,count:s}=t.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:l="",padding:u=0},hashCount:f=0}=r;let m,v;try{m=Sa(l).toUint8Array()}catch(w){if(w instanceof iR)return fc("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw w}try{v=new Xw(m,u,f)}catch(w){return fc(w instanceof Qu?"BloomFilter error: ":"Applying bloom filter failed: ",w),1}return v.It===0?1:s!==i-this.oe(t.targetId,v)?2:0}oe(t,i){const r=this.Gt.getRemoteKeysForTarget(t);let s=0;return r.forEach(l=>{const u=this.Gt.ue(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;i.vt(f)||(this.Yt(t,l,null),s++)}),s}ce(t){const i=new Map;this.Qt.forEach((l,u)=>{const f=this.se(u);if(f){if(l.current&&Jy(f.target)){const m=new mt(f.target.path);this.jt.get(m)!==null||this.ae(u,m)||this.Yt(u,m,gi.newNoDocument(m,t))}l.Mt&&(i.set(u,l.Ot()),l.Ft())}});let r=zt();this.zt.forEach((l,u)=>{let f=!0;u.forEachWhile(m=>{const v=this.se(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.jt.forEach((l,u)=>u.setReadTime(t));const s=new Rm(t,i,this.Wt,this.jt,r);return this.jt=Fo(),this.zt=PE(),this.Wt=new _n(Qt),s}Jt(t,i){if(!this.te(t))return;const r=this.ae(t,i.key)?2:0;this.Zt(t).Bt(i.key,r),this.jt=this.jt.insert(i.key,i),this.zt=this.zt.insert(i.key,this.he(i.key).add(t))}Yt(t,i,r){if(!this.te(t))return;const s=this.Zt(t);this.ae(t,i)?s.Bt(i,1):s.Lt(i),this.zt=this.zt.insert(i,this.he(i).delete(t)),r&&(this.jt=this.jt.insert(i,r))}removeTarget(t){this.Qt.delete(t)}ie(t){const i=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let i=this.Qt.get(t);return i||(i=new LE,this.Qt.set(t,i)),i}he(t){let i=this.zt.get(t);return i||(i=new xi(Qt),this.zt=this.zt.insert(t,i)),i}te(t){const i=this.se(t)!==null;return i||ht("WatchChangeAggregator","Detected inactive target",t),i}se(t){const i=this.Qt.get(t);return i&&i.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new LE),this.Gt.getRemoteKeysForTarget(t).forEach(i=>{this.Yt(t,i,null)})}ae(t,i){return this.Gt.getRemoteKeysForTarget(t).has(i)}}function PE(){return new _n(mt.comparator)}function OE(){return new _n(mt.comparator)}const i9=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),r9=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),o9=(()=>({and:"AND",or:"OR"}))();class s9{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function t0(e,t){return e.useProto3Json||Sm(t)?t:{value:t}}function Lp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function MR(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function a9(e,t){return Lp(e,t.toTimestamp())}function lo(e){return fn(!!e),Ct.fromTimestamp(function(t){const i=_s(t);return new zn(i.seconds,i.nanos)}(e))}function Kw(e,t){return function(i){return new hn(["projects",i.projectId,"databases",i.database])}(e).child("documents").child(t).canonicalString()}function IR(e){const t=hn.fromString(e);return fn(PR(t)),t}function n0(e,t){return Kw(e.databaseId,t.path)}function xg(e,t){const i=IR(t);if(i.get(1)!==e.databaseId.projectId)throw new st(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+e.databaseId.projectId);if(i.get(3)!==e.databaseId.database)throw new st(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+e.databaseId.database);return new mt(RR(i))}function i0(e,t){return Kw(e.databaseId,t)}function l9(e){const t=IR(e);return t.length===4?hn.emptyPath():RR(t)}function r0(e){return new hn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function RR(e){return fn(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function DE(e,t,i){return{name:n0(e,t),fields:i.value.mapValue.fields}}function c9(e,t){let i;if("targetChange"in t){t.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Et()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],l=function(m,v){return m.useProto3Json?(fn(v===void 0||typeof v=="string"),Ti.fromBase64String(v||"")):(fn(v===void 0||v instanceof Uint8Array),Ti.fromUint8Array(v||new Uint8Array))}(e,t.targetChange.resumeToken),u=t.targetChange.cause,f=u&&function(m){const v=m.code===void 0?Pe.UNKNOWN:TR(m.code);return new st(v,m.message||"")}(u);i=new CR(r,s,l,f||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=xg(e,r.document.name),l=lo(r.document.updateTime),u=r.document.createTime?lo(r.document.createTime):Ct.min(),f=new ji({mapValue:{fields:r.document.fields}}),m=gi.newFoundDocument(s,l,u,f),v=r.targetIds||[],w=r.removedTargetIds||[];i=new $f(v,w,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=xg(e,r.document),l=r.readTime?lo(r.readTime):Ct.min(),u=gi.newNoDocument(s,l),f=r.removedTargetIds||[];i=new $f([],f,u.key,u)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=xg(e,r.document),l=r.removedTargetIds||[];i=new $f([],l,s,null)}else{if(!("filter"in t))return Et();{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:l}=r,u=new J$(s,l),f=r.targetId;i=new AR(f,u)}}return i}function u9(e,t){let i;if(t instanceof wh)i={update:DE(e,t.key,t.value)};else if(t instanceof $w)i={delete:n0(e,t.key)};else if(t instanceof ks)i={update:DE(e,t.key,t.data),updateMask:w9(t.fieldMask)};else{if(!(t instanceof X$))return Et();i={verify:n0(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(r=>function(s,l){const u=l.transform;if(u instanceof Bd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Fd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ud)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof kp)return{fieldPath:l.field.canonicalString(),increment:u.gt};throw Et()}(0,r))),t.precondition.isNone||(i.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:a9(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Et()}(e,t.precondition)),i}function d9(e,t){return e&&e.length>0?(fn(t!==void 0),e.map(i=>function(r,s){let l=r.updateTime?lo(r.updateTime):lo(s);return l.isEqual(Ct.min())&&(l=lo(s)),new $$(l,r.transformResults||[])}(i,t))):[]}function h9(e,t){return{documents:[i0(e,t.path)]}}function f9(e,t){const i={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(i.parent=i0(e,r),i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i.parent=i0(e,r.popLast()),i.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(m){if(m.length!==0)return LR(Vr.create(m,"and"))}(t.filters);s&&(i.structuredQuery.where=s);const l=function(m){if(m.length!==0)return m.map(v=>function(w){return{field:zl(w.field),direction:v9(w.dir)}}(v))}(t.orderBy);l&&(i.structuredQuery.orderBy=l);const u=t0(e,t.limit);var f;return u!==null&&(i.structuredQuery.limit=u),t.startAt&&(i.structuredQuery.startAt={before:(f=t.startAt).inclusive,values:f.position}),t.endAt&&(i.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(t.endAt)),i}function p9(e){let t=l9(e.parent);const i=e.structuredQuery,r=i.from?i.from.length:0;let s=null;if(r>0){fn(r===1);const w=i.from[0];w.allDescendants?s=w.collectionId:t=t.child(w.collectionId)}let l=[];i.where&&(l=function(w){const x=kR(w);return x instanceof Vr&&aR(x)?x.getFilters():[x]}(i.where));let u=[];i.orderBy&&(u=i.orderBy.map(w=>function(x){return new tc(Hl(x.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(w)));let f=null;i.limit&&(f=function(w){let x;return x=typeof w=="object"?w.value:w,Sm(x)?null:x}(i.limit));let m=null;i.startAt&&(m=function(w){const x=!!w.before,E=w.values||[];return new Ip(E,x)}(i.startAt));let v=null;return i.endAt&&(v=function(w){const x=!w.before,E=w.values||[];return new Ip(E,x)}(i.endAt)),P$(t,s,u,l,f,"F",m,v)}function m9(e,t){const i=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function kR(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Hl(t.unaryFilter.field);return Bn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Hl(t.unaryFilter.field);return Bn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Hl(t.unaryFilter.field);return Bn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Hl(t.unaryFilter.field);return Bn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(e):e.fieldFilter!==void 0?function(t){return Bn.create(Hl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return Vr.create(t.compositeFilter.filters.map(i=>kR(i)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Et()}}(t.compositeFilter.op))}(e):Et()}function v9(e){return i9[e]}function g9(e){return r9[e]}function y9(e){return o9[e]}function zl(e){return{fieldPath:e.canonicalString()}}function Hl(e){return yi.fromServerFormat(e.fieldPath)}function LR(e){return e instanceof Bn?function(t){if(t.op==="=="){if(_E(t.value))return{unaryFilter:{field:zl(t.field),op:"IS_NAN"}};if(bE(t.value))return{unaryFilter:{field:zl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_E(t.value))return{unaryFilter:{field:zl(t.field),op:"IS_NOT_NAN"}};if(bE(t.value))return{unaryFilter:{field:zl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zl(t.field),op:g9(t.op),value:t.value}}}(e):e instanceof Vr?function(t){const i=t.getFilters().map(r=>LR(r));return i.length===1?i[0]:{compositeFilter:{op:y9(t.op),filters:i}}}(e):Et()}function w9(e){const t=[];return e.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function PR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t,i,r,s,l=Ct.min(),u=Ct.min(),f=Ti.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new ds(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(t){this.fe=t}}function _9(e){const t=p9({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Rp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(){this.rn=new E9}addToCollectionParentIndex(t,i){return this.rn.add(i),We.resolve()}getCollectionParents(t,i){return We.resolve(this.rn.getEntries(i))}addFieldIndex(t,i){return We.resolve()}deleteFieldIndex(t,i){return We.resolve()}getDocumentsMatchingTarget(t,i){return We.resolve(null)}getIndexType(t,i){return We.resolve(0)}getFieldIndexes(t,i){return We.resolve([])}getNextCollectionGroupToUpdate(t){return We.resolve(null)}getMinOffset(t,i){return We.resolve(bs.min())}getMinOffsetFromCollectionGroup(t,i){return We.resolve(bs.min())}updateCollectionGroup(t,i,r){return We.resolve()}updateIndexEntries(t,i){return We.resolve()}}class E9{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),s=this.index[i]||new xi(hn.comparator),l=!s.has(r);return this.index[i]=s.add(r),l}has(t){const i=t.lastSegment(),r=t.popLast(),s=this.index[i];return s&&s.has(r)}getEntries(t){return(this.index[t]||new xi(hn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new gc(0)}static Mn(){return new gc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(){this.changes=new Nc(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,gi.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?We.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(t,i,r,s){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,i))).next(s=>(r!==null&&dd(r.mutation,s,er.empty(),zn.now()),s))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.getLocalViewOfDocuments(t,r,zt()).next(()=>r))}getLocalViewOfDocuments(t,i,r=zt()){const s=ua();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,r).next(l=>{let u=Ku();return l.forEach((f,m)=>{u=u.insert(f,m.overlayedDocument)}),u}))}getOverlayedDocuments(t,i){const r=ua();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,zt()))}populateOverlays(t,i,r){const s=[];return r.forEach(l=>{i.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(t,s).next(l=>{l.forEach((u,f)=>{i.set(u,f)})})}computeViews(t,i,r,s){let l=Fo();const u=ud(),f=ud();return i.forEach((m,v)=>{const w=r.get(v.key);s.has(v.key)&&(w===void 0||w.mutation instanceof ks)?l=l.insert(v.key,v):w!==void 0?(u.set(v.key,w.mutation.getFieldMask()),dd(w.mutation,v,w.mutation.getFieldMask(),zn.now())):u.set(v.key,er.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((v,w)=>u.set(v,w)),i.forEach((v,w)=>{var x;return f.set(v,new T9(w,(x=u.get(v))!==null&&x!==void 0?x:null))}),f))}recalculateAndSaveOverlays(t,i){const r=ud();let s=new _n((u,f)=>u-f),l=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(u=>{for(const f of u)f.keys().forEach(m=>{const v=i.get(m);if(v===null)return;let w=r.get(m)||er.empty();w=f.applyToLocalView(v,w),r.set(m,w);const x=(s.get(f.batchId)||zt()).add(m);s=s.insert(f.batchId,x)})}).next(()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),v=m.key,w=m.value,x=vR();w.forEach(E=>{if(!l.has(E)){const A=ER(i.get(E),r.get(E));A!==null&&x.set(E,A),l=l.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(t,v,x))}return We.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,i,r){return function(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):dR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r):this.getDocumentsMatchingCollectionQuery(t,i,r)}getNextDocuments(t,i,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,s).next(l=>{const u=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,s-l.size):We.resolve(ua());let f=-1,m=l;return u.next(v=>We.forEach(v,(w,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),l.get(w)?We.resolve():this.remoteDocumentCache.getEntry(t,w).next(E=>{m=m.insert(w,E)}))).next(()=>this.populateOverlays(t,v,l)).next(()=>this.computeViews(t,m,v,zt())).next(w=>({batchId:f,changes:mR(w)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next(r=>{let s=Ku();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,i,r){const s=i.collectionGroup;let l=Ku();return this.indexManager.getCollectionParents(t,s).next(u=>We.forEach(u,f=>{const m=function(v,w){return new Dc(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(i,f.child(s));return this.getDocumentsMatchingCollectionQuery(t,m,r).next(v=>{v.forEach((w,x)=>{l=l.insert(w,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,s))).next(l=>{s.forEach((f,m)=>{const v=m.getKey();l.get(v)===null&&(l=l.insert(v,gi.newInvalidDocument(v)))});let u=Ku();return l.forEach((f,m)=>{const v=s.get(f);v!==void 0&&dd(v.mutation,m,er.empty(),zn.now()),Cm(i,m)&&(u=u.insert(f,m))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,i){return We.resolve(this.cs.get(i))}saveBundleMetadata(t,i){var r;return this.cs.set(i.id,{id:(r=i).id,version:r.version,createTime:lo(r.createTime)}),We.resolve()}getNamedQuery(t,i){return We.resolve(this.hs.get(i))}saveNamedQuery(t,i){return this.hs.set(i.name,function(r){return{name:r.name,query:_9(r.bundledQuery),readTime:lo(r.readTime)}}(i)),We.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(){this.overlays=new _n(mt.comparator),this.ls=new Map}getOverlay(t,i){return We.resolve(this.overlays.get(i))}getOverlays(t,i){const r=ua();return We.forEach(i,s=>this.getOverlay(t,s).next(l=>{l!==null&&r.set(s,l)})).next(()=>r)}saveOverlays(t,i,r){return r.forEach((s,l)=>{this.we(t,i,l)}),We.resolve()}removeOverlaysForBatchId(t,i,r){const s=this.ls.get(r);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(r)),We.resolve()}getOverlaysForCollection(t,i,r){const s=ua(),l=i.length+1,u=new mt(i.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,v=m.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===l&&m.largestBatchId>r&&s.set(m.getKey(),m)}return We.resolve(s)}getOverlaysForCollectionGroup(t,i,r,s){let l=new _n((v,w)=>v-w);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let w=l.get(v.largestBatchId);w===null&&(w=ua(),l=l.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const f=ua(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,w)=>f.set(v,w)),!(f.size()>=s)););return We.resolve(f)}we(t,i,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Q$(i,r));let l=this.ls.get(i);l===void 0&&(l=zt(),this.ls.set(i,l)),this.ls.set(i,l.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.fs=new xi(qn.ds),this.ws=new xi(qn._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,i){const r=new qn(t,i);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(t,i){t.forEach(r=>this.addReference(r,i))}removeReference(t,i){this.ys(new qn(t,i))}ps(t,i){t.forEach(r=>this.removeReference(r,i))}Is(t){const i=new mt(new hn([])),r=new qn(i,t),s=new qn(i,t+1),l=[];return this.ws.forEachInRange([r,s],u=>{this.ys(u),l.push(u.key)}),l}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const i=new mt(new hn([])),r=new qn(i,t),s=new qn(i,t+1);let l=zt();return this.ws.forEachInRange([r,s],u=>{l=l.add(u.key)}),l}containsKey(t){const i=new qn(t,0),r=this.fs.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class qn{constructor(t,i){this.key=t,this.As=i}static ds(t,i){return mt.comparator(t.key,i.key)||Qt(t.As,i.As)}static _s(t,i){return Qt(t.As,i.As)||mt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.vs=1,this.Rs=new xi(qn.ds)}checkEmpty(t){return We.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,s){const l=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new K$(l,i,r,s);this.mutationQueue.push(u);for(const f of s)this.Rs=this.Rs.add(new qn(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return We.resolve(u)}lookupMutationBatch(t,i){return We.resolve(this.Ps(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,s=this.bs(r),l=s<0?0:s;return We.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return We.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(t){return We.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new qn(i,0),s=new qn(i,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([r,s],u=>{const f=this.Ps(u.As);l.push(f)}),We.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new xi(Qt);return i.forEach(s=>{const l=new qn(s,0),u=new qn(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,u],f=>{r=r.add(f.As)})}),We.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,s=r.length+1;let l=r;mt.isDocumentKey(l)||(l=l.child(""));const u=new qn(new mt(l),0);let f=new xi(Qt);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===s&&(f=f.add(m.As)),!0)},u),We.resolve(this.Vs(f))}Vs(t){const i=[];return t.forEach(r=>{const s=this.Ps(r);s!==null&&i.push(s)}),i}removeMutationBatch(t,i){fn(this.Ss(i.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return We.forEach(i.mutations,s=>{const l=new qn(s.key,i.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Rs=r})}Cn(t){}containsKey(t,i){const r=new qn(i,0),s=this.Rs.firstAfterOrEqual(r);return We.resolve(i.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,We.resolve()}Ss(t,i){return this.bs(t)}bs(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Ps(t){const i=this.bs(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(t){this.Ds=t,this.docs=new _n(mt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,s=this.docs.get(r),l=s?s.size:0,u=this.Ds(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return We.resolve(r?r.document.mutableCopy():gi.newInvalidDocument(i))}getEntries(t,i){let r=Fo();return i.forEach(s=>{const l=this.docs.get(s);r=r.insert(s,l?l.document.mutableCopy():gi.newInvalidDocument(s))}),We.resolve(r)}getDocumentsMatchingQuery(t,i,r,s){let l=Fo();const u=i.path,f=new mt(u.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:v,value:{document:w}}=m.getNext();if(!u.isPrefixOf(v.path))break;v.path.length>u.length+1||v$(m$(w),r)<=0||(s.has(w.key)||Cm(i,w))&&(l=l.insert(w.key,w.mutableCopy()))}return We.resolve(l)}getAllFromCollectionGroup(t,i,r,s){Et()}Cs(t,i){return We.forEach(this.docs,r=>i(r))}newChangeBuffer(t){return new k9(this)}getSize(t){return We.resolve(this.size)}}class k9 extends S9{constructor(t){super(),this.os=t}applyChanges(t){const i=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?i.push(this.os.addEntry(t,s)):this.os.removeEntry(r)}),We.waitFor(i)}getFromCache(t,i){return this.os.getEntry(t,i)}getAllFromCache(t,i){return this.os.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(t){this.persistence=t,this.xs=new Nc(i=>Hw(i),jw),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Qw,this.targetCount=0,this.Ms=gc.kn()}forEachTarget(t,i){return this.xs.forEach((r,s)=>i(s)),We.resolve()}getLastRemoteSnapshotVersion(t){return We.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return We.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),We.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.Ns&&(this.Ns=i),We.resolve()}Fn(t){this.xs.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Ms=new gc(i),this.highestTargetId=i),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,i){return this.Fn(i),this.targetCount+=1,We.resolve()}updateTargetData(t,i){return this.Fn(i),We.resolve()}removeTargetData(t,i){return this.xs.delete(i.target),this.ks.Is(i.targetId),this.targetCount-=1,We.resolve()}removeTargets(t,i,r){let s=0;const l=[];return this.xs.forEach((u,f)=>{f.sequenceNumber<=i&&r.get(f.targetId)===null&&(this.xs.delete(u),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),We.waitFor(l).next(()=>s)}getTargetCount(t){return We.resolve(this.targetCount)}getTargetData(t,i){const r=this.xs.get(i)||null;return We.resolve(r)}addMatchingKeys(t,i,r){return this.ks.gs(i,r),We.resolve()}removeMatchingKeys(t,i,r){this.ks.ps(i,r);const s=this.persistence.referenceDelegate,l=[];return s&&i.forEach(u=>{l.push(s.markPotentiallyOrphaned(t,u))}),We.waitFor(l)}removeMatchingKeysForTargetId(t,i){return this.ks.Is(i),We.resolve()}getMatchingKeysForTargetId(t,i){const r=this.ks.Es(i);return We.resolve(r)}containsKey(t,i){return We.resolve(this.ks.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(t,i){this.$s={},this.overlays={},this.Os=new Bw(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new L9(this),this.indexManager=new x9,this.remoteDocumentCache=function(r){return new R9(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new b9(i),this.qs=new C9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new M9,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.$s[t.toKey()];return r||(r=new I9(i,this.referenceDelegate),this.$s[t.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,i,r){ht("MemoryPersistence","Starting transaction:",t);const s=new O9(this.Os.next());return this.referenceDelegate.Us(),r(s).next(l=>this.referenceDelegate.Ks(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Gs(t,i){return We.or(Object.values(this.$s).map(r=>()=>r.containsKey(t,i)))}}class O9 extends y${constructor(t){super(),this.currentSequenceNumber=t}}class Jw{constructor(t){this.persistence=t,this.Qs=new Qw,this.js=null}static zs(t){return new Jw(t)}get Ws(){if(this.js)return this.js;throw Et()}addReference(t,i,r){return this.Qs.addReference(r,i),this.Ws.delete(r.toString()),We.resolve()}removeReference(t,i,r){return this.Qs.removeReference(r,i),this.Ws.add(r.toString()),We.resolve()}markPotentiallyOrphaned(t,i){return this.Ws.add(i.toString()),We.resolve()}removeTarget(t,i){this.Qs.Is(i.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next(s=>{s.forEach(l=>this.Ws.add(l.toString()))}).next(()=>r.removeTargetData(t,i))}Us(){this.js=new Set}Ks(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.Ws,r=>{const s=mt.fromPath(r);return this.Hs(t,s).next(l=>{l||i.removeEntry(s,Ct.min())})}).next(()=>(this.js=null,i.apply(t)))}updateLimboDocument(t,i){return this.Hs(t,i).next(r=>{r?this.Ws.delete(i.toString()):this.Ws.add(i.toString())})}Ls(t){return 0}Hs(t,i){return We.or([()=>We.resolve(this.Qs.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Gs(t,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,i,r,s){this.targetId=t,this.fromCache=i,this.Fi=r,this.Bi=s}static Li(t,i){let r=zt(),s=zt();for(const l of i.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Zw(t,i.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(){this.qi=!1}initialize(t,i){this.Ui=t,this.indexManager=i,this.qi=!0}getDocumentsMatchingQuery(t,i,r,s){return this.Ki(t,i).next(l=>l||this.Gi(t,i,s,r)).next(l=>l||this.Qi(t,i))}Ki(t,i){if(TE(i))return We.resolve(null);let r=Bo(i);return this.indexManager.getIndexType(t,r).next(s=>s===0?null:(i.limit!==null&&s===1&&(i=Rp(i,null,"F"),r=Bo(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const u=zt(...l);return this.Ui.getDocuments(t,u).next(f=>this.indexManager.getMinOffset(t,r).next(m=>{const v=this.ji(i,f);return this.zi(i,v,u,m.readTime)?this.Ki(t,Rp(i,null,"F")):this.Wi(t,v,i,m)}))})))}Gi(t,i,r,s){return TE(i)||s.isEqual(Ct.min())?this.Qi(t,i):this.Ui.getDocuments(t,r).next(l=>{const u=this.ji(i,l);return this.zi(i,u,r,s)?this.Qi(t,i):(mE()<=Kt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),e0(i)),this.Wi(t,u,i,p$(s,-1)))})}ji(t,i){let r=new xi(fR(t));return i.forEach((s,l)=>{Cm(t,l)&&(r=r.add(l))}),r}zi(t,i,r,s){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const l=t.limitType==="F"?i.last():i.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Qi(t,i){return mE()<=Kt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",e0(i)),this.Ui.getDocumentsMatchingQuery(t,i,bs.min())}Wi(t,i,r,s){return this.Ui.getDocumentsMatchingQuery(t,r,s).next(l=>(i.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(t,i,r,s){this.persistence=t,this.Hi=i,this.serializer=s,this.Ji=new _n(Qt),this.Yi=new Nc(l=>Hw(l),jw),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new A9(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ji))}}function V9(e,t,i,r){return new N9(e,t,i,r)}async function OR(e,t){const i=Lt(e);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let s;return i.mutationQueue.getAllMutationBatches(r).next(l=>(s=l,i.tr(t),i.mutationQueue.getAllMutationBatches(r))).next(l=>{const u=[],f=[];let m=zt();for(const v of s){u.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}for(const v of l){f.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}return i.localDocuments.getDocuments(r,m).next(v=>({er:v,removedBatchIds:u,addedBatchIds:f}))})})}function B9(e,t){const i=Lt(e);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=t.batch.keys(),l=i.Zi.newChangeBuffer({trackRemovals:!0});return function(u,f,m,v){const w=m.batch,x=w.keys();let E=We.resolve();return x.forEach(A=>{E=E.next(()=>v.getEntry(f,A)).next(I=>{const D=m.docVersions.get(A);fn(D!==null),I.version.compareTo(D)<0&&(w.applyToRemoteDocument(I,m),I.isValidDocument()&&(I.setReadTime(m.commitVersion),v.addEntry(I)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(f,w))}(i,r,t,l).next(()=>l.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=zt();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(f=f.add(u.batch.mutations[m].key));return f}(t))).next(()=>i.localDocuments.getDocuments(r,s))})}function DR(e){const t=Lt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Bs.getLastRemoteSnapshotVersion(i))}function F9(e,t){const i=Lt(e),r=t.snapshotVersion;let s=i.Ji;return i.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=i.Zi.newChangeBuffer({trackRemovals:!0});s=i.Ji;const f=[];t.targetChanges.forEach((w,x)=>{const E=s.get(x);if(!E)return;f.push(i.Bs.removeMatchingKeys(l,w.removedDocuments,x).next(()=>i.Bs.addMatchingKeys(l,w.addedDocuments,x)));let A=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(x)!==null?A=A.withResumeToken(Ti.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):w.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(w.resumeToken,r)),s=s.insert(x,A),function(I,D,O){return I.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(E,A,w)&&f.push(i.Bs.updateTargetData(l,A))});let m=Fo(),v=zt();if(t.documentUpdates.forEach(w=>{t.resolvedLimboDocuments.has(w)&&f.push(i.persistence.referenceDelegate.updateLimboDocument(l,w))}),f.push(U9(l,u,t.documentUpdates).next(w=>{m=w.nr,v=w.sr})),!r.isEqual(Ct.min())){const w=i.Bs.getLastRemoteSnapshotVersion(l).next(x=>i.Bs.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(w)}return We.waitFor(f).next(()=>u.apply(l)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,m,v)).next(()=>m)}).then(l=>(i.Ji=s,l))}function U9(e,t,i){let r=zt(),s=zt();return i.forEach(l=>r=r.add(l)),t.getEntries(e,r).next(l=>{let u=Fo();return i.forEach((f,m)=>{const v=l.get(f);m.isFoundDocument()!==v.isFoundDocument()&&(s=s.add(f)),m.isNoDocument()&&m.version.isEqual(Ct.min())?(t.removeEntry(f,m.readTime),u=u.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(m),u=u.insert(f,m)):ht("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)}),{nr:u,sr:s}})}function z9(e,t){const i=Lt(e);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function H9(e,t){const i=Lt(e);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return i.Bs.getTargetData(r,t).next(l=>l?(s=l,We.resolve(s)):i.Bs.allocateTargetId(r).next(u=>(s=new ds(t,u,"TargetPurposeListen",r.currentSequenceNumber),i.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=i.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(i.Ji=i.Ji.insert(r.targetId,r),i.Yi.set(t,r.targetId)),r})}async function o0(e,t,i){const r=Lt(e),s=r.Ji.get(t),l=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",l,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!yh(u))throw u;ht("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(s.target)}function NE(e,t,i){const r=Lt(e);let s=Ct.min(),l=zt();return r.persistence.runTransaction("Execute query","readonly",u=>function(f,m,v){const w=Lt(f),x=w.Yi.get(v);return x!==void 0?We.resolve(w.Ji.get(x)):w.Bs.getTargetData(m,v)}(r,u,Bo(t)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(u,f.targetId).next(m=>{l=m})}).next(()=>r.Hi.getDocumentsMatchingQuery(u,t,i?s:Ct.min(),i?l:zt())).next(f=>(j9(r,O$(t),f),{documents:f,ir:l})))}function j9(e,t,i){let r=e.Xi.get(t)||Ct.min();i.forEach((s,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),e.Xi.set(t,r)}class VE{constructor(){this.activeTargetIds=U$()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class G9{constructor(){this.Hr=new VE,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,i,r){this.Jr[t]=i}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new VE,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{Yr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ht("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){ht("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If=null;function Eg(){return If===null?If=268435456+Math.round(2147483648*Math.random()):If++,"0x"+If.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="WebChannelConnection";class Y9 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http";this.mo=i+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,i,r,s,l){const u=Eg(),f=this.To(t,i);ht("RestConnection",`Sending RPC '${t}' ${u}:`,f,r);const m={};return this.Eo(m,s,l),this.Ao(t,f,m,r).then(v=>(ht("RestConnection",`Received RPC '${t}' ${u}: `,v),v),v=>{throw fc("RestConnection",`RPC '${t}' ${u} failed with error: `,v,"url: ",f,"request:",r),v})}vo(t,i,r,s,l,u){return this.Io(t,i,r,s,l)}Eo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Oc,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,l)=>t[l]=s),r&&r.headers.forEach((s,l)=>t[l]=s)}To(t,i){const r=$9[t];return`${this.mo}/v1/${i}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,i,r,s){const l=Eg();return new Promise((u,f)=>{const m=new i$;m.setWithCredentials(!0),m.listenOnce(e$.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case _g.NO_ERROR:const w=m.getResponseJson();ht(pi,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(w)),u(w);break;case _g.TIMEOUT:ht(pi,`RPC '${t}' ${l} timed out`),f(new st(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case _g.HTTP_ERROR:const x=m.getStatus();if(ht(pi,`RPC '${t}' ${l} failed with status:`,x,"response text:",m.getResponseText()),x>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E==null?void 0:E.error;if(A&&A.status&&A.message){const I=function(D){const O=D.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(O)>=0?O:Pe.UNKNOWN}(A.status);f(new st(I,A.message))}else f(new st(Pe.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new st(Pe.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{ht(pi,`RPC '${t}' ${l} completed.`)}});const v=JSON.stringify(s);ht(pi,`RPC '${t}' ${l} sending request:`,s),m.send(i,"POST",v,r,15)})}Ro(t,i,r){const s=Eg(),l=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=JW(),f=ZW(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.xmlHttpFactory=new n$({})),this.Eo(m.initMessageHeaders,i,r),m.encodeInitMessageHeaders=!0;const w=l.join("");ht(pi,`Creating RPC '${t}' stream ${s}: ${w}`,m);const x=u.createWebChannel(w,m);let E=!1,A=!1;const I=new q9({ro:O=>{A?ht(pi,`Not sending because RPC '${t}' stream ${s} is closed:`,O):(E||(ht(pi,`Opening RPC '${t}' stream ${s} transport.`),x.open(),E=!0),ht(pi,`RPC '${t}' stream ${s} sending:`,O),x.send(O))},oo:()=>x.close()}),D=(O,H,V)=>{O.listen(H,U=>{try{V(U)}catch(ne){setTimeout(()=>{throw ne},0)}})};return D(x,Tf.EventType.OPEN,()=>{A||ht(pi,`RPC '${t}' stream ${s} transport opened.`)}),D(x,Tf.EventType.CLOSE,()=>{A||(A=!0,ht(pi,`RPC '${t}' stream ${s} transport closed`),I.wo())}),D(x,Tf.EventType.ERROR,O=>{A||(A=!0,fc(pi,`RPC '${t}' stream ${s} transport errored:`,O),I.wo(new st(Pe.UNAVAILABLE,"The operation could not be completed")))}),D(x,Tf.EventType.MESSAGE,O=>{var H;if(!A){const V=O.data[0];fn(!!V);const U=V,ne=U.error||((H=U[0])===null||H===void 0?void 0:H.error);if(ne){ht(pi,`RPC '${t}' stream ${s} received error:`,ne);const re=ne.status;let ee=function(X){const B=Nn[X];if(B!==void 0)return TR(B)}(re),Z=ne.message;ee===void 0&&(ee=Pe.INTERNAL,Z="Unknown error status: "+re+" with message "+ne.message),A=!0,I.wo(new st(ee,Z)),x.close()}else ht(pi,`RPC '${t}' stream ${s} received:`,V),I._o(V)}}),D(f,t$.STAT_EVENT,O=>{O.stat===fE.PROXY?ht(pi,`RPC '${t}' stream ${s} detected buffering proxy`):O.stat===fE.NOPROXY&&ht(pi,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.fo()},0),I}}function Sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(e){return new s9(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t,i,r=1e3,s=1.5,l=6e4){this.ii=t,this.timerId=i,this.Po=r,this.bo=s,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const i=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,i-r);s>0&&ht("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,i,r,s,l,u,f,m){this.ii=t,this.$o=r,this.Oo=s,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new NR(t,i)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(t,i){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,t!==4?this.qo.reset():i&&i.code===Pe.RESOURCE_EXHAUSTED?(Vo(i.toString()),Vo("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):i&&i.code===Pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.ao(i)}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),i=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===i&&this.Zo(r,s)},r=>{t(()=>{const s=new st(Pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(t,i){const r=this.Xo(this.Fo);this.stream=this.eu(t,i),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(t){return ht("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return i=>{this.ii.enqueueAndForget(()=>this.Fo===t?i():(ht("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class X9 extends VR{constructor(t,i,r,s,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,s,u),this.serializer=l}eu(t,i){return this.connection.Ro("Listen",t,i)}onMessage(t){this.qo.reset();const i=c9(this.serializer,t),r=function(s){if(!("targetChange"in s))return Ct.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Ct.min():l.readTime?lo(l.readTime):Ct.min()}(t);return this.listener.nu(i,r)}su(t){const i={};i.database=r0(this.serializer),i.addTarget=function(s,l){let u;const f=l.target;if(u=Jy(f)?{documents:h9(s,f)}:{query:f9(s,f)},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=MR(s,l.resumeToken);const m=t0(s,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(Ct.min())>0){u.readTime=Lp(s,l.snapshotVersion.toTimestamp());const m=t0(s,l.expectedCount);m!==null&&(u.expectedCount=m)}return u}(this.serializer,t);const r=m9(this.serializer,t);r&&(i.labels=r),this.Wo(i)}iu(t){const i={};i.database=r0(this.serializer),i.removeTarget=t,this.Wo(i)}}class K9 extends VR{constructor(t,i,r,s,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,s,u),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,i){return this.connection.Ro("Write",t,i)}onMessage(t){if(fn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const i=d9(t.writeResults,t.commitTime),r=lo(t.commitTime);return this.listener.cu(r,i)}return fn(!t.writeResults||t.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const t={};t.database=r0(this.serializer),this.Wo(t)}uu(t){const i={streamToken:this.lastStreamToken,writes:t.map(r=>u9(this.serializer,r))};this.Wo(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9 extends class{}{constructor(t,i,r,s){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new st(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Io(t,i,r,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new st(Pe.UNKNOWN,s.toString())})}vo(t,i,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.vo(t,i,r,l,u,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new st(Pe.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class J9{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,t==="Online"&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Vo(i),this.mu=!1):ht("OnlineStateTracker",i)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(t,i,r,s,l){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(u=>{r.enqueueAndForget(async()=>{Ua(this)&&(ht("RemoteStore","Restarting streams for network reachability change."),await async function(f){const m=Lt(f);m.vu.add(4),await _h(m),m.bu.set("Unknown"),m.vu.delete(4),await Lm(m)}(this))})}),this.bu=new J9(r,s)}}async function Lm(e){if(Ua(e))for(const t of e.Ru)await t(!0)}async function _h(e){for(const t of e.Ru)await t(!1)}function BR(e,t){const i=Lt(e);i.Au.has(t.targetId)||(i.Au.set(t.targetId,t),nb(i)?tb(i):Vc(i).Ko()&&eb(i,t))}function FR(e,t){const i=Lt(e),r=Vc(i);i.Au.delete(t),r.Ko()&&UR(i,t),i.Au.size===0&&(r.Ko()?r.jo():Ua(i)&&i.bu.set("Unknown"))}function eb(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const i=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Vc(e).su(t)}function UR(e,t){e.Vu.qt(t),Vc(e).iu(t)}function tb(e){e.Vu=new n9({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Vc(e).start(),e.bu.gu()}function nb(e){return Ua(e)&&!Vc(e).Uo()&&e.Au.size>0}function Ua(e){return Lt(e).vu.size===0}function zR(e){e.Vu=void 0}async function eq(e){e.Au.forEach((t,i)=>{eb(e,t)})}async function tq(e,t){zR(e),nb(e)?(e.bu.Iu(t),tb(e)):e.bu.set("Unknown")}async function nq(e,t,i){if(e.bu.set("Online"),t instanceof CR&&t.state===2&&t.cause)try{await async function(r,s){const l=s.cause;for(const u of s.targetIds)r.Au.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Au.delete(u),r.Vu.removeTarget(u))}(e,t)}catch(r){ht("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Pp(e,r)}else if(t instanceof $f?e.Vu.Ht(t):t instanceof AR?e.Vu.ne(t):e.Vu.Xt(t),!i.isEqual(Ct.min()))try{const r=await DR(e.localStore);i.compareTo(r)>=0&&await function(s,l){const u=s.Vu.ce(l);return u.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=s.Au.get(m);v&&s.Au.set(m,v.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach((f,m)=>{const v=s.Au.get(f);if(!v)return;s.Au.set(f,v.withResumeToken(Ti.EMPTY_BYTE_STRING,v.snapshotVersion)),UR(s,f);const w=new ds(v.target,f,m,v.sequenceNumber);eb(s,w)}),s.remoteSyncer.applyRemoteEvent(u)}(e,i)}catch(r){ht("RemoteStore","Failed to raise snapshot:",r),await Pp(e,r)}}async function Pp(e,t,i){if(!yh(t))throw t;e.vu.add(1),await _h(e),e.bu.set("Offline"),i||(i=()=>DR(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ht("RemoteStore","Retrying IndexedDB access"),await i(),e.vu.delete(1),await Lm(e)})}function HR(e,t){return t().catch(i=>Pp(e,i,t))}async function Pm(e){const t=Lt(e),i=xs(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;iq(t);)try{const s=await z9(t.localStore,r);if(s===null){t.Eu.length===0&&i.jo();break}r=s.batchId,rq(t,s)}catch(s){await Pp(t,s)}jR(t)&&GR(t)}function iq(e){return Ua(e)&&e.Eu.length<10}function rq(e,t){e.Eu.push(t);const i=xs(e);i.Ko()&&i.ou&&i.uu(t.mutations)}function jR(e){return Ua(e)&&!xs(e).Uo()&&e.Eu.length>0}function GR(e){xs(e).start()}async function oq(e){xs(e).hu()}async function sq(e){const t=xs(e);for(const i of e.Eu)t.uu(i.mutations)}async function aq(e,t,i){const r=e.Eu.shift(),s=qw.from(r,t,i);await HR(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Pm(e)}async function lq(e,t){t&&xs(e).ou&&await async function(i,r){if(s=r.code,Z$(s)&&s!==Pe.ABORTED){const l=i.Eu.shift();xs(i).Qo(),await HR(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),await Pm(i)}var s}(e,t),jR(e)&&GR(e)}async function FE(e,t){const i=Lt(e);i.asyncQueue.verifyOperationInProgress(),ht("RemoteStore","RemoteStore received new credentials");const r=Ua(i);i.vu.add(3),await _h(i),r&&i.bu.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.vu.delete(3),await Lm(i)}async function cq(e,t){const i=Lt(e);t?(i.vu.delete(2),await Lm(i)):t||(i.vu.add(2),await _h(i),i.bu.set("Unknown"))}function Vc(e){return e.Su||(e.Su=function(t,i,r){const s=Lt(t);return s.fu(),new X9(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{uo:eq.bind(null,e),ao:tq.bind(null,e),nu:nq.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),nb(e)?tb(e):e.bu.set("Unknown")):(await e.Su.stop(),zR(e))})),e.Su}function xs(e){return e.Du||(e.Du=function(t,i,r){const s=Lt(t);return s.fu(),new K9(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{uo:oq.bind(null,e),ao:lq.bind(null,e),au:sq.bind(null,e),cu:aq.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await Pm(e)):(await e.Du.stop(),e.Eu.length>0&&(ht("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))})),e.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(t,i,r,s,l){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=s,this.removalCallback=l,this.deferred=new Io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,i,r,s,l){const u=Date.now()+r,f=new ib(t,i,u,s,l);return f.start(r),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Pe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rb(e,t){if(Vo("AsyncQueue",`${t}: ${e}`),yh(e))return new st(Pe.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t){this.comparator=t?(i,r)=>t(i,r)||mt.comparator(i.key,r.key):(i,r)=>mt.comparator(i.key,r.key),this.keyedMap=Ku(),this.sortedSet=new _n(this.comparator)}static emptySet(t){return new ic(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,r)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ic)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const s=i.getNext().key,l=r.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new ic;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.Cu=new _n(mt.comparator)}track(t){const i=t.doc.key,r=this.Cu.get(i);r?t.type!==0&&r.type===3?this.Cu=this.Cu.insert(i,t):t.type===3&&r.type!==1?this.Cu=this.Cu.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Cu=this.Cu.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Cu=this.Cu.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Cu=this.Cu.remove(i):t.type===1&&r.type===2?this.Cu=this.Cu.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Cu=this.Cu.insert(i,{type:2,doc:t.doc}):Et():this.Cu=this.Cu.insert(i,t)}xu(){const t=[];return this.Cu.inorderTraversal((i,r)=>{t.push(r)}),t}}class yc{constructor(t,i,r,s,l,u,f,m,v){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(t,i,r,s,l){const u=[];return i.forEach(f=>{u.push({type:0,doc:f})}),new yc(t,i,ic.emptySet(i),u,r,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Am(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let s=0;s<i.length;s++)if(i[s].type!==r[s].type||!i[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(){this.Nu=void 0,this.listeners=[]}}class dq{constructor(){this.queries=new Nc(t=>hR(t),Am),this.onlineState="Unknown",this.ku=new Set}}async function WR(e,t){const i=Lt(e),r=t.query;let s=!1,l=i.queries.get(r);if(l||(s=!0,l=new uq),s)try{l.Nu=await i.onListen(r)}catch(u){const f=rb(u,`Initialization of query '${e0(t.query)}' failed`);return void t.onError(f)}i.queries.set(r,l),l.listeners.push(t),t.Mu(i.onlineState),l.Nu&&t.$u(l.Nu)&&ob(i)}async function $R(e,t){const i=Lt(e),r=t.query;let s=!1;const l=i.queries.get(r);if(l){const u=l.listeners.indexOf(t);u>=0&&(l.listeners.splice(u,1),s=l.listeners.length===0)}if(s)return i.queries.delete(r),i.onUnlisten(r)}function hq(e,t){const i=Lt(e);let r=!1;for(const s of t){const l=s.query,u=i.queries.get(l);if(u){for(const f of u.listeners)f.$u(s)&&(r=!0);u.Nu=s}}r&&ob(i)}function fq(e,t,i){const r=Lt(e),s=r.queries.get(t);if(s)for(const l of s.listeners)l.onError(i);r.queries.delete(t)}function ob(e){e.ku.forEach(t=>{t.next()})}class qR{constructor(t,i,r){this.query=t,this.Ou=i,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new yc(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),i=!0):this.qu(t,this.onlineState)&&(this.Uu(t),i=!0),this.Bu=t,i}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let i=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),i=!0),i}qu(t,i){if(!t.fromCache)return!0;const r=i!=="Offline";return(!this.options.Ku||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Lu(t){if(t.docChanges.length>0)return!0;const i=this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Uu(t){t=yc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t){this.key=t}}class XR{constructor(t){this.key=t}}class pq{constructor(t,i){this.query=t,this.Yu=i,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=zt(),this.mutatedKeys=zt(),this.tc=fR(t),this.ec=new ic(this.tc)}get nc(){return this.Yu}sc(t,i){const r=i?i.ic:new UE,s=i?i.ec:this.ec;let l=i?i.mutatedKeys:this.mutatedKeys,u=s,f=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,v=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((w,x)=>{const E=s.get(w),A=Cm(this.query,x)?x:null,I=!!E&&this.mutatedKeys.has(E.key),D=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let O=!1;E&&A?E.data.isEqual(A.data)?I!==D&&(r.track({type:3,doc:A}),O=!0):this.rc(E,A)||(r.track({type:2,doc:A}),O=!0,(m&&this.tc(A,m)>0||v&&this.tc(A,v)<0)&&(f=!0)):!E&&A?(r.track({type:0,doc:A}),O=!0):E&&!A&&(r.track({type:1,doc:E}),O=!0,(m||v)&&(f=!0)),O&&(A?(u=u.add(A),l=D?l.add(w):l.delete(w)):(u=u.delete(w),l=l.delete(w)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const w=this.query.limitType==="F"?u.last():u.first();u=u.delete(w.key),l=l.delete(w.key),r.track({type:1,doc:w})}return{ec:u,ic:r,zi:f,mutatedKeys:l}}rc(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r){const s=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const l=t.ic.xu();l.sort((v,w)=>function(x,E){const A=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return A(x)-A(E)}(v.type,w.type)||this.tc(v.doc,w.doc)),this.oc(r);const u=i?this.uc():[],f=this.Zu.size===0&&this.current?1:0,m=f!==this.Xu;return this.Xu=f,l.length!==0||m?{snapshot:new yc(this.query,t.ec,s,l,t.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new UE,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(i=>this.Yu=this.Yu.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Yu=this.Yu.delete(i)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=zt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const i=[];return t.forEach(r=>{this.Zu.has(r)||i.push(new XR(r))}),this.Zu.forEach(r=>{t.has(r)||i.push(new YR(r))}),i}hc(t){this.Yu=t.ir,this.Zu=zt();const i=this.sc(t.documents);return this.applyChanges(i,!0)}lc(){return yc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class mq{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class vq{constructor(t){this.key=t,this.fc=!1}}class gq{constructor(t,i,r,s,l,u){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new Nc(f=>hR(f),Am),this._c=new Map,this.mc=new Set,this.gc=new _n(mt.comparator),this.yc=new Map,this.Ic=new Qw,this.Tc={},this.Ec=new Map,this.Ac=gc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function yq(e,t){const i=Mq(e);let r,s;const l=i.wc.get(t);if(l)r=l.targetId,i.sharedClientState.addLocalQueryTarget(r),s=l.view.lc();else{const u=await H9(i.localStore,Bo(t)),f=i.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,s=await wq(i,t,r,f==="current",u.resumeToken),i.isPrimaryClient&&BR(i.remoteStore,u)}return s}async function wq(e,t,i,r,s){e.Rc=(x,E,A)=>async function(I,D,O,H){let V=D.view.sc(O);V.zi&&(V=await NE(I.localStore,D.query,!1).then(({documents:re})=>D.view.sc(re,V)));const U=H&&H.targetChanges.get(D.targetId),ne=D.view.applyChanges(V,I.isPrimaryClient,U);return HE(I,D.targetId,ne.cc),ne.snapshot}(e,x,E,A);const l=await NE(e.localStore,t,!0),u=new pq(t,l.ir),f=u.sc(l.documents),m=bh.createSynthesizedTargetChangeForCurrentChange(i,r&&e.onlineState!=="Offline",s),v=u.applyChanges(f,e.isPrimaryClient,m);HE(e,i,v.cc);const w=new mq(t,i,u);return e.wc.set(t,w),e._c.has(i)?e._c.get(i).push(t):e._c.set(i,[t]),v.snapshot}async function bq(e,t){const i=Lt(e),r=i.wc.get(t),s=i._c.get(r.targetId);if(s.length>1)return i._c.set(r.targetId,s.filter(l=>!Am(l,t))),void i.wc.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await o0(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),FR(i.remoteStore,r.targetId),s0(i,r.targetId)}).catch(gh)):(s0(i,r.targetId),await o0(i.localStore,r.targetId,!0))}async function _q(e,t,i){const r=Iq(e);try{const s=await function(l,u){const f=Lt(l),m=zn.now(),v=u.reduce((E,A)=>E.add(A.key),zt());let w,x;return f.persistence.runTransaction("Locally write mutations","readwrite",E=>{let A=Fo(),I=zt();return f.Zi.getEntries(E,v).next(D=>{A=D,A.forEach((O,H)=>{H.isValidDocument()||(I=I.add(O))})}).next(()=>f.localDocuments.getOverlayedDocuments(E,A)).next(D=>{w=D;const O=[];for(const H of u){const V=Y$(H,w.get(H.key).overlayedDocument);V!=null&&O.push(new ks(H.key,V,rR(V.value.mapValue),hr.exists(!0)))}return f.mutationQueue.addMutationBatch(E,m,O,u)}).next(D=>{x=D;const O=D.applyToLocalDocumentSet(w,I);return f.documentOverlayCache.saveOverlays(E,D.batchId,O)})}).then(()=>({batchId:x.batchId,changes:mR(w)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),function(l,u,f){let m=l.Tc[l.currentUser.toKey()];m||(m=new _n(Qt)),m=m.insert(u,f),l.Tc[l.currentUser.toKey()]=m}(r,s.batchId,i),await xh(r,s.changes),await Pm(r.remoteStore)}catch(s){const l=rb(s,"Failed to persist write");i.reject(l)}}async function KR(e,t){const i=Lt(e);try{const r=await F9(i.localStore,t);t.targetChanges.forEach((s,l)=>{const u=i.yc.get(l);u&&(fn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.fc=!0:s.modifiedDocuments.size>0?fn(u.fc):s.removedDocuments.size>0&&(fn(u.fc),u.fc=!1))}),await xh(i,r,t)}catch(r){await gh(r)}}function zE(e,t,i){const r=Lt(e);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const s=[];r.wc.forEach((l,u)=>{const f=u.view.Mu(t);f.snapshot&&s.push(f.snapshot)}),function(l,u){const f=Lt(l);f.onlineState=u;let m=!1;f.queries.forEach((v,w)=>{for(const x of w.listeners)x.Mu(u)&&(m=!0)}),m&&ob(f)}(r.eventManager,t),s.length&&r.dc.nu(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function xq(e,t,i){const r=Lt(e);r.sharedClientState.updateQueryState(t,"rejected",i);const s=r.yc.get(t),l=s&&s.key;if(l){let u=new _n(mt.comparator);u=u.insert(l,gi.newNoDocument(l,Ct.min()));const f=zt().add(l),m=new Rm(Ct.min(),new Map,new _n(Qt),u,f);await KR(r,m),r.gc=r.gc.remove(l),r.yc.delete(t),sb(r)}else await o0(r.localStore,t,!1).then(()=>s0(r,t,i)).catch(gh)}async function Eq(e,t){const i=Lt(e),r=t.batch.batchId;try{const s=await B9(i.localStore,t);JR(i,r,null),QR(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await xh(i,s)}catch(s){await gh(s)}}async function Sq(e,t,i){const r=Lt(e);try{const s=await function(l,u){const f=Lt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,u).next(w=>(fn(w!==null),v=w.keys(),f.mutationQueue.removeMutationBatch(m,w))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,t);JR(r,t,i),QR(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await xh(r,s)}catch(s){await gh(s)}}function QR(e,t){(e.Ec.get(t)||[]).forEach(i=>{i.resolve()}),e.Ec.delete(t)}function JR(e,t,i){const r=Lt(e);let s=r.Tc[r.currentUser.toKey()];if(s){const l=s.get(t);l&&(i?l.reject(i):l.resolve(),s=s.remove(t)),r.Tc[r.currentUser.toKey()]=s}}function s0(e,t,i=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),i&&e.dc.Pc(r,i);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(r=>{e.Ic.containsKey(r)||ZR(e,r)})}function ZR(e,t){e.mc.delete(t.path.canonicalString());const i=e.gc.get(t);i!==null&&(FR(e.remoteStore,i),e.gc=e.gc.remove(t),e.yc.delete(i),sb(e))}function HE(e,t,i){for(const r of i)r instanceof YR?(e.Ic.addReference(r.key,t),Tq(e,r)):r instanceof XR?(ht("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||ZR(e,r.key)):Et()}function Tq(e,t){const i=t.key,r=i.path.canonicalString();e.gc.get(i)||e.mc.has(r)||(ht("SyncEngine","New document in limbo: "+i),e.mc.add(r),sb(e))}function sb(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const i=new mt(hn.fromString(t)),r=e.Ac.next();e.yc.set(r,new vq(i)),e.gc=e.gc.insert(i,r),BR(e.remoteStore,new ds(Bo(Gw(i.path)),r,"TargetPurposeLimboResolution",Bw.ct))}}async function xh(e,t,i){const r=Lt(e),s=[],l=[],u=[];r.wc.isEmpty()||(r.wc.forEach((f,m)=>{u.push(r.Rc(m,t,i).then(v=>{if((v||i)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,v!=null&&v.fromCache?"not-current":"current"),v){s.push(v);const w=Zw.Li(m.targetId,v);l.push(w)}}))}),await Promise.all(u),r.dc.nu(s),await async function(f,m){const v=Lt(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>We.forEach(m,x=>We.forEach(x.Fi,E=>v.persistence.referenceDelegate.addReference(w,x.targetId,E)).next(()=>We.forEach(x.Bi,E=>v.persistence.referenceDelegate.removeReference(w,x.targetId,E)))))}catch(w){if(!yh(w))throw w;ht("LocalStore","Failed to update sequence numbers: "+w)}for(const w of m){const x=w.targetId;if(!w.fromCache){const E=v.Ji.get(x),A=E.snapshotVersion,I=E.withLastLimboFreeSnapshotVersion(A);v.Ji=v.Ji.insert(x,I)}}}(r.localStore,l))}async function Aq(e,t){const i=Lt(e);if(!i.currentUser.isEqual(t)){ht("SyncEngine","User change. New user:",t.toKey());const r=await OR(i.localStore,t);i.currentUser=t,function(s,l){s.Ec.forEach(u=>{u.forEach(f=>{f.reject(new st(Pe.CANCELLED,l))})}),s.Ec.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await xh(i,r.er)}}function Cq(e,t){const i=Lt(e),r=i.yc.get(t);if(r&&r.fc)return zt().add(r.key);{let s=zt();const l=i._c.get(t);if(!l)return s;for(const u of l){const f=i.wc.get(u);s=s.unionWith(f.view.nc)}return s}}function Mq(e){const t=Lt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=KR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cq.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xq.bind(null,t),t.dc.nu=hq.bind(null,t.eventManager),t.dc.Pc=fq.bind(null,t.eventManager),t}function Iq(e){const t=Lt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Eq.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sq.bind(null,t),t}class jE{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=km(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,i){return null}createIndexBackfillerScheduler(t,i){return null}createLocalStore(t){return V9(this.persistence,new D9,t.initialUser,this.serializer)}createPersistence(t){return new P9(Jw.zs,this.serializer)}createSharedClientState(t){return new G9}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Rq{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Aq.bind(null,this.syncEngine),await cq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new dq}createDatastore(t){const i=km(t.databaseInfo.databaseId),r=(s=t.databaseInfo,new Y9(s));var s;return function(l,u,f,m){return new Q9(l,u,f,m)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return i=this.localStore,r=this.datastore,s=t.asyncQueue,l=f=>zE(this.syncEngine,f,0),u=BE.D()?new BE:new W9,new Z9(i,r,s,l,u);var i,r,s,l,u}createSyncEngine(t,i){return function(r,s,l,u,f,m,v){const w=new gq(r,s,l,u,f,m);return v&&(w.vc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return async function(t){const i=Lt(t);ht("RemoteStore","RemoteStore shutting down."),i.vu.add(5),await _h(i),i.Pu.shutdown(),i.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Vo("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,i){this.muted||setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(t,i,r,s){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=s,this.user=vi.UNAUTHENTICATED,this.clientId=tR.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async l=>{ht("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ht("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new st(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=rb(i,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Tg(e,t){e.asyncQueue.verifyOperationInProgress(),ht("FirestoreClient","Initializing OfflineComponentProvider");const i=await e.getConfiguration();await t.initialize(i);let r=i.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await OR(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function GE(e,t){e.asyncQueue.verifyOperationInProgress();const i=await Pq(e);ht("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(i,r),e.setCredentialChangeListener(s=>FE(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,l)=>FE(t.remoteStore,l)),e._onlineComponents=t}function Lq(e){return e.name==="FirebaseError"?e.code===Pe.FAILED_PRECONDITION||e.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function Pq(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ht("FirestoreClient","Using user provided OfflineComponentProvider");try{await Tg(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!Lq(i))throw i;fc("Error using user provided cache. Falling back to memory cache: "+i),await Tg(e,new jE)}}else ht("FirestoreClient","Using default OfflineComponentProvider"),await Tg(e,new jE);return e._offlineComponents}async function tk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ht("FirestoreClient","Using user provided OnlineComponentProvider"),await GE(e,e._uninitializedComponentsProvider._online)):(ht("FirestoreClient","Using default OnlineComponentProvider"),await GE(e,new Rq))),e._onlineComponents}function Oq(e){return tk(e).then(t=>t.syncEngine)}async function nk(e){const t=await tk(e),i=t.eventManager;return i.onListen=yq.bind(null,t.syncEngine),i.onUnlisten=bq.bind(null,t.syncEngine),i}function Dq(e,t,i={}){const r=new Io;return e.asyncQueue.enqueueAndForget(async()=>function(s,l,u,f,m){const v=new ek({next:x=>{l.enqueueAndForget(()=>$R(s,w));const E=x.docs.has(u);!E&&x.fromCache?m.reject(new st(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&x.fromCache&&f&&f.source==="server"?m.reject(new st(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),w=new qR(Gw(u.path),v,{includeMetadataChanges:!0,Ku:!0});return WR(s,w)}(await nk(e),e.asyncQueue,t,i,r)),r.promise}function Nq(e,t,i={}){const r=new Io;return e.asyncQueue.enqueueAndForget(async()=>function(s,l,u,f,m){const v=new ek({next:x=>{l.enqueueAndForget(()=>$R(s,w)),x.fromCache&&f.source==="server"?m.reject(new st(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),w=new qR(u,v,{includeMetadataChanges:!0,Ku:!0});return WR(s,w)}(await nk(e),e.asyncQueue,t,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(e,t,i){if(!i)throw new st(Pe.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Vq(e,t,i,r){if(t===!0&&r===!0)throw new st(Pe.INVALID_ARGUMENT,`${e} and ${i} cannot be used together.`)}function $E(e){if(!mt.isDocumentKey(e))throw new st(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function qE(e){if(mt.isDocumentKey(e))throw new st(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Om(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Et()}function Br(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new st(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Om(e);throw new st(Pe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return e}function Bq(e,t){if(t<=0)throw new st(Pe.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t){var i,r;if(t.host===void 0){if(t.ssl!==void 0)throw new st(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new st(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Vq("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ik((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new st(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new st(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new st(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(i=this.experimentalLongPollingOptions,r=t.experimentalLongPollingOptions,i.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var i,r}}class Dm{constructor(t,i,r,s){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new st(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new st(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YE(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new o$;switch(i.type){case"firstParty":return new c$(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new st(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=WE.get(t);i&&(ht("ComponentProvider","Removing Datastore"),WE.delete(t),i.terminate())}(this),Promise.resolve()}}function Fq(e,t,i,r={}){var s;const l=(e=Br(e,Dm))._getSettings();if(l.host!=="firestore.googleapis.com"&&l.host!==t&&fc("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},l),{host:`${t}:${i}`,ssl:!1})),r.mockUserToken){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=vi.MOCK_USER;else{u=sM(r.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new st(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new vi(m)}e._authCredentials=new s$(new eR(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ni(this.firestore,t,this._key)}}class Ls{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ls(this.firestore,t,this._query)}}class ms extends Ls{constructor(t,i,r){super(t,i,Gw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ni(this.firestore,null,new mt(t))}withConverter(t){return new ms(this.firestore,t,this._path)}}function ts(e,t,...i){if(e=en(e),rk("collection","path",t),e instanceof Dm){const r=hn.fromString(t,...i);return qE(r),new ms(e,null,r)}{if(!(e instanceof Ni||e instanceof ms))throw new st(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(hn.fromString(t,...i));return qE(r),new ms(e.firestore,null,r)}}function jl(e,t,...i){if(e=en(e),arguments.length===1&&(t=tR.A()),rk("doc","path",t),e instanceof Dm){const r=hn.fromString(t,...i);return $E(r),new Ni(e,null,new mt(r))}{if(!(e instanceof Ni||e instanceof ms))throw new st(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(hn.fromString(t,...i));return $E(r),new Ni(e.firestore,e instanceof ms?e.converter:null,new mt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new NR(this,"async_queue_retry"),this.Xc=()=>{const i=Sg();i&&ht("AsyncQueue","Visibility state changed to "+i.visibilityState),this.qo.Mo()};const t=Sg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const i=Sg();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const i=new Io;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(t){if(!yh(t))throw t;ht("AsyncQueue","Operation failed with retryable error: "+t)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(t){const i=this.Gc.then(()=>(this.Hc=!0,t().catch(r=>{this.Wc=r,this.Hc=!1;const s=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw Vo("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=i,i}enqueueAfterDelay(t,i,r){this.Zc(),this.Yc.indexOf(t)>-1&&(i=0);const s=ib.createAndSchedule(this,t,i,r,l=>this.na(l));return this.zc.push(s),s}Zc(){this.Wc&&Et()}verifyOperationInProgress(){}async sa(){let t;do t=this.Gc,await t;while(t!==this.Gc)}ia(t){for(const i of this.zc)if(i.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.zc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const i=this.zc.indexOf(t);this.zc.splice(i,1)}}class za extends Dm{constructor(t,i,r,s){super(t,i,r,s),this.type="firestore",this._queue=new Uq,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ok(this),this._firestoreClient.terminate()}}function zq(e,t){const i=typeof e=="object"?e:iw(),r=typeof e=="string"?e:t||"(default)",s=rm(i,"firestore").getImmediate({identifier:r});if(!s._initialized){const l=iM("firestore");l&&Fq(s,...l)}return s}function ab(e){return e._firestoreClient||ok(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ok(e){var t,i,r;const s=e._freezeSettings(),l=function(u,f,m,v){return new _$(u,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,ik(v.experimentalLongPollingOptions),v.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new kq(e._authCredentials,e._appCheckCredentials,e._queue,l),!((i=s.cache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new wc(Ti.fromBase64String(t))}catch(i){throw new st(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new wc(Ti.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new st(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new st(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new st(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq=/^__.*__$/;class jq{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new ks(t,this.data,this.fieldMask,i,this.fieldTransforms):new wh(t,this.data,i,this.fieldTransforms)}}class sk{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new ks(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function ak(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class cb{constructor(t,i,r,s,l,u){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=s,l===void 0&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new cb(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),s=this.aa({path:r,la:!1});return s.fa(t),s}da(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),s=this.aa({path:r,la:!1});return s.ua(),s}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return Op(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(t.length===0)throw this._a("Document fields must not be empty");if(ak(this.ca)&&Hq.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class Gq{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||km(t)}ya(t,i,r,s=!1){return new cb({ca:t,methodName:i,ga:r,path:yi.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bm(e){const t=e._freezeSettings(),i=km(e._databaseId);return new Gq(e._databaseId,!!t.ignoreUndefinedProperties,i)}function lk(e,t,i,r,s,l={}){const u=e.ya(l.merge||l.mergeFields?2:0,t,i,s);db("Data must be an object, but it was:",u,r);const f=ck(r,u);let m,v;if(l.merge)m=new er(u.fieldMask),v=u.fieldTransforms;else if(l.mergeFields){const w=[];for(const x of l.mergeFields){const E=a0(t,x,i);if(!u.contains(E))throw new st(Pe.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);dk(w,E)||w.push(E)}m=new er(w),v=u.fieldTransforms.filter(x=>m.covers(x.field))}else m=null,v=u.fieldTransforms;return new jq(new ji(f),m,v)}class Fm extends Vm{_toFieldTransform(t){if(t.ca!==2)throw t.ca===1?t._a(`${this._methodName}() can only appear at the top level of your update data`):t._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Fm}}class ub extends Vm{_toFieldTransform(t){return new G$(t.path,new Bd)}isEqual(t){return t instanceof ub}}function Wq(e,t,i,r){const s=e.ya(1,t,i);db("Data must be an object, but it was:",s,r);const l=[],u=ji.empty();Fa(r,(m,v)=>{const w=hb(t,m,i);v=en(v);const x=s.da(w);if(v instanceof Fm)l.push(w);else{const E=Eh(v,x);E!=null&&(l.push(w),u.set(w,E))}});const f=new er(l);return new sk(u,f,s.fieldTransforms)}function $q(e,t,i,r,s,l){const u=e.ya(1,t,i),f=[a0(t,r,i)],m=[s];if(l.length%2!=0)throw new st(Pe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(a0(t,l[E])),m.push(l[E+1]);const v=[],w=ji.empty();for(let E=f.length-1;E>=0;--E)if(!dk(v,f[E])){const A=f[E];let I=m[E];I=en(I);const D=u.da(A);if(I instanceof Fm)v.push(A);else{const O=Eh(I,D);O!=null&&(v.push(A),w.set(A,O))}}const x=new er(v);return new sk(w,x,u.fieldTransforms)}function qq(e,t,i,r=!1){return Eh(i,e.ya(r?4:3,t))}function Eh(e,t){if(uk(e=en(e)))return db("Unsupported field value:",t,e),ck(e,t);if(e instanceof Vm)return function(i,r){if(!ak(r.ca))throw r._a(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&t.ca!==4)throw t._a("Nested arrays are not supported");return function(i,r){const s=[];let l=0;for(const u of i){let f=Eh(u,r.wa(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=en(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return z$(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=zn.fromDate(i);return{timestampValue:Lp(r.serializer,s)}}if(i instanceof zn){const s=new zn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Lp(r.serializer,s)}}if(i instanceof lb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof wc)return{bytesValue:MR(r.serializer,i._byteString)};if(i instanceof Ni){const s=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(s))throw r._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Kw(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r._a(`Unsupported field value: ${Om(i)}`)}(e,t)}function ck(e,t){const i={};return nR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fa(e,(r,s)=>{const l=Eh(s,t.ha(r));l!=null&&(i[r]=l)}),{mapValue:{fields:i}}}function uk(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof zn||e instanceof lb||e instanceof wc||e instanceof Ni||e instanceof Vm)}function db(e,t,i){if(!uk(i)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(i)){const r=Om(i);throw r==="an object"?t._a(e+" a custom object"):t._a(e+" "+r)}}function a0(e,t,i){if((t=en(t))instanceof Nm)return t._internalPath;if(typeof t=="string")return hb(e,t);throw Op("Field path arguments must be of type string or ",e,!1,void 0,i)}const Yq=new RegExp("[~\\*/\\[\\]]");function hb(e,t,i){if(t.search(Yq)>=0)throw Op(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,i);try{return new Nm(...t.split("."))._internalPath}catch{throw Op(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,i)}}function Op(e,t,i,r,s){const l=r&&!r.isEmpty(),u=s!==void 0;let f=`Function ${t}() called with invalid data`;i&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${r}`),u&&(m+=` in document ${s}`),m+=")"),new st(Pe.INVALID_ARGUMENT,f+e+m)}function dk(e,t){return e.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(t,i,r,s,l){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ni(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Xq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Um("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Xq extends hk{data(){return super.data()}}function Um(e,t){return typeof t=="string"?hb(e,t):t instanceof Nm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kq(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new st(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fb{}class pb extends fb{}function Nl(e,t,...i){let r=[];t instanceof fb&&r.push(t),r=r.concat(i),function(s){const l=s.filter(f=>f instanceof mb).length,u=s.filter(f=>f instanceof zm).length;if(l>1||l>0&&u>0)throw new st(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)e=s._apply(e);return e}class zm extends pb{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new zm(t,i,r)}_apply(t){const i=this._parse(t);return fk(t._query,i),new Ls(t.firestore,t.converter,Zy(t._query,i))}_parse(t){const i=Bm(t.firestore);return function(s,l,u,f,m,v,w){let x;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new st(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){KE(w,v);const E=[];for(const A of w)E.push(XE(f,s,A));x={arrayValue:{values:E}}}else x=XE(f,s,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||KE(w,v),x=qq(u,l,w,v==="in"||v==="not-in");return Bn.create(m,v,x)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function Uu(e,t,i){const r=t,s=Um("where",e);return zm._create(s,r,i)}class mb extends fb{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new mb(t,i)}_parse(t){const i=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return i.length===1?i[0]:Vr.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:(function(r,s){let l=r;const u=s.getFlattenedFilters();for(const f of u)fk(l,f),l=Zy(l,f)}(t._query,i),new Ls(t.firestore,t.converter,Zy(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vb extends pb{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new vb(t,i)}_apply(t){const i=function(r,s,l){if(r.startAt!==null)throw new st(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new st(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new tc(s,l);return function(f,m){if(Ww(f)===null){const v=Tm(f);v!==null&&pk(f,v,m.field)}}(r,u),u}(t._query,this._field,this._direction);return new Ls(t.firestore,t.converter,function(r,s){const l=r.explicitOrderBy.concat([s]);return new Dc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}function Rf(e,t="asc"){const i=t,r=Um("orderBy",e);return vb._create(r,i)}class gb extends pb{constructor(t,i,r){super(),this.type=t,this._limit=i,this._limitType=r}static _create(t,i,r){return new gb(t,i,r)}_apply(t){return new Ls(t.firestore,t.converter,Rp(t._query,this._limit,this._limitType))}}function Qq(e){return Bq("limit",e),gb._create("limit",e,"F")}function XE(e,t,i){if(typeof(i=en(i))=="string"){if(i==="")throw new st(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dR(t)&&i.indexOf("/")!==-1)throw new st(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(hn.fromString(i));if(!mt.isDocumentKey(r))throw new st(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wE(e,new mt(r))}if(i instanceof Ni)return wE(e,i._key);throw new st(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Om(i)}.`)}function KE(e,t){if(!Array.isArray(e)||e.length===0)throw new st(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function fk(e,t){if(t.isInequality()){const r=Tm(e),s=t.field;if(r!==null&&!r.isEqual(s))throw new st(Pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const l=Ww(e);l!==null&&pk(e,s,l)}const i=function(r,s){for(const l of r)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new st(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function pk(e,t,i){if(!i.isEqual(t))throw new st(Pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class Jq{convertValue(t,i="none"){switch(Ta(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Sa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 10:return this.convertObject(t.mapValue,i);default:throw Et()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Fa(t,(s,l)=>{r[s]=this.convertValue(l,i)}),r}convertGeoPoint(t){return new lb(Vn(t.latitude),Vn(t.longitude))}convertArray(t,i){return(t.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Uw(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Dd(t));default:return null}}convertTimestamp(t){const i=_s(t);return new zn(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=hn.fromString(t);fn(PR(r));const s=new Nd(r.get(1),r.get(3)),l=new mt(r.popFirst(5));return s.isEqual(i)||Vo(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(e,t,i){let r;return r=e?i&&(i.merge||i.mergeFields)?e.toFirestore(t,i):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class vk extends hk{constructor(t,i,r,s,l,u){super(t,i,r,s,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Um("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class qf extends vk{data(t={}){return super.data(t)}}class Zq{constructor(t,i,r,s){this._firestore=t,this._userDataWriter=i,this._snapshot=s,this.metadata=new Ju(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(r=>{t.call(i,new qf(this._firestore,this._userDataWriter,r.key,r,new Ju(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(u=>{const f=new qf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Ju(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const f=new qf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Ju(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,v=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),v=l.indexOf(u.doc.key)),{type:e7(u.type),doc:f,oldIndex:m,newIndex:v}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function e7(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(e){e=Br(e,Ni);const t=Br(e.firestore,za);return Dq(ab(t),e._key).then(i=>s7(t,e,i))}class gk extends Jq{constructor(t){super(),this.firestore=t}convertBytes(t){return new wc(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ni(this.firestore,null,i)}}function zu(e){e=Br(e,Ls);const t=Br(e.firestore,za),i=ab(t),r=new gk(t);return Kq(e._query),Nq(i,e._query).then(s=>new Zq(t,r,e,s))}function n7(e,t,i){e=Br(e,Ni);const r=Br(e.firestore,za),s=mk(e.converter,t,i);return Hm(r,[lk(Bm(r),"setDoc",e._key,s,e.converter!==null,i).toMutation(e._key,hr.none())])}function i7(e,t,i,...r){e=Br(e,Ni);const s=Br(e.firestore,za),l=Bm(s);let u;return u=typeof(t=en(t))=="string"||t instanceof Nm?$q(l,"updateDoc",e._key,t,i,r):Wq(l,"updateDoc",e._key,t),Hm(s,[u.toMutation(e._key,hr.exists(!0))])}function r7(e){return Hm(Br(e.firestore,za),[new $w(e._key,hr.none())])}function o7(e,t){const i=Br(e.firestore,za),r=jl(e),s=mk(e.converter,t);return Hm(i,[lk(Bm(e.firestore),"addDoc",r._key,s,e.converter!==null,{}).toMutation(r._key,hr.exists(!1))]).then(()=>r)}function Hm(e,t){return function(i,r){const s=new Io;return i.asyncQueue.enqueueAndForget(async()=>_q(await Oq(i),r,s)),s.promise}(ab(e),t)}function s7(e,t,i){const r=i.docs.get(t._key),s=new gk(e);return new vk(e,s,t._key,r,new Ju(i.hasPendingWrites,i.fromCache),t.converter)}function QE(){return new ub("serverTimestamp")}(function(e,t=!0){(function(i){Oc=i})(Va),ba(new ws("firestore",(i,{instanceIdentifier:r,options:s})=>{const l=i.getProvider("app").getImmediate(),u=new za(new a$(i.getProvider("auth-internal")),new d$(i.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new st(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nd(f.options.projectId,m)}(l,r),l);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),oo(pE,"3.12.0",e),oo(pE,"3.12.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="firebasestorage.googleapis.com",wk="storageBucket",a7=2*60*1e3,l7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn extends mo{constructor(t,i,r=0){super(Ag(t),`Firebase Storage: ${i} (${Ag(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ag(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var An;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(An||(An={}));function Ag(e){return"storage/"+e}function yb(){const e="An unknown error occurred, please check the error payload for server response.";return new Mn(An.UNKNOWN,e)}function c7(e){return new Mn(An.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function u7(e){return new Mn(An.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function d7(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mn(An.UNAUTHENTICATED,e)}function h7(){return new Mn(An.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function f7(e){return new Mn(An.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function p7(){return new Mn(An.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function m7(){return new Mn(An.CANCELED,"User canceled the upload/download.")}function v7(e){return new Mn(An.INVALID_URL,"Invalid URL '"+e+"'.")}function g7(e){return new Mn(An.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function y7(){return new Mn(An.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wk+"' property when initializing the app?")}function w7(){return new Mn(An.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function b7(){return new Mn(An.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _7(e){return new Mn(An.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function l0(e){return new Mn(An.INVALID_ARGUMENT,e)}function bk(){return new Mn(An.APP_DELETED,"The Firebase app was deleted.")}function x7(e){return new Mn(An.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hd(e,t){return new Mn(An.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Hu(e){throw new Mn(An.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let r;try{r=tr.makeFromUrl(t,i)}catch{return new tr(t,"")}if(r.path==="")return r;throw g7(t)}static makeFromUrl(t,i){let r=null;const s="([A-Za-z0-9.\\-_]+)";function l(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+s+u,"i"),m={bucket:1,path:3};function v(ne){ne.path_=decodeURIComponent(ne.path)}const w="v[A-Za-z0-9_]+",x=i.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",A=new RegExp(`^https?://${x}/${w}/b/${s}/o${E}`,"i"),I={bucket:1,path:3},D=i===yk?"(?:storage.googleapis.com|storage.cloud.google.com)":i,O="([^?#]*)",H=new RegExp(`^https?://${D}/${s}/${O}`,"i"),U=[{regex:f,indices:m,postModify:l},{regex:A,indices:I,postModify:v},{regex:H,indices:{bucket:1,path:2},postModify:v}];for(let ne=0;ne<U.length;ne++){const re=U[ne],ee=re.regex.exec(t);if(ee){const Z=ee[re.indices.bucket];let X=ee[re.indices.path];X||(X=""),r=new tr(Z,X),re.postModify(r);break}}if(r==null)throw v7(t);return r}}class E7{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(e,t,i){let r=1,s=null,l=null,u=!1,f=0;function m(){return f===2}let v=!1;function w(...O){v||(v=!0,t.apply(null,O))}function x(O){s=setTimeout(()=>{s=null,e(A,m())},O)}function E(){l&&clearTimeout(l)}function A(O,...H){if(v){E();return}if(O){E(),w.call(null,O,...H);return}if(m()||u){E(),w.call(null,O,...H);return}r<64&&(r*=2);let U;f===1?(f=2,U=0):U=(r+Math.random())*1e3,x(U)}let I=!1;function D(O){I||(I=!0,E(),!v&&(s!==null?(O||(f=2),clearTimeout(s),x(0)):O||(f=1)))}return x(0),l=setTimeout(()=>{u=!0,D(!0)},i),D}function T7(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A7(e){return e!==void 0}function C7(e){return typeof e=="object"&&!Array.isArray(e)}function wb(e){return typeof e=="string"||e instanceof String}function JE(e){return bb()&&e instanceof Blob}function bb(){return typeof Blob<"u"&&!hj()}function ZE(e,t,i,r){if(r<t)throw l0(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>i)throw l0(`Invalid value for '${e}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(e,t,i){let r=t;return i==null&&(r=`https://${t}`),`${i}://${r}/v0${e}`}function _k(e){const t=encodeURIComponent;let i="?";for(const r in e)if(e.hasOwnProperty(r)){const s=t(r)+"="+t(e[r]);i=i+s+"&"}return i=i.slice(0,-1),i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var va;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(va||(va={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M7(e,t){const i=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,l=t.indexOf(e)!==-1;return i||s||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(t,i,r,s,l,u,f,m,v,w,x,E=!0){this.url_=t,this.method_=i,this.headers_=r,this.body_=s,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=w,this.connectionFactory_=x,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,I)=>{this.resolve_=A,this.reject_=I,this.start_()})}start_(){const t=(r,s)=>{if(s){r(!1,new kf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const m=f.loaded,v=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,v)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===va.NO_ERROR,m=l.getStatus();if(!f||M7(m,this.additionalRetryCodes_)&&this.retry){const w=l.getErrorCode()===va.ABORT;r(!1,new kf(!1,null,w));return}const v=this.successCodes_.indexOf(m)!==-1;r(!0,new kf(v,l))})},i=(r,s)=>{const l=this.resolve_,u=this.reject_,f=s.connection;if(s.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());A7(m)?l(m):l()}catch(m){u(m)}else if(f!==null){const m=yb();m.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,m)):u(m)}else if(s.canceled){const m=this.appDelete_?bk():m7();u(m)}else{const m=p7();u(m)}};this.canceled_?i(!1,new kf(!1,null,!0)):this.backoffId_=S7(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&T7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kf{constructor(t,i,r){this.wasSuccessCode=t,this.connection=i,this.canceled=!!r}}function R7(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function k7(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function L7(e,t){t&&(e["X-Firebase-GMPID"]=t)}function P7(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function O7(e,t,i,r,s,l,u=!0){const f=_k(e.urlParams),m=e.url+f,v=Object.assign({},e.headers);return L7(v,t),R7(v,i),k7(v,l),P7(v,r),new I7(m,e.method,v,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function N7(...e){const t=D7();if(t!==void 0){const i=new t;for(let r=0;r<e.length;r++)i.append(e[r]);return i.getBlob()}else{if(bb())return new Blob(e);throw new Mn(An.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function V7(e,t,i){return e.webkitSlice?e.webkitSlice(t,i):e.mozSlice?e.mozSlice(t,i):e.slice?e.slice(t,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B7(e){if(typeof atob>"u")throw _7("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Cg{constructor(t,i){this.data=t,this.contentType=i||null}}function F7(e,t){switch(e){case io.RAW:return new Cg(xk(t));case io.BASE64:case io.BASE64URL:return new Cg(Ek(e,t));case io.DATA_URL:return new Cg(z7(t),H7(t))}throw yb()}function xk(e){const t=[];for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(i<e.length-1&&(e.charCodeAt(i+1)&64512)===56320))t.push(239,191,189);else{const l=r,u=e.charCodeAt(++i);r=65536|(l&1023)<<10|u&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function U7(e){let t;try{t=decodeURIComponent(e)}catch{throw hd(io.DATA_URL,"Malformed data URL.")}return xk(t)}function Ek(e,t){switch(e){case io.BASE64:{const s=t.indexOf("-")!==-1,l=t.indexOf("_")!==-1;if(s||l)throw hd(e,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case io.BASE64URL:{const s=t.indexOf("+")!==-1,l=t.indexOf("/")!==-1;if(s||l)throw hd(e,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=B7(t)}catch(s){throw s.message.includes("polyfill")?s:hd(e,"Invalid character found")}const r=new Uint8Array(i.length);for(let s=0;s<i.length;s++)r[s]=i.charCodeAt(s);return r}class Sk{constructor(t){this.base64=!1,this.contentType=null;const i=t.match(/^data:([^,]+)?,/);if(i===null)throw hd(io.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=i[1]||null;r!=null&&(this.base64=j7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function z7(e){const t=new Sk(e);return t.base64?Ek(io.BASE64,t.rest):U7(t.rest)}function H7(e){return new Sk(e).contentType}function j7(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t,i){let r=0,s="";JE(t)?(this.data_=t,r=t.size,s=t.type):t instanceof ArrayBuffer?(i?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(i?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,i){if(JE(this.data_)){const r=this.data_,s=V7(r,t,i);return s===null?null:new us(s)}else{const r=new Uint8Array(this.data_.buffer,t,i-t);return new us(r,!0)}}static getBlob(...t){if(bb()){const i=t.map(r=>r instanceof us?r.data_:r);return new us(N7.apply(null,i))}else{const i=t.map(u=>wb(u)?F7(io.RAW,u).data:u.data_);let r=0;i.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let l=0;return i.forEach(u=>{for(let f=0;f<u.length;f++)s[l++]=u[f]}),new us(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(e){let t;try{t=JSON.parse(e)}catch{return null}return C7(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G7(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function W7(e,t){const i=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?i:e+"/"+i}function Ak(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(e,t){return t}class Pi{constructor(t,i,r,s){this.server=t,this.local=i||t,this.writable=!!r,this.xform=s||$7}}let Lf=null;function q7(e){return!wb(e)||e.length<2?e:Ak(e)}function Ck(){if(Lf)return Lf;const e=[];e.push(new Pi("bucket")),e.push(new Pi("generation")),e.push(new Pi("metageneration")),e.push(new Pi("name","fullPath",!0));function t(l,u){return q7(u)}const i=new Pi("name");i.xform=t,e.push(i);function r(l,u){return u!==void 0?Number(u):u}const s=new Pi("size");return s.xform=r,e.push(s),e.push(new Pi("timeCreated")),e.push(new Pi("updated")),e.push(new Pi("md5Hash",null,!0)),e.push(new Pi("cacheControl",null,!0)),e.push(new Pi("contentDisposition",null,!0)),e.push(new Pi("contentEncoding",null,!0)),e.push(new Pi("contentLanguage",null,!0)),e.push(new Pi("contentType",null,!0)),e.push(new Pi("metadata","customMetadata",!0)),Lf=e,Lf}function Y7(e,t){function i(){const r=e.bucket,s=e.fullPath,l=new tr(r,s);return t._makeStorageReference(l)}Object.defineProperty(e,"ref",{get:i})}function X7(e,t,i){const r={};r.type="file";const s=i.length;for(let l=0;l<s;l++){const u=i[l];r[u.local]=u.xform(r,t[u.server])}return Y7(r,e),r}function Mk(e,t,i){const r=Tk(t);return r===null?null:X7(e,r,i)}function K7(e,t,i,r){const s=Tk(t);if(s===null||!wb(s.downloadTokens))return null;const l=s.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(v=>{const w=e.bucket,x=e.fullPath,E="/b/"+u(w)+"/o/"+u(x),A=jm(E,i,r),I=_k({alt:"media",token:v});return A+I})[0]}function Q7(e,t){const i={},r=t.length;for(let s=0;s<r;s++){const l=t[s];l.writable&&(i[l.server]=e[l.local])}return JSON.stringify(i)}class _b{constructor(t,i,r,s){this.url=t,this.method=i,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(e){if(!e)throw yb()}function J7(e,t){function i(r,s){const l=Mk(e,s,t);return Ik(l!==null),l}return i}function Z7(e,t){function i(r,s){const l=Mk(e,s,t);return Ik(l!==null),K7(l,s,e.host,e._protocol)}return i}function Rk(e){function t(i,r){let s;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?s=h7():s=d7():i.getStatus()===402?s=u7(e.bucket):i.getStatus()===403?s=f7(e.path):s=r,s.status=i.getStatus(),s.serverResponse=r.serverResponse,s}return t}function kk(e){const t=Rk(e);function i(r,s){let l=t(r,s);return r.getStatus()===404&&(l=c7(e.path)),l.serverResponse=s.serverResponse,l}return i}function e8(e,t,i){const r=t.fullServerUrl(),s=jm(r,e.host,e._protocol),l="GET",u=e.maxOperationRetryTime,f=new _b(s,l,Z7(e,i),u);return f.errorHandler=kk(t),f}function t8(e,t){const i=t.fullServerUrl(),r=jm(i,e.host,e._protocol),s="DELETE",l=e.maxOperationRetryTime;function u(m,v){}const f=new _b(r,s,u,l);return f.successCodes=[200,204],f.errorHandler=kk(t),f}function n8(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function i8(e,t,i){const r=Object.assign({},i);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=n8(null,t)),r}function r8(e,t,i,r,s){const l=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let U="";for(let ne=0;ne<2;ne++)U=U+Math.random().toString().slice(2);return U}const m=f();u["Content-Type"]="multipart/related; boundary="+m;const v=i8(t,r,s),w=Q7(v,i),x="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+m+`\r
Content-Type: `+v.contentType+`\r
\r
`,E=`\r
--`+m+"--",A=us.getBlob(x,r,E);if(A===null)throw w7();const I={name:v.fullPath},D=jm(l,e.host,e._protocol),O="POST",H=e.maxUploadRetryTime,V=new _b(D,O,J7(e,i),H);return V.urlParams=I,V.headers=u,V.body=A.uploadData(),V.errorHandler=Rk(t),V}class o8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=va.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=va.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=va.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,i,r,s){if(this.sent_)throw Hu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,t,!0),s!==void 0)for(const l in s)s.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,s[l].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class s8 extends o8{initXhr(){this.xhr_.responseType="text"}}function xb(){return new s8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(t,i){this._service=t,i instanceof tr?this._location=i:this._location=tr.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new Aa(t,i)}get root(){const t=new tr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ak(this._location.path)}get storage(){return this._service}get parent(){const t=G7(this._location.path);if(t===null)return null;const i=new tr(this._location.bucket,t);return new Aa(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw x7(t)}}function a8(e,t,i){e._throwIfRoot("uploadBytes");const r=r8(e.storage,e._location,Ck(),new us(t,!0),i);return e.storage.makeRequestWithTokens(r,xb).then(s=>({metadata:s,ref:e}))}function l8(e){e._throwIfRoot("getDownloadURL");const t=e8(e.storage,e._location,Ck());return e.storage.makeRequestWithTokens(t,xb).then(i=>{if(i===null)throw b7();return i})}function c8(e){e._throwIfRoot("deleteObject");const t=t8(e.storage,e._location);return e.storage.makeRequestWithTokens(t,xb)}function u8(e,t){const i=W7(e._location.path,t),r=new tr(e._location.bucket,i);return new Aa(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(e){return/^[A-Za-z]+:\/\//.test(e)}function h8(e,t){return new Aa(e,t)}function Lk(e,t){if(e instanceof Eb){const i=e;if(i._bucket==null)throw y7();const r=new Aa(i,i._bucket);return t!=null?Lk(r,t):r}else return t!==void 0?u8(e,t):e}function f8(e,t){if(t&&d8(t)){if(e instanceof Eb)return h8(e,t);throw l0("To use ref(service, url), the first argument must be a Storage instance.")}else return Lk(e,t)}function eS(e,t){const i=t==null?void 0:t[wk];return i==null?null:tr.makeFromBucketSpec(i,e)}function p8(e,t,i,r={}){e.host=`${t}:${i}`,e._protocol="http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken=typeof s=="string"?s:sM(s,e.app.options.projectId))}class Eb{constructor(t,i,r,s,l){this.app=t,this._authProvider=i,this._appCheckProvider=r,this._url=s,this._firebaseVersion=l,this._bucket=null,this._host=yk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=a7,this._maxUploadRetryTime=l7,this._requests=new Set,s!=null?this._bucket=tr.makeFromBucketSpec(s,this._host):this._bucket=eS(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=tr.makeFromBucketSpec(this._url,t):this._bucket=eS(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){ZE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){ZE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Aa(this,t)}_makeRequest(t,i,r,s,l=!0){if(this._deleted)return new E7(bk());{const u=O7(t,this._appId,r,s,i,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(t,i){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,r,s).getPromise()}}const tS="@firebase/storage",nS="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="storage";function m8(e,t,i){return e=en(e),a8(e,t,i)}function v8(e){return e=en(e),l8(e)}function g8(e){return e=en(e),c8(e)}function Mg(e,t){return e=en(e),f8(e,t)}function y8(e=iw(),t){e=en(e);const r=rm(e,Pk).getImmediate({identifier:t}),s=iM("storage");return s&&w8(r,...s),r}function w8(e,t,i,r={}){p8(e,t,i,r)}function b8(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Eb(i,r,s,t,Va)}function _8(){ba(new ws(Pk,b8,"PUBLIC").setMultipleInstances(!0)),oo(tS,nS,""),oo(tS,nS,"esm2017")}_8();const x8=Vi(async e=>{const i=cM({apiKey:"AIzaSyBYjPXFNJJNKFyel9hlzEbkrX9ZlH0TErU",authDomain:"emeterr-bff58.firebaseapp.com",projectId:"emeterr-bff58",storageBucket:"emeterr-bff58.appspot.com",messagingSenderId:"484278281640",appId:"1:484278281640:web:4808e0057eb2105aebe99d"}),r=eW(i),s=zq(i),l=y8(i);function u(){this.signup=(E,A)=>IG(r,E,A),this.login=(E,A)=>RG(r,E,A),this.signout=()=>NG(r),this.reset=E=>TG(r,E),this.Phone=(E,A)=>{const I=i6(r,E,A);return console.log(I),I},this.verifyemail=E=>kG(r,E),this.verifycode=E=>MG(r,E),this.confirmreset=(E,A)=>AG(r,E,A),this.changeEmail=(E,A)=>LG(A,E),this.changePassword=(E,A)=>PG(A,E),this.UserState=()=>r}function f(){this.addDocWithId=(E,A,I)=>n7(jl(s,E,A),{...I,CreatedAt:QE()}),this.addDocWithoutId=(E,A)=>{let I=ts(s,E);return o7(I,{...A,CreatedAt:QE()})},this.getSingleDoc=(E,A)=>t7(jl(s,E,A)),this.getAllDoc=async(E,A="",I="")=>{let D=[];if(A=="asc"){const O=Nl(ts(s,E),Rf("CreatedAt","asc"));(await zu(O)).forEach(V=>{D.push({...V.data(),docid:V.id})})}if(A=="desc"){const O=Nl(ts(s,E),Rf("CreatedAt","desc"));(await zu(O)).forEach(V=>{D.push({...V.data(),docid:V.id})})}return A==""&&(await zu(ts(s,E))).forEach(H=>{D.push({...H.data(),docid:H.id})}),D},this.getAllQueryDoc=async(E,A,I,D="")=>{const O=[];if(D){let H=Nl(ts(s,E),Uu(A,"==",I),Rf("CreatedAt",D));return(await zu(H)).forEach(U=>{O.push({...U.data(),docid:U.id})}),O}else{let H=Nl(ts(s,E),Uu(A,"==",I));return(await zu(H)).forEach(U=>{O.push({...U.data(),docid:U.id})}),O}},this.collectionSnapDocs=(E,A,I,D,O)=>Nl(ts(s,E),Uu(A,"==",I),Uu(D,"==",O),Rf("CreatedAt","asc"),Qq(100)),this.SnapDoc=(E,A)=>jl(s,E,A),this.updateDocument=(E,A,I)=>{const D=jl(s,E,A);return i7(D,I)},this.queryDoc=(E,A,I)=>{const D=ts(s,E);return Nl(D,Uu(A,"==",I))},this.removeDoc=(E,A)=>r7(jl(s,E,A))}let m=async E=>{const A=Mg(l,E.name),I=await m8(A,E);console.log(I);const D=await v8(Mg(l,I.metadata.fullPath));let O=I.metadata.fullPath;return{url:D,path:O}},v=async E=>{const A=Mg(l,E);await g8(A)};const w=new u;let x=new f;e.vueApp.provide("authfunc",w),e.provide("authfunc",w),e.vueApp.provide("crud",x),e.provide("crud",x),e.vueApp.provide("UploadImg",m),e.provide("UploadImg",m),e.vueApp.provide("DeleteImg",v),e.provide("DeleteImg",v)});var E8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function S8(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ok={exports:{}};(function(e,t){(function(i,r){e.exports=r()})(E8,function(){return function(i){function r(l){if(s[l])return s[l].exports;var u=s[l]={i:l,l:!1,exports:{}};return i[l].call(u.exports,u,u.exports,r),u.l=!0,u.exports}var s={};return r.m=i,r.c=s,r.i=function(l){return l},r.d=function(l,u,f){r.o(l,u)||Object.defineProperty(l,u,{configurable:!1,enumerable:!0,get:f})},r.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return r.d(u,"a",u),u},r.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},r.p="",r(r.s=0)}([function(i,r,s){Object.defineProperty(r,"__esModule",{value:!0});var l={install:function(u){u.prototype.$getLocation=l.getLocation,u.prototype.$watchLocation=l.watchLocation,u.prototype.$clearLocationWatch=l.clearLocation},getLocation:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new Promise(function(m,v){if(f)return void v("reject forced for testing purposes");l._isAvailable()?window.navigator.geolocation.getCurrentPosition(function(w){m({lat:w.coords.latitude,lng:w.coords.longitude,altitude:w.coords.altitude,altitudeAccuracy:w.coords.altitudeAccuracy,accuracy:w.coords.accuracy})},function(){v("no position access")},u):v("no browser support")})},watchLocation:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new Promise(function(m,v){if(f)return void v("reject forced for testing purposes");l._isAvailable()?window.navigator.geolocation.watchPosition(function(w){m({lat:w.coords.latitude,lng:w.coords.longitude,altitude:w.coords.altitude,altitudeAccuracy:w.coords.altitudeAccuracy,accuracy:w.coords.accuracy,heading:w.coords.heading,speed:w.coords.speed})},function(){v("no position access")},u):v("no browser support")})},clearLocation:function(u){return new Promise(function(f,m){l._isAvailable()?u?f(window.navigator.geolocation.clearWatch(u)):m("please provide watchID"):m("no browser support")})},_isAvailable:function(){return"geolocation"in window.navigator}};r.default=l,typeof window<"u"&&window.Vue&&window.Vue.use(l)}])})})(Ok);var T8=Ok.exports;const iS=S8(T8),A8=Vi(async e=>{e.vueApp.provide("VueGeolocation",iS),e.provide("VueGeolocation",iS)}),C8=[EO,SO,TO,AO,ND,VD,Q3,J3,Z3,eV,ej,nj,x8,A8],M8=(e,t)=>t.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,i=>{var r;return((r=e.params[i.slice(1)])==null?void 0:r.toString())||""}),I8=(e,t)=>{const i=e.route.matched.find(s=>{var l;return((l=s.components)==null?void 0:l.default)===e.Component.type}),r=t??(i==null?void 0:i.meta.key)??(i&&M8(e.route,i));return typeof r=="function"?r(e.route):r},R8=(e,t)=>({default:()=>e?Te($L,e===!0?{}:e,t):t}),c0=(e,t,i)=>(t=t===!0?{}:t,{default:()=>{var r;return t?Te(e,t,i):(r=i.default)==null?void 0:r.call(i)}}),k8=Es({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(e,{attrs:t}){const i=Xn();return()=>Te(JS,{name:e.name,route:e.route,...t},{default:r=>{if(!r.Component)return;const s=I8(r,e.pageKey),l=i.deferHydration(),u=!!(e.transition??r.route.meta.pageTransition??Ug),f=u&&P8([e.transition,r.route.meta.pageTransition,Ug,{onAfterLeave:()=>{i.callHook("page:transition:finish",r.Component)}}].filter(Boolean));return c0(Wi,u&&f,R8(e.keepalive??r.route.meta.keepalive??mO,Te(mS,{suspensible:!0,onPending:()=>i.callHook("page:start",r.Component),onResolve:()=>{kt(()=>i.callHook("page:finish",r.Component).finally(l))}},{default:()=>Te(O8,{key:s,routeProps:r,pageKey:s,hasTransition:u})}))).default()}})}});function L8(e){return Array.isArray(e)?e:e?[e]:[]}function P8(e){const t=e.map(i=>({...i,onAfterLeave:L8(i.onAfterLeave)}));return Y2(...t)}const O8=Es({name:"RouteProvider",props:["routeProps","pageKey","hasTransition"],setup(e){const t=e.pageKey,i=e.routeProps.route,r={};for(const s in e.routeProps.route)r[s]=P(()=>t===e.pageKey?e.routeProps.route[s]:i[s]);return bn("_route",wn(r)),()=>Te(e.routeProps.Component)}}),D8=Es({name:"LayoutLoader",inheritAttrs:!1,props:{name:String},async setup(e,t){const i=await Wl[e.name]().then(r=>r.default||r);return()=>Te(i,t.attrs,t.slots)}}),N8=Es({name:"NuxtLayout",inheritAttrs:!1,props:{name:{type:[String,Boolean,Object],default:null}},setup(e,t){const i=Bt("_route"),r=i===BS()?ID():i,s=P(()=>Zt(e.name)??r.meta.layout??"default");return()=>{const l=s.value&&s.value in Wl,u=r.meta.layoutTransition??pO;return c0(Wi,l&&u,{default:()=>c0(D8,l&&{key:s.value,name:s.value,...t.attrs},t.slots).default()}).default()}}}),V8=(e,t)=>{const i=e.__vccOpts||e;for(const[r,s]of t)i[r]=s;return i},B8={};function F8(e,t){const i=k8,r=N8;return Vl(),Bl(r,null,{default:vS(()=>[L(i)]),_:1})}const U8=V8(B8,[["render",F8]]),rS={__name:"nuxt-root",setup(e){const t=YL(()=>fd(()=>import("./error-component.95b61410.js"),["./error-component.95b61410.js","./swiper-vue.b13d2d97.js","./swiper-vue.78ee92f5.css"],import.meta.url).then(m=>m.default||m)),i=()=>null,r=Xn(),s=r.deferHydration(),l=!1;bn("_route",BS()),r.hooks.callHookWith(m=>m.map(v=>v()),"vue:setup");const u=Bp();qL((m,v,w)=>{if(r.hooks.callHook("vue:error",m,v,w).catch(x=>console.error("[nuxt] Error in `vue:error` hook",x)),tO(m)&&(m.fatal||m.unhandled))return r.runWithContext(()=>Gl(m)),!1});const{islandContext:f}=!1;return(m,v)=>(Vl(),Bl(mS,{onResolve:Zt(s)},{default:vS(()=>[Zt(u)?(Vl(),Bl(Zt(t),{key:0,error:Zt(u)},null,8,["error"])):Zt(f)?(Vl(),Bl(Zt(i),{key:1,context:Zt(f)},null,8,["context"])):Zt(l)?(Vl(),Bl(pS(Zt(l)),{key:2})):(Vl(),Bl(Zt(U8),{key:3}))]),_:1},8,["onResolve"]))}};globalThis.$fetch||(globalThis.$fetch=DP.create({baseURL:VP()}));let oS;const z8=ZP(C8);{let e;oS=async function(){var l,u;if(e)return e;const r=!!((l=window.__NUXT__)!=null&&l.serverRendered||((u=document.getElementById("__NUXT_DATA__"))==null?void 0:u.dataset.ssr)==="true")?XL(rS):cS(rS),s=KP({vueApp:r});try{await JP(s,z8)}catch(f){await s.callHook("app:error",f),s.payload.error=s.payload.error||f}try{await s.hooks.callHook("app:created",r),await s.hooks.callHook("app:beforeMount",r),r.mount("#"+vO),await s.hooks.callHook("app:mounted",r),await kt()}catch(f){await s.callHook("app:error",f),s.payload.error=s.payload.error||f}return r},e=oS().catch(t=>{console.error("Error while mounting app:",t)})}export{aY as $,n3 as A,f3 as B,jD as C,Sx as D,Ex as E,mY as F,e3 as G,h3 as H,_0 as I,xN as J,cr as K,DN as L,T3 as M,dY as N,Xg as O,Gg as P,Ro as Q,ep as R,x0 as S,RT as T,cN as U,md as V,q8 as W,Y8 as X,mT as Y,Wg as Z,fd as _,V8 as a,w0 as a$,oY as a0,Yd as a1,Xd as a2,uN as a3,SN as a4,Jr as a5,bY as a6,vs as a7,eY as a8,nY as a9,gY as aA,cY as aB,eT as aC,ST as aD,J8 as aE,ON as aF,mx as aG,gT as aH,U3 as aI,lY as aJ,m3 as aK,yY as aL,F3 as aM,wN as aN,bN as aO,K8 as aP,iY as aQ,$8 as aR,G3 as aS,X8 as aT,tY as aU,fY as aV,pY as aW,zp as aX,hY as aY,v3 as aZ,Du as a_,iT as aa,Uv as ab,$v as ac,EN as ad,kr as ae,$g as af,Q8 as ag,GN as ah,l3 as ai,sY as aj,E3 as ak,Ax as al,Z8 as am,A3 as an,C3 as ao,I3 as ap,M3 as aq,P3 as ar,O3 as as,Zg as at,Ca as au,vT as av,rN as aw,gd as ax,vY as ay,ET as az,Ia as b,aT as b0,a3 as b1,yT as b2,rY as b3,jN as b4,Xn as b5,_Y as b6,j8 as b7,bc as b8,Wd as b9,Vp as ba,uP as bb,gP as bc,wS as bd,W8 as be,G8 as bf,Ai as c,Pr as d,hT as e,fT as f,uY as g,ra as h,IN as i,RN as j,vd as k,WD as l,$D as m,Hi as n,Nf as o,os as p,Rn as q,wY as r,qN as s,KN as t,Ma as u,YN as v,$N as w,WN as x,QN as y,XN as z};
